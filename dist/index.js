"use strict";(()=>{var xB=Object.create;var Cv=Object.defineProperty;var SB=Object.getOwnPropertyDescriptor;var TB=Object.getOwnPropertyNames;var CB=Object.getPrototypeOf,kB=Object.prototype.hasOwnProperty;var jB=(h,i,r)=>i in h?Cv(h,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):h[i]=r;var Hf=(h=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(h,{get:(i,r)=>(typeof require<"u"?require:i)[r]}):h)(function(h){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+h+'" is not supported')});var Ot=(h,i)=>()=>(h&&(i=h(h=0)),i);var q4=(h,i)=>()=>(i||h((i={exports:{}}).exports,i),i.exports),en=(h,i)=>{for(var r in i)Cv(h,r,{get:i[r],enumerable:!0})},EB=(h,i,r,t)=>{if(i&&typeof i=="object"||typeof i=="function")for(let a of TB(i))!kB.call(h,a)&&a!==r&&Cv(h,a,{get:()=>i[a],enumerable:!(t=SB(i,a))||t.enumerable});return h};var W4=(h,i,r)=>(r=h!=null?xB(CB(h)):{},EB(i||!h||!h.__esModule?Cv(r,"default",{value:h,enumerable:!0}):r,h));var Ce=(h,i,r)=>(jB(h,typeof i!="symbol"?i+"":i,r),r),V6=(h,i,r)=>{if(!i.has(h))throw TypeError("Cannot "+r)};var S=(h,i,r)=>(V6(h,i,"read from private field"),r?r.call(h):i.get(h)),N=(h,i,r)=>{if(i.has(h))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(h):i.set(h,r)},me=(h,i,r,t)=>(V6(h,i,"write to private field"),t?t.call(h,r):i.set(h,r),r);var U=(h,i,r)=>(V6(h,i,"access private method"),r);var Y4=q4((X4,$6)=>{(function(h){typeof X4=="object"&&typeof $6<"u"?$6.exports=h():typeof define=="function"&&define.amd?define([],h):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).p5=h()})(function(){var h,i,r;return function t(a,l,n){function s(m,v){if(!l[m]){if(!a[m]){var c=typeof Hf=="function"&&Hf;if(!v&&c)return c(m,!0);if(o)return o(m,!0);throw(v=new Error("Cannot find module '"+m+"'")).code="MODULE_NOT_FOUND",v}c=l[m]={exports:{}},a[m][0].call(c.exports,function(d){return s(a[m][1][d]||d)},c,c.exports,t,a,l,n)}return l[m].exports}for(var o=typeof Hf=="function"&&Hf,u=0;u<n.length;u++)s(n[u]);return s}({1:[function(t,a,l){"use strict";l.byteLength=function(f){var f=c(f),p=f[0],f=f[1];return 3*(p+f)/4-f},l.toByteArray=function(d){var p,f,g=c(d),y=g[0],g=g[1],_=new o(function(T,O){return 3*(T+O)/4-O}(y,g)),b=0,w=0<g?y-4:y;for(f=0;f<w;f+=4)p=s[d.charCodeAt(f)]<<18|s[d.charCodeAt(f+1)]<<12|s[d.charCodeAt(f+2)]<<6|s[d.charCodeAt(f+3)],_[b++]=p>>16&255,_[b++]=p>>8&255,_[b++]=255&p;return g===2&&(p=s[d.charCodeAt(f)]<<2|s[d.charCodeAt(f+1)]>>4,_[b++]=255&p),g===1&&(p=s[d.charCodeAt(f)]<<10|s[d.charCodeAt(f+1)]<<4|s[d.charCodeAt(f+2)]>>2,_[b++]=p>>8&255,_[b++]=255&p),_},l.fromByteArray=function(d){for(var p,f=d.length,y=f%3,g=[],_=0,b=f-y;_<b;_+=16383)g.push(function(w,T,O){for(var A,E=[],C=T;C<O;C+=3)A=(w[C]<<16&16711680)+(w[C+1]<<8&65280)+(255&w[C+2]),E.push(function(I){return n[I>>18&63]+n[I>>12&63]+n[I>>6&63]+n[63&I]}(A));return E.join("")}(d,_,b<_+16383?b:_+16383));return y==1?(p=d[f-1],g.push(n[p>>2]+n[p<<4&63]+"==")):y==2&&(p=(d[f-2]<<8)+d[f-1],g.push(n[p>>10]+n[p>>4&63]+n[p<<2&63]+"=")),g.join("")};for(var n=[],s=[],o=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0,v=u.length;m<v;++m)n[m]=u[m],s[u.charCodeAt(m)]=m;function c(d){var p=d.length;if(0<p%4)throw new Error("Invalid string. Length must be a multiple of 4");return d=d.indexOf("="),p=(d=d===-1?p:d)===p?0:4-d%4,[d,p]}s[45]=62,s[95]=63},{}],2:[function(t,a,l){},{}],3:[function(t,a,l){},{}],4:[function(t,a,l){(function(c){"use strict";var s=t("base64-js"),o=t("ieee754"),u=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,m=(l.Buffer=c,l.SlowBuffer=function(V){return+V!=V&&(V=0),c.alloc(+V)},l.INSPECT_MAX_BYTES=50,2147483647);function v(V){if(m<V)throw new RangeError('The value "'+V+'" is invalid for option "size"');return V=new Uint8Array(V),Object.setPrototypeOf(V,c.prototype),V}function c(V,j,G){if(typeof V!="number")return d(V,j,G);if(typeof j=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(V)}function d(V,j,G){if(typeof V=="string"){var K=V,ae=j;if(c.isEncoding(ae=typeof ae=="string"&&ae!==""?ae:"utf8"))return Q=0|_(K,ae),oe=v(Q),oe=(K=oe.write(K,ae))!==Q?oe.slice(0,K):oe;throw new TypeError("Unknown encoding: "+ae)}if(ArrayBuffer.isView(V))return y(V);if(V!=null){if(q(V,ArrayBuffer)||V&&q(V.buffer,ArrayBuffer)){var Q=V,K=j,oe=G;if(K<0||Q.byteLength<K)throw new RangeError('"offset" is outside of buffer bounds');if(Q.byteLength<K+(oe||0))throw new RangeError('"length" is outside of buffer bounds');return Q=K===void 0&&oe===void 0?new Uint8Array(Q):oe===void 0?new Uint8Array(Q,K):new Uint8Array(Q,K,oe),Object.setPrototypeOf(Q,c.prototype),Q}if(typeof V=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(ae=V.valueOf&&V.valueOf(),ae!=null&&ae!==V)return c.from(ae,j,G);var W=function(Y){{var ne,ue;if(c.isBuffer(Y))return ne=0|g(Y.length),(ue=v(ne)).length!==0&&Y.copy(ue,0,0,ne),ue}if(Y.length!==void 0)return typeof Y.length!="number"||re(Y.length)?v(0):y(Y);if(Y.type==="Buffer"&&Array.isArray(Y.data))return y(Y.data)}(V);if(W)return W;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof V[Symbol.toPrimitive]=="function")return c.from(V[Symbol.toPrimitive]("string"),j,G)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V)}function p(V){if(typeof V!="number")throw new TypeError('"size" argument must be of type number');if(V<0)throw new RangeError('The value "'+V+'" is invalid for option "size"')}function f(V){return p(V),v(V<0?0:0|g(V))}function y(V){for(var j=V.length<0?0:0|g(V.length),G=v(j),K=0;K<j;K+=1)G[K]=255&V[K];return G}function g(V){if(m<=V)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m.toString(16)+" bytes");return 0|V}function _(V,j){if(c.isBuffer(V))return V.length;if(ArrayBuffer.isView(V)||q(V,ArrayBuffer))return V.byteLength;if(typeof V!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof V);var G=V.length,K=2<arguments.length&&arguments[2]===!0;if(!K&&G===0)return 0;for(var ae=!1;;)switch(j){case"ascii":case"latin1":case"binary":return G;case"utf8":case"utf-8":return J(V).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*G;case"hex":return G>>>1;case"base64":return ee(V).length;default:if(ae)return K?-1:J(V).length;j=(""+j).toLowerCase(),ae=!0}}function b(V,j,G){var K,ae=!1;if((j=j===void 0||j<0?0:j)>this.length||(G=G===void 0||G>this.length?this.length:G)<=0||(G>>>=0)<=(j>>>=0))return"";for(V=V||"utf8";;)switch(V){case"hex":var Q=this,xe=j,oe=G,ue=Q.length;(!oe||oe<0||ue<oe)&&(oe=ue);for(var W="",Y=xe=!xe||xe<0?0:xe;Y<oe;++Y)W+=ge[Q[Y]];return W;case"utf8":case"utf-8":return C(this,j,G);case"ascii":var ne=this,ue=j,se=G,pe="";se=Math.min(ne.length,se);for(var ve=ue;ve<se;++ve)pe+=String.fromCharCode(127&ne[ve]);return pe;case"latin1":case"binary":var fe=this,xe=j,ke=G,Te="";ke=Math.min(fe.length,ke);for(var Ae=xe;Ae<ke;++Ae)Te+=String.fromCharCode(fe[Ae]);return Te;case"base64":return Pe=this,K=G,(it=j)===0&&K===Pe.length?s.fromByteArray(Pe):s.fromByteArray(Pe.slice(it,K));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Pe=j,it=G,Ke=this.slice(Pe,it),Ze="",tt=0;tt<Ke.length;tt+=2)Ze+=String.fromCharCode(Ke[tt]+256*Ke[tt+1]);return Ze;default:if(ae)throw new TypeError("Unknown encoding: "+V);V=(V+"").toLowerCase(),ae=!0}}function w(V,j,G){var K=V[j];V[j]=V[G],V[G]=K}function T(V,j,G,K,ae){if(V.length===0)return-1;if(typeof G=="string"?(K=G,G=0):2147483647<G?G=2147483647:G<-2147483648&&(G=-2147483648),(G=(G=re(G=+G)?ae?0:V.length-1:G)<0?V.length+G:G)>=V.length){if(ae)return-1;G=V.length-1}else if(G<0){if(!ae)return-1;G=0}if(typeof j=="string"&&(j=c.from(j,K)),c.isBuffer(j))return j.length===0?-1:O(V,j,G,K,ae);if(typeof j=="number")return j&=255,typeof Uint8Array.prototype.indexOf=="function"?(ae?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(V,j,G):O(V,[j],G,K,ae);throw new TypeError("val must be string, number or Buffer")}function O(V,j,G,K,ae){var Q=1,oe=V.length,W=j.length;if(K!==void 0&&((K=String(K).toLowerCase())==="ucs2"||K==="ucs-2"||K==="utf16le"||K==="utf-16le")){if(V.length<2||j.length<2)return-1;oe/=Q=2,W/=2,G/=2}function Y(ve,fe){return Q===1?ve[fe]:ve.readUInt16BE(fe*Q)}if(ae)for(var ne=-1,ue=G;ue<oe;ue++)if(Y(V,ue)===Y(j,ne===-1?0:ue-ne)){if(ue-(ne=ne===-1?ue:ne)+1===W)return ne*Q}else ne!==-1&&(ue-=ue-ne),ne=-1;else for(ue=G=oe<G+W?oe-W:G;0<=ue;ue--){for(var se=!0,pe=0;pe<W;pe++)if(Y(V,ue+pe)!==Y(j,pe)){se=!1;break}if(se)return ue}return-1}function A(V,j,G,K){return Z(function(ae){for(var Q=[],oe=0;oe<ae.length;++oe)Q.push(255&ae.charCodeAt(oe));return Q}(j),V,G,K)}function E(V,j,G,K){return Z(function(ae,Q){for(var oe,W,Y=[],ne=0;ne<ae.length&&!((Q-=2)<0);++ne)W=ae.charCodeAt(ne),oe=W>>8,W=W%256,Y.push(W),Y.push(oe);return Y}(j,V.length-G),V,G,K)}function C(V,j,G){G=Math.min(V.length,G);for(var K=[],ae=j;ae<G;){var Q,oe,W,Y,ne=V[ae],ue=null,se=239<ne?4:223<ne?3:191<ne?2:1;if(ae+se<=G)switch(se){case 1:ne<128&&(ue=ne);break;case 2:(192&(Q=V[ae+1]))==128&&127<(Y=(31&ne)<<6|63&Q)&&(ue=Y);break;case 3:Q=V[ae+1],oe=V[ae+2],(192&Q)==128&&(192&oe)==128&&2047<(Y=(15&ne)<<12|(63&Q)<<6|63&oe)&&(Y<55296||57343<Y)&&(ue=Y);break;case 4:Q=V[ae+1],oe=V[ae+2],W=V[ae+3],(192&Q)==128&&(192&oe)==128&&(192&W)==128&&65535<(Y=(15&ne)<<18|(63&Q)<<12|(63&oe)<<6|63&W)&&Y<1114112&&(ue=Y)}ue===null?(ue=65533,se=1):65535<ue&&(ue-=65536,K.push(ue>>>10&1023|55296),ue=56320|1023&ue),K.push(ue),ae+=se}var pe=K,ve=pe.length;if(ve<=I)return String.fromCharCode.apply(String,pe);for(var fe="",xe=0;xe<ve;)fe+=String.fromCharCode.apply(String,pe.slice(xe,xe+=I));return fe}l.kMaxLength=m,(c.TYPED_ARRAY_SUPPORT=function(){try{var V=new Uint8Array(1),j={foo:function(){return 42}};return Object.setPrototypeOf(j,Uint8Array.prototype),Object.setPrototypeOf(V,j),V.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),c.poolSize=8192,c.from=d,Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(V,j,G){return j=j,G=G,p(V=V),!(V<=0)&&j!==void 0?typeof G=="string"?v(V).fill(j,G):v(V).fill(j):v(V)},c.allocUnsafe=f,c.allocUnsafeSlow=f,c.isBuffer=function(V){return V!=null&&V._isBuffer===!0&&V!==c.prototype},c.compare=function(V,j){if(q(V,Uint8Array)&&(V=c.from(V,V.offset,V.byteLength)),q(j,Uint8Array)&&(j=c.from(j,j.offset,j.byteLength)),!c.isBuffer(V)||!c.isBuffer(j))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(V===j)return 0;for(var G=V.length,K=j.length,ae=0,Q=Math.min(G,K);ae<Q;++ae)if(V[ae]!==j[ae]){G=V[ae],K=j[ae];break}return G<K?-1:K<G?1:0},c.isEncoding=function(V){switch(String(V).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(V,j){if(!Array.isArray(V))throw new TypeError('"list" argument must be an Array of Buffers');if(V.length===0)return c.alloc(0);if(j===void 0)for(ae=j=0;ae<V.length;++ae)j+=V[ae].length;for(var G=c.allocUnsafe(j),K=0,ae=0;ae<V.length;++ae){var Q=V[ae];if(q(Q,Uint8Array)&&(Q=c.from(Q)),!c.isBuffer(Q))throw new TypeError('"list" argument must be an Array of Buffers');Q.copy(G,K),K+=Q.length}return G},c.byteLength=_,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var V=this.length;if(V%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var j=0;j<V;j+=2)w(this,j,j+1);return this},c.prototype.swap32=function(){var V=this.length;if(V%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var j=0;j<V;j+=4)w(this,j,j+3),w(this,j+1,j+2);return this},c.prototype.swap64=function(){var V=this.length;if(V%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var j=0;j<V;j+=8)w(this,j,j+7),w(this,j+1,j+6),w(this,j+2,j+5),w(this,j+3,j+4);return this},c.prototype.toLocaleString=c.prototype.toString=function(){var V=this.length;return V===0?"":arguments.length===0?C(this,0,V):b.apply(this,arguments)},c.prototype.equals=function(V){if(c.isBuffer(V))return this===V||c.compare(this,V)===0;throw new TypeError("Argument must be a Buffer")},c.prototype.inspect=function(){var j="",V=l.INSPECT_MAX_BYTES,j=this.toString("hex",0,V).replace(/(.{2})/g,"$1 ").trim();return this.length>V&&(j+=" ... "),"<Buffer "+j+">"},u&&(c.prototype[u]=c.prototype.inspect),c.prototype.compare=function(V,j,G,K,ae){if(q(V,Uint8Array)&&(V=c.from(V,V.offset,V.byteLength)),!c.isBuffer(V))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof V);if(G===void 0&&(G=V?V.length:0),K===void 0&&(K=0),ae===void 0&&(ae=this.length),(j=j===void 0?0:j)<0||G>V.length||K<0||ae>this.length)throw new RangeError("out of range index");if(ae<=K&&G<=j)return 0;if(ae<=K)return-1;if(G<=j)return 1;if(this===V)return 0;for(var Q=(ae>>>=0)-(K>>>=0),oe=(G>>>=0)-(j>>>=0),W=Math.min(Q,oe),Y=this.slice(K,ae),ne=V.slice(j,G),ue=0;ue<W;++ue)if(Y[ue]!==ne[ue]){Q=Y[ue],oe=ne[ue];break}return Q<oe?-1:oe<Q?1:0},c.prototype.includes=function(V,j,G){return this.indexOf(V,j,G)!==-1},c.prototype.indexOf=function(V,j,G){return T(this,V,j,G,!0)},c.prototype.lastIndexOf=function(V,j,G){return T(this,V,j,G,!1)},c.prototype.write=function(V,j,G,K){if(j===void 0)K="utf8",G=this.length,j=0;else if(G===void 0&&typeof j=="string")K=j,G=this.length,j=0;else{if(!isFinite(j))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");j>>>=0,isFinite(G)?(G>>>=0,K===void 0&&(K="utf8")):(K=G,G=void 0)}var ae=this.length-j;if((G===void 0||ae<G)&&(G=ae),0<V.length&&(G<0||j<0)||j>this.length)throw new RangeError("Attempt to write outside buffer bounds");K=K||"utf8";for(var Q,oe,W,Y=!1;;)switch(K){case"hex":var ne=this,ue=V,se=j,pe=G,ve=(se=Number(se)||0,ne.length-se);(!pe||ve<(pe=Number(pe)))&&(pe=ve),(ve=ue.length)/2<pe&&(pe=ve/2);for(var fe=0;fe<pe;++fe){var xe=parseInt(ue.substr(2*fe,2),16);if(re(xe))return fe;ne[se+fe]=xe}return fe;case"utf8":case"utf-8":return ve=j,W=G,Z(J(V,(oe=this).length-ve),oe,ve,W);case"ascii":return A(this,V,j,G);case"latin1":case"binary":return A(this,V,j,G);case"base64":return oe=this,W=j,Q=G,Z(ee(V),oe,W,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,V,j,G);default:if(Y)throw new TypeError("Unknown encoding: "+K);K=(""+K).toLowerCase(),Y=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function L(V,j,G){if(V%1!=0||V<0)throw new RangeError("offset is not uint");if(G<V+j)throw new RangeError("Trying to access beyond buffer length")}function R(V,j,G,K,ae,Q){if(!c.isBuffer(V))throw new TypeError('"buffer" argument must be a Buffer instance');if(ae<j||j<Q)throw new RangeError('"value" argument is out of bounds');if(G+K>V.length)throw new RangeError("Index out of range")}function D(V,j,G,K){if(G+K>V.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("Index out of range")}function H(V,j,G,K,ae){return j=+j,G>>>=0,ae||D(V,0,G,4),o.write(V,j,G,K,23,4),G+4}function z(V,j,G,K,ae){return j=+j,G>>>=0,ae||D(V,0,G,8),o.write(V,j,G,K,52,8),G+8}c.prototype.slice=function(V,j){var G=this.length,G=((V=~~V)<0?(V+=G)<0&&(V=0):G<V&&(V=G),(j=j===void 0?G:~~j)<0?(j+=G)<0&&(j=0):G<j&&(j=G),j<V&&(j=V),this.subarray(V,j));return Object.setPrototypeOf(G,c.prototype),G},c.prototype.readUIntLE=function(V,j,G){V>>>=0,j>>>=0,G||L(V,j,this.length);for(var K=this[V],ae=1,Q=0;++Q<j&&(ae*=256);)K+=this[V+Q]*ae;return K},c.prototype.readUIntBE=function(V,j,G){V>>>=0,j>>>=0,G||L(V,j,this.length);for(var K=this[V+--j],ae=1;0<j&&(ae*=256);)K+=this[V+--j]*ae;return K},c.prototype.readUInt8=function(V,j){return V>>>=0,j||L(V,1,this.length),this[V]},c.prototype.readUInt16LE=function(V,j){return V>>>=0,j||L(V,2,this.length),this[V]|this[V+1]<<8},c.prototype.readUInt16BE=function(V,j){return V>>>=0,j||L(V,2,this.length),this[V]<<8|this[V+1]},c.prototype.readUInt32LE=function(V,j){return V>>>=0,j||L(V,4,this.length),(this[V]|this[V+1]<<8|this[V+2]<<16)+16777216*this[V+3]},c.prototype.readUInt32BE=function(V,j){return V>>>=0,j||L(V,4,this.length),16777216*this[V]+(this[V+1]<<16|this[V+2]<<8|this[V+3])},c.prototype.readIntLE=function(V,j,G){V>>>=0,j>>>=0,G||L(V,j,this.length);for(var K=this[V],ae=1,Q=0;++Q<j&&(ae*=256);)K+=this[V+Q]*ae;return(ae*=128)<=K&&(K-=Math.pow(2,8*j)),K},c.prototype.readIntBE=function(V,j,G){V>>>=0,j>>>=0,G||L(V,j,this.length);for(var K=j,ae=1,Q=this[V+--K];0<K&&(ae*=256);)Q+=this[V+--K]*ae;return(ae*=128)<=Q&&(Q-=Math.pow(2,8*j)),Q},c.prototype.readInt8=function(V,j){return V>>>=0,j||L(V,1,this.length),128&this[V]?-1*(255-this[V]+1):this[V]},c.prototype.readInt16LE=function(V,j){return V>>>=0,j||L(V,2,this.length),j=this[V]|this[V+1]<<8,32768&j?4294901760|j:j},c.prototype.readInt16BE=function(V,j){return V>>>=0,j||L(V,2,this.length),j=this[V+1]|this[V]<<8,32768&j?4294901760|j:j},c.prototype.readInt32LE=function(V,j){return V>>>=0,j||L(V,4,this.length),this[V]|this[V+1]<<8|this[V+2]<<16|this[V+3]<<24},c.prototype.readInt32BE=function(V,j){return V>>>=0,j||L(V,4,this.length),this[V]<<24|this[V+1]<<16|this[V+2]<<8|this[V+3]},c.prototype.readFloatLE=function(V,j){return V>>>=0,j||L(V,4,this.length),o.read(this,V,!0,23,4)},c.prototype.readFloatBE=function(V,j){return V>>>=0,j||L(V,4,this.length),o.read(this,V,!1,23,4)},c.prototype.readDoubleLE=function(V,j){return V>>>=0,j||L(V,8,this.length),o.read(this,V,!0,52,8)},c.prototype.readDoubleBE=function(V,j){return V>>>=0,j||L(V,8,this.length),o.read(this,V,!1,52,8)},c.prototype.writeUIntLE=function(V,j,G,K){V=+V,j>>>=0,G>>>=0,K||R(this,V,j,G,Math.pow(2,8*G)-1,0);var ae=1,Q=0;for(this[j]=255&V;++Q<G&&(ae*=256);)this[j+Q]=V/ae&255;return j+G},c.prototype.writeUIntBE=function(V,j,G,K){V=+V,j>>>=0,G>>>=0,K||R(this,V,j,G,Math.pow(2,8*G)-1,0);var ae=G-1,Q=1;for(this[j+ae]=255&V;0<=--ae&&(Q*=256);)this[j+ae]=V/Q&255;return j+G},c.prototype.writeUInt8=function(V,j,G){return V=+V,j>>>=0,G||R(this,V,j,1,255,0),this[j]=255&V,j+1},c.prototype.writeUInt16LE=function(V,j,G){return V=+V,j>>>=0,G||R(this,V,j,2,65535,0),this[j]=255&V,this[j+1]=V>>>8,j+2},c.prototype.writeUInt16BE=function(V,j,G){return V=+V,j>>>=0,G||R(this,V,j,2,65535,0),this[j]=V>>>8,this[j+1]=255&V,j+2},c.prototype.writeUInt32LE=function(V,j,G){return V=+V,j>>>=0,G||R(this,V,j,4,4294967295,0),this[j+3]=V>>>24,this[j+2]=V>>>16,this[j+1]=V>>>8,this[j]=255&V,j+4},c.prototype.writeUInt32BE=function(V,j,G){return V=+V,j>>>=0,G||R(this,V,j,4,4294967295,0),this[j]=V>>>24,this[j+1]=V>>>16,this[j+2]=V>>>8,this[j+3]=255&V,j+4},c.prototype.writeIntLE=function(V,j,G,K){V=+V,j>>>=0,K||R(this,V,j,G,(K=Math.pow(2,8*G-1))-1,-K);var ae=0,Q=1,oe=0;for(this[j]=255&V;++ae<G&&(Q*=256);)V<0&&oe===0&&this[j+ae-1]!==0&&(oe=1),this[j+ae]=(V/Q>>0)-oe&255;return j+G},c.prototype.writeIntBE=function(V,j,G,K){V=+V,j>>>=0,K||R(this,V,j,G,(K=Math.pow(2,8*G-1))-1,-K);var ae=G-1,Q=1,oe=0;for(this[j+ae]=255&V;0<=--ae&&(Q*=256);)V<0&&oe===0&&this[j+ae+1]!==0&&(oe=1),this[j+ae]=(V/Q>>0)-oe&255;return j+G},c.prototype.writeInt8=function(V,j,G){return V=+V,j>>>=0,G||R(this,V,j,1,127,-128),this[j]=255&(V=V<0?255+V+1:V),j+1},c.prototype.writeInt16LE=function(V,j,G){return V=+V,j>>>=0,G||R(this,V,j,2,32767,-32768),this[j]=255&V,this[j+1]=V>>>8,j+2},c.prototype.writeInt16BE=function(V,j,G){return V=+V,j>>>=0,G||R(this,V,j,2,32767,-32768),this[j]=V>>>8,this[j+1]=255&V,j+2},c.prototype.writeInt32LE=function(V,j,G){return V=+V,j>>>=0,G||R(this,V,j,4,2147483647,-2147483648),this[j]=255&V,this[j+1]=V>>>8,this[j+2]=V>>>16,this[j+3]=V>>>24,j+4},c.prototype.writeInt32BE=function(V,j,G){return V=+V,j>>>=0,G||R(this,V,j,4,2147483647,-2147483648),this[j]=(V=V<0?4294967295+V+1:V)>>>24,this[j+1]=V>>>16,this[j+2]=V>>>8,this[j+3]=255&V,j+4},c.prototype.writeFloatLE=function(V,j,G){return H(this,V,j,!0,G)},c.prototype.writeFloatBE=function(V,j,G){return H(this,V,j,!1,G)},c.prototype.writeDoubleLE=function(V,j,G){return z(this,V,j,!0,G)},c.prototype.writeDoubleBE=function(V,j,G){return z(this,V,j,!1,G)},c.prototype.copy=function(V,j,G,K){if(!c.isBuffer(V))throw new TypeError("argument should be a Buffer");if(G=G||0,K||K===0||(K=this.length),j>=V.length&&(j=V.length),(K=0<K&&K<G?G:K)===G||V.length===0||this.length===0)return 0;if((j=j||0)<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("sourceEnd out of bounds");K>this.length&&(K=this.length);var ae=(K=V.length-j<K-G?V.length-j+G:K)-G;if(this===V&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(j,G,K);else if(this===V&&G<j&&j<K)for(var Q=ae-1;0<=Q;--Q)V[Q+j]=this[Q+G];else Uint8Array.prototype.set.call(V,this.subarray(G,K),j);return ae},c.prototype.fill=function(V,j,G,K){if(typeof V=="string"){if(typeof j=="string"?(K=j,j=0,G=this.length):typeof G=="string"&&(K=G,G=this.length),K!==void 0&&typeof K!="string")throw new TypeError("encoding must be a string");if(typeof K=="string"&&!c.isEncoding(K))throw new TypeError("Unknown encoding: "+K);var ae;V.length===1&&(ae=V.charCodeAt(0),(K==="utf8"&&ae<128||K==="latin1")&&(V=ae))}else typeof V=="number"?V&=255:typeof V=="boolean"&&(V=Number(V));if(j<0||this.length<j||this.length<G)throw new RangeError("Out of range index");var Q;if(!(G<=j))if(j>>>=0,G=G===void 0?this.length:G>>>0,typeof(V=V||0)=="number")for(Q=j;Q<G;++Q)this[Q]=V;else{var oe=c.isBuffer(V)?V:c.from(V,K),W=oe.length;if(W===0)throw new TypeError('The value "'+V+'" is invalid for argument "value"');for(Q=0;Q<G-j;++Q)this[Q+j]=oe[Q%W]}return this};var B=/[^+/0-9A-Za-z-_]/g;function J(V,j){j=j||1/0;for(var G,K=V.length,ae=null,Q=[],oe=0;oe<K;++oe){if(55295<(G=V.charCodeAt(oe))&&G<57344){if(!ae){if(56319<G){-1<(j-=3)&&Q.push(239,191,189);continue}if(oe+1===K){-1<(j-=3)&&Q.push(239,191,189);continue}ae=G;continue}if(G<56320){-1<(j-=3)&&Q.push(239,191,189),ae=G;continue}G=65536+(ae-55296<<10|G-56320)}else ae&&-1<(j-=3)&&Q.push(239,191,189);if(ae=null,G<128){if(--j<0)break;Q.push(G)}else if(G<2048){if((j-=2)<0)break;Q.push(G>>6|192,63&G|128)}else if(G<65536){if((j-=3)<0)break;Q.push(G>>12|224,G>>6&63|128,63&G|128)}else{if(!(G<1114112))throw new Error("Invalid code point");if((j-=4)<0)break;Q.push(G>>18|240,G>>12&63|128,G>>6&63|128,63&G|128)}}return Q}function ee(V){return s.toByteArray(function(j){if((j=(j=j.split("=")[0]).trim().replace(B,"")).length<2)return"";for(;j.length%4!=0;)j+="=";return j}(V))}function Z(V,j,G,K){for(var ae=0;ae<K&&!(ae+G>=j.length||ae>=V.length);++ae)j[ae+G]=V[ae];return ae}function q(V,j){return V instanceof j||V!=null&&V.constructor!=null&&V.constructor.name!=null&&V.constructor.name===j.name}function re(V){return V!=V}var ge=function(){for(var V="0123456789abcdef",j=new Array(256),G=0;G<16;++G)for(var K=16*G,ae=0;ae<16;++ae)j[K+ae]=V[G]+V[ae];return j}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(t,a,l){a.exports=function(n){if(typeof n!="function")throw TypeError(String(n)+" is not a function");return n}},{}],6:[function(t,a,l){var n=t("../internals/is-object");a.exports=function(s){if(n(s)||s===null)return s;throw TypeError("Can't set "+String(s)+" as a prototype")}},{"../internals/is-object":75}],7:[function(o,a,l){var n=o("../internals/well-known-symbol"),s=o("../internals/object-create"),o=o("../internals/object-define-property"),u=n("unscopables"),m=Array.prototype;m[u]==null&&o.f(m,u,{configurable:!0,value:s(null)}),a.exports=function(v){m[u][v]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(t,a,l){"use strict";var n=t("../internals/string-multibyte").charAt;a.exports=function(s,o,u){return o+(u?n(s,o).length:1)}},{"../internals/string-multibyte":125}],9:[function(t,a,l){a.exports=function(n,s,o){if(n instanceof s)return n;throw TypeError("Incorrect "+(o?o+" ":"")+"invocation")}},{}],10:[function(t,a,l){var n=t("../internals/is-object");a.exports=function(s){if(n(s))return s;throw TypeError(String(s)+" is not an object")}},{"../internals/is-object":75}],11:[function(t,a,l){a.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(D,a,l){"use strict";function n(z){return v(z)&&c(H,d(z))}var s,o=D("../internals/array-buffer-native"),u=D("../internals/descriptors"),m=D("../internals/global"),v=D("../internals/is-object"),c=D("../internals/has"),d=D("../internals/classof"),p=D("../internals/create-non-enumerable-property"),f=D("../internals/redefine"),y=D("../internals/object-define-property").f,g=D("../internals/object-get-prototype-of"),_=D("../internals/object-set-prototype-of"),I=D("../internals/well-known-symbol"),D=D("../internals/uid"),b=m.Int8Array,w=b&&b.prototype,T=m.Uint8ClampedArray,T=T&&T.prototype,O=b&&g(b),A=w&&g(w),E=Object.prototype,C=E.isPrototypeOf,I=I("toStringTag"),L=D("TYPED_ARRAY_TAG"),R=o&&!!_&&d(m.opera)!=="Opera",D=!1,H={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(s in H)m[s]||(R=!1);if((!R||typeof O!="function"||O===Function.prototype)&&(O=function(){throw TypeError("Incorrect invocation")},R))for(s in H)m[s]&&_(m[s],O);if((!R||!A||A===E)&&(A=O.prototype,R))for(s in H)m[s]&&_(m[s].prototype,A);if(R&&g(T)!==A&&_(T,A),u&&!c(A,I))for(s in D=!0,y(A,I,{get:function(){return v(this)?this[L]:void 0}}),H)m[s]&&p(m[s],L,s);a.exports={NATIVE_ARRAY_BUFFER_VIEWS:R,TYPED_ARRAY_TAG:D&&L,aTypedArray:function(z){if(n(z))return z;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(z){if(_){if(C.call(O,z))return z}else for(var B in H)if(c(H,s)&&(B=m[B],B&&(z===B||C.call(B,z))))return z;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(z,B,J){if(u){if(J)for(var ee in H)ee=m[ee],ee&&c(ee.prototype,z)&&delete ee.prototype[z];A[z]&&!J||f(A,z,!J&&R&&w[z]||B)}},exportTypedArrayStaticMethod:function(z,B,J){var ee,Z;if(u){if(_){if(J)for(ee in H)(Z=m[ee])&&c(Z,z)&&delete Z[z];if(O[z]&&!J)return;try{return f(O,z,!J&&R&&b[z]||B)}catch{}}for(ee in H)!(Z=m[ee])||Z[z]&&!J||f(Z,z,B)}},isView:function(z){return z=d(z),z==="DataView"||c(H,z)},isTypedArray:n,TypedArray:O,TypedArrayPrototype:A}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(G,a,l){"use strict";function n(se){return[255&se]}function s(se){return[255&se,se>>8&255]}function o(se){return[255&se,se>>8&255,se>>16&255,se>>24&255]}function u(se){return se[3]<<24|se[2]<<16|se[1]<<8|se[0]}function m(se){return Q(se,23,4)}function v(se){return Q(se,52,8)}function c(se,pe){D(se[q],pe,{get:function(){return B(this)[pe]}})}function d(Te,pe,ke,fe){if(ke=E(ke),Te=B(Te),ke+pe>Te.byteLength)throw ae(re);var xe=B(Te.buffer).bytes,ke=ke+Te.byteOffset,Te=xe.slice(ke,ke+pe);return fe?Te:Te.reverse()}function p(se,pe,ve,fe,xe,ke){if(ve=E(ve),se=B(se),ve+pe>se.byteLength)throw ae(re);for(var Te=B(se.buffer).bytes,Ae=ve+se.byteOffset,Pe=fe(+xe),it=0;it<pe;it++)Te[Ae+it]=Pe[ke?it:pe-it-1]}var f=G("../internals/global"),y=G("../internals/descriptors"),g=G("../internals/array-buffer-native"),_=G("../internals/create-non-enumerable-property"),b=G("../internals/redefine-all"),w=G("../internals/fails"),T=G("../internals/an-instance"),O=G("../internals/to-integer"),A=G("../internals/to-length"),E=G("../internals/to-index"),C=G("../internals/ieee754"),I=G("../internals/object-get-prototype-of"),L=G("../internals/object-set-prototype-of"),R=G("../internals/object-get-own-property-names").f,D=G("../internals/object-define-property").f,H=G("../internals/array-fill"),z=G("../internals/set-to-string-tag"),G=G("../internals/internal-state"),B=G.get,J=G.set,ee="ArrayBuffer",Z="DataView",q="prototype",re="Wrong index",ge=f[ee],V=ge,j=f[Z],G=j&&j[q],K=Object.prototype,ae=f.RangeError,Q=C.pack,oe=C.unpack;if(g){if(!w(function(){ge(1)})||!w(function(){new ge(-1)})||w(function(){return new ge,new ge(1.5),new ge(NaN),ge.name!=ee})){for(var W,f=(V=function(ve){return T(this,V),new ge(E(ve))})[q]=ge[q],Y=R(ge),ne=0;Y.length>ne;)(W=Y[ne++])in V||_(V,W,ge[W]);f.constructor=V}L&&I(G)!==K&&L(G,K);var C=new j(new V(2)),ue=G.setInt8;C.setInt8(0,2147483648),C.setInt8(1,2147483649),!C.getInt8(0)&&C.getInt8(1)||b(G,{setInt8:function(pe,ve){ue.call(this,pe,ve<<24>>24)},setUint8:function(pe,ve){ue.call(this,pe,ve<<24>>24)}},{unsafe:!0})}else V=function(se){T(this,V,ee),se=E(se),J(this,{bytes:H.call(new Array(se),0),byteLength:se}),y||(this.byteLength=se)},j=function(se,xe,ve){T(this,j,Z),T(se,V,Z);var fe=B(se).byteLength,xe=O(xe);if(xe<0||fe<xe)throw ae("Wrong offset");if(fe<xe+(ve=ve===void 0?fe-xe:A(ve)))throw ae("Wrong length");J(this,{buffer:se,byteLength:ve,byteOffset:xe}),y||(this.buffer=se,this.byteLength=ve,this.byteOffset=xe)},y&&(c(V,"byteLength"),c(j,"buffer"),c(j,"byteLength"),c(j,"byteOffset")),b(j[q],{getInt8:function(se){return d(this,1,se)[0]<<24>>24},getUint8:function(se){return d(this,1,se)[0]},getInt16:function(se){return se=d(this,2,se,1<arguments.length?arguments[1]:void 0),(se[1]<<8|se[0])<<16>>16},getUint16:function(se){return se=d(this,2,se,1<arguments.length?arguments[1]:void 0),se[1]<<8|se[0]},getInt32:function(se){return u(d(this,4,se,1<arguments.length?arguments[1]:void 0))},getUint32:function(se){return u(d(this,4,se,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(se){return oe(d(this,4,se,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(se){return oe(d(this,8,se,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(se,pe){p(this,1,se,n,pe)},setUint8:function(se,pe){p(this,1,se,n,pe)},setInt16:function(se,pe){p(this,2,se,s,pe,2<arguments.length?arguments[2]:void 0)},setUint16:function(se,pe){p(this,2,se,s,pe,2<arguments.length?arguments[2]:void 0)},setInt32:function(se,pe){p(this,4,se,o,pe,2<arguments.length?arguments[2]:void 0)},setUint32:function(se,pe){p(this,4,se,o,pe,2<arguments.length?arguments[2]:void 0)},setFloat32:function(se,pe){p(this,4,se,m,pe,2<arguments.length?arguments[2]:void 0)},setFloat64:function(se,pe){p(this,8,se,v,pe,2<arguments.length?arguments[2]:void 0)}});z(V,ee),z(j,Z),a.exports={ArrayBuffer:V,DataView:j}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(t,a,l){"use strict";var n=t("../internals/to-object"),s=t("../internals/to-absolute-index"),o=t("../internals/to-length"),u=Math.min;a.exports=[].copyWithin||function(y,v){var c=n(this),d=o(c.length),p=s(y,d),f=s(v,d),y=2<arguments.length?arguments[2]:void 0,g=u((y===void 0?d:s(y,d))-f,d-p),_=1;for(f<p&&p<f+g&&(_=-1,f+=g-1,p+=g-1);0<g--;)f in c?c[p]=c[f]:delete c[p],p+=_,f+=_;return c}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(t,a,l){"use strict";var n=t("../internals/to-object"),s=t("../internals/to-absolute-index"),o=t("../internals/to-length");a.exports=function(u){for(var m=n(this),v=o(m.length),d=arguments.length,c=s(1<d?arguments[1]:void 0,v),d=2<d?arguments[2]:void 0,p=d===void 0?v:s(d,v);c<p;)m[c++]=u;return m}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(o,a,l){"use strict";var n=o("../internals/array-iteration").forEach,s=o("../internals/array-method-is-strict"),o=o("../internals/array-method-uses-to-length"),s=s("forEach"),o=o("forEach");a.exports=s&&o?[].forEach:function(u){return n(this,u,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,a,l){"use strict";var n=t("../internals/function-bind-context"),s=t("../internals/to-object"),o=t("../internals/call-with-safe-iteration-closing"),u=t("../internals/is-array-iterator-method"),m=t("../internals/to-length"),v=t("../internals/create-property"),c=t("../internals/get-iterator-method");a.exports=function(T){var p,f,y,g,_,b,w=s(T),T=typeof this=="function"?this:Array,O=arguments.length,A=1<O?arguments[1]:void 0,E=A!==void 0,C=c(w),I=0;if(E&&(A=n(A,2<O?arguments[2]:void 0,2)),C==null||T==Array&&u(C))for(f=new T(p=m(w.length));I<p;I++)b=E?A(w[I],I):w[I],v(f,I,b);else for(_=(g=C.call(w)).next,f=new T;!(y=_.call(g)).done;I++)b=E?o(g,A,[y.value,I],!0):y.value,v(f,I,b);return f.length=I,f}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(t,a,l){function n(m){return function(v,c,d){var p,f=s(v),y=o(f.length),g=u(d,y);if(m&&c!=c){for(;g<y;)if((p=f[g++])!=p)return!0}else for(;g<y;g++)if((m||g in f)&&f[g]===c)return m||g||0;return!m&&-1}}var s=t("../internals/to-indexed-object"),o=t("../internals/to-length"),u=t("../internals/to-absolute-index");a.exports={includes:n(!0),indexOf:n(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(t,a,l){function n(d){var p=d==1,f=d==2,y=d==3,g=d==4,_=d==6,b=d==5||_;return function(w,T,O,A){for(var E,C,I=u(w),L=o(I),R=s(T,O,3),D=m(L.length),H=0,T=A||v,z=p?T(w,D):f?T(w,0):void 0;H<D;H++)if((b||H in L)&&(C=R(E=L[H],H,I),d)){if(p)z[H]=C;else if(C)switch(d){case 3:return!0;case 5:return E;case 6:return H;case 2:c.call(z,E)}else if(g)return!1}return _?-1:y||g?g:z}}var s=t("../internals/function-bind-context"),o=t("../internals/indexed-object"),u=t("../internals/to-object"),m=t("../internals/to-length"),v=t("../internals/array-species-create"),c=[].push;a.exports={forEach:n(0),map:n(1),filter:n(2),some:n(3),every:n(4),find:n(5),findIndex:n(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(d,a,l){"use strict";var n=d("../internals/to-indexed-object"),s=d("../internals/to-integer"),o=d("../internals/to-length"),c=d("../internals/array-method-is-strict"),d=d("../internals/array-method-uses-to-length"),u=Math.min,m=[].lastIndexOf,v=!!m&&1/[1].lastIndexOf(1,-0)<0,c=c("lastIndexOf"),d=d("indexOf",{ACCESSORS:!0,1:0});a.exports=v||!c||!d?function(p){if(v)return m.apply(this,arguments)||0;var f=n(this),y=o(f.length),g=y-1;for((g=1<arguments.length?u(g,s(arguments[1])):g)<0&&(g=y+g);0<=g;g--)if(g in f&&f[g]===p)return g||0;return-1}:m},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(t,a,l){var n=t("../internals/fails"),s=t("../internals/well-known-symbol"),o=t("../internals/engine-v8-version"),u=s("species");a.exports=function(m){return 51<=o||!n(function(){var v=[];return(v.constructor={})[u]=function(){return{foo:1}},v[m](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(t,a,l){"use strict";var n=t("../internals/fails");a.exports=function(s,o){var u=[][s];return!!u&&n(function(){u.call(null,o||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,a,l){function n(c){throw c}var s=t("../internals/descriptors"),o=t("../internals/fails"),u=t("../internals/has"),m=Object.defineProperty,v={};a.exports=function(c,d){var p,f,y,g;return u(v,c)?v[c]:(p=[][c],f=!!u(d=d||{},"ACCESSORS")&&d.ACCESSORS,y=u(d,0)?d[0]:n,g=u(d,1)?d[1]:void 0,v[c]=!!p&&!o(function(){if(f&&!s)return!0;var _={length:-1};f?m(_,1,{enumerable:!0,get:n}):_[1]=1,p.call(_,y,g)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(t,a,l){function n(v){return function(c,d,p,f){s(d);var y=o(c),g=u(y),_=m(y.length),b=v?_-1:0,w=v?-1:1;if(p<2)for(;;){if(b in g){f=g[b],b+=w;break}if(b+=w,v?b<0:_<=b)throw TypeError("Reduce of empty array with no initial value")}for(;v?0<=b:b<_;b+=w)b in g&&(f=d(f,g[b],b,y));return f}}var s=t("../internals/a-function"),o=t("../internals/to-object"),u=t("../internals/indexed-object"),m=t("../internals/to-length");a.exports={left:n(!1),right:n(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(t,a,l){var n=t("../internals/is-object"),s=t("../internals/is-array"),o=t("../internals/well-known-symbol")("species");a.exports=function(u,m){var v;return new((v=s(u)&&(typeof(v=u.constructor)=="function"&&(v===Array||s(v.prototype))||n(v)&&(v=v[o])===null)?void 0:v)===void 0?Array:v)(m===0?0:m)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(t,a,l){var n=t("../internals/an-object");a.exports=function(s,o,u,m){try{return m?o(n(u)[0],u[1]):o(u)}catch(v){throw m=s.return,m!==void 0&&n(m.call(s)),v}}},{"../internals/an-object":10}],27:[function(t,a,l){var n=t("../internals/well-known-symbol")("iterator"),s=!1;try{var o=0,u={next:function(){return{done:!!o++}},return:function(){s=!0}};u[n]=function(){return this},Array.from(u,function(){throw 2})}catch{}a.exports=function(m,v){if(!v&&!s)return!1;var c=!1;try{var d={};d[n]=function(){return{next:function(){return{done:c=!0}}}},m(d)}catch{}return c}},{"../internals/well-known-symbol":150}],28:[function(t,a,l){var n={}.toString;a.exports=function(s){return n.call(s).slice(8,-1)}},{}],29:[function(t,a,l){var n=t("../internals/to-string-tag-support"),s=t("../internals/classof-raw"),o=t("../internals/well-known-symbol")("toStringTag"),u=s(function(){return arguments}())=="Arguments";a.exports=n?s:function(m){var v;return m===void 0?"Undefined":m===null?"Null":typeof(v=function(c,d){try{return c[d]}catch{}}(m=Object(m),o))=="string"?v:u?s(m):(v=s(m))=="Object"&&typeof m.callee=="function"?"Arguments":v}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(y,a,l){"use strict";var n=y("../internals/object-define-property").f,s=y("../internals/object-create"),o=y("../internals/redefine-all"),u=y("../internals/function-bind-context"),m=y("../internals/an-instance"),v=y("../internals/iterate"),c=y("../internals/define-iterator"),d=y("../internals/set-species"),p=y("../internals/descriptors"),f=y("../internals/internal-metadata").fastKey,y=y("../internals/internal-state"),g=y.set,_=y.getterFor;a.exports={getConstructor:function(b,w,T,O){function A(L,R,D){var H,z=I(L),B=E(L,R);return B?B.value=D:(z.last=B={index:H=f(R,!0),key:R,value:D,previous:R=z.last,next:void 0,removed:!1},z.first||(z.first=B),R&&(R.next=B),p?z.size++:L.size++,H!=="F"&&(z.index[H]=B)),L}function E(H,R){var D,H=I(H),z=f(R);if(z!=="F")return H.index[z];for(D=H.first;D;D=D.next)if(D.key==R)return D}var C=b(function(L,R){m(L,C,w),g(L,{type:w,index:s(null),first:void 0,last:void 0,size:0}),p||(L.size=0),R!=null&&v(R,L[O],L,T)}),I=_(w);return o(C.prototype,{clear:function(){for(var L=I(this),R=L.index,D=L.first;D;)D.removed=!0,D.previous&&(D.previous=D.previous.next=void 0),delete R[D.index],D=D.next;L.first=L.last=void 0,p?L.size=0:this.size=0},delete:function(z){var R,D,H=I(this),z=E(this,z);return z&&(R=z.next,D=z.previous,delete H.index[z.index],z.removed=!0,D&&(D.next=R),R&&(R.previous=D),H.first==z&&(H.first=R),H.last==z&&(H.last=D),p?H.size--:this.size--),!!z},forEach:function(L){for(var R,D=I(this),H=u(L,1<arguments.length?arguments[1]:void 0,3);R=R?R.next:D.first;)for(H(R.value,R.key,this);R&&R.removed;)R=R.previous},has:function(L){return!!E(this,L)}}),o(C.prototype,T?{get:function(L){return L=E(this,L),L&&L.value},set:function(L,R){return A(this,L===0?0:L,R)}}:{add:function(L){return A(this,L=L===0?0:L,L)}}),p&&n(C.prototype,"size",{get:function(){return I(this).size}}),C},setStrong:function(b,w,T){var O=w+" Iterator",A=_(w),E=_(O);c(b,w,function(C,I){g(this,{type:O,target:C,state:A(C),kind:I,last:void 0})},function(){for(var C=E(this),I=C.kind,L=C.last;L&&L.removed;)L=L.previous;return C.target&&(C.last=L=L?L.next:C.state.first)?I=="keys"?{value:L.key,done:!1}:I=="values"?{value:L.value,done:!1}:{value:[L.key,L.value],done:!1}:{value:C.target=void 0,done:!0}},T?"entries":"values",!T,!0),d(w)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(g,a,l){"use strict";function n(A){return A.frozen||(A.frozen=new s)}function s(){this.entries=[]}function o(A,E){return w(A.entries,function(C){return C[0]===E})}var u=g("../internals/redefine-all"),m=g("../internals/internal-metadata").getWeakData,v=g("../internals/an-object"),c=g("../internals/is-object"),d=g("../internals/an-instance"),p=g("../internals/iterate"),f=g("../internals/array-iteration"),y=g("../internals/has"),g=g("../internals/internal-state"),_=g.set,b=g.getterFor,w=f.find,T=f.findIndex,O=0;s.prototype={get:function(A){if(A=o(this,A),A)return A[1]},has:function(A){return!!o(this,A)},set:function(A,E){var C=o(this,A);C?C[1]=E:this.entries.push([A,E])},delete:function(A){var E=T(this.entries,function(C){return C[0]===A});return~E&&this.entries.splice(E,1),!!~E}},a.exports={getConstructor:function(A,E,C,I){function L(H,z,B){var J=D(H),ee=m(v(z),!0);return ee===!0?n(J).set(z,B):ee[J.id]=B,H}var R=A(function(H,z){d(H,R,E),_(H,{type:E,id:O++,frozen:void 0}),z!=null&&p(z,H[I],H,C)}),D=b(E);return u(R.prototype,{delete:function(H){var z,B=D(this);return!!c(H)&&((z=m(H))===!0?n(B).delete(H):z&&y(z,B.id)&&delete z[B.id])},has:function(H){var z,B=D(this);return!!c(H)&&((z=m(H))===!0?n(B).has(H):z&&y(z,B.id))}}),u(R.prototype,C?{get:function(H){var z,B=D(this);if(c(H))return(z=m(H))===!0?n(B).get(H):z?z[B.id]:void 0},set:function(H,z){return L(this,H,z)}}:{add:function(H){return L(this,H,!0)}}),R}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(t,a,l){"use strict";var n=t("../internals/export"),s=t("../internals/global"),o=t("../internals/is-forced"),u=t("../internals/redefine"),m=t("../internals/internal-metadata"),v=t("../internals/iterate"),c=t("../internals/an-instance"),d=t("../internals/is-object"),p=t("../internals/fails"),f=t("../internals/check-correctness-of-iteration"),y=t("../internals/set-to-string-tag"),g=t("../internals/inherit-if-required");a.exports=function(_,b,w){function T(ee){var Z=z[ee];u(z,ee,ee=="add"?function(q){return Z.call(this,q===0?0:q),this}:ee=="delete"?function(q){return!(R&&!d(q))&&Z.call(this,q===0?0:q)}:ee=="get"?function(q){return R&&!d(q)?void 0:Z.call(this,q===0?0:q)}:ee=="has"?function(q){return!(R&&!d(q))&&Z.call(this,q===0?0:q)}:function(q,re){return Z.call(this,q===0?0:q,re),this})}var O,A,E,C,I,L=_.indexOf("Map")!==-1,R=_.indexOf("Weak")!==-1,D=L?"set":"add",H=s[_],z=H&&H.prototype,B=H,J={};return o(_,typeof H!="function"||!(R||z.forEach&&!p(function(){new H().entries().next()})))?(B=w.getConstructor(b,_,L,D),m.REQUIRED=!0):o(_,!0)&&(A=(O=new B)[D](R?{}:-0,1)!=O,E=p(function(){O.has(1)}),C=f(function(ee){new H(ee)}),I=!R&&p(function(){for(var ee=new H,Z=5;Z--;)ee[D](Z,Z);return!ee.has(-0)}),C||(((B=b(function(ee,Z){return c(ee,B,_),ee=g(new H,ee,B),Z!=null&&v(Z,ee[D],ee,L),ee})).prototype=z).constructor=B),(E||I)&&(T("delete"),T("has"),L&&T("get")),(I||A)&&T(D),R&&z.clear&&delete z.clear),J[_]=B,n({global:!0,forced:B!=H},J),y(B,_),R||w.setStrong(B,_,L),B}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(t,a,l){var n=t("../internals/has"),s=t("../internals/own-keys"),o=t("../internals/object-get-own-property-descriptor"),u=t("../internals/object-define-property");a.exports=function(m,v){for(var c=s(v),d=u.f,p=o.f,f=0;f<c.length;f++){var y=c[f];n(m,y)||d(m,y,p(v,y))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(t,a,l){var n=t("../internals/well-known-symbol")("match");a.exports=function(s){var o=/./;try{"/./"[s](o)}catch{try{return o[n]=!1,"/./"[s](o)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(t,a,l){t=t("../internals/fails"),a.exports=!t(function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype})},{"../internals/fails":51}],36:[function(t,a,l){var n=t("../internals/require-object-coercible"),s=/"/g;a.exports=function(c,u,m,v){var c=String(n(c)),d="<"+u;return m!==""&&(d+=" "+m+'="'+String(v).replace(s,"&quot;")+'"'),d+">"+c+"</"+u+">"}},{"../internals/require-object-coercible":115}],37:[function(t,a,l){"use strict";function n(){return this}var s=t("../internals/iterators-core").IteratorPrototype,o=t("../internals/object-create"),u=t("../internals/create-property-descriptor"),m=t("../internals/set-to-string-tag"),v=t("../internals/iterators");a.exports=function(c,d,p){return d+=" Iterator",c.prototype=o(s,{next:u(1,p)}),m(c,d,!1,!0),v[d]=n,c}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(t,a,l){var n=t("../internals/descriptors"),s=t("../internals/object-define-property"),o=t("../internals/create-property-descriptor");a.exports=n?function(u,m,v){return s.f(u,m,o(1,v))}:function(u,m,v){return u[m]=v,u}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(t,a,l){a.exports=function(n,s){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:s}}},{}],40:[function(t,a,l){"use strict";var n=t("../internals/to-primitive"),s=t("../internals/object-define-property"),o=t("../internals/create-property-descriptor");a.exports=function(u,m,v){m=n(m),m in u?s.f(u,m,o(0,v)):u[m]=v}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(g,a,l){"use strict";function n(){return this}var s=g("../internals/export"),o=g("../internals/create-iterator-constructor"),u=g("../internals/object-get-prototype-of"),m=g("../internals/object-set-prototype-of"),v=g("../internals/set-to-string-tag"),c=g("../internals/create-non-enumerable-property"),d=g("../internals/redefine"),p=g("../internals/well-known-symbol"),f=g("../internals/is-pure"),y=g("../internals/iterators"),g=g("../internals/iterators-core"),_=g.IteratorPrototype,b=g.BUGGY_SAFARI_ITERATORS,w=p("iterator"),T="values",O="entries";a.exports=function(A,E,C,J,L,R,D){o(C,E,J);function H(V){if(V===L&&re)return re;if(!b&&V in Z)return Z[V];switch(V){case"keys":case T:case O:return function(){return new C(this,V)}}return function(){return new C(this)}}var z,B,J=E+" Iterator",ee=!1,Z=A.prototype,q=Z[w]||Z["@@iterator"]||L&&Z[L],re=!b&&q||H(L),ge=E=="Array"&&Z.entries||q;if(ge&&(ge=u(ge.call(new A)),_!==Object.prototype&&ge.next&&(f||u(ge)===_||(m?m(ge,_):typeof ge[w]!="function"&&c(ge,w,n)),v(ge,J,!0,!0),f&&(y[J]=n))),L==T&&q&&q.name!==T&&(ee=!0,re=function(){return q.call(this)}),f&&!D||Z[w]===re||c(Z,w,re),y[E]=re,L)if(z={values:H(T),keys:R?re:H("keys"),entries:H(O)},D)for(B in z)!b&&!ee&&B in Z||d(Z,B,z[B]);else s({target:E,proto:!0,forced:b||ee},z);return z}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(t,a,l){var n=t("../internals/path"),s=t("../internals/has"),o=t("../internals/well-known-symbol-wrapped"),u=t("../internals/object-define-property").f;a.exports=function(m){var v=n.Symbol||(n.Symbol={});s(v,m)||u(v,m,{value:o.f(m)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(t,a,l){t=t("../internals/fails"),a.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(s,a,l){var n=s("../internals/global"),s=s("../internals/is-object"),o=n.document,u=s(o)&&s(o.createElement);a.exports=function(m){return u?o.createElement(m):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(t,a,l){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,a,l){t=t("../internals/engine-user-agent"),a.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,a,l){t=t("../internals/get-built-in"),a.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(o,a,l){var n,s,u=o("../internals/global"),o=o("../internals/engine-user-agent"),u=u.process,u=u&&u.versions,u=u&&u.v8;u?s=(n=u.split("."))[0]+n[1]:o&&(!(n=o.match(/Edge\/(\d+)/))||74<=n[1])&&(n=o.match(/Chrome\/(\d+)/))&&(s=n[1]),a.exports=s&&+s},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(t,a,l){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,a,l){var n=t("../internals/global"),s=t("../internals/object-get-own-property-descriptor").f,o=t("../internals/create-non-enumerable-property"),u=t("../internals/redefine"),m=t("../internals/set-global"),v=t("../internals/copy-constructor-properties"),c=t("../internals/is-forced");a.exports=function(d,p){var f,y,g,_=d.target,b=d.global,w=d.stat,T=b?n:w?n[_]||m(_,{}):(n[_]||{}).prototype;if(T)for(f in p){if(y=p[f],g=d.noTargetGet?(g=s(T,f))&&g.value:T[f],!c(b?f:_+(w?".":"#")+f,d.forced)&&g!==void 0){if(typeof y==typeof g)continue;v(y,g)}(d.sham||g&&g.sham)&&o(y,"sham",!0),u(T,f,y,d)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(t,a,l){a.exports=function(n){try{return!!n()}catch{return!0}}},{}],52:[function(p,a,l){"use strict";p("../modules/es.regexp.exec");var n=p("../internals/redefine"),s=p("../internals/fails"),o=p("../internals/well-known-symbol"),u=p("../internals/regexp-exec"),m=p("../internals/create-non-enumerable-property"),v=o("species"),c=!s(function(){var g=/./;return g.exec=function(){var _=[];return _.groups={a:"7"},_},"".replace(g,"$<a>")!=="7"}),d="a".replace(/./,"$0")==="$0",p=o("replace"),f=!!/./[p]&&/./[p]("a","$0")==="",y=!s(function(){var _=/(?:)/,g=_.exec,_=(_.exec=function(){return g.apply(this,arguments)},"ab".split(_));return _.length!==2||_[0]!=="a"||_[1]!=="b"});a.exports=function(g,_,b,w){var T,O,A=o(g),E=!s(function(){var I={};return I[A]=function(){return 7},""[g](I)!=7}),C=E&&!s(function(){var I=!1,L=/a/;return g==="split"&&((L={constructor:{}}).constructor[v]=function(){return L},L.flags="",L[A]=/./[A]),L.exec=function(){return I=!0,null},L[A](""),!I});E&&C&&(g!=="replace"||c&&d&&!f)&&(g!=="split"||y)||(T=/./[A],b=(C=b(A,""[g],function(I,L,R,D,H){return L.exec===u?E&&!H?{done:!0,value:T.call(L,R,D)}:{done:!0,value:I.call(R,L,D)}:{done:!1}},{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}))[0],O=C[1],n(String.prototype,g,b),n(RegExp.prototype,A,_==2?function(I,L){return O.call(I,this,L)}:function(I){return O.call(I,this)})),w&&m(RegExp.prototype[A],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(t,a,l){"use strict";function n(m,v,c,d,p,f,y,g){for(var _,b=p,w=0,T=!!y&&u(y,g,3);w<d;){if(w in c){if(_=T?T(c[w],w,v):c[w],0<f&&s(_))b=n(m,v,_,o(_.length),b,f-1)-1;else{if(9007199254740991<=b)throw TypeError("Exceed the acceptable array length");m[b]=_}b++}w++}return b}var s=t("../internals/is-array"),o=t("../internals/to-length"),u=t("../internals/function-bind-context");a.exports=n},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(t,a,l){t=t("../internals/fails"),a.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(t,a,l){var n=t("../internals/a-function");a.exports=function(s,o,u){if(n(s),o===void 0)return s;switch(u){case 0:return function(){return s.call(o)};case 1:return function(m){return s.call(o,m)};case 2:return function(m,v){return s.call(o,m,v)};case 3:return function(m,v,c){return s.call(o,m,v,c)}}return function(){return s.apply(o,arguments)}}},{"../internals/a-function":5}],56:[function(t,a,l){"use strict";var n=t("../internals/a-function"),s=t("../internals/is-object"),o=[].slice,u={};a.exports=Function.bind||function(m){var v=n(this),c=o.call(arguments,1),d=function(){var p=c.concat(o.call(arguments));if(this instanceof d){var f=v,y=p.length,g=p;if(!(y in u)){for(var _=[],b=0;b<y;b++)_[b]="a["+b+"]";u[y]=Function("C,a","return new C("+_.join(",")+")")}return u[y](f,g)}return v.apply(m,p)};return s(v.prototype)&&(d.prototype=v.prototype),d}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(t,a,l){function n(u){return typeof u=="function"?u:void 0}var s=t("../internals/path"),o=t("../internals/global");a.exports=function(u,m){return arguments.length<2?n(s[u])||n(o[u]):s[u]&&s[u][m]||o[u]&&o[u][m]}},{"../internals/global":60,"../internals/path":106}],58:[function(t,a,l){var n=t("../internals/classof"),s=t("../internals/iterators"),o=t("../internals/well-known-symbol")("iterator");a.exports=function(u){if(u!=null)return u[o]||u["@@iterator"]||s[n(u)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(t,a,l){var n=t("../internals/an-object"),s=t("../internals/get-iterator-method");a.exports=function(o){var u=s(o);if(typeof u!="function")throw TypeError(String(o)+" is not iterable");return n(u.call(o))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(t,a,l){(function(n){function s(o){return o&&o.Math==Math&&o}a.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof n=="object"&&n)||Function("return this")()}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(t,a,l){var n={}.hasOwnProperty;a.exports=function(s,o){return n.call(s,o)}},{}],62:[function(t,a,l){a.exports={}},{}],63:[function(t,a,l){var n=t("../internals/global");a.exports=function(s,o){var u=n.console;u&&u.error&&(arguments.length===1?u.error(s):u.error(s,o))}},{"../internals/global":60}],64:[function(t,a,l){t=t("../internals/get-built-in"),a.exports=t("document","documentElement")},{"../internals/get-built-in":57}],65:[function(t,a,l){var n=t("../internals/descriptors"),s=t("../internals/fails"),o=t("../internals/document-create-element");a.exports=!n&&!s(function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(t,a,l){var n=Math.abs,s=Math.pow,o=Math.floor,u=Math.log,m=Math.LN2;a.exports={pack:function(v,c,b){var p,f,y,g=new Array(b),_=8*b-c-1,b=(1<<_)-1,w=b>>1,T=c===23?s(2,-24)-s(2,-77):0,O=v<0||v===0&&1/v<0?1:0,A=0;for((v=n(v))!=v||v===1/0?(f=v!=v?1:0,p=b):(p=o(u(v)/m),v*(y=s(2,-p))<1&&(p--,y*=2),2<=(v+=1<=p+w?T/y:T*s(2,1-w))*y&&(p++,y/=2),b<=p+w?(f=0,p=b):1<=p+w?(f=(v*y-1)*s(2,c),p+=w):(f=v*s(2,w-1)*s(2,c),p=0));8<=c;g[A++]=255&f,f/=256,c-=8);for(p=p<<c|f,_+=c;0<_;g[A++]=255&p,p/=256,_-=8);return g[--A]|=128*O,g},unpack:function(v,c){var d,p=v.length,b=8*p-c-1,f=(1<<b)-1,y=f>>1,g=b-7,_=p-1,b=v[_--],w=127&b;for(b>>=7;0<g;w=256*w+v[_],_--,g-=8);for(d=w&(1<<-g)-1,w>>=-g,g+=c;0<g;d=256*d+v[_],_--,g-=8);if(w===0)w=1-y;else{if(w===f)return d?NaN:b?-1/0:1/0;d+=s(2,c),w-=y}return(b?-1:1)*d*s(2,w-c)}}},{}],67:[function(t,a,l){var n=t("../internals/fails"),s=t("../internals/classof-raw"),o="".split;a.exports=n(function(){return!Object("z").propertyIsEnumerable(0)})?function(u){return s(u)=="String"?o.call(u,""):Object(u)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(t,a,l){var n=t("../internals/is-object"),s=t("../internals/object-set-prototype-of");a.exports=function(o,u,m){return s&&typeof(u=u.constructor)=="function"&&u!==m&&n(u=u.prototype)&&u!==m.prototype&&s(o,u),o}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(n,a,l){var n=n("../internals/shared-store"),s=Function.toString;typeof n.inspectSource!="function"&&(n.inspectSource=function(o){return s.call(o)}),a.exports=n.inspectSource},{"../internals/shared-store":121}],70:[function(t,a,l){function n(g){m(g,d,{value:{objectID:"O"+ ++p,weakData:{}}})}var s=t("../internals/hidden-keys"),o=t("../internals/is-object"),u=t("../internals/has"),m=t("../internals/object-define-property").f,v=t("../internals/uid"),c=t("../internals/freezing"),d=v("meta"),p=0,f=Object.isExtensible||function(){return!0},y=a.exports={REQUIRED:!1,fastKey:function(g,_){if(!o(g))return typeof g=="symbol"?g:(typeof g=="string"?"S":"P")+g;if(!u(g,d)){if(!f(g))return"F";if(!_)return"E";n(g)}return g[d].objectID},getWeakData:function(g,_){if(!u(g,d)){if(!f(g))return!0;if(!_)return!1;n(g)}return g[d].weakData},onFreeze:function(g){return c&&y.REQUIRED&&f(g)&&!u(g,d)&&n(g),g}};s[d]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(b,a,l){var n,s,o,u,m,v,c,d,p=b("../internals/native-weak-map"),w=b("../internals/global"),f=b("../internals/is-object"),y=b("../internals/create-non-enumerable-property"),g=b("../internals/has"),_=b("../internals/shared-key"),b=b("../internals/hidden-keys"),w=w.WeakMap;c=p?(n=new w,s=n.get,o=n.has,u=n.set,m=function(T,O){return u.call(n,T,O),O},v=function(T){return s.call(n,T)||{}},function(T){return o.call(n,T)}):(b[d=_("state")]=!0,m=function(T,O){return y(T,d,O),O},v=function(T){return g(T,d)?T[d]:{}},function(T){return g(T,d)}),a.exports={set:m,get:v,has:c,enforce:function(T){return c(T)?v(T):m(T,{})},getterFor:function(T){return function(O){if(f(O)&&(O=v(O)).type===T)return O;throw TypeError("Incompatible receiver, "+T+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(t,a,l){var n=t("../internals/well-known-symbol"),s=t("../internals/iterators"),o=n("iterator"),u=Array.prototype;a.exports=function(m){return m!==void 0&&(s.Array===m||u[o]===m)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(t,a,l){var n=t("../internals/classof-raw");a.exports=Array.isArray||function(s){return n(s)=="Array"}},{"../internals/classof-raw":28}],74:[function(t,a,l){function n(d,p){return(d=m[u(d)])==c||d!=v&&(typeof p=="function"?s(p):!!p)}var s=t("../internals/fails"),o=/#|\.prototype\./,u=n.normalize=function(d){return String(d).replace(o,".").toLowerCase()},m=n.data={},v=n.NATIVE="N",c=n.POLYFILL="P";a.exports=n},{"../internals/fails":51}],75:[function(t,a,l){a.exports=function(n){return typeof n=="object"?n!==null:typeof n=="function"}},{}],76:[function(t,a,l){a.exports=!1},{}],77:[function(t,a,l){var n=t("../internals/is-object"),s=t("../internals/classof-raw"),o=t("../internals/well-known-symbol")("match");a.exports=function(u){var m;return n(u)&&((m=u[o])!==void 0?!!m:s(u)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(t,a,l){function n(d,p){this.stopped=d,this.result=p}var s=t("../internals/an-object"),o=t("../internals/is-array-iterator-method"),u=t("../internals/to-length"),m=t("../internals/function-bind-context"),v=t("../internals/get-iterator-method"),c=t("../internals/call-with-safe-iteration-closing");(a.exports=function(d,p,f,y,g){var _,b,w,T,O,A,E=m(p,f,y?2:1);if(g)_=d;else{if(typeof(p=v(d))!="function")throw TypeError("Target is not iterable");if(o(p)){for(b=0,w=u(d.length);b<w;b++)if((T=y?E(s(A=d[b])[0],A[1]):E(d[b]))&&T instanceof n)return T;return new n(!1)}_=p.call(d)}for(O=_.next;!(A=O.call(_)).done;)if(typeof(T=c(_,E,A.value,y))=="object"&&T&&T instanceof n)return T;return new n(!1)}).stop=function(d){return new n(!0,d)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(v,a,l){"use strict";var n,s,o=v("../internals/object-get-prototype-of"),u=v("../internals/create-non-enumerable-property"),m=v("../internals/has"),c=v("../internals/well-known-symbol"),v=v("../internals/is-pure"),c=c("iterator"),d=!1;[].keys&&("next"in(s=[].keys())?(o=o(o(s)))!==Object.prototype&&(n=o):d=!0),n==null&&(n={}),v||m(n,c)||u(n,c,function(){return this}),a.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:d}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(t,a,l){a.exports={}},{}],81:[function(t,a,l){a.exports=Math.sign||function(n){return(n=+n)==0||n!=n?n:n<0?-1:1}},{}],82:[function(y,a,l){var n,s,o,u,m,v,c,d,p=y("../internals/global"),O=y("../internals/object-get-own-property-descriptor").f,T=y("../internals/classof-raw"),f=y("../internals/task").set,y=y("../internals/engine-is-ios"),g=p.MutationObserver||p.WebKitMutationObserver,_=p.process,b=p.Promise,w=T(_)=="process",T=O(p,"queueMicrotask"),O=T&&T.value;O||(n=function(){var A,E;for(w&&(A=_.domain)&&A.exit();s;){E=s.fn,s=s.next;try{E()}catch(C){throw s?u():o=void 0,C}}o=void 0,A&&A.enter()},u=w?function(){_.nextTick(n)}:g&&!y?(m=!0,v=document.createTextNode(""),new g(n).observe(v,{characterData:!0}),function(){v.data=m=!m}):b&&b.resolve?(c=b.resolve(void 0),d=c.then,function(){d.call(c,n)}):function(){f.call(p,n)}),a.exports=O||function(A){A={fn:A,next:void 0},o&&(o.next=A),s||(s=A,u()),o=A}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(t,a,l){t=t("../internals/global"),a.exports=t.Promise},{"../internals/global":60}],84:[function(t,a,l){t=t("../internals/fails"),a.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(t,a,l){var n=t("../internals/fails"),s=t("../internals/well-known-symbol"),o=t("../internals/is-pure"),u=s("iterator");a.exports=!n(function(){var m=new URL("b?a=1&b=2&c=3","http://a"),v=m.searchParams,c="";return m.pathname="c%20d",v.forEach(function(d,p){v.delete("b"),c+=p+d}),o&&!m.toJSON||!v.sort||m.href!=="http://a/c%20d?a=1&c=3"||v.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!v[u]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||c!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(n,a,l){var s=n("../internals/global"),n=n("../internals/inspect-source"),s=s.WeakMap;a.exports=typeof s=="function"&&/native code/.test(n(s))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(t,a,l){"use strict";function n(o){var u,m;this.promise=new o(function(v,c){if(u!==void 0||m!==void 0)throw TypeError("Bad Promise constructor");u=v,m=c}),this.resolve=s(u),this.reject=s(m)}var s=t("../internals/a-function");a.exports.f=function(o){return new n(o)}},{"../internals/a-function":5}],88:[function(t,a,l){var n=t("../internals/is-regexp");a.exports=function(s){if(n(s))throw TypeError("The method doesn't accept regular expressions");return s}},{"../internals/is-regexp":77}],89:[function(t,a,l){var n=t("../internals/global").isFinite;a.exports=Number.isFinite||function(s){return typeof s=="number"&&n(s)}},{"../internals/global":60}],90:[function(t,a,l){"use strict";var n=t("../internals/descriptors"),s=t("../internals/fails"),o=t("../internals/object-keys"),u=t("../internals/object-get-own-property-symbols"),m=t("../internals/object-property-is-enumerable"),v=t("../internals/to-object"),c=t("../internals/indexed-object"),d=Object.assign,p=Object.defineProperty;a.exports=!d||s(function(){var f,y,g,_;return!(!n||d({b:1},d(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(y={},_="abcdefghijklmnopqrst",(f={})[g=Symbol()]=7,_.split("").forEach(function(b){y[b]=b}),d({},f)[g]!=7||o(d({},y)).join("")!=_)})?function(f,y){for(var g=v(f),_=arguments.length,b=1,w=u.f,T=m.f;b<_;)for(var O,A=c(arguments[b++]),E=w?o(A).concat(w(A)):o(A),C=E.length,I=0;I<C;)O=E[I++],n&&!T.call(A,O)||(g[O]=A[O]);return g}:d},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(p,a,l){function n(){}var s,o=p("../internals/an-object"),u=p("../internals/object-define-properties"),m=p("../internals/enum-bug-keys"),v=p("../internals/hidden-keys"),c=p("../internals/html"),d=p("../internals/document-create-element"),p=p("../internals/shared-key"),f="prototype",y="script",g=p("IE_PROTO"),_=function(w){return"<"+y+">"+w+"</"+y+">"},b=function(){try{s=document.domain&&new ActiveXObject("htmlfile")}catch{}b=s?((w=s).write(_("")),w.close(),T=w.parentWindow.Object,w=null,T):(w=d("iframe"),T="java"+y+":",w.style.display="none",c.appendChild(w),w.src=String(T),(T=w.contentWindow.document).open(),T.write(_("document.F=Object")),T.close(),T.F);for(var w,T,O=m.length;O--;)delete b[f][m[O]];return b()};v[g]=!0,a.exports=Object.create||function(w,T){var O;return w!==null?(n[f]=o(w),O=new n,n[f]=null,O[g]=w):O=b(),T===void 0?O:u(O,T)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(t,a,l){var n=t("../internals/descriptors"),s=t("../internals/object-define-property"),o=t("../internals/an-object"),u=t("../internals/object-keys");a.exports=n?Object.defineProperties:function(m,v){o(m);for(var c,d=u(v),p=d.length,f=0;f<p;)s.f(m,c=d[f++],v[c]);return m}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(t,a,l){var n=t("../internals/descriptors"),s=t("../internals/ie8-dom-define"),o=t("../internals/an-object"),u=t("../internals/to-primitive"),m=Object.defineProperty;l.f=n?m:function(v,c,d){if(o(v),c=u(c,!0),o(d),s)try{return m(v,c,d)}catch{}if("get"in d||"set"in d)throw TypeError("Accessors not supported");return"value"in d&&(v[c]=d.value),v}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(t,a,l){var n=t("../internals/descriptors"),s=t("../internals/object-property-is-enumerable"),o=t("../internals/create-property-descriptor"),u=t("../internals/to-indexed-object"),m=t("../internals/to-primitive"),v=t("../internals/has"),c=t("../internals/ie8-dom-define"),d=Object.getOwnPropertyDescriptor;l.f=n?d:function(p,f){if(p=u(p),f=m(f,!0),c)try{return d(p,f)}catch{}if(v(p,f))return o(!s.f.call(p,f),p[f])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(t,a,l){var n=t("../internals/to-indexed-object"),s=t("../internals/object-get-own-property-names").f,o={}.toString,u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];a.exports.f=function(m){if(!u||o.call(m)!="[object Window]")return s(n(m));try{return s(m)}catch{return u.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(t,a,l){var n=t("../internals/object-keys-internal"),s=t("../internals/enum-bug-keys").concat("length","prototype");l.f=Object.getOwnPropertyNames||function(o){return n(o,s)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(t,a,l){l.f=Object.getOwnPropertySymbols},{}],98:[function(u,a,l){var n=u("../internals/has"),s=u("../internals/to-object"),o=u("../internals/shared-key"),u=u("../internals/correct-prototype-getter"),m=o("IE_PROTO"),v=Object.prototype;a.exports=u?Object.getPrototypeOf:function(c){return c=s(c),n(c,m)?c[m]:typeof c.constructor=="function"&&c instanceof c.constructor?c.constructor.prototype:c instanceof Object?v:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(t,a,l){var n=t("../internals/has"),s=t("../internals/to-indexed-object"),o=t("../internals/array-includes").indexOf,u=t("../internals/hidden-keys");a.exports=function(m,v){var c,d=s(m),p=0,f=[];for(c in d)!n(u,c)&&n(d,c)&&f.push(c);for(;v.length>p;)!n(d,c=v[p++])||~o(f,c)||f.push(c);return f}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(t,a,l){var n=t("../internals/object-keys-internal"),s=t("../internals/enum-bug-keys");a.exports=Object.keys||function(o){return n(o,s)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(t,a,l){"use strict";var n={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,o=s&&!n.call({1:2},1);l.f=o?function(u){return u=s(this,u),!!u&&u.enumerable}:n},{}],102:[function(t,a,l){var n=t("../internals/an-object"),s=t("../internals/a-possible-prototype");a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var o,u=!1,m={};try{(o=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(m,[]),u=m instanceof Array}catch{}return function(v,c){return n(v),s(c),u?o.call(v,c):v.__proto__=c,v}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(t,a,l){function n(v){return function(c){for(var d,p=u(c),f=o(p),y=f.length,g=0,_=[];g<y;)d=f[g++],s&&!m.call(p,d)||_.push(v?[d,p[d]]:p[d]);return _}}var s=t("../internals/descriptors"),o=t("../internals/object-keys"),u=t("../internals/to-indexed-object"),m=t("../internals/object-property-is-enumerable").f;a.exports={entries:n(!0),values:n(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(t,a,l){"use strict";var n=t("../internals/to-string-tag-support"),s=t("../internals/classof");a.exports=n?{}.toString:function(){return"[object "+s(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(t,a,l){var n=t("../internals/get-built-in"),s=t("../internals/object-get-own-property-names"),o=t("../internals/object-get-own-property-symbols"),u=t("../internals/an-object");a.exports=n("Reflect","ownKeys")||function(m){var v=s.f(u(m)),c=o.f;return c?v.concat(c(m)):v}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(t,a,l){t=t("../internals/global"),a.exports=t},{"../internals/global":60}],107:[function(t,a,l){a.exports=function(n){try{return{error:!1,value:n()}}catch(s){return{error:!0,value:s}}}},{}],108:[function(t,a,l){var n=t("../internals/an-object"),s=t("../internals/is-object"),o=t("../internals/new-promise-capability");a.exports=function(u,m){return n(u),s(m)&&m.constructor===u?m:((0,(u=o.f(u)).resolve)(m),u.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(t,a,l){var n=t("../internals/redefine");a.exports=function(s,o,u){for(var m in o)n(s,m,o[m],u);return s}},{"../internals/redefine":110}],110:[function(v,a,l){var n=v("../internals/global"),s=v("../internals/create-non-enumerable-property"),o=v("../internals/has"),u=v("../internals/set-global"),m=v("../internals/inspect-source"),v=v("../internals/internal-state"),c=v.get,d=v.enforce,p=String(String).split("String");(a.exports=function(f,y,g,T){var b=!!T&&!!T.unsafe,w=!!T&&!!T.enumerable,T=!!T&&!!T.noTargetGet;typeof g=="function"&&(typeof y!="string"||o(g,"name")||s(g,"name",y),d(g).source=p.join(typeof y=="string"?y:"")),f===n?w?f[y]=g:u(y,g):(b?!T&&f[y]&&(w=!0):delete f[y],w?f[y]=g:s(f,y,g))})(Function.prototype,"toString",function(){return typeof this=="function"&&c(this).source||m(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(t,a,l){var n=t("./classof-raw"),s=t("./regexp-exec");a.exports=function(o,u){var m=o.exec;if(typeof m=="function"){if(m=m.call(o,u),typeof m!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return m}if(n(o)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return s.call(o,u)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(u,a,l){"use strict";var n,s,o=u("./regexp-flags"),u=u("./regexp-sticky-helpers"),m=RegExp.prototype.exec,v=String.prototype.replace,c=m,d=(n=/a/,s=/b*/g,m.call(n,"a"),m.call(s,"a"),n.lastIndex!==0||s.lastIndex!==0),p=u.UNSUPPORTED_Y||u.BROKEN_CARET,f=/()??/.exec("")[1]!==void 0;a.exports=c=d||f||p?function(y){var g,_,b,w,T=this,O=p&&T.sticky,A=o.call(T),E=T.source,C=0,I=y;return O&&((A=A.replace("y","")).indexOf("g")===-1&&(A+="g"),I=String(y).slice(T.lastIndex),0<T.lastIndex&&(!T.multiline||T.multiline&&y[T.lastIndex-1]!==`
`)&&(E="(?: "+E+")",I=" "+I,C++),_=new RegExp("^(?:"+E+")",A)),f&&(_=new RegExp("^"+E+"$(?!\\s)",A)),d&&(g=T.lastIndex),b=m.call(O?_:T,I),O?b?(b.input=b.input.slice(C),b[0]=b[0].slice(C),b.index=T.lastIndex,T.lastIndex+=b[0].length):T.lastIndex=0:d&&b&&(T.lastIndex=T.global?b.index+b[0].length:g),f&&b&&1<b.length&&v.call(b[0],_,function(){for(w=1;w<arguments.length-2;w++)arguments[w]===void 0&&(b[w]=void 0)}),b}:c},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(t,a,l){"use strict";var n=t("../internals/an-object");a.exports=function(){var s=n(this),o="";return s.global&&(o+="g"),s.ignoreCase&&(o+="i"),s.multiline&&(o+="m"),s.dotAll&&(o+="s"),s.unicode&&(o+="u"),s.sticky&&(o+="y"),o}},{"../internals/an-object":10}],114:[function(t,a,l){"use strict";t=t("./fails");function n(s,o){return RegExp(s,o)}l.UNSUPPORTED_Y=t(function(){var s=n("a","y");return s.lastIndex=2,s.exec("abcd")!=null}),l.BROKEN_CARET=t(function(){var s=n("^r","gy");return s.lastIndex=2,s.exec("str")!=null})},{"./fails":51}],115:[function(t,a,l){a.exports=function(n){if(n==null)throw TypeError("Can't call method on "+n);return n}},{}],116:[function(t,a,l){a.exports=Object.is||function(n,s){return n===s?n!==0||1/n==1/s:n!=n&&s!=s}},{}],117:[function(t,a,l){var n=t("../internals/global"),s=t("../internals/create-non-enumerable-property");a.exports=function(o,u){try{s(n,o,u)}catch{n[o]=u}return u}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(t,a,l){"use strict";var n=t("../internals/get-built-in"),s=t("../internals/object-define-property"),o=t("../internals/well-known-symbol"),u=t("../internals/descriptors"),m=o("species");a.exports=function(c){var c=n(c),d=s.f;u&&c&&!c[m]&&d(c,m,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(t,a,l){var n=t("../internals/object-define-property").f,s=t("../internals/has"),o=t("../internals/well-known-symbol")("toStringTag");a.exports=function(u,m,v){u&&!s(u=v?u:u.prototype,o)&&n(u,o,{configurable:!0,value:m})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(t,a,l){var n=t("../internals/shared"),s=t("../internals/uid"),o=n("keys");a.exports=function(u){return o[u]||(o[u]=s(u))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(n,a,l){var o=n("../internals/global"),n=n("../internals/set-global"),s="__core-js_shared__",o=o[s]||n(s,{});a.exports=o},{"../internals/global":60,"../internals/set-global":117}],122:[function(t,a,l){var n=t("../internals/is-pure"),s=t("../internals/shared-store");(a.exports=function(o,u){return s[o]||(s[o]=u!==void 0?u:{})})("versions",[]).push({version:"3.6.5",mode:n?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(t,a,l){var n=t("../internals/an-object"),s=t("../internals/a-function"),o=t("../internals/well-known-symbol")("species");a.exports=function(v,m){var v=n(v).constructor;return v===void 0||(v=n(v)[o])==null?m:s(v)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(t,a,l){var n=t("../internals/fails");a.exports=function(s){return n(function(){var o=""[s]('"');return o!==o.toLowerCase()||3<o.split('"').length})}},{"../internals/fails":51}],125:[function(t,a,l){function n(u){return function(d,p){var c,d=String(o(d)),p=s(p),f=d.length;return p<0||f<=p?u?"":void 0:(c=d.charCodeAt(p))<55296||56319<c||p+1===f||(f=d.charCodeAt(p+1))<56320||57343<f?u?d.charAt(p):c:u?d.slice(p,p+2):f-56320+(c-55296<<10)+65536}}var s=t("../internals/to-integer"),o=t("../internals/require-object-coercible");a.exports={codeAt:n(!1),charAt:n(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(t,a,l){t=t("../internals/engine-user-agent"),a.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],127:[function(t,a,l){function n(v){return function(f,_,g){var f=String(u(f)),y=f.length,g=g===void 0?" ":String(g),_=s(_);return _<=y||g==""?f:((y=o.call(g,m((_=_-y)/g.length))).length>_&&(y=y.slice(0,_)),v?f+y:y+f)}}var s=t("../internals/to-length"),o=t("../internals/string-repeat"),u=t("../internals/require-object-coercible"),m=Math.ceil;a.exports={start:n(!1),end:n(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(t,a,l){"use strict";function n(b){return b+22+75*(b<26)}function s(b){var w,T=[],O=(b=function(q){for(var re=[],ge=0,V=q.length;ge<V;){var j,G=q.charCodeAt(ge++);55296<=G&&G<=56319&&ge<V?(64512&(j=q.charCodeAt(ge++)))==56320?re.push(((1023&G)<<10)+(1023&j)+65536):(re.push(G),ge--):re.push(G)}return re}(b)).length,A=128,E=0,C=72;for(D=0;D<b.length;D++)(w=b[D])<128&&T.push(_(w));var I=T.length,L=I;for(I&&T.push("-");L<O;){for(var R=o,D=0;D<b.length;D++)A<=(w=b[D])&&w<R&&(R=w);var H=L+1;if(R-A>g((o-E)/H))throw RangeError(f);for(E+=(R-A)*H,A=R,D=0;D<b.length;D++){if((w=b[D])<A&&++E>o)throw RangeError(f);if(w==A){for(var z=E,B=u;;B+=u){var J=B<=C?1:C+m<=B?m:B-C;if(z<J)break;var ee=z-J,Z=u-J;T.push(_(n(J+ee%Z))),z=g(ee/Z)}T.push(_(n(z))),C=function(q,re,ge){var V=0;for(q=ge?g(q/c):q>>1,q+=g(q/re);y*m>>1<q;V+=u)q=g(q/y);return g(V+(y+1)*q/(q+v))}(E,H,L==I),E=0,++L}}++E,++A}return T.join("")}var o=2147483647,u=36,m=26,v=38,c=700,d=/[^\0-\u007E]/,p=/[.\u3002\uFF0E\uFF61]/g,f="Overflow: input needs wider integers to process",y=u-1,g=Math.floor,_=String.fromCharCode;a.exports=function(b){for(var w,T=[],O=b.toLowerCase().replace(p,".").split("."),A=0;A<O.length;A++)w=O[A],T.push(d.test(w)?"xn--"+s(w):w);return T.join(".")}},{}],129:[function(t,a,l){"use strict";var n=t("../internals/to-integer"),s=t("../internals/require-object-coercible");a.exports="".repeat||function(o){var u=String(s(this)),m="",v=n(o);if(v<0||v==1/0)throw RangeError("Wrong number of repetitions");for(;0<v;(v>>>=1)&&(u+=u))1&v&&(m+=u);return m}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(t,a,l){var n=t("../internals/fails"),s=t("../internals/whitespaces");a.exports=function(o){return n(function(){return!!s[o]()||"\u200B\x85\u180E"[o]()!="\u200B\x85\u180E"||s[o].name!==o})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(o,a,l){function n(v){return function(c){return c=String(s(c)),1&v&&(c=c.replace(u,"")),c=2&v?c.replace(m,""):c}}var s=o("../internals/require-object-coercible"),o="["+o("../internals/whitespaces")+"]",u=RegExp("^"+o+o+"*"),m=RegExp(o+o+"*$");a.exports={start:n(1),end:n(2),trim:n(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(y,a,l){function n(L){return function(){I(L)}}function s(L){I(L.data)}function o(L){m.postMessage(L+"",g.protocol+"//"+g.host)}var u,m=y("../internals/global"),v=y("../internals/fails"),c=y("../internals/classof-raw"),d=y("../internals/function-bind-context"),p=y("../internals/html"),f=y("../internals/document-create-element"),y=y("../internals/engine-is-ios"),g=m.location,_=m.setImmediate,b=m.clearImmediate,w=m.process,T=m.MessageChannel,O=m.Dispatch,A=0,E={},C="onreadystatechange",I=function(L){var R;E.hasOwnProperty(L)&&(R=E[L],delete E[L],R())};_&&b||(_=function(L){for(var R=[],D=1;D<arguments.length;)R.push(arguments[D++]);return E[++A]=function(){(typeof L=="function"?L:Function(L)).apply(void 0,R)},u(A),A},b=function(L){delete E[L]},c(w)=="process"?u=function(L){w.nextTick(n(L))}:O&&O.now?u=function(L){O.now(n(L))}:T&&!y?(y=(c=new T).port2,c.port1.onmessage=s,u=d(y.postMessage,y,1)):!m.addEventListener||typeof postMessage!="function"||m.importScripts||v(o)||g.protocol==="file:"?u=C in f("script")?function(L){p.appendChild(f("script"))[C]=function(){p.removeChild(this),I(L)}}:function(L){setTimeout(n(L),0)}:(u=o,m.addEventListener("message",s,!1))),a.exports={set:_,clear:b}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(t,a,l){var n=t("../internals/classof-raw");a.exports=function(s){if(typeof s!="number"&&n(s)!="Number")throw TypeError("Incorrect invocation");return+s}},{"../internals/classof-raw":28}],134:[function(t,a,l){var n=t("../internals/to-integer"),s=Math.max,o=Math.min;a.exports=function(u,m){return u=n(u),u<0?s(u+m,0):o(u,m)}},{"../internals/to-integer":137}],135:[function(t,a,l){var n=t("../internals/to-integer"),s=t("../internals/to-length");a.exports=function(u){if(u===void 0)return 0;var u=n(u),m=s(u);if(u!==m)throw RangeError("Wrong length or index");return m}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(t,a,l){var n=t("../internals/indexed-object"),s=t("../internals/require-object-coercible");a.exports=function(o){return n(s(o))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(t,a,l){var n=Math.ceil,s=Math.floor;a.exports=function(o){return isNaN(o=+o)?0:(0<o?s:n)(o)}},{}],138:[function(t,a,l){var n=t("../internals/to-integer"),s=Math.min;a.exports=function(o){return 0<o?s(n(o),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(t,a,l){var n=t("../internals/require-object-coercible");a.exports=function(s){return Object(n(s))}},{"../internals/require-object-coercible":115}],140:[function(t,a,l){var n=t("../internals/to-positive-integer");a.exports=function(s,o){if(s=n(s),s%o)throw RangeError("Wrong offset");return s}},{"../internals/to-positive-integer":141}],141:[function(t,a,l){var n=t("../internals/to-integer");a.exports=function(s){if(s=n(s),s<0)throw RangeError("The argument can't be less than 0");return s}},{"../internals/to-integer":137}],142:[function(t,a,l){var n=t("../internals/is-object");a.exports=function(s,o){if(!n(s))return s;var u,m;if(o&&typeof(u=s.toString)=="function"&&!n(m=u.call(s))||typeof(u=s.valueOf)=="function"&&!n(m=u.call(s))||!o&&typeof(u=s.toString)=="function"&&!n(m=u.call(s)))return m;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],143:[function(t,a,l){var n={};n[t("../internals/well-known-symbol")("toStringTag")]="z",a.exports=String(n)==="[object z]"},{"../internals/well-known-symbol":150}],144:[function(t,a,l){"use strict";function n(xe,ke){for(var Te=0,Ae=ke.length,Pe=new(se(xe))(Ae);Te<Ae;)Pe[Te]=ke[Te++];return Pe}function s(xe,ke){j(xe,ke,{get:function(){return ge(this)[ke]}})}function o(xe){return xe instanceof Q||(xe=I(xe))=="ArrayBuffer"||xe=="SharedArrayBuffer"}function u(xe,ke){return pe(xe)&&typeof ke!="symbol"&&ke in xe&&String(+ke)==String(ke)}function m(xe,ke){return u(xe,ke=E(ke,!0))?b(2,xe[ke]):G(xe,ke)}function v(xe,ke,Te){return!(u(xe,ke=E(ke,!0))&&L(Te)&&C(Te,"value"))||C(Te,"get")||C(Te,"set")||Te.configurable||C(Te,"writable")&&!Te.writable||C(Te,"enumerable")&&!Te.enumerable?j(xe,ke,Te):(xe[ke]=Te.value,xe)}var c=t("../internals/export"),d=t("../internals/global"),p=t("../internals/descriptors"),f=t("../internals/typed-array-constructors-require-wrappers"),y=t("../internals/array-buffer-view-core"),g=t("../internals/array-buffer"),_=t("../internals/an-instance"),b=t("../internals/create-property-descriptor"),w=t("../internals/create-non-enumerable-property"),T=t("../internals/to-length"),O=t("../internals/to-index"),A=t("../internals/to-offset"),E=t("../internals/to-primitive"),C=t("../internals/has"),I=t("../internals/classof"),L=t("../internals/is-object"),R=t("../internals/object-create"),D=t("../internals/object-set-prototype-of"),H=t("../internals/object-get-own-property-names").f,z=t("../internals/typed-array-from"),B=t("../internals/array-iteration").forEach,J=t("../internals/set-species"),ee=t("../internals/object-define-property"),Z=t("../internals/object-get-own-property-descriptor"),q=t("../internals/internal-state"),re=t("../internals/inherit-if-required"),ge=q.get,V=q.set,j=ee.f,G=Z.f,K=Math.round,ae=d.RangeError,Q=g.ArrayBuffer,oe=g.DataView,W=y.NATIVE_ARRAY_BUFFER_VIEWS,Y=y.TYPED_ARRAY_TAG,ne=y.TypedArray,ue=y.TypedArrayPrototype,se=y.aTypedArrayConstructor,pe=y.isTypedArray,ve="BYTES_PER_ELEMENT",fe="Wrong length";p?(W||(Z.f=m,ee.f=v,s(ue,"buffer"),s(ue,"byteOffset"),s(ue,"byteLength"),s(ue,"length")),c({target:"Object",stat:!0,forced:!W},{getOwnPropertyDescriptor:m,defineProperty:v}),a.exports=function(Ee,ke,Te){function Ae(Oe,ce){j(Oe,ce,{get:function(){var de=this,le=ce;return(de=ge(de)).view[Ke](le*Pe+de.byteOffset,!0)},set:function(de){var le=this,ye=ce;le=ge(le),Te&&(de=(de=K(de))<0?0:255<de?255:255&de),le.view[Ze](ye*Pe+le.byteOffset,de,!0)},enumerable:!0})}var Pe=Ee.match(/\d+$/)[0]/8,it=Ee+(Te?"Clamped":"")+"Array",Ke="get"+Ee,Ze="set"+Ee,tt=d[it],We=tt,Ee=We&&We.prototype,Ue={};W?f&&(We=ke(function(Oe,ce,de,le){return _(Oe,We,it),re(L(ce)?o(ce)?le!==void 0?new tt(ce,A(de,Pe),le):de!==void 0?new tt(ce,A(de,Pe)):new tt(ce):pe(ce)?n(We,ce):z.call(We,ce):new tt(O(ce)),Oe,We)}),D&&D(We,ne),B(H(tt),function(Oe){Oe in We||w(We,Oe,tt[Oe])}),We.prototype=Ee):(We=ke(function(Oe,ce,de,le){_(Oe,We,it);var ye,je,Le=0,Be=0;if(L(ce)){if(!o(ce))return pe(ce)?n(We,ce):z.call(We,ce);var Ye=ce,Be=A(de,Pe),de=ce.byteLength;if(le===void 0){if(de%Pe||(ye=de-Be)<0)throw ae(fe)}else if(de<(ye=T(le)*Pe)+Be)throw ae(fe);je=ye/Pe}else je=O(ce),Ye=new Q(ye=je*Pe);for(V(Oe,{buffer:Ye,byteOffset:Be,byteLength:ye,length:je,view:new oe(Ye)});Le<je;)Ae(Oe,Le++)}),D&&D(We,ne),Ee=We.prototype=R(ue)),Ee.constructor!==We&&w(Ee,"constructor",We),Y&&w(Ee,Y,it),Ue[it]=We,c({global:!0,forced:We!=tt,sham:!W},Ue),ve in We||w(We,ve,Pe),ve in Ee||w(Ee,ve,Pe),J(it)}):a.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(u,a,l){var n=u("../internals/global"),s=u("../internals/fails"),o=u("../internals/check-correctness-of-iteration"),u=u("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,m=n.ArrayBuffer,v=n.Int8Array;a.exports=!u||!s(function(){v(1)})||!s(function(){new v(-1)})||!o(function(c){new v,new v(null),new v(1.5),new v(c)},!0)||s(function(){return new v(new m(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(t,a,l){var n=t("../internals/to-object"),s=t("../internals/to-length"),o=t("../internals/get-iterator-method"),u=t("../internals/is-array-iterator-method"),m=t("../internals/function-bind-context"),v=t("../internals/array-buffer-view-core").aTypedArrayConstructor;a.exports=function(c){var d,p,f,y,g,_,b=n(c),w=arguments.length,T=1<w?arguments[1]:void 0,O=T!==void 0,A=o(b);if(A!=null&&!u(A))for(_=(g=A.call(b)).next,b=[];!(y=_.call(g)).done;)b.push(y.value);for(O&&2<w&&(T=m(T,arguments[2],2)),p=s(b.length),f=new(v(this))(p),d=0;d<p;d++)f[d]=O?T(b[d],d):b[d];return f}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(t,a,l){var n=0,s=Math.random();a.exports=function(o){return"Symbol("+String(o===void 0?"":o)+")_"+(++n+s).toString(36)}},{}],148:[function(t,a,l){t=t("../internals/native-symbol"),a.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":84}],149:[function(t,a,l){t=t("../internals/well-known-symbol"),l.f=t},{"../internals/well-known-symbol":150}],150:[function(v,a,l){var n=v("../internals/global"),s=v("../internals/shared"),o=v("../internals/has"),u=v("../internals/uid"),m=v("../internals/native-symbol"),v=v("../internals/use-symbol-as-uid"),c=s("wks"),d=n.Symbol,p=v?d:d&&d.withoutSetter||u;a.exports=function(f){return o(c,f)||(m&&o(d,f)?c[f]=d[f]:c[f]=p("Symbol."+f)),c[f]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(t,a,l){a.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},{}],152:[function(o,a,l){"use strict";var n=o("../internals/export"),s=o("../internals/global"),m=o("../internals/array-buffer"),o=o("../internals/set-species"),u="ArrayBuffer",m=m[u];n({global:!0,forced:s[u]!==m},{ArrayBuffer:m}),o(u)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(b,a,l){"use strict";var n=b("../internals/export"),s=b("../internals/fails"),o=b("../internals/is-array"),u=b("../internals/is-object"),m=b("../internals/to-object"),v=b("../internals/to-length"),c=b("../internals/create-property"),d=b("../internals/array-species-create"),p=b("../internals/array-method-has-species-support"),_=b("../internals/well-known-symbol"),b=b("../internals/engine-v8-version"),f=_("isConcatSpreadable"),y=9007199254740991,g="Maximum allowed index exceeded",_=51<=b||!s(function(){var w=[];return w[f]=!1,w.concat()[0]!==w}),b=p("concat");n({target:"Array",proto:!0,forced:!_||!b},{concat:function(w){for(var T,O,A,E,C,I=m(this),L=d(I,0),R=0,D=-1,H=arguments.length;D<H;D++)if(C=void 0,!u(E=A=D===-1?I:arguments[D])||((C=E[f])!==void 0?!C:!o(E))){if(y<=R)throw TypeError(g);c(L,R++,A)}else{if(O=v(A.length),y<R+O)throw TypeError(g);for(T=0;T<O;T++,R++)T in A&&c(L,R,A[T])}return L.length=R,L}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(o,a,l){var n=o("../internals/export"),s=o("../internals/array-copy-within"),o=o("../internals/add-to-unscopables");n({target:"Array",proto:!0},{copyWithin:s}),o("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(u,a,l){"use strict";var n=u("../internals/export"),s=u("../internals/array-iteration").every,o=u("../internals/array-method-is-strict"),u=u("../internals/array-method-uses-to-length"),o=o("every"),u=u("every");n({target:"Array",proto:!0,forced:!o||!u},{every:function(m){return s(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(o,a,l){var n=o("../internals/export"),s=o("../internals/array-fill"),o=o("../internals/add-to-unscopables");n({target:"Array",proto:!0},{fill:s}),o("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(u,a,l){"use strict";var n=u("../internals/export"),s=u("../internals/array-iteration").filter,o=u("../internals/array-method-has-species-support"),u=u("../internals/array-method-uses-to-length"),o=o("filter"),u=u("filter");n({target:"Array",proto:!0,forced:!o||!u},{filter:function(m){return s(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(v,a,l){"use strict";var n=v("../internals/export"),s=v("../internals/array-iteration").findIndex,o=v("../internals/add-to-unscopables"),v=v("../internals/array-method-uses-to-length"),u="findIndex",m=!0,v=v(u);u in[]&&Array(1)[u](function(){m=!1}),n({target:"Array",proto:!0,forced:m||!v},{findIndex:function(c){return s(this,c,1<arguments.length?arguments[1]:void 0)}}),o(u)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(t,a,l){"use strict";var n=t("../internals/export"),s=t("../internals/flatten-into-array"),o=t("../internals/to-object"),u=t("../internals/to-length"),m=t("../internals/a-function"),v=t("../internals/array-species-create");n({target:"Array",proto:!0},{flatMap:function(c){var d,p=o(this),f=u(p.length);return m(c),(d=v(p,0)).length=s(d,p,p,f,0,1,c,1<arguments.length?arguments[1]:void 0),d}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(t,a,l){"use strict";var n=t("../internals/export"),s=t("../internals/flatten-into-array"),o=t("../internals/to-object"),u=t("../internals/to-length"),m=t("../internals/to-integer"),v=t("../internals/array-species-create");n({target:"Array",proto:!0},{flat:function(){var c=arguments.length?arguments[0]:void 0,d=o(this),p=u(d.length),f=v(d,0);return f.length=s(f,d,d,p,0,c===void 0?1:m(c)),f}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(s,a,l){"use strict";var n=s("../internals/export"),s=s("../internals/array-for-each");n({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(t,a,l){var n=t("../internals/export"),s=t("../internals/array-from");n({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(o){Array.from(o)})},{from:s})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(t,a,l){"use strict";var n=t("../internals/export"),s=t("../internals/array-includes").includes,o=t("../internals/add-to-unscopables");n({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(u){return s(this,u,1<arguments.length?arguments[1]:void 0)}}),o("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(v,a,l){"use strict";var n=v("../internals/export"),s=v("../internals/array-includes").indexOf,m=v("../internals/array-method-is-strict"),v=v("../internals/array-method-uses-to-length"),o=[].indexOf,u=!!o&&1/[1].indexOf(1,-0)<0,m=m("indexOf"),v=v("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:u||!m||!v},{indexOf:function(c){return u?o.apply(this,arguments)||0:s(this,c,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(m,a,l){"use strict";var n=m("../internals/to-indexed-object"),s=m("../internals/add-to-unscopables"),o=m("../internals/iterators"),u=m("../internals/internal-state"),m=m("../internals/define-iterator"),v="Array Iterator",c=u.set,d=u.getterFor(v);a.exports=m(Array,"Array",function(p,f){c(this,{type:v,target:n(p),index:0,kind:f})},function(){var p=d(this),f=p.target,y=p.kind,g=p.index++;return!f||g>=f.length?{value:p.target=void 0,done:!0}:y=="keys"?{value:g,done:!1}:y=="values"?{value:f[g],done:!1}:{value:[g,f[g]],done:!1}},"values"),o.Arguments=o.Array,s("keys"),s("values"),s("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(m,a,l){"use strict";var n=m("../internals/export"),u=m("../internals/indexed-object"),s=m("../internals/to-indexed-object"),m=m("../internals/array-method-is-strict"),o=[].join,u=u!=Object,m=m("join",",");n({target:"Array",proto:!0,forced:u||!m},{join:function(v){return o.call(s(this),v===void 0?",":v)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(s,a,l){var n=s("../internals/export"),s=s("../internals/array-last-index-of");n({target:"Array",proto:!0,forced:s!==[].lastIndexOf},{lastIndexOf:s})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(u,a,l){"use strict";var n=u("../internals/export"),s=u("../internals/array-iteration").map,o=u("../internals/array-method-has-species-support"),u=u("../internals/array-method-uses-to-length"),o=o("map"),u=u("map");n({target:"Array",proto:!0,forced:!o||!u},{map:function(m){return s(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(f,a,l){"use strict";var n=f("../internals/export"),s=f("../internals/is-object"),o=f("../internals/is-array"),u=f("../internals/to-absolute-index"),m=f("../internals/to-length"),v=f("../internals/to-indexed-object"),c=f("../internals/create-property"),d=f("../internals/well-known-symbol"),p=f("../internals/array-method-has-species-support"),f=f("../internals/array-method-uses-to-length"),p=p("slice"),f=f("slice",{ACCESSORS:!0,0:0,1:2}),y=d("species"),g=[].slice,_=Math.max;n({target:"Array",proto:!0,forced:!p||!f},{slice:function(b,w){var T,O,A,E=v(this),C=m(E.length),I=u(b,C),L=u(w===void 0?C:w,C);if(o(E)&&((T=typeof(T=E.constructor)=="function"&&(T===Array||o(T.prototype))||s(T)&&(T=T[y])===null?void 0:T)===Array||T===void 0))return g.call(E,I,L);for(O=new(T===void 0?Array:T)(_(L-I,0)),A=0;I<L;I++,A++)I in E&&c(O,A,E[I]);return O.length=A,O}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(u,a,l){"use strict";var n=u("../internals/export"),s=u("../internals/array-iteration").some,o=u("../internals/array-method-is-strict"),u=u("../internals/array-method-uses-to-length"),o=o("some"),u=u("some");n({target:"Array",proto:!0,forced:!o||!u},{some:function(m){return s(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(p,a,l){"use strict";var n=p("../internals/export"),s=p("../internals/to-absolute-index"),o=p("../internals/to-integer"),u=p("../internals/to-length"),m=p("../internals/to-object"),v=p("../internals/array-species-create"),c=p("../internals/create-property"),d=p("../internals/array-method-has-species-support"),p=p("../internals/array-method-uses-to-length"),d=d("splice"),p=p("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,y=Math.min;n({target:"Array",proto:!0,forced:!d||!p},{splice:function(R,_){var b,w,T,O,A,E,C=m(this),I=u(C.length),L=s(R,I),R=arguments.length;if(R===0?b=w=0:w=R===1?(b=0,I-L):(b=R-2,y(f(o(_),0),I-L)),9007199254740991<I+b-w)throw TypeError("Maximum allowed length exceeded");for(T=v(C,w),O=0;O<w;O++)(A=L+O)in C&&c(T,O,C[A]);if(b<(T.length=w)){for(O=L;O<I-w;O++)E=O+b,(A=O+w)in C?C[E]=C[A]:delete C[E];for(O=I;I-w+b<O;O--)delete C[O-1]}else if(w<b)for(O=I-w;L<O;O--)E=O+b-1,(A=O+w-1)in C?C[E]=C[A]:delete C[E];for(O=0;O<b;O++)C[O+L]=arguments[O+2];return C.length=I-w+b,T}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(t,a,l){t("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],173:[function(t,a,l){t("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(s,a,l){var n=s("../internals/descriptors"),s=s("../internals/object-define-property").f,o=Function.prototype,u=o.toString,m=/^\s*function ([^ (]*)/;!n||"name"in o||s(o,"name",{configurable:!0,get:function(){try{return u.call(this).match(m)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(s,a,l){"use strict";var n=s("../internals/collection"),s=s("../internals/collection-strong");a.exports=n("Map",function(o){return function(){return o(this,arguments.length?arguments[0]:void 0)}},s)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(n,a,l){var n=n("../internals/export"),s=Math.hypot,o=Math.abs,u=Math.sqrt;n({target:"Math",stat:!0,forced:!!s&&s(1/0,NaN)!==1/0},{hypot:function(m,v){for(var c,d,p=0,f=0,y=arguments.length,g=0;f<y;)g<(c=o(arguments[f++]))?(p=p*(d=g/c)*d+1,g=c):p+=0<c?(d=c/g)*d:c;return g===1/0?1/0:g*u(p)}})},{"../internals/export":50}],177:[function(n,a,l){var n=n("../internals/export"),s=Math.log,o=Math.LN2;n({target:"Math",stat:!0},{log2:function(u){return s(u)/o}})},{"../internals/export":50}],178:[function(t,a,l){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(t,a,l){"use strict";function n(D){var H,z,B,J,ee,Z,q,re=p(D,!1);if(typeof re=="string"&&2<re.length){if((D=(re=w(re)).charCodeAt(0))===43||D===45){if((H=re.charCodeAt(2))===88||H===120)return NaN}else if(D===48){switch(re.charCodeAt(1)){case 66:case 98:z=2,B=49;break;case 79:case 111:z=8,B=55;break;default:return+re}for(ee=(J=re.slice(2)).length,Z=0;Z<ee;Z++)if((q=J.charCodeAt(Z))<48||B<q)return NaN;return parseInt(J,z)}}return+re}var s=t("../internals/descriptors"),o=t("../internals/global"),u=t("../internals/is-forced"),m=t("../internals/redefine"),v=t("../internals/has"),c=t("../internals/classof-raw"),d=t("../internals/inherit-if-required"),p=t("../internals/to-primitive"),f=t("../internals/fails"),y=t("../internals/object-create"),g=t("../internals/object-get-own-property-names").f,_=t("../internals/object-get-own-property-descriptor").f,b=t("../internals/object-define-property").f,w=t("../internals/string-trim").trim,T="Number",O=o[T],A=O.prototype,E=c(y(A))==T;if(u(T,!O(" 0o1")||!O("0b1")||O("+0x1"))){for(var C,I=function(H){var H=arguments.length<1?0:H,z=this;return z instanceof I&&(E?f(function(){A.valueOf.call(z)}):c(z)!=T)?d(new O(n(H)),z,I):n(H)},L=s?g(O):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),R=0;L.length>R;R++)v(O,C=L[R])&&!v(I,C)&&b(I,C,_(O,C));(I.prototype=A).constructor=I,m(o,T,I)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(t,a,l){t("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(t,a,l){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(v,a,l){"use strict";function n(p,f,y){return f===0?y:f%2==1?n(p,f-1,y*p):n(p*p,f/2,y)}var s=v("../internals/export"),o=v("../internals/to-integer"),u=v("../internals/this-number-value"),m=v("../internals/string-repeat"),v=v("../internals/fails"),c=1 .toFixed,d=Math.floor;s({target:"Number",proto:!0,forced:c&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!v(function(){c.call({})})},{toFixed:function(T){function f(C,I){for(var L=-1,R=I;++L<6;)R+=C*O[L],O[L]=R%1e7,R=d(R/1e7)}function y(C){for(var I=6,L=0;0<=--I;)L+=O[I],O[I]=d(L/C),L=L%C*1e7}function g(){for(var C,I=6,L="";0<=--I;)L===""&&I!==0&&O[I]===0||(C=String(O[I]),L=L===""?C:L+m.call("0",7-C.length)+C);return L}var _,b,w=u(this),T=o(T),O=[0,0,0,0,0,0],A="",E="0";if(T<0||20<T)throw RangeError("Incorrect fraction digits");if(w!=w)return"NaN";if(w<=-1e21||1e21<=w)return String(w);if(w<0&&(A="-",w=-w),1e-21<w)if(w=(_=function(C){for(var I=0,L=C;4096<=L;)I+=12,L/=4096;for(;2<=L;)I+=1,L/=2;return I}(w*n(2,69,1))-69)<0?w*n(2,-_,1):w/n(2,_,1),w*=4503599627370496,0<(_=52-_)){for(f(0,w),b=T;7<=b;)f(1e7,0),b-=7;for(f(n(10,b,1),0),b=_-1;23<=b;)y(1<<23),b-=23;y(1<<b),f(1,1),y(2),E=g()}else f(0,w),f(1<<-_,0),E=g()+m.call("0",T);return E=0<T?A+((w=E.length)<=T?"0."+m.call("0",T-w)+E:E.slice(0,w-T)+"."+E.slice(w-T)):A+E}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(s,a,l){var n=s("../internals/export"),s=s("../internals/object-assign");n({target:"Object",stat:!0,forced:Object.assign!==s},{assign:s})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(t,a,l){var n=t("../internals/export"),s=t("../internals/object-to-array").entries;n({target:"Object",stat:!0},{entries:function(o){return s(o)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(t,a,l){var n=t("../internals/export"),s=t("../internals/iterate"),o=t("../internals/create-property");n({target:"Object",stat:!0},{fromEntries:function(u){var m={};return s(u,function(v,c){o(m,v,c)},void 0,!0),m}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(u,a,l){var n=u("../internals/export"),m=u("../internals/fails"),s=u("../internals/to-indexed-object"),o=u("../internals/object-get-own-property-descriptor").f,u=u("../internals/descriptors"),m=m(function(){o(1)});n({target:"Object",stat:!0,forced:!u||m,sham:!u},{getOwnPropertyDescriptor:function(v,c){return o(s(v),c)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(o,a,l){var n=o("../internals/export"),s=o("../internals/fails"),o=o("../internals/object-get-own-property-names-external").f;n({target:"Object",stat:!0,forced:s(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:o})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(m,a,l){var n=m("../internals/export"),s=m("../internals/fails"),o=m("../internals/to-object"),u=m("../internals/object-get-prototype-of"),m=m("../internals/correct-prototype-getter");n({target:"Object",stat:!0,forced:s(function(){u(1)}),sham:!m},{getPrototypeOf:function(v){return u(o(v))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(t,a,l){var n=t("../internals/export"),s=t("../internals/to-object"),o=t("../internals/object-keys");n({target:"Object",stat:!0,forced:t("../internals/fails")(function(){o(1)})},{keys:function(u){return o(s(u))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(o,a,l){var n=o("../internals/to-string-tag-support"),s=o("../internals/redefine"),o=o("../internals/object-to-string");n||s(Object.prototype,"toString",o,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(Te,a,l){"use strict";var n,s,o,u,m=Te("../internals/export"),v=Te("../internals/is-pure"),c=Te("../internals/global"),d=Te("../internals/get-built-in"),p=Te("../internals/native-promise-constructor"),f=Te("../internals/redefine"),y=Te("../internals/redefine-all"),g=Te("../internals/set-to-string-tag"),_=Te("../internals/set-species"),b=Te("../internals/is-object"),w=Te("../internals/a-function"),T=Te("../internals/an-instance"),O=Te("../internals/classof-raw"),A=Te("../internals/inspect-source"),E=Te("../internals/iterate"),C=Te("../internals/check-correctness-of-iteration"),I=Te("../internals/species-constructor"),L=Te("../internals/task").set,R=Te("../internals/microtask"),D=Te("../internals/promise-resolve"),H=Te("../internals/host-report-errors"),z=Te("../internals/new-promise-capability"),B=Te("../internals/perform"),J=Te("../internals/internal-state"),ee=Te("../internals/is-forced"),Ae=Te("../internals/well-known-symbol"),Z=Te("../internals/engine-v8-version"),q=Ae("species"),re="Promise",ge=J.get,V=J.set,j=J.getterFor(re),G=p,K=c.TypeError,ae=c.document,Q=c.process,oe=d("fetch"),W=z.f,Y=W,ne=O(Q)=="process",ue=!!(ae&&ae.createEvent&&c.dispatchEvent),se="unhandledrejection",pe="rejectionhandled",ve=1,fe=2,xe=1,ke=2,Te=ee(re,function(){var Ue,Oe;return A(G)===String(G)&&(Z===66||!ne&&typeof PromiseRejectionEvent!="function")?!0:!(!v||G.prototype.finally)||!(51<=Z&&/native code/.test(G))&&(Oe=function(ce){ce(function(){},function(){})},((Ue=G.resolve(1)).constructor={})[q]=Oe,!(Ue.then(function(){})instanceof Oe))}),Ae=Te||!C(function(Ue){G.all(Ue).catch(function(){})}),Pe=function(Ue){var Oe;return!(!b(Ue)||typeof(Oe=Ue.then)!="function")&&Oe},it=function(Ue,Oe,ce){var de;Oe.notified||(Oe.notified=!0,de=Oe.reactions,R(function(){for(var le,ye,je=Oe.value,Le=Oe.state==ve,Be=0;de.length>Be;){var Ye,Ge,Je,rt=de[Be++],_t=Le?rt.ok:rt.fail,ht=rt.resolve,lt=rt.reject,St=rt.domain;try{_t?(Le||(Oe.rejection===ke&&function(pt,sr){L.call(c,function(){ne?Q.emit("rejectionHandled",pt):Ke(pe,pt,sr.value)})}(Ue,Oe),Oe.rejection=xe),_t===!0?Ye=je:(St&&St.enter(),Ye=_t(je),St&&(St.exit(),Je=!0)),Ye===rt.promise?lt(K("Promise-chain cycle")):(Ge=Pe(Ye))?Ge.call(Ye,ht,lt):ht(Ye)):lt(je)}catch(pt){St&&!Je&&St.exit(),lt(pt)}}Oe.reactions=[],Oe.notified=!1,ce&&!Oe.rejection&&(le=Ue,ye=Oe,L.call(c,function(){var pt=ye.value,sr=Ze(ye);if(sr&&(sr=B(function(){ne?Q.emit("unhandledRejection",pt,le):Ke(se,le,pt)}),ye.rejection=ne||Ze(ye)?ke:xe,sr.error))throw sr.value}))}))},Ke=function(Ue,Oe,ce){var de;ue?((de=ae.createEvent("Event")).promise=Oe,de.reason=ce,de.initEvent(Ue,!1,!0),c.dispatchEvent(de)):de={promise:Oe,reason:ce},(Oe=c["on"+Ue])?Oe(de):Ue===se&&H("Unhandled promise rejection",ce)},Ze=function(Ue){return Ue.rejection!==xe&&!Ue.parent},tt=function(Ue,Oe,ce,de){return function(le){Ue(Oe,ce,le,de)}},We=function(Ue,Oe,ce,de){Oe.done||(Oe.done=!0,(Oe=de||Oe).value=ce,Oe.state=fe,it(Ue,Oe,!0))},Ee=function(Ue,Oe,ce,de){if(!Oe.done){Oe.done=!0,de&&(Oe=de);try{if(Ue===ce)throw K("Promise can't be resolved itself");var le=Pe(ce);le?R(function(){var ye={done:!1};try{le.call(ce,tt(Ee,Ue,ye,Oe),tt(We,Ue,ye,Oe))}catch(je){We(Ue,ye,je,Oe)}}):(Oe.value=ce,Oe.state=ve,it(Ue,Oe,!1))}catch(ye){We(Ue,{done:!1},ye,Oe)}}};Te&&(G=function(Ue){T(this,G,re),w(Ue),n.call(this);var Oe=ge(this);try{Ue(tt(Ee,this,Oe),tt(We,this,Oe))}catch(ce){We(this,Oe,ce)}},(n=function(Ue){V(this,{type:re,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=y(G.prototype,{then:function(Ue,Oe){var ce=j(this),de=W(I(this,G));return de.ok=typeof Ue!="function"||Ue,de.fail=typeof Oe=="function"&&Oe,de.domain=ne?Q.domain:void 0,ce.parent=!0,ce.reactions.push(de),ce.state!=0&&it(this,ce,!1),de.promise},catch:function(Ue){return this.then(void 0,Ue)}}),s=function(){var Ue=new n,Oe=ge(Ue);this.promise=Ue,this.resolve=tt(Ee,Ue,Oe),this.reject=tt(We,Ue,Oe)},z.f=W=function(Ue){return Ue===G||Ue===o?new s:Y(Ue)},v||typeof p!="function"||(u=p.prototype.then,f(p.prototype,"then",function(Ue,Oe){var ce=this;return new G(function(de,le){u.call(ce,de,le)}).then(Ue,Oe)},{unsafe:!0}),typeof oe=="function"&&m({global:!0,enumerable:!0,forced:!0},{fetch:function(Ue){return D(G,oe.apply(c,arguments))}}))),m({global:!0,wrap:!0,forced:Te},{Promise:G}),g(G,re,!1,!0),_(re),o=d(re),m({target:re,stat:!0,forced:Te},{reject:function(Ue){var Oe=W(this);return Oe.reject.call(void 0,Ue),Oe.promise}}),m({target:re,stat:!0,forced:v||Te},{resolve:function(Ue){return D(v&&this===o?G:this,Ue)}}),m({target:re,stat:!0,forced:Ae},{all:function(Ue){var Oe=this,ce=W(Oe),de=ce.resolve,le=ce.reject,ye=B(function(){var je=w(Oe.resolve),Le=[],Be=0,Ye=1;E(Ue,function(Ge){var Je=Be++,rt=!1;Le.push(void 0),Ye++,je.call(Oe,Ge).then(function(_t){rt||(rt=!0,Le[Je]=_t,--Ye||de(Le))},le)}),--Ye||de(Le)});return ye.error&&le(ye.value),ce.promise},race:function(Ue){var Oe=this,ce=W(Oe),de=ce.reject,le=B(function(){var ye=w(Oe.resolve);E(Ue,function(je){ye.call(Oe,je).then(ce.resolve,de)})});return le.error&&de(le.value),ce.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(c,a,l){var n=c("../internals/export"),y=c("../internals/get-built-in"),s=c("../internals/a-function"),o=c("../internals/an-object"),u=c("../internals/is-object"),m=c("../internals/object-create"),v=c("../internals/function-bind"),c=c("../internals/fails"),d=y("Reflect","construct"),p=c(function(){function g(){}return!(d(function(){},[],g)instanceof g)}),f=!c(function(){d(function(){})}),y=p||f;n({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(g,_){s(g),o(_);var b=arguments.length<3?g:s(arguments[2]);if(f&&!p)return d(g,_,b);if(g==b){switch(_.length){case 0:return new g;case 1:return new g(_[0]);case 2:return new g(_[0],_[1]);case 3:return new g(_[0],_[1],_[2]);case 4:return new g(_[0],_[1],_[2],_[3])}var w=[null];return w.push.apply(w,_),new(v.apply(g,w))}return w=b.prototype,b=m(u(w)?w:Object.prototype),w=Function.apply.call(g,b,_),u(w)?w:b}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(t,a,l){var n=t("../internals/export"),s=t("../internals/is-object"),o=t("../internals/an-object"),u=t("../internals/has"),m=t("../internals/object-get-own-property-descriptor"),v=t("../internals/object-get-prototype-of");n({target:"Reflect",stat:!0},{get:function c(d,p){var f,y=arguments.length<3?d:arguments[2];return o(d)===y?d[p]:(f=m.f(d,p))?u(f,"value")?f.value:f.get===void 0?void 0:f.get.call(y):s(f=v(d))?c(f,p,y):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(t,a,l){var n=t("../internals/descriptors"),s=t("../internals/global"),o=t("../internals/is-forced"),u=t("../internals/inherit-if-required"),m=t("../internals/object-define-property").f,v=t("../internals/object-get-own-property-names").f,c=t("../internals/is-regexp"),d=t("../internals/regexp-flags"),p=t("../internals/regexp-sticky-helpers"),f=t("../internals/redefine"),y=t("../internals/fails"),g=t("../internals/internal-state").set,_=t("../internals/set-species"),b=t("../internals/well-known-symbol")("match"),w=s.RegExp,T=w.prototype,O=/a/g,A=/a/g,E=new w(O)!==O,C=p.UNSUPPORTED_Y;if(n&&o("RegExp",!E||C||y(function(){return A[b]=!1,w(O)!=O||w(A)==A||w(O,"i")!="/a/i"}))){for(var I=function(D,H){var z,B=this instanceof I,J=c(D),ee=H===void 0;return!B&&J&&D.constructor===I&&ee?D:(E?J&&!ee&&(D=D.source):D instanceof I&&(ee&&(H=d.call(D)),D=D.source),C&&(z=!!H&&-1<H.indexOf("y"))&&(H=H.replace(/y/g,"")),J=u(E?new w(D,H):w(D,H),B?this:T,I),C&&z&&g(J,{sticky:z}),J)},L=v(w),R=0;L.length>R;)(function(D){D in I||m(I,D,{configurable:!0,get:function(){return w[D]},set:function(H){w[D]=H}})})(L[R++]);(T.constructor=I).prototype=T,f(s,"RegExp",I)}_("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(s,a,l){"use strict";var n=s("../internals/export"),s=s("../internals/regexp-exec");n({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(u,a,l){"use strict";var n=u("../internals/redefine"),s=u("../internals/an-object"),c=u("../internals/fails"),o=u("../internals/regexp-flags"),u="toString",m=RegExp.prototype,v=m[u],c=c(function(){return v.call({source:"a",flags:"b"})!="/a/b"}),d=v.name!=u;(c||d)&&n(RegExp.prototype,u,function(){var p=s(this),f=String(p.source),y=p.flags;return"/"+f+"/"+String(y===void 0&&p instanceof RegExp&&!("flags"in m)?o.call(p):y)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(s,a,l){"use strict";var n=s("../internals/collection"),s=s("../internals/collection-strong");a.exports=n("Set",function(o){return function(){return o(this,arguments.length?arguments[0]:void 0)}},s)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(v,a,l){"use strict";var n=v("../internals/export"),s=v("../internals/object-get-own-property-descriptor").f,o=v("../internals/to-length"),u=v("../internals/not-a-regexp"),m=v("../internals/require-object-coercible"),p=v("../internals/correct-is-regexp-logic"),v=v("../internals/is-pure"),c="".endsWith,d=Math.min,p=p("endsWith");n({target:"String",proto:!0,forced:!!(v||p||!(n=s(String.prototype,"endsWith"))||n.writable)&&!p},{endsWith:function(f){var y=String(m(this)),g=(u(f),1<arguments.length?arguments[1]:void 0),_=o(y.length),g=g===void 0?_:d(o(g),_),_=String(f);return c?c.call(y,_,g):y.slice(g-_.length,g)===_}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(t,a,l){"use strict";var n=t("../internals/export"),s=t("../internals/not-a-regexp"),o=t("../internals/require-object-coercible");n({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(u){return!!~String(o(this)).indexOf(s(u),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(o,a,l){"use strict";var n=o("../internals/string-multibyte").charAt,s=o("../internals/internal-state"),o=o("../internals/define-iterator"),u="String Iterator",m=s.set,v=s.getterFor(u);o(String,"String",function(c){m(this,{type:u,string:String(c),index:0})},function(){var c=v(this),d=c.string,p=c.index;return p>=d.length?{value:void 0,done:!0}:(d=n(d,p),c.index+=d.length,{value:d,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(t,a,l){"use strict";var n=t("../internals/fix-regexp-well-known-symbol-logic"),s=t("../internals/an-object"),o=t("../internals/to-length"),u=t("../internals/require-object-coercible"),m=t("../internals/advance-string-index"),v=t("../internals/regexp-exec-abstract");n("match",1,function(c,d,p){return[function(f){var y=u(this),g=f?.[c];return g!==void 0?g.call(f,y):new RegExp(f)[c](String(y))},function(f){var y=p(d,f,this);if(y.done)return y.value;var g=s(f),_=String(this);if(!g.global)return v(g,_);for(var b=g.unicode,w=[],T=g.lastIndex=0;(O=v(g,_))!==null;){var O=String(O[0]);(w[T]=O)===""&&(g.lastIndex=m(_,o(g.lastIndex),b)),T++}return T===0?null:w}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(t,a,l){"use strict";var n=t("../internals/export"),s=t("../internals/string-pad").start;n({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(o){return s(this,o,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(t,a,l){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(t,a,l){"use strict";var n=t("../internals/fix-regexp-well-known-symbol-logic"),s=t("../internals/an-object"),o=t("../internals/to-object"),u=t("../internals/to-length"),m=t("../internals/to-integer"),v=t("../internals/require-object-coercible"),c=t("../internals/advance-string-index"),d=t("../internals/regexp-exec-abstract"),p=Math.max,f=Math.min,y=Math.floor,g=/\$([$&'`]|\d\d?|<[^>]*>)/g,_=/\$([$&'`]|\d\d?)/g;n("replace",2,function(b,w,T,O){var A=O.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,E=O.REPLACE_KEEPS_$0,C=A?"$":"$0";return[function(I,L){var R=v(this),D=I?.[b];return D!==void 0?D.call(I,R,L):w.call(String(R),I,L)},function(I,L){if(!A&&E||typeof L=="string"&&L.indexOf(C)===-1){var R=T(w,I,this,L);if(R.done)return R.value}for(var D,H=s(I),z=String(this),B=typeof L=="function",J=(B||(L=String(L)),H.global),ee=(J&&(D=H.unicode,H.lastIndex=0),[]);(V=d(H,z))!==null&&(ee.push(V),J);)String(V[0])===""&&(H.lastIndex=c(z,u(H.lastIndex),D));for(var Z,q="",re=0,ge=0;ge<ee.length;ge++){for(var V=ee[ge],j=String(V[0]),G=p(f(m(V.index),z.length),0),K=[],ae=1;ae<V.length;ae++)K.push((Z=V[ae])===void 0?Z:String(Z));var Q=V.groups,oe=B?(oe=[j].concat(K,G,z),Q!==void 0&&oe.push(Q),String(L.apply(void 0,oe))):function(W,Y,ne,ue,se,pe){var ve=ne+W.length,fe=ue.length,xe=_;return se!==void 0&&(se=o(se),xe=g),w.call(pe,xe,function(ke,Te){var Ae;switch(Te.charAt(0)){case"$":return"$";case"&":return W;case"`":return Y.slice(0,ne);case"'":return Y.slice(ve);case"<":Ae=se[Te.slice(1,-1)];break;default:var Pe,it=+Te;if(it==0)return ke;if(fe<it)return(Pe=y(it/10))!==0&&Pe<=fe?ue[Pe-1]===void 0?Te.charAt(1):ue[Pe-1]+Te.charAt(1):ke;Ae=ue[it-1]}return Ae===void 0?"":Ae})}(j,z,G,K,Q,L);re<=G&&(q+=z.slice(re,G)+oe,re=G+j.length)}return q+z.slice(re)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(t,a,l){"use strict";var n=t("../internals/fix-regexp-well-known-symbol-logic"),s=t("../internals/an-object"),o=t("../internals/require-object-coercible"),u=t("../internals/same-value"),m=t("../internals/regexp-exec-abstract");n("search",1,function(v,c,d){return[function(p){var f=o(this),y=p?.[v];return y!==void 0?y.call(p,f):new RegExp(p)[v](String(f))},function(p){var f,y=d(c,p,this);return y.done?y.value:(y=s(p),p=String(this),f=y.lastIndex,u(f,0)||(y.lastIndex=0),p=m(y,p),u(y.lastIndex,f)||(y.lastIndex=f),p===null?-1:p.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(f,a,l){"use strict";var n=f("../internals/fix-regexp-well-known-symbol-logic"),s=f("../internals/is-regexp"),o=f("../internals/an-object"),u=f("../internals/require-object-coercible"),m=f("../internals/species-constructor"),v=f("../internals/advance-string-index"),c=f("../internals/to-length"),d=f("../internals/regexp-exec-abstract"),p=f("../internals/regexp-exec"),f=f("../internals/fails"),y=[].push,g=Math.min,_=4294967295,b=!f(function(){return!RegExp(_,"y")});n("split",2,function(w,T,O){var A="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(E,C){var I=String(u(this)),L=C===void 0?_:C>>>0;if(L==0)return[];if(E===void 0)return[I];if(!s(E))return T.call(I,E,L);for(var R,D,H,z=[],C=(E.ignoreCase?"i":"")+(E.multiline?"m":"")+(E.unicode?"u":"")+(E.sticky?"y":""),B=0,J=new RegExp(E.source,C+"g");(R=p.call(J,I))&&!(B<(D=J.lastIndex)&&(z.push(I.slice(B,R.index)),1<R.length&&R.index<I.length&&y.apply(z,R.slice(1)),H=R[0].length,B=D,z.length>=L));)J.lastIndex===R.index&&J.lastIndex++;return B===I.length?!H&&J.test("")||z.push(""):z.push(I.slice(B)),z.length>L?z.slice(0,L):z}:"0".split(void 0,0).length?function(E,C){return E===void 0&&C===0?[]:T.call(this,E,C)}:T;return[function(E,C){var I=u(this),L=E?.[w];return L!==void 0?L.call(E,I,C):A.call(String(I),E,C)},function(R,C){var I=O(A,R,this,C,A!==T);if(I.done)return I.value;var I=o(R),L=String(this),R=m(I,RegExp),D=I.unicode,H=(I.ignoreCase?"i":"")+(I.multiline?"m":"")+(I.unicode?"u":"")+(b?"y":"g"),z=new R(b?I:"^(?:"+I.source+")",H),B=C===void 0?_:C>>>0;if(B==0)return[];if(L.length===0)return d(z,L)===null?[L]:[];for(var J=0,ee=0,Z=[];ee<L.length;){z.lastIndex=b?ee:0;var q,re=d(z,b?L:L.slice(ee));if(re===null||(q=g(c(z.lastIndex+(b?0:ee)),L.length))===J)ee=v(L,ee,D);else{if(Z.push(L.slice(J,ee)),Z.length===B)return Z;for(var ge=1;ge<=re.length-1;ge++)if(Z.push(re[ge]),Z.length===B)return Z;ee=J=q}}return Z.push(L.slice(J)),Z}]},!b)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(v,a,l){"use strict";var n=v("../internals/export"),s=v("../internals/object-get-own-property-descriptor").f,o=v("../internals/to-length"),u=v("../internals/not-a-regexp"),m=v("../internals/require-object-coercible"),p=v("../internals/correct-is-regexp-logic"),v=v("../internals/is-pure"),c="".startsWith,d=Math.min,p=p("startsWith");n({target:"String",proto:!0,forced:!!(v||p||!(n=s(String.prototype,"startsWith"))||n.writable)&&!p},{startsWith:function(_){var y=String(m(this)),g=(u(_),o(d(1<arguments.length?arguments[1]:void 0,y.length))),_=String(_);return c?c.call(y,_,g):y.slice(g,g+_.length)===_}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(t,a,l){"use strict";var n=t("../internals/export"),s=t("../internals/create-html");n({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return s(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(t,a,l){"use strict";var n=t("../internals/export"),s=t("../internals/string-trim").trim;n({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return s(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(g,a,l){"use strict";var n,s,o,u,m,v=g("../internals/export"),c=g("../internals/descriptors"),d=g("../internals/global"),p=g("../internals/has"),f=g("../internals/is-object"),y=g("../internals/object-define-property").f,g=g("../internals/copy-constructor-properties"),_=d.Symbol;!c||typeof _!="function"||"description"in _.prototype&&_().description===void 0||(n={},g(s=function(){var b=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),w=this instanceof s?new _(b):b===void 0?_():_(b);return b===""&&(n[w]=!0),w},_),(d=s.prototype=_.prototype).constructor=s,o=d.toString,u=String(_("test"))=="Symbol(test)",m=/^Symbol\((.*)\)[^)]+$/,y(d,"description",{configurable:!0,get:function(){var b=f(this)?this.valueOf():this,w=o.call(b);return p(n,b)?"":(b=u?w.slice(7,-1):w.replace(m,"$1"))===""?void 0:b}}),v({global:!0,forced:!0},{Symbol:s}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(t,a,l){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(Y,a,l){"use strict";function n(le,ye){var je=Ae[le]=I(pe[W]);return ne(je,{type:oe,tag:le,description:ye}),p||(je.description=ye),je}function s(le,Le){T(le);var je=A(Le),Le=L(je).concat(de(je));return ae(Le,function(Be){p&&!ce.call(je,Be)||Oe(le,Be,je[Be])}),le}function o(Le,Be){var je,Le=A(Le),Be=E(Be,!0);if(Le!==se||!_(Ae,Be)||_(Pe,Be))return!(je=fe(Le,Be))||!_(Ae,Be)||_(Le,Q)&&Le[Q][Be]||(je.enumerable=!0),je}function u(ye){var ye=ke(A(ye)),je=[];return ae(ye,function(Le){_(Ae,Le)||_(re,Le)||je.push(Le)}),je}var m=Y("../internals/export"),v=Y("../internals/global"),c=Y("../internals/get-built-in"),d=Y("../internals/is-pure"),p=Y("../internals/descriptors"),f=Y("../internals/native-symbol"),y=Y("../internals/use-symbol-as-uid"),g=Y("../internals/fails"),_=Y("../internals/has"),b=Y("../internals/is-array"),w=Y("../internals/is-object"),T=Y("../internals/an-object"),O=Y("../internals/to-object"),A=Y("../internals/to-indexed-object"),E=Y("../internals/to-primitive"),C=Y("../internals/create-property-descriptor"),I=Y("../internals/object-create"),L=Y("../internals/object-keys"),R=Y("../internals/object-get-own-property-names"),D=Y("../internals/object-get-own-property-names-external"),H=Y("../internals/object-get-own-property-symbols"),z=Y("../internals/object-get-own-property-descriptor"),B=Y("../internals/object-define-property"),J=Y("../internals/object-property-is-enumerable"),ee=Y("../internals/create-non-enumerable-property"),Z=Y("../internals/redefine"),q=Y("../internals/shared"),Ze=Y("../internals/shared-key"),re=Y("../internals/hidden-keys"),ge=Y("../internals/uid"),V=Y("../internals/well-known-symbol"),j=Y("../internals/well-known-symbol-wrapped"),G=Y("../internals/define-well-known-symbol"),K=Y("../internals/set-to-string-tag"),tt=Y("../internals/internal-state"),ae=Y("../internals/array-iteration").forEach,Q=Ze("hidden"),oe="Symbol",W="prototype",Y=V("toPrimitive"),ne=tt.set,ue=tt.getterFor(oe),se=Object[W],pe=v.Symbol,ve=c("JSON","stringify"),fe=z.f,xe=B.f,ke=D.f,Te=J.f,Ae=q("symbols"),Pe=q("op-symbols"),it=q("string-to-symbol-registry"),Ke=q("symbol-to-string-registry"),Ze=q("wks"),tt=v.QObject,We=!tt||!tt[W]||!tt[W].findChild,Ee=p&&g(function(){return I(xe({},"a",{get:function(){return xe(this,"a",{value:7}).a}})).a!=7})?function(le,ye,je){var Le=fe(se,ye);Le&&delete se[ye],xe(le,ye,je),Le&&le!==se&&xe(se,ye,Le)}:xe,Ue=y?function(le){return typeof le=="symbol"}:function(le){return Object(le)instanceof pe},Oe=function(le,ye,je){return le===se&&Oe(Pe,ye,je),T(le),ye=E(ye,!0),T(je),(_(Ae,ye)?(je.enumerable?(_(le,Q)&&le[Q][ye]&&(le[Q][ye]=!1),je=I(je,{enumerable:C(0,!1)})):(_(le,Q)||xe(le,Q,C(1,{})),le[Q][ye]=!0),Ee):xe)(le,ye,je)},ce=function(ye){var ye=E(ye,!0),je=Te.call(this,ye);return!(this===se&&_(Ae,ye)&&!_(Pe,ye))&&(!(je||!_(this,ye)||!_(Ae,ye)||_(this,Q)&&this[Q][ye])||je)},de=function(je){var ye=je===se,je=ke(ye?Pe:A(je)),Le=[];return ae(je,function(Be){!_(Ae,Be)||ye&&!_(se,Be)||Le.push(Ae[Be])}),Le};f||(Z((pe=function(){if(this instanceof pe)throw TypeError("Symbol is not a constructor");var le=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,ye=ge(le),je=function(Le){this===se&&je.call(Pe,Le),_(this,Q)&&_(this[Q],ye)&&(this[Q][ye]=!1),Ee(this,ye,C(1,Le))};return p&&We&&Ee(se,ye,{configurable:!0,set:je}),n(ye,le)})[W],"toString",function(){return ue(this).tag}),Z(pe,"withoutSetter",function(le){return n(ge(le),le)}),J.f=ce,B.f=Oe,z.f=o,R.f=D.f=u,H.f=de,j.f=function(le){return n(V(le),le)},p&&(xe(pe[W],"description",{configurable:!0,get:function(){return ue(this).description}}),d||Z(se,"propertyIsEnumerable",ce,{unsafe:!0}))),m({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:pe}),ae(L(Ze),function(le){G(le)}),m({target:oe,stat:!0,forced:!f},{for:function(je){var ye,je=String(je);return _(it,je)?it[je]:(ye=pe(je),it[je]=ye,Ke[ye]=je,ye)},keyFor:function(le){if(!Ue(le))throw TypeError(le+" is not a symbol");if(_(Ke,le))return Ke[le]},useSetter:function(){We=!0},useSimple:function(){We=!1}}),m({target:"Object",stat:!0,forced:!f,sham:!p},{create:function(le,ye){return ye===void 0?I(le):s(I(le),ye)},defineProperty:Oe,defineProperties:s,getOwnPropertyDescriptor:o}),m({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:u,getOwnPropertySymbols:de}),m({target:"Object",stat:!0,forced:g(function(){H.f(1)})},{getOwnPropertySymbols:function(le){return H.f(O(le))}}),ve&&m({target:"JSON",stat:!0,forced:!f||g(function(){var le=pe();return ve([le])!="[null]"||ve({a:le})!="{}"||ve(Object(le))!="{}"})},{stringify:function(le,ye,je){for(var Le,Be=[le],Ye=1;Ye<arguments.length;)Be.push(arguments[Ye++]);if((w(Le=ye)||le!==void 0)&&!Ue(le))return b(ye)||(ye=function(Ge,Je){if(typeof Le=="function"&&(Je=Le.call(this,Ge,Je)),!Ue(Je))return Je}),Be[1]=ye,ve.apply(null,Be)}}),pe[W][Y]||ee(pe[W],Y,pe[W].valueOf),K(pe,oe),re[Q]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(t,a,l){"use strict";var n=t("../internals/array-buffer-view-core"),s=t("../internals/array-copy-within"),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("copyWithin",function(u,m){return s.call(o(this),u,m,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(t,a,l){"use strict";var n=t("../internals/array-buffer-view-core"),s=t("../internals/array-iteration").every,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",function(u){return s(o(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(t,a,l){"use strict";var n=t("../internals/array-buffer-view-core"),s=t("../internals/array-fill"),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("fill",function(u){return s.apply(o(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(t,a,l){"use strict";var n=t("../internals/array-buffer-view-core"),s=t("../internals/array-iteration").filter,o=t("../internals/species-constructor"),u=n.aTypedArray,m=n.aTypedArrayConstructor;(0,n.exportTypedArrayMethod)("filter",function(v){for(var c=s(u(this),v,1<arguments.length?arguments[1]:void 0),v=o(this,this.constructor),d=0,p=c.length,f=new(m(v))(p);d<p;)f[d]=c[d++];return f})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(t,a,l){"use strict";var n=t("../internals/array-buffer-view-core"),s=t("../internals/array-iteration").findIndex,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",function(u){return s(o(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(t,a,l){"use strict";var n=t("../internals/array-buffer-view-core"),s=t("../internals/array-iteration").find,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",function(u){return s(o(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(t,a,l){t("../internals/typed-array-constructor")("Float32",function(n){return function(s,o,u){return n(this,s,o,u)}})},{"../internals/typed-array-constructor":144}],220:[function(t,a,l){t("../internals/typed-array-constructor")("Float64",function(n){return function(s,o,u){return n(this,s,o,u)}})},{"../internals/typed-array-constructor":144}],221:[function(t,a,l){"use strict";var n=t("../internals/array-buffer-view-core"),s=t("../internals/array-iteration").forEach,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",function(u){s(o(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(t,a,l){"use strict";var n=t("../internals/array-buffer-view-core"),s=t("../internals/array-includes").includes,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",function(u){return s(o(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(t,a,l){"use strict";var n=t("../internals/array-buffer-view-core"),s=t("../internals/array-includes").indexOf,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",function(u){return s(o(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(t,a,l){t("../internals/typed-array-constructor")("Int16",function(n){return function(s,o,u){return n(this,s,o,u)}})},{"../internals/typed-array-constructor":144}],225:[function(t,a,l){t("../internals/typed-array-constructor")("Int32",function(n){return function(s,o,u){return n(this,s,o,u)}})},{"../internals/typed-array-constructor":144}],226:[function(s,a,l){"use strict";function n(){return o.call(v(this))}var p=s("../internals/global"),d=s("../internals/array-buffer-view-core"),c=s("../modules/es.array.iterator"),s=s("../internals/well-known-symbol")("iterator"),p=p.Uint8Array,o=c.values,u=c.keys,m=c.entries,v=d.aTypedArray,c=d.exportTypedArrayMethod,d=p&&p.prototype[s],p=!!d&&(d.name=="values"||d.name==null);c("entries",function(){return m.call(v(this))}),c("keys",function(){return u.call(v(this))}),c("values",n,!p),c(s,n,!p)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(s,a,l){"use strict";var s=s("../internals/array-buffer-view-core"),n=s.aTypedArray,s=s.exportTypedArrayMethod,o=[].join;s("join",function(u){return o.apply(n(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(t,a,l){"use strict";var n=t("../internals/array-buffer-view-core"),s=t("../internals/array-last-index-of"),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",function(u){return s.apply(o(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(t,a,l){"use strict";var n=t("../internals/array-buffer-view-core"),s=t("../internals/array-iteration").map,o=t("../internals/species-constructor"),u=n.aTypedArray,m=n.aTypedArrayConstructor;(0,n.exportTypedArrayMethod)("map",function(v){return s(u(this),v,1<arguments.length?arguments[1]:void 0,function(c,d){return new(m(o(c,c.constructor)))(d)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(t,a,l){"use strict";var n=t("../internals/array-buffer-view-core"),s=t("../internals/array-reduce").right,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",function(u){return s(o(this),u,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(t,a,l){"use strict";var n=t("../internals/array-buffer-view-core"),s=t("../internals/array-reduce").left,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",function(u){return s(o(this),u,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(s,a,l){"use strict";var s=s("../internals/array-buffer-view-core"),n=s.aTypedArray,s=s.exportTypedArrayMethod,o=Math.floor;s("reverse",function(){for(var u,m=n(this).length,v=o(m/2),c=0;c<v;)u=this[c],this[c++]=this[--m],this[m]=u;return this})},{"../internals/array-buffer-view-core":12}],233:[function(m,a,l){"use strict";var n=m("../internals/array-buffer-view-core"),s=m("../internals/to-length"),o=m("../internals/to-offset"),u=m("../internals/to-object"),m=m("../internals/fails"),v=n.aTypedArray;(0,n.exportTypedArrayMethod)("set",function(c){v(this);var d=o(1<arguments.length?arguments[1]:void 0,1),p=this.length,f=u(c),y=s(f.length),g=0;if(p<y+d)throw RangeError("Wrong length");for(;g<y;)this[d+g]=f[g++]},m(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(s,a,l){"use strict";var m=s("../internals/array-buffer-view-core"),n=s("../internals/species-constructor"),s=s("../internals/fails"),o=m.aTypedArray,u=m.aTypedArrayConstructor,m=m.exportTypedArrayMethod,v=[].slice;m("slice",function(c,d){for(var p=v.call(o(this),c,d),c=n(this,this.constructor),f=0,y=p.length,g=new(u(c))(y);f<y;)g[f]=p[f++];return g},s(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(t,a,l){"use strict";var n=t("../internals/array-buffer-view-core"),s=t("../internals/array-iteration").some,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",function(u){return s(o(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(s,a,l){"use strict";var s=s("../internals/array-buffer-view-core"),n=s.aTypedArray,s=s.exportTypedArrayMethod,o=[].sort;s("sort",function(u){return o.call(n(this),u)})},{"../internals/array-buffer-view-core":12}],237:[function(t,a,l){"use strict";var n=t("../internals/array-buffer-view-core"),s=t("../internals/to-length"),o=t("../internals/to-absolute-index"),u=t("../internals/species-constructor"),m=n.aTypedArray;(0,n.exportTypedArrayMethod)("subarray",function(f,c){var d=m(this),p=d.length,f=o(f,p);return new(u(d,d.constructor))(d.buffer,d.byteOffset+f*d.BYTES_PER_ELEMENT,s((c===void 0?p:o(c,p))-f))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(s,a,l){"use strict";var m=s("../internals/global"),n=s("../internals/array-buffer-view-core"),s=s("../internals/fails"),o=m.Int8Array,u=n.aTypedArray,m=n.exportTypedArrayMethod,v=[].toLocaleString,c=[].slice,d=!!o&&s(function(){v.call(new o(1))});m("toLocaleString",function(){return v.apply(d?c.call(u(this)):u(this),arguments)},s(function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()})||!s(function(){o.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(s,a,l){"use strict";var n=s("../internals/array-buffer-view-core").exportTypedArrayMethod,m=s("../internals/fails"),s=s("../internals/global").Uint8Array,s=s&&s.prototype||{},o=[].toString,u=[].join,m=(m(function(){o.call({})})&&(o=function(){return u.call(this)}),s.toString!=o);n("toString",o,m)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(t,a,l){t("../internals/typed-array-constructor")("Uint16",function(n){return function(s,o,u){return n(this,s,o,u)}})},{"../internals/typed-array-constructor":144}],241:[function(t,a,l){t("../internals/typed-array-constructor")("Uint32",function(n){return function(s,o,u){return n(this,s,o,u)}})},{"../internals/typed-array-constructor":144}],242:[function(t,a,l){t("../internals/typed-array-constructor")("Uint8",function(n){return function(s,o,u){return n(this,s,o,u)}})},{"../internals/typed-array-constructor":144}],243:[function(t,a,l){t("../internals/typed-array-constructor")("Uint8",function(n){return function(s,o,u){return n(this,s,o,u)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(_,T,l){"use strict";function n(O){return function(){return O(this,arguments.length?arguments[0]:void 0)}}var s,o,u,m,v,b=_("../internals/global"),c=_("../internals/redefine-all"),d=_("../internals/internal-metadata"),p=_("../internals/collection"),f=_("../internals/collection-weak"),y=_("../internals/is-object"),g=_("../internals/internal-state").enforce,_=_("../internals/native-weak-map"),b=!b.ActiveXObject&&"ActiveXObject"in b,w=Object.isExtensible,T=T.exports=p("WeakMap",n,f);_&&b&&(s=f.getConstructor(n,"WeakMap",!0),d.REQUIRED=!0,p=T.prototype,o=p.delete,u=p.has,m=p.get,v=p.set,c(p,{delete:function(O){var A;return y(O)&&!w(O)?((A=g(this)).frozen||(A.frozen=new s),o.call(this,O)||A.frozen.delete(O)):o.call(this,O)},has:function(O){var A;return y(O)&&!w(O)?((A=g(this)).frozen||(A.frozen=new s),u.call(this,O)||A.frozen.has(O)):u.call(this,O)},get:function(O){var A;return!y(O)||w(O)||((A=g(this)).frozen||(A.frozen=new s),u.call(this,O))?m.call(this,O):A.frozen.get(O)},set:function(O,A){var E;return!y(O)||w(O)||((E=g(this)).frozen||(E.frozen=new s),u.call(this,O))?v.call(this,O,A):E.frozen.set(O,A),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(t,a,l){var n,s=t("../internals/global"),o=t("../internals/dom-iterables"),u=t("../internals/array-for-each"),m=t("../internals/create-non-enumerable-property");for(n in o){var v=s[n],v=v&&v.prototype;if(v&&v.forEach!==u)try{m(v,"forEach",u)}catch{v.forEach=u}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(v,a,l){var n,s=v("../internals/global"),o=v("../internals/dom-iterables"),u=v("../modules/es.array.iterator"),m=v("../internals/create-non-enumerable-property"),v=v("../internals/well-known-symbol"),c=v("iterator"),d=v("toStringTag"),p=u.values;for(n in o){var f=s[n],y=f&&f.prototype;if(y){if(y[c]!==p)try{m(y,c,p)}catch{y[c]=p}if(y[d]||m(y,d,n),o[n]){for(var g in u)if(y[g]!==u[g])try{m(y,g,u[g])}catch{y[g]=u[g]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(Q,a,l){"use strict";Q("../modules/es.array.iterator");function n(oe){try{return decodeURIComponent(oe)}catch{return oe}}function s(oe){return G[oe]}function o(oe){return encodeURIComponent(oe).replace(j,s)}function u(oe){this.entries.length=0,K(this.entries,oe)}function m(oe,W){if(oe<W)throw TypeError("Not enough arguments")}function v(){b(this,v,B);var oe,W,Y,ne,ue,se,pe,ve,fe=0<arguments.length?arguments[0]:void 0,xe=[];if(ee(this,{type:B,entries:xe,updateURL:function(){},updateSearchParams:u}),fe!==void 0)if(E(fe))if(typeof(oe=R(fe))=="function")for(Y=(W=oe.call(fe)).next;!(ne=Y.call(W)).done;){if((se=(ue=(ne=L(A(ne.value))).next).call(ne)).done||(pe=ue.call(ne)).done||!ue.call(ne).done)throw TypeError("Expected sequence with length 2");xe.push({key:se.value+"",value:pe.value+""})}else for(ve in fe)w(fe,ve)&&xe.push({key:ve,value:fe[ve]+""});else K(xe,typeof fe=="string"?fe.charAt(0)==="?"?fe.slice(1):fe:fe+"")}var c=Q("../internals/export"),z=Q("../internals/get-built-in"),d=Q("../internals/native-url"),p=Q("../internals/redefine"),f=Q("../internals/redefine-all"),y=Q("../internals/set-to-string-tag"),g=Q("../internals/create-iterator-constructor"),_=Q("../internals/internal-state"),b=Q("../internals/an-instance"),w=Q("../internals/has"),T=Q("../internals/function-bind-context"),O=Q("../internals/classof"),A=Q("../internals/an-object"),E=Q("../internals/is-object"),C=Q("../internals/object-create"),I=Q("../internals/create-property-descriptor"),L=Q("../internals/get-iterator"),R=Q("../internals/get-iterator-method"),Q=Q("../internals/well-known-symbol"),D=z("fetch"),H=z("Headers"),z=Q("iterator"),B="URLSearchParams",J=B+"Iterator",ee=_.set,Z=_.getterFor(B),q=_.getterFor(J),re=/\+/g,ge=Array(4),V=function(oe){var W,Y=oe.replace(re," "),ne=4;try{return decodeURIComponent(Y)}catch{for(;ne;)Y=Y.replace((W=ne--,ge[W-1]||(ge[W-1]=RegExp("((?:%[\\da-f]{2}){"+W+"})","gi"))),n);return Y}},j=/[!'()~]|%20/g,G={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},K=function(oe,W){if(W)for(var Y,ne=W.split("&"),ue=0;ue<ne.length;)(Y=ne[ue++]).length&&(Y=Y.split("="),oe.push({key:V(Y.shift()),value:V(Y.join("="))}))},ae=g(function(oe,W){ee(this,{type:J,iterator:L(Z(oe).entries),kind:W})},"Iterator",function(){var W=q(this),oe=W.kind,W=W.iterator.next(),Y=W.value;return W.done||(W.value=oe==="keys"?Y.key:oe==="values"?Y.value:[Y.key,Y.value]),W}),Q=v.prototype;f(Q,{append:function(oe,W){m(arguments.length,2);var Y=Z(this);Y.entries.push({key:oe+"",value:W+""}),Y.updateURL()},delete:function(oe){m(arguments.length,1);for(var W=Z(this),Y=W.entries,ne=oe+"",ue=0;ue<Y.length;)Y[ue].key===ne?Y.splice(ue,1):ue++;W.updateURL()},get:function(oe){m(arguments.length,1);for(var W=Z(this).entries,Y=oe+"",ne=0;ne<W.length;ne++)if(W[ne].key===Y)return W[ne].value;return null},getAll:function(oe){m(arguments.length,1);for(var W=Z(this).entries,Y=oe+"",ne=[],ue=0;ue<W.length;ue++)W[ue].key===Y&&ne.push(W[ue].value);return ne},has:function(oe){m(arguments.length,1);for(var W=Z(this).entries,Y=oe+"",ne=0;ne<W.length;)if(W[ne++].key===Y)return!0;return!1},set:function(oe,W){m(arguments.length,1);for(var Y,ne=Z(this),ue=ne.entries,se=!1,pe=oe+"",ve=W+"",fe=0;fe<ue.length;fe++)(Y=ue[fe]).key===pe&&(se?ue.splice(fe--,1):(se=!0,Y.value=ve));se||ue.push({key:pe,value:ve}),ne.updateURL()},sort:function(){for(var oe,W,Y=Z(this),ne=Y.entries,ue=ne.slice(),se=ne.length=0;se<ue.length;se++){for(oe=ue[se],W=0;W<se;W++)if(ne[W].key>oe.key){ne.splice(W,0,oe);break}W===se&&ne.push(oe)}Y.updateURL()},forEach:function(oe){for(var W,Y=Z(this).entries,ne=T(oe,1<arguments.length?arguments[1]:void 0,3),ue=0;ue<Y.length;)ne((W=Y[ue++]).value,W.key,this)},keys:function(){return new ae(this,"keys")},values:function(){return new ae(this,"values")},entries:function(){return new ae(this,"entries")}},{enumerable:!0}),p(Q,z,Q.entries),p(Q,"toString",function(){for(var oe,W=Z(this).entries,Y=[],ne=0;ne<W.length;)oe=W[ne++],Y.push(o(oe.key)+"="+o(oe.value));return Y.join("&")},{enumerable:!0}),y(v,B),c({global:!0,forced:!d},{URLSearchParams:v}),d||typeof D!="function"||typeof H!="function"||c({global:!0,enumerable:!0,forced:!0},{fetch:function(ue){var W,Y,ne,ue=[ue];return 1<arguments.length&&(E(W=arguments[1])&&(Y=W.body,O(Y)===B&&((ne=W.headers?new H(W.headers):new H).has("content-type")||ne.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),W=C(W,{body:I(0,String(Y)),headers:I(0,ne)}))),ue.push(W)),D.apply(this,ue)}}),a.exports={URLSearchParams:v,getState:Z}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(L,a,l){"use strict";L("../modules/es.string.iterator");function n(we){var Xe,nt,ze,Tt;if(typeof we=="number"){for(Xe=[],nt=0;nt<4;nt++)Xe.unshift(we%256),we=J(we/256);return Xe.join(".")}if(typeof we!="object")return we;for(Xe="",ze=pe(we),nt=0;nt<8;nt++)Tt&&we[nt]===0||(Tt=Tt&&!1,ze===nt?(Xe+=nt?":":"::",Tt=!0):(Xe+=we[nt].toString(16),nt<7&&(Xe+=":")));return"["+Xe+"]"}function s(we){return!we.host||we.cannotBeABaseURL||we.scheme=="file"}function o(we,Xe,nt,ze){var Tt,$e,Bt,st=nt||Ue,Et=0,et="",or=!1,Gr=!1,Mr=!1;for(nt||(we.scheme="",we.username="",we.password="",we.host=null,we.port=null,we.path=[],we.query=null,we.fragment=null,we.cannotBeABaseURL=!1,Xe=Xe.replace(ne,"")),Xe=Xe.replace(ue,""),Tt=O(Xe);Et<=Tt.length;){switch($e=Tt[Et],st){case Ue:if(!$e||!V.test($e)){if(nt)return q;st=ce;continue}et+=$e.toLowerCase(),st=Oe;break;case Oe:if($e&&(j.test($e)||$e=="+"||$e=="-"||$e=="."))et+=$e.toLowerCase();else{if($e!=":"){if(nt)return q;et="",st=ce,Et=0;continue}if(nt&&(Pe(we)!=w(Ae,et)||et=="file"&&(it(we)||we.port!==null)||we.scheme=="file"&&!we.host))return;if(we.scheme=et,nt)return void(Pe(we)&&Ae[we.scheme]==we.port&&(we.port=null));et="",we.scheme=="file"?st=_t:Pe(we)&&ze&&ze.scheme==we.scheme?st=de:Pe(we)?st=Le:Tt[Et+1]=="/"?(st=le,Et++):(we.cannotBeABaseURL=!0,we.path.push(""),st=sr)}break;case ce:if(!ze||ze.cannotBeABaseURL&&$e!="#")return q;if(ze.cannotBeABaseURL&&$e=="#"){we.scheme=ze.scheme,we.path=ze.path.slice(),we.query=ze.query,we.fragment="",we.cannotBeABaseURL=!0,st=ut;break}st=ze.scheme=="file"?_t:ye;continue;case de:if($e!="/"||Tt[Et+1]!="/"){st=ye;continue}st=Be,Et++;break;case le:if($e=="/"){st=Ye;break}st=pt;continue;case ye:if(we.scheme=ze.scheme,$e==v)we.username=ze.username,we.password=ze.password,we.host=ze.host,we.port=ze.port,we.path=ze.path.slice(),we.query=ze.query;else if($e=="/"||$e=="\\"&&Pe(we))st=je;else if($e=="?")we.username=ze.username,we.password=ze.password,we.host=ze.host,we.port=ze.port,we.path=ze.path.slice(),we.query="",st=wt;else{if($e!="#"){we.username=ze.username,we.password=ze.password,we.host=ze.host,we.port=ze.port,we.path=ze.path.slice(),we.path.pop(),st=pt;continue}we.username=ze.username,we.password=ze.password,we.host=ze.host,we.port=ze.port,we.path=ze.path.slice(),we.query=ze.query,we.fragment="",st=ut}break;case je:if(!Pe(we)||$e!="/"&&$e!="\\"){if($e!="/"){we.username=ze.username,we.password=ze.password,we.host=ze.host,we.port=ze.port,st=pt;continue}st=Ye}else st=Be;break;case Le:if(st=Be,$e!="/"||et.charAt(Et+1)!="/")continue;Et++;break;case Be:if($e=="/"||$e=="\\")break;st=Ye;continue;case Ye:if($e=="@"){or&&(et="%40"+et);for(var or=!0,Fr=O(et),ui=0;ui<Fr.length;ui++){var _i=Fr[ui];_i!=":"||Mr?(_i=Te(_i,ke),Mr?we.password+=_i:we.username+=_i):Mr=!0}et=""}else if($e==v||$e=="/"||$e=="?"||$e=="#"||$e=="\\"&&Pe(we)){if(or&&et=="")return Z;Et-=O(et).length+1,et="",st=Ge}else et+=$e;break;case Ge:case Je:if(nt&&we.scheme=="file"){st=lt;continue}if($e!=":"||Gr){if($e==v||$e=="/"||$e=="?"||$e=="#"||$e=="\\"&&Pe(we)){if(Pe(we)&&et=="")return re;if(nt&&et==""&&(it(we)||we.port!==null))return;if(Bt=se(we,et))return Bt;if(et="",st=St,nt)return;continue}$e=="["?Gr=!0:$e=="]"&&(Gr=!1),et+=$e}else{if(et=="")return re;if(Bt=se(we,et))return Bt;if(et="",st=rt,nt==Je)return}break;case rt:if(!G.test($e)){if($e==v||$e=="/"||$e=="?"||$e=="#"||$e=="\\"&&Pe(we)||nt){if(et!=""){var Ji=parseInt(et,10);if(65535<Ji)return ge;we.port=Pe(we)&&Ji===Ae[we.scheme]?null:Ji,et=""}if(nt)return;st=St;continue}return ge}et+=$e;break;case _t:if(we.scheme="file",$e=="/"||$e=="\\")st=ht;else{if(!ze||ze.scheme!="file"){st=pt;continue}if($e==v)we.host=ze.host,we.path=ze.path.slice(),we.query=ze.query;else if($e=="?")we.host=ze.host,we.path=ze.path.slice(),we.query="",st=wt;else{if($e!="#"){Ze(Tt.slice(Et).join(""))||(we.host=ze.host,we.path=ze.path.slice(),tt(we)),st=pt;continue}we.host=ze.host,we.path=ze.path.slice(),we.query=ze.query,we.fragment="",st=ut}}break;case ht:if($e=="/"||$e=="\\"){st=lt;break}ze&&ze.scheme=="file"&&!Ze(Tt.slice(Et).join(""))&&(Ke(ze.path[0],!0)?we.path.push(ze.path[0]):we.host=ze.host),st=pt;continue;case lt:if($e==v||$e=="/"||$e=="\\"||$e=="?"||$e=="#"){if(!nt&&Ke(et))st=pt;else{if(et==""){if(we.host="",nt)return}else{if(Bt=se(we,et))return Bt;if(we.host=="localhost"&&(we.host=""),nt)return;et=""}st=St}continue}et+=$e;break;case St:if(Pe(we)){if(st=pt,$e!="/"&&$e!="\\")continue}else if(nt||$e!="?")if(nt||$e!="#"){if($e!=v&&(st=pt,$e!="/"))continue}else we.fragment="",st=ut;else we.query="",st=wt;break;case pt:if($e==v||$e=="/"||$e=="\\"&&Pe(we)||!nt&&($e=="?"||$e=="#")){if(Ee(et)?(tt(we),$e=="/"||$e=="\\"&&Pe(we)||we.path.push("")):We(et)?$e=="/"||$e=="\\"&&Pe(we)||we.path.push(""):(we.scheme=="file"&&!we.path.length&&Ke(et)&&(we.host&&(we.host=""),et=et.charAt(0)+":"),we.path.push(et)),et="",we.scheme=="file"&&($e==v||$e=="?"||$e=="#"))for(;1<we.path.length&&we.path[0]==="";)we.path.shift();$e=="?"?(we.query="",st=wt):$e=="#"&&(we.fragment="",st=ut)}else et+=Te($e,xe);break;case sr:$e=="?"?(we.query="",st=wt):$e=="#"?(we.fragment="",st=ut):$e!=v&&(we.path[0]+=Te($e,ve));break;case wt:nt||$e!="#"?$e!=v&&($e=="'"&&Pe(we)?we.query+="%27":we.query+=$e=="#"?"%23":Te($e,ve)):(we.fragment="",st=ut);break;case ut:$e!=v&&(we.fragment+=Te($e,fe))}Et++}}function u($e){var Xe,nt,ze=b(this,u,"URL"),Tt=1<arguments.length?arguments[1]:void 0,$e=String($e),Bt=z(ze,{type:"URL"});if(Tt!==void 0){if(Tt instanceof u)Xe=B(Tt);else if(nt=o(Xe={},String(Tt)))throw TypeError(nt)}if(nt=o(Bt,$e,null,Xe))throw TypeError(nt);var st=Bt.searchParams=new D;(Tt=H(st)).updateSearchParams(Bt.query),Tt.updateURL=function(){Bt.query=String(st)||null},f||(ze.href=Qe.call(ze),ze.origin=at.call(ze),ze.protocol=ct.call(ze),ze.username=gt.call(ze),ze.password=Pt.call(ze),ze.host=jt.call(ze),ze.hostname=vr.call(ze),ze.port=Qr.call(ze),ze.pathname=pr.call(ze),ze.search=cr.call(ze),ze.searchParams=ir.call(ze),ze.hash=Ai.call(ze))}function m(we,Xe){return{get:we,set:Xe,configurable:!0,enumerable:!0}}var v,c,d,p=L("../internals/export"),f=L("../internals/descriptors"),y=L("../internals/native-url"),yt=L("../internals/global"),g=L("../internals/object-define-properties"),_=L("../internals/redefine"),b=L("../internals/an-instance"),w=L("../internals/has"),T=L("../internals/object-assign"),O=L("../internals/array-from"),A=L("../internals/string-multibyte").codeAt,E=L("../internals/string-punycode-to-ascii"),C=L("../internals/set-to-string-tag"),I=L("../modules/web.url-search-params"),L=L("../internals/internal-state"),R=yt.URL,D=I.URLSearchParams,H=I.getState,z=L.set,B=L.getterFor("URL"),J=Math.floor,ee=Math.pow,Z="Invalid authority",q="Invalid scheme",re="Invalid host",ge="Invalid port",V=/[A-Za-z]/,j=/[\d+-.A-Za-z]/,G=/\d/,K=/^(0x|0X)/,ae=/^[0-7]+$/,Q=/^\d+$/,oe=/^[\dA-Fa-f]+$/,W=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,Y=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,ne=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,ue=/[\u0009\u000A\u000D]/g,se=function(we,Xe){var nt,ze,Tt;if(Xe.charAt(0)=="[")return Xe.charAt(Xe.length-1)=="]"&&(nt=function($e){var Bt=[0,0,0,0,0,0,0,0],st=0,Et=null,et=0,or,Gr,Mr,Fr,ui,_i,Ji,Br=function(){return $e.charAt(et)};if(Br()==":"){if($e.charAt(1)!=":")return;et+=2,st++,Et=st}for(;Br();){if(st==8)return;if(Br()==":"){if(Et!==null)return;et++,st++,Et=st;continue}for(or=Gr=0;Gr<4&&oe.test(Br());)or=or*16+parseInt(Br(),16),et++,Gr++;if(Br()=="."){if(Gr==0||(et-=Gr,st>6))return;for(Mr=0;Br();){if(Fr=null,Mr>0)if(Br()=="."&&Mr<4)et++;else return;if(!G.test(Br()))return;for(;G.test(Br());){if(ui=parseInt(Br(),10),Fr===null)Fr=ui;else{if(Fr==0)return;Fr=Fr*10+ui}if(Fr>255)return;et++}Bt[st]=Bt[st]*256+Fr,Mr++,(Mr==2||Mr==4)&&st++}if(Mr!=4)return;break}else if(Br()==":"){if(et++,!Br())return}else if(Br())return;Bt[st++]=or}if(Et!==null)for(_i=st-Et,st=7;st!=0&&_i>0;)Ji=Bt[st],Bt[st--]=Bt[Et+_i-1],Bt[Et+--_i]=Ji;else if(st!=8)return;return Bt}(Xe.slice(1,-1)))?void(we.host=nt):re;if(Pe(we))return Xe=E(Xe),W.test(Xe)||(nt=function($e){var Bt=$e.split("."),st,Et,et,or,Gr,Mr,Fr;if(Bt.length&&Bt[Bt.length-1]==""&&Bt.pop(),(st=Bt.length)>4)return $e;for(Et=[],et=0;et<st;et++){if(or=Bt[et],or=="")return $e;if(Gr=10,or.length>1&&or.charAt(0)=="0"&&(Gr=K.test(or)?16:8,or=or.slice(Gr==8?1:2)),or==="")Mr=0;else{if(!(Gr==10?Q:Gr==8?ae:oe).test(or))return $e;Mr=parseInt(or,Gr)}Et.push(Mr)}for(et=0;et<st;et++)if(Mr=Et[et],et==st-1){if(Mr>=ee(256,5-st))return null}else if(Mr>255)return null;for(Fr=Et.pop(),et=0;et<Et.length;et++)Fr+=Et[et]*ee(256,3-et);return Fr}(Xe))===null?re:void(we.host=nt);if(Y.test(Xe))return re;for(nt="",ze=O(Xe),Tt=0;Tt<ze.length;Tt++)nt+=Te(ze[Tt],ve);we.host=nt},pe=function(we){for(var Xe=null,nt=1,ze=null,Tt=0,$e=0;$e<8;$e++)we[$e]!==0?(nt<Tt&&(Xe=ze,nt=Tt),ze=null,Tt=0):(ze===null&&(ze=$e),++Tt);return nt<Tt&&(Xe=ze,nt=Tt),Xe},ve={},fe=T({},ve,{" ":1,'"':1,"<":1,">":1,"`":1}),xe=T({},fe,{"#":1,"?":1,"{":1,"}":1}),ke=T({},xe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Te=function(we,Xe){var nt=A(we,0);return 32<nt&&nt<127&&!w(Xe,we)?we:encodeURIComponent(we)},Ae={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Pe=function(we){return w(Ae,we.scheme)},it=function(we){return we.username!=""||we.password!=""},Ke=function(we,Xe){return we.length==2&&V.test(we.charAt(0))&&((we=we.charAt(1))==":"||!Xe&&we=="|")},Ze=function(we){return 1<we.length&&Ke(we.slice(0,2))&&(we.length==2||(we=we.charAt(2))==="/"||we==="\\"||we==="?"||we==="#")},tt=function(we){var Xe=we.path,nt=Xe.length;!nt||we.scheme=="file"&&nt==1&&Ke(Xe[0],!0)||Xe.pop()},We=function(we){return we==="."||we.toLowerCase()==="%2e"},Ee=function(we){return(we=we.toLowerCase())===".."||we==="%2e."||we===".%2e"||we==="%2e%2e"},Ue={},Oe={},ce={},de={},le={},ye={},je={},Le={},Be={},Ye={},Ge={},Je={},rt={},_t={},ht={},lt={},St={},pt={},sr={},wt={},ut={},yt=u.prototype,Qe=function(){var we=B(this),Xe=we.scheme,nt=we.username,ze=we.password,Tt=we.host,$e=we.port,Bt=we.path,st=we.query,Et=we.fragment,et=Xe+":";return Tt!==null?(et+="//",it(we)&&(et+=nt+(ze?":"+ze:"")+"@"),et+=n(Tt),$e!==null&&(et+=":"+$e)):Xe=="file"&&(et+="//"),et+=we.cannotBeABaseURL?Bt[0]:Bt.length?"/"+Bt.join("/"):"",st!==null&&(et+="?"+st),Et!==null&&(et+="#"+Et),et},at=function(){var we=B(this),Xe=we.scheme,nt=we.port;if(Xe=="blob")try{return new URL(Xe.path[0]).origin}catch{return"null"}return Xe!="file"&&Pe(we)?Xe+"://"+n(we.host)+(nt!==null?":"+nt:""):"null"},ct=function(){return B(this).scheme+":"},gt=function(){return B(this).username},Pt=function(){return B(this).password},jt=function(){var Xe=B(this),we=Xe.host,Xe=Xe.port;return we===null?"":Xe===null?n(we):n(we)+":"+Xe},vr=function(){var we=B(this).host;return we===null?"":n(we)},Qr=function(){var we=B(this).port;return we===null?"":String(we)},pr=function(){var we=B(this),Xe=we.path;return we.cannotBeABaseURL?Xe[0]:Xe.length?"/"+Xe.join("/"):""},cr=function(){var we=B(this).query;return we?"?"+we:""},ir=function(){return B(this).searchParams},Ai=function(){var we=B(this).fragment;return we?"#"+we:""};f&&g(yt,{href:m(Qe,function(nt){var Xe=B(this),nt=String(nt),nt=o(Xe,nt);if(nt)throw TypeError(nt);H(Xe.searchParams).updateSearchParams(Xe.query)}),origin:m(at),protocol:m(ct,function(we){var Xe=B(this);o(Xe,String(we)+":",Ue)}),username:m(gt,function(we){var Xe=B(this),nt=O(String(we));if(!s(Xe)){Xe.username="";for(var ze=0;ze<nt.length;ze++)Xe.username+=Te(nt[ze],ke)}}),password:m(Pt,function(we){var Xe=B(this),nt=O(String(we));if(!s(Xe)){Xe.password="";for(var ze=0;ze<nt.length;ze++)Xe.password+=Te(nt[ze],ke)}}),host:m(jt,function(we){var Xe=B(this);Xe.cannotBeABaseURL||o(Xe,String(we),Ge)}),hostname:m(vr,function(we){var Xe=B(this);Xe.cannotBeABaseURL||o(Xe,String(we),Je)}),port:m(Qr,function(we){var Xe=B(this);s(Xe)||((we=String(we))==""?Xe.port=null:o(Xe,we,rt))}),pathname:m(pr,function(we){var Xe=B(this);Xe.cannotBeABaseURL||(Xe.path=[],o(Xe,we+"",St))}),search:m(cr,function(we){var Xe=B(this);(we=String(we))==""?Xe.query=null:(we.charAt(0)=="?"&&(we=we.slice(1)),Xe.query="",o(Xe,we,wt)),H(Xe.searchParams).updateSearchParams(Xe.query)}),searchParams:m(ir),hash:m(Ai,function(we){var Xe=B(this);(we=String(we))==""?Xe.fragment=null:(we.charAt(0)=="#"&&(we=we.slice(1)),Xe.fragment="",o(Xe,we,ut))})}),_(yt,"toJSON",function(){return Qe.call(this)},{enumerable:!0}),_(yt,"toString",function(){return Qe.call(this)},{enumerable:!0}),R&&(c=R.createObjectURL,d=R.revokeObjectURL,c&&_(u,"createObjectURL",function(we){return c.apply(R,arguments)}),d&&_(u,"revokeObjectURL",function(we){return d.apply(R,arguments)})),C(u,"URL"),p({global:!0,forced:!y,sham:!f},{URL:u})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(t,a,l){"use strict";a.exports=t("./").polyfill()},{"./":250}],250:[function(t,a,l){(function(n,s){var o,u;o=this,u=function(){"use strict";function m(se){return typeof se=="function"}var v=Array.isArray||function(se){return Object.prototype.toString.call(se)==="[object Array]"},c=0,d=void 0,p=void 0,f=function(se,pe){T[c]=se,T[c+1]=pe,(c+=2)===2&&(p?p(O):D())},y=typeof window<"u"?window:void 0,g=y||{},g=g.MutationObserver||g.WebKitMutationObserver,_=typeof self>"u"&&n!==void 0&&{}.toString.call(n)==="[object process]",b=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function w(){var se=setTimeout;return function(){return se(O,1)}}var T=new Array(1e3);function O(){for(var se=0;se<c;se+=2)(0,T[se])(T[se+1]),T[se]=void 0,T[se+1]=void 0;c=0}function A(){try{var se=Function("return this")().require("vertx");return(d=se.runOnLoop||se.runOnContext)!==void 0?function(){d(O)}:w()}catch{return w()}}var E,C,I,D=void 0;function L(se,pe){var ve,fe=this,xe=new this.constructor(z),ke=(xe[H]===void 0&&oe(xe),fe._state);return ke?(ve=arguments[ke-1],f(function(){return ae(ke,xe,ve,fe._result)})):G(fe,xe,se,pe),xe}function R(se){var pe;return se&&typeof se=="object"&&se.constructor===this?se:(re(pe=new this(z),se),pe)}var D=_?function(){return n.nextTick(O)}:g?(C=0,_=new g(O),I=document.createTextNode(""),_.observe(I,{characterData:!0}),function(){I.data=C=++C%2}):b?((E=new MessageChannel).port1.onmessage=O,function(){return E.port2.postMessage(0)}):(y===void 0&&typeof t=="function"?A:w)(),H=Math.random().toString(36).substring(2);function z(){}var B=void 0,J=1,ee=2;function Z(se,pe,ve){f(function(fe){var xe=!1,ke=function(Te,Ae,Pe,it){try{Te.call(Ae,Pe,it)}catch(Ke){return Ke}}(ve,pe,function(Te){xe||(xe=!0,(pe!==Te?re:V)(fe,Te))},function(Te){xe||(xe=!0,j(fe,Te))},fe._label);!xe&&ke&&(xe=!0,j(fe,ke))},se)}function q(se,pe,ve){var fe,xe;pe.constructor===se.constructor&&ve===L&&pe.constructor.resolve===R?(fe=se,(xe=pe)._state===J?V(fe,xe._result):xe._state===ee?j(fe,xe._result):G(xe,void 0,function(ke){return re(fe,ke)},function(ke){return j(fe,ke)})):ve!==void 0&&m(ve)?Z(se,pe,ve):V(se,pe)}function re(se,pe){if(se===pe)j(se,new TypeError("You cannot resolve a promise with itself"));else if(ve=typeof pe,pe===null||ve!="object"&&ve!="function")V(se,pe);else{ve=void 0;try{ve=pe.then}catch(fe){return void j(se,fe)}q(se,pe,ve)}var ve}function ge(se){se._onerror&&se._onerror(se._result),K(se)}function V(se,pe){se._state===B&&(se._result=pe,se._state=J,se._subscribers.length!==0&&f(K,se))}function j(se,pe){se._state===B&&(se._state=ee,se._result=pe,f(ge,se))}function G(se,pe,ve,fe){var xe=se._subscribers,ke=xe.length;se._onerror=null,xe[ke]=pe,xe[ke+J]=ve,xe[ke+ee]=fe,ke===0&&se._state&&f(K,se)}function K(se){var pe=se._subscribers,ve=se._state;if(pe.length!==0){for(var fe,xe=void 0,ke=se._result,Te=0;Te<pe.length;Te+=3)fe=pe[Te],xe=pe[Te+ve],fe?ae(ve,fe,xe,ke):xe(ke);se._subscribers.length=0}}function ae(se,pe,ve,fe){var xe=m(ve),ke=void 0,Te=void 0,Ae=!0;if(xe){try{ke=ve(fe)}catch(Pe){Ae=!1,Te=Pe}if(pe===ke)return void j(pe,new TypeError("A promises callback cannot return that same promise."))}else ke=fe;pe._state===B&&(xe&&Ae?re(pe,ke):Ae===!1?j(pe,Te):se===J?V(pe,ke):se===ee&&j(pe,ke))}var Q=0;function oe(se){se[H]=Q++,se._state=void 0,se._result=void 0,se._subscribers=[]}Y.prototype._enumerate=function(se){for(var pe=0;this._state===B&&pe<se.length;pe++)this._eachEntry(se[pe],pe)},Y.prototype._eachEntry=function(se,pe){var ve=this._instanceConstructor,fe=ve.resolve;if(fe===R){var xe,ke=void 0,Te=void 0,Ae=!1;try{ke=se.then}catch(Pe){Ae=!0,Te=Pe}ke===L&&se._state!==B?this._settledAt(se._state,pe,se._result):typeof ke!="function"?(this._remaining--,this._result[pe]=se):ve===ne?(xe=new ve(z),Ae?j(xe,Te):q(xe,se,ke),this._willSettleAt(xe,pe)):this._willSettleAt(new ve(function(Pe){return Pe(se)}),pe)}else this._willSettleAt(fe(se),pe)},Y.prototype._settledAt=function(se,pe,ve){var fe=this.promise;fe._state===B&&(this._remaining--,se===ee?j(fe,ve):this._result[pe]=ve),this._remaining===0&&V(fe,this._result)},Y.prototype._willSettleAt=function(se,pe){var ve=this;G(se,void 0,function(fe){return ve._settledAt(J,pe,fe)},function(fe){return ve._settledAt(ee,pe,fe)})};var W=Y;function Y(se,pe){this._instanceConstructor=se,this.promise=new se(z),this.promise[H]||oe(this.promise),v(pe)?(this.length=pe.length,this._remaining=pe.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(pe),this._remaining!==0)||V(this.promise,this._result)):j(this.promise,new Error("Array Methods must be provided an Array"))}ue.prototype.catch=function(se){return this.then(null,se)},ue.prototype.finally=function(se){var pe=this.constructor;return m(se)?this.then(function(ve){return pe.resolve(se()).then(function(){return ve})},function(ve){return pe.resolve(se()).then(function(){throw ve})}):this.then(se,se)};var ne=ue;function ue(se){if(this[H]=Q++,this._result=this._state=void 0,this._subscribers=[],z!==se){if(typeof se!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof ue))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var pe=this;try{se(function(ve){re(pe,ve)},function(ve){j(pe,ve)})}catch(ve){j(pe,ve)}}}return ne.prototype.then=L,ne.all=function(se){return new W(this,se).promise},ne.race=function(se){var pe=this;return v(se)?new pe(function(ve,fe){for(var xe=se.length,ke=0;ke<xe;ke++)pe.resolve(se[ke]).then(ve,fe)}):new pe(function(ve,fe){return fe(new TypeError("You must pass an array to race."))})},ne.resolve=R,ne.reject=function(se){var pe=new this(z);return j(pe,se),pe},ne._setScheduler=function(se){p=se},ne._setAsap=function(se){f=se},ne._asap=f,ne.polyfill=function(){var se=void 0;if(s!==void 0)se=s;else if(typeof self<"u")se=self;else try{se=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var pe=se.Promise;if(pe){var ve=null;try{ve=Object.prototype.toString.call(pe.resolve())}catch{}if(ve==="[object Promise]"&&!pe.cast)return}se.Promise=ne},ne.Promise=ne},typeof l=="object"&&a!==void 0?a.exports=u():typeof h=="function"&&h.amd?h(u):o.ES6Promise=u()}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:259}],251:[function(t,a,l){var n,s;n=this,s=function(o,u){"use strict";var m=5e3,v="callback";function c(p){try{delete window[p]}catch{window[p]=void 0}}function d(p){p=document.getElementById(p),p&&document.getElementsByTagName("head")[0].removeChild(p)}u.exports=function(p){var f=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],y=p,g=f.timeout||m,_=f.jsonpCallback||v,b=void 0;return new Promise(function(w,T){var O=f.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),A=_+"_"+O,E=(window[O]=function(C){w({ok:!0,json:function(){return Promise.resolve(C)}}),b&&clearTimeout(b),d(A),c(O)},y+=y.indexOf("?")===-1?"?":"&",document.createElement("script"));E.setAttribute("src",""+y+_+"="+O),f.charset&&E.setAttribute("charset",f.charset),E.id=A,document.getElementsByTagName("head")[0].appendChild(E),b=setTimeout(function(){T(new Error("JSONP request to "+p+" timed out")),c(O),d(A),window[O]=function(){c(O)}},g),E.onerror=function(){T(new Error("JSONP request to "+p+" failed")),c(O),d(A),b&&clearTimeout(b)}})}},typeof h=="function"&&h.amd?h(["exports","module"],s):l!==void 0&&a!==void 0?s(0,a):(s(s={exports:{}},s),n.fetchJsonp=s.exports)},{}],252:[function(t,a,l){var n=function(s){"use strict";var o,u,m,v,c,d,p,f,y,g,_;if(!(s===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return _=s.document,o=function(){return s.URL||s.webkitURL||s},u=_.createElementNS("http://www.w3.org/1999/xhtml","a"),m="download"in u,v=/constructor/i.test(s.HTMLElement)||s.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent),d=function(b){(s.setImmediate||s.setTimeout)(function(){throw b},0)},p=4e4,f=function(b){setTimeout(function(){typeof b=="string"?o().revokeObjectURL(b):b.remove()},p)},y=function(b){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(b.type)?new Blob(["\uFEFF",b],{type:b.type}):b},_=(g=function(b,w,C){C||(b=y(b));var O,A,E=this,C=b.type==="application/octet-stream",I=function(){for(var L=E,R="writestart progress write writeend".split(" "),D=void 0,H=(R=[].concat(R)).length;H--;){var z=L["on"+R[H]];if(typeof z=="function")try{z.call(L,D||L)}catch(B){d(B)}}};E.readyState=E.INIT,m?(O=o().createObjectURL(b),setTimeout(function(){var L,R;u.href=O,u.download=w,L=u,R=new MouseEvent("click"),L.dispatchEvent(R),I(),f(O),E.readyState=E.DONE})):(c||C&&v)&&s.FileReader?((A=new FileReader).onloadend=function(){var L=c?A.result:A.result.replace(/^data:[^;]*;/,"data:attachment/file;");s.open(L,"_blank")||(s.location.href=L),L=void 0,E.readyState=E.DONE,I()},A.readAsDataURL(b),E.readyState=E.INIT):(O=O||o().createObjectURL(b),!C&&s.open(O,"_blank")||(s.location.href=O),E.readyState=E.DONE,I(),f(O))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(b,w,T){return w=w||b.name||"download",T||(b=y(b)),navigator.msSaveOrOpenBlob(b,w)}:(_.abort=function(){},_.readyState=_.INIT=0,_.WRITING=1,_.DONE=2,_.error=_.onwritestart=_.onprogress=_.onwrite=_.onabort=_.onerror=_.onwriteend=null,function(b,w,T){return new g(b,w||b.name||"download",T)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);a!==void 0&&a.exports?a.exports.saveAs=n:h!=null&&h.amd!==null&&h("FileSaver.js",function(){return n})},{}],253:[function(t,a,l){var n,s=Object.defineProperty,o=(s(l,"__esModule",{value:!0}),l),u={GIFEncoder:()=>I,applyPalette:()=>function(B,J,ee="rgb565"){if(!B||!B.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(B instanceof Uint8Array||B instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<J.length)throw new Error("applyPalette() only works with 256 colors or less");let Z=new Uint32Array(B.buffer),q=Z.length,re=ee==="rgb444"?4096:65536,ge=new Uint8Array(q),V=new Array(re);if(ee==="rgba4444")for(let ue=0;ue<q;ue++){var ae=Z[ue],j=ae>>24&255,G=ae>>16&255,K=ae>>8&255,ae=255&ae,Q=f(ae,K,G,j),Q=Q in V?V[Q]:V[Q]=function(se,pe,ve,fe,xe){let ke=0,Te=1e100;for(let Ke=0;Ke<xe.length;Ke++){var Ae,Pe=xe[Ke],it=A(Pe[3]-fe);it>Te||(Ae=Pe[0],(it+=A(Ae-se))>Te||(Ae=Pe[1],(it+=A(Ae-pe))>Te||(Ae=Pe[2],(it+=A(Ae-ve))>Te||(Te=it,ke=Ke))))}return ke}(ae,K,G,j,J);ge[ue]=Q}else{let ue=ee==="rgb444"?y:p;for(let se=0;se<q;se++){var Y=Z[se],oe=Y>>16&255,W=Y>>8&255,Y=255&Y,ne=ue(Y,W,oe),ne=ne in V?V[ne]:V[ne]=function(pe,ve,fe,xe){let ke=0,Te=1e100;for(let Ke=0;Ke<xe.length;Ke++){var Ae,Pe=xe[Ke],it=A(Pe[0]-pe);it>Te||(Ae=Pe[1],(it+=A(Ae-ve))>Te||(Ae=Pe[2],(it+=A(Ae-fe))>Te||(Te=it,ke=Ke)))}return ke}(Y,W,oe,J);ge[se]=ne}}return ge},default:()=>z,nearestColor:()=>function(B,J,ee=T){return B[E(B,J,ee)]},nearestColorIndex:()=>E,nearestColorIndexWithDistance:()=>C,prequantize:()=>function(B,{roundRGB:J=5,roundAlpha:ee=10,oneBitAlpha:Z=null}={}){let q=new Uint32Array(B.buffer);for(let G=0;G<q.length;G++){var j=q[G];let K=j>>24&255;var re,ge=j>>16&255,V=j>>8&255,j=255&j;K=O(K,ee),Z&&(re=typeof Z=="number"?Z:127,K=K<=re?0:255),j=O(j,J),V=O(V,J),ge=O(ge,J),q[G]=K<<24|ge<<16|V<<8|j<<0}},quantize:()=>function(B,J,ee={}){var{format:Z="rgb565",clearAlpha:q=!0,clearAlphaColor:re=0,clearAlphaThreshold:ge=0,oneBitAlpha:V=!1}=ee;if(!B||!B.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(B instanceof Uint8Array||B instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");B=new Uint32Array(B.buffer);let j=ee.useSqrt!==!1,G=Z==="rgba4444",K=function(Ze,tt){let We=tt==="rgb444"?4096:65536,Ee=new Array(We),Ue=Ze.length;if(tt==="rgba4444")for(let ht=0;ht<Ue;++ht){var le=Ze[ht],Oe=le>>24&255,ce=le>>16&255,de=le>>8&255,le=255&le,ye=f(le,de,ce,Oe);let lt=ye in Ee?Ee[ye]:Ee[ye]=w();lt.rc+=le,lt.gc+=de,lt.bc+=ce,lt.ac+=Oe,lt.cnt++}else if(tt==="rgb444")for(let ht=0;ht<Ue;++ht){var Be=Ze[ht],je=Be>>16&255,Le=Be>>8&255,Be=255&Be,Ye=y(Be,Le,je);let lt=Ye in Ee?Ee[Ye]:Ee[Ye]=w();lt.rc+=Be,lt.gc+=Le,lt.bc+=je,lt.cnt++}else for(let ht=0;ht<Ue;++ht){var rt=Ze[ht],Ge=rt>>16&255,Je=rt>>8&255,rt=255&rt,_t=p(rt,Je,Ge);let lt=_t in Ee?Ee[_t]:Ee[_t]=w();lt.rc+=rt,lt.gc+=Je,lt.bc+=Ge,lt.cnt++}return Ee}(B,Z),ae=K.length,Q=ae-1,oe=new Uint32Array(ae+1);for(var W=0,Y=0;Y<ae;++Y){let Ze=K[Y];Ze!=null&&(Pe=1/Ze.cnt,G&&(Ze.ac*=Pe),Ze.rc*=Pe,Ze.gc*=Pe,Ze.bc*=Pe,K[W++]=Ze)}_(J)/W<.022&&(j=!1);for(var ne,ue,se,Y=0;Y<W-1;++Y)K[Y].fw=Y+1,K[Y+1].bk=Y,j&&(K[Y].cnt=Math.sqrt(K[Y].cnt));for(j&&(K[Y].cnt=Math.sqrt(K[Y].cnt)),Y=0;Y<W;++Y){b(K,Y,!1);var pe=K[Y].err;for(ue=++oe[0];1<ue&&(se=ue>>1,!(K[ne=oe[se]].err<=pe));ue=se)oe[ue]=ne;oe[ue]=Y}var ve,fe=W-J;for(Y=0;Y<fe;){for(;;){var xe=oe[1];if((ve=K[xe]).tm>=ve.mtm&&K[ve.nn].mtm<=ve.tm)break;for(ve.mtm==Q?xe=oe[1]=oe[oe[0]--]:(b(K,xe,!1),ve.tm=Y),pe=K[xe].err,ue=1;(se=ue+ue)<=oe[0]&&(se<oe[0]&&K[oe[se]].err>K[oe[se+1]].err&&se++,!(pe<=K[ne=oe[se]].err));ue=se)oe[ue]=ne;oe[ue]=xe}var ke=K[ve.nn],Te=ve.cnt,Ae=ke.cnt,Pe=1/(Te+Ae);G&&(ve.ac=Pe*(Te*ve.ac+Ae*ke.ac)),ve.rc=Pe*(Te*ve.rc+Ae*ke.rc),ve.gc=Pe*(Te*ve.gc+Ae*ke.gc),ve.bc=Pe*(Te*ve.bc+Ae*ke.bc),ve.cnt+=ke.cnt,ve.mtm=++Y,K[ke.bk].fw=ke.fw,K[ke.fw].bk=ke.bk,ke.mtm=Q}let it=[];for(Y=0;;0){let Ze=g(Math.round(K[Y].rc),0,255),tt=g(Math.round(K[Y].gc),0,255),We=g(Math.round(K[Y].bc),0,255),Ee=255;G&&(Ee=g(Math.round(K[Y].ac),0,255),V&&(Ke=typeof V=="number"?V:127,Ee=Ee<=Ke?0:255),q&&Ee<=ge&&(Ze=tt=We=re,Ee=0));var Ke=G?[Ze,tt,We,Ee]:[Ze,tt,We];if(function(Ue,Oe){for(let le=0;le<Ue.length;le++){var de=Ue[le],ce=de[0]===Oe[0]&&de[1]===Oe[1]&&de[2]===Oe[2],de=!(4<=de.length&&4<=Oe.length)||de[3]===Oe[3];if(ce&&de)return!0}return!1}(it,Ke)||it.push(Ke),(Y=K[Y].fw)==0)break}return it},snapColorsToPalette:()=>function(B,J,ee=5){if(B.length&&J.length){var Z=B.map(j=>j.slice(0,3)),q=ee*ee,re=B[0].length;for(let j=0;j<J.length;j++){let G=J[j];G=G.length<re?[G[0],G[1],G[2],255]:G.length>re?G.slice(0,3):G.slice();var V=C(Z,G.slice(0,3),T),ge=V[0],V=V[1];0<V&&V<=q&&(B[ge]=G)}}}};for(n in u)s(o,n,{get:u[n],enumerable:!0});var m={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function v(B=256){let J=0,ee=new Uint8Array(B);return{get buffer(){return ee.buffer},reset(){J=0},bytesView(){return ee.subarray(0,J)},bytes(){return ee.slice(0,J)},writeByte(q){Z(J+1),ee[J]=q,J++},writeBytes(q,re=0,ge=q.length){Z(J+ge);for(let V=0;V<ge;V++)ee[J++]=q[V+re]},writeBytesView(q,re=0,ge=q.byteLength){Z(J+ge),ee.set(q.subarray(re,re+ge),J),J+=ge}};function Z(q){var re=ee.length;if(!(q<=re)){q=Math.max(q,re*(re<1048576?2:1.125)>>>0),re!=0&&(q=Math.max(q,256));let ge=ee;ee=new Uint8Array(q),0<J&&ee.set(ge.subarray(0,J),0)}}}var c=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],d=function(B,J,ee,G,q=v(512),re=new Uint8Array(256),ge=new Int32Array(5003),V=new Int32Array(5003)){var j=ge.length,G=Math.max(2,G);re.fill(0),V.fill(0),ge.fill(-1);let K=0,ae=0;var Q=G+1;let oe=Q,W=!1,Y=oe,ne=(1<<Y)-1;var ue=1<<Q-1;let se=1+ue,pe=2+ue,ve=0,fe=ee[0],xe=0;for(let Ke=j;Ke<65536;Ke*=2)++xe;xe=8-xe,q.writeByte(G),it(ue);var ke=ee.length;for(let Ke=1;Ke<ke;Ke++)e:{var Te=ee[Ke],Ae=(Te<<12)+fe;let Ze=Te<<xe^fe;if(ge[Ze]===Ae)fe=V[Ze];else{for(var Pe=Ze===0?1:j-Ze;0<=ge[Ze];)if((Ze-=Pe)<0&&(Ze+=j),ge[Ze]===Ae){fe=V[Ze];break e}it(fe),fe=Te,pe<4096?(V[Ze]=pe++,ge[Ze]=Ae):(ge.fill(-1),pe=2+ue,W=!0,it(ue))}}return it(fe),it(se),q.writeByte(0),q.bytesView();function it(Ke){for(K&=c[ae],0<ae?K|=Ke<<ae:K=Ke,ae+=Y;8<=ae;)re[ve++]=255&K,254<=ve&&(q.writeByte(ve),q.writeBytesView(re,0,ve),ve=0),K>>=8,ae-=8;if((pe>ne||W)&&(W?(Y=oe,ne=(1<<Y)-1,W=!1):(++Y,ne=Y===12?1<<Y:(1<<Y)-1)),Ke==se){for(;0<ae;)re[ve++]=255&K,254<=ve&&(q.writeByte(ve),q.writeBytesView(re,0,ve),ve=0),K>>=8,ae-=8;0<ve&&(q.writeByte(ve),q.writeBytesView(re,0,ve),ve=0)}}};function p(B,J,ee){return B<<8&63488|J<<2&992|ee>>3}function f(B,J,ee,Z){return B>>4|240&J|(240&ee)<<4|(240&Z)<<8}function y(B,J,ee){return B>>4<<8|240&J|ee>>4}function g(B,J,ee){return B<J?J:ee<B?ee:B}function _(B){return B*B}function b(B,J,ee){var Z=0,q=1e100;let re=B[J];for(var ge=re.cnt,V=re.ac,j=re.rc,G=re.gc,K=re.bc,ae=re.fw;ae!=0;ae=B[ae].fw){var Q,oe=B[ae],W=oe.cnt,W=ge*W/(ge+W);q<=W||(Q=0,ee&&q<=(Q+=W*_(oe.ac-V))||q<=(Q+=W*_(oe.rc-j))||q<=(Q+=W*_(oe.gc-G))||q<=(Q+=W*_(oe.bc-K))||(q=Q,Z=ae))}re.err=q,re.nn=Z}function w(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function T(B,J){for(var ee=0,Z=0;Z<B.length;Z++){var q=B[Z]-J[Z];ee+=q*q}return ee}function O(B,J){return 1<J?Math.round(B/J)*J:B}function A(B){return B*B}function E(B,J,ee=T){let Z=1/0,q=-1;for(let ge=0;ge<B.length;ge++){var re=ee(J,B[ge]);re<Z&&(Z=re,q=ge)}return q}function C(B,J,ee=T){let Z=1/0,q=-1;for(let ge=0;ge<B.length;ge++){var re=ee(J,B[ge]);re<Z&&(Z=re,q=ge)}return[q,Z]}function I(B={}){let{initialCapacity:J=4096,auto:ee=!0}=B,Z=v(J),q=new Uint8Array(256),re=new Int32Array(5003),ge=new Int32Array(5003),V=!1;return{reset(){Z.reset(),V=!1},finish(){Z.writeByte(m.trailer)},bytes(){return Z.bytes()},bytesView(){return Z.bytesView()},get buffer(){return Z.buffer},get stream(){return Z},writeHeader:j,writeFrame(G,K,ae,fe={}){var{transparent:oe=!1,transparentIndex:W=0,delay:Pe=0,palette:Y=null,repeat:ke=0,colorDepth:ne=8,dispose:ue=-1}=fe;let se=!1;if(ee?V||(se=!0,j(),V=!0):se=!!fe.first,K=Math.max(0,Math.floor(K)),ae=Math.max(0,Math.floor(ae)),se){if(!Y)throw new Error("First frame must include a { palette } option");var[fe,Te,ve,Ae,xe=8]=[Z,K,ae,Y,ne];Ae=H(Ae.length)-1,xe=128|xe-1<<4|Ae,R(fe,Te),R(fe,ve),fe.writeBytes([xe,0,0]),L(Z,Y),0<=ke&&(Ae=Z,Te=ke,Ae.writeByte(33),Ae.writeByte(255),Ae.writeByte(11),D(Ae,"NETSCAPE2.0"),Ae.writeByte(3),Ae.writeByte(1),R(Ae,Te),Ae.writeByte(0))}var pe,ve=Math.round(Pe/10),fe=Z,xe=ue,ke=ve,Te=oe,Ae=W,Pe=(fe.writeByte(33),fe.writeByte(249),fe.writeByte(4),Ae<0&&(Ae=0,Te=!1),Te=Te?(pe=1,2):pe=0,0<=xe&&(Te=7&xe),Te<<=2,fe.writeByte(0|Te|pe),R(fe,ke),fe.writeByte(Ae||0),fe.writeByte(0),!!Y&&!se);ue=Z,oe=K,W=ae,pe=Pe?Y:null,ue.writeByte(44),R(ue,0),R(ue,0),R(ue,oe),R(ue,W),pe?(oe=H(pe.length)-1,ue.writeByte(128|oe)):ue.writeByte(0),Pe&&L(Z,Y),[ke,fe,W,oe,ue=8,Pe,Y,G]=[Z,G,K,ae,ne,q,re,ge],d(W,oe,fe,ue,ke,Pe,Y,G)}};function j(){D(Z,"GIF89a")}}function L(B,J){var ee=1<<H(J.length);for(let Z=0;Z<ee;Z++){let q=[0,0,0];Z<J.length&&(q=J[Z]),B.writeByte(q[0]),B.writeByte(q[1]),B.writeByte(q[2])}}function R(B,J){B.writeByte(255&J),B.writeByte(J>>8&255)}function D(B,J){for(var ee=0;ee<J.length;ee++)B.writeByte(J.charCodeAt(ee))}function H(B){return Math.max(Math.ceil(Math.log2(B)),1)}var z=I},{}],254:[function(t,a,l){l.read=function(n,s,o,u,b){var v,c,d=8*b-u-1,p=(1<<d)-1,f=p>>1,y=-7,g=o?b-1:0,_=o?-1:1,b=n[s+g];for(g+=_,v=b&(1<<-y)-1,b>>=-y,y+=d;0<y;v=256*v+n[s+g],g+=_,y-=8);for(c=v&(1<<-y)-1,v>>=-y,y+=u;0<y;c=256*c+n[s+g],g+=_,y-=8);if(v===0)v=1-f;else{if(v===p)return c?NaN:1/0*(b?-1:1);c+=Math.pow(2,u),v-=f}return(b?-1:1)*c*Math.pow(2,v-u)},l.write=function(n,s,o,u,m,w){var c,d,p=8*w-m-1,f=(1<<p)-1,y=f>>1,g=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=u?0:w-1,b=u?1:-1,w=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(d=isNaN(s)?1:0,c=f):(c=Math.floor(Math.log(s)/Math.LN2),s*(u=Math.pow(2,-c))<1&&(c--,u*=2),2<=(s+=1<=c+y?g/u:g*Math.pow(2,1-y))*u&&(c++,u/=2),f<=c+y?(d=0,c=f):1<=c+y?(d=(s*u-1)*Math.pow(2,m),c+=y):(d=s*Math.pow(2,y-1)*Math.pow(2,m),c=0));8<=m;n[o+_]=255&d,_+=b,d/=256,m-=8);for(c=c<<m|d,p+=m;0<p;n[o+_]=255&c,_+=b,c/=256,p-=8);n[o+_-b]|=128*w}},{}],255:[function(t,a,l){"use strict";var n;function s(ce,de){return ce.b===de.b&&ce.a===de.a}function o(ce,de){return ce.b<de.b||ce.b===de.b&&ce.a<=de.a}function u(ce,de,le){var ye=de.b-ce.b,je=le.b-de.b;return 0<ye+je?ye<je?de.a-ce.a+ye/(ye+je)*(ce.a-le.a):de.a-le.a+je/(ye+je)*(le.a-ce.a):0}function m(ce,de,le){var ye=de.b-ce.b,je=le.b-de.b;return 0<ye+je?(de.a-le.a)*ye+(de.a-ce.a)*je:0}function v(ce,de){return ce.a<de.a||ce.a===de.a&&ce.b<=de.b}function c(ce,de,le){var ye=de.a-ce.a,je=le.a-de.a;return 0<ye+je?ye<je?de.b-ce.b+ye/(ye+je)*(ce.b-le.b):de.b-le.b+je/(ye+je)*(le.b-ce.b):0}function d(ce,de,le){var ye=de.a-ce.a,je=le.a-de.a;return 0<ye+je?(de.b-le.b)*ye+(de.b-ce.b)*je:0}function p(ce,de,le,ye){return(ce=ce<0?0:ce)<=(le=le<0?0:le)?le===0?(de+ye)/2:de+ce/(ce+le)*(ye-de):ye+le/(ce+le)*(de-ye)}function f(ce){var de=w(ce.b);return O(de,ce.c),O(de.b,ce.c),A(de,ce.a),de}function y(ce,de){var le=!1,ye=!1;ce!==de&&(de.a!==ce.a&&(ye=!0,C(de.a,ce.a)),de.d!==ce.d&&(le=!0,I(de.d,ce.d)),T(de,ce),ye||(O(de,ce.a),ce.a.c=ce),le||(A(de,ce.d),ce.d.a=ce))}function g(ce){var de=ce.b,le=!1;ce.d!==ce.b.d&&(le=!0,I(ce.d,ce.b.d)),ce.c===ce?C(ce.a,null):(ce.b.d.a=ce.b.e,ce.a.c=ce.c,T(ce,ce.b.e),le||A(ce,ce.d)),de.c===de?(C(de.a,null),I(de.d,null)):(ce.d.a=de.b.e,de.a.c=de.c,T(de,de.b.e)),E(ce)}function _(ce){var de=w(ce),le=de.b;return T(de,ce.e),de.a=ce.b.a,O(le,de.a),de.d=le.d=ce.d,de=de.b,T(ce.b,ce.b.b.e),T(ce.b,de),ce.b.a=de.a,de.b.a.c=de.b,de.b.d=ce.b.d,de.f=ce.f,de.b.f=ce.b.f,de}function b(ce,de){var le=!1,ye=w(ce),je=ye.b;return de.d!==ce.d&&(le=!0,I(de.d,ce.d)),T(ye,ce.e),T(je,de),ye.a=ce.b.a,je.a=de.a,ye.d=je.d=ce.d,ce.d.a=je,le||A(ye,ce.d),ye}function w(ce){var de=new ve,le=new ve,ye=ce.b.h;return(((le.h=ye).b.h=de).h=ce).b.h=le,de.b=le,((de.c=de).e=le).b=de,(le.c=le).e=de}function T(ce,de){var le=ce.c,ye=de.c;le.b.e=de,(ye.b.e=ce).c=ye,de.c=le}function O(ce,de){var le=de.f,ye=new xe(de,le);for(le.e=ye,le=(de.f=ye).c=ce;le.a=ye,(le=le.c)!==ce;);}function A(ce,de){var le=de.d,ye=new pe(de,le);for(le.b=ye,(de.d=ye).a=ce,ye.c=de.c,le=ce;le.d=ye,(le=le.e)!==ce;);}function E(ce){var de=ce.h;ce=ce.b.h,(de.b.h=ce).b.h=de}function C(ce,de){for(var le=ce.c,ye=le;ye.a=de,(ye=ye.c)!==le;);le=ce.f,((ye=ce.e).f=le).e=ye}function I(ce,de){for(var le=ce.a,ye=le;ye.d=de,(ye=ye.e)!==le;);le=ce.d,((ye=ce.b).d=le).b=ye}function L(ce){var de=0;return Math.abs(ce[1])>Math.abs(ce[0])&&(de=1),de=Math.abs(ce[2])>Math.abs(ce[de])?2:de}function R(ce,de){ce.f+=de.f,ce.b.f+=de.b.f}function D(ce,de,le){return ce=ce.a,de=de.a,le=le.a,de.b.a===ce?le.b.a===ce?o(de.a,le.a)?m(le.b.a,de.a,le.a)<=0:0<=m(de.b.a,le.a,de.a):m(le.b.a,ce,le.a)<=0:le.b.a===ce?0<=m(de.b.a,ce,de.a):(de=u(de.b.a,ce,de.a),(ce=u(le.b.a,ce,le.a))<=de)}function H(ce){ce.a.i=null;var de=ce.e;de.a.c=de.c,de.c.a=de.a,ce.e=null}function z(ce,de){g(ce.a),ce.c=!1,(ce.a=de).i=ce}function B(ce){for(var de=ce.a.a;(ce=Oe(ce)).a.a===de;);return ce.c&&(z(ce,de=b(Ue(ce).a.b,ce.a.e)),ce=Oe(ce)),ce}function J(ce,de,le){var ye=new Ee;return ye.a=le,ye.e=W(ce.f,de.e,ye),le.i=ye}function ee(ce,de){switch(ce.s){case 100130:return(1&de)!=0;case 100131:return de!==0;case 100132:return 0<de;case 100133:return de<0;case 100134:return 2<=de||de<=-2}return!1}function Z(ce){var de=ce.a,le=de.d;le.c=ce.d,le.a=de,H(ce)}function q(ce,de,le){for(de=(ce=de).a;ce!==le;){ce.c=!1;var ye=Ue(ce),je=ye.a;if(je.a!==de.a){if(!ye.c){Z(ce);break}z(ye,je=b(de.c.b,je.b))}de.c!==je&&(y(je.b.e,je),y(de,je)),Z(ce),de=ye.a,ce=ye}return de}function re(ce,de,le,ye,je,Le){for(var Be=!0;J(ce,de,le.b),(le=le.c)!==ye;);for(je===null&&(je=Ue(de).a.b.c);(le=(ye=Ue(de)).a.b).a===je.a;)le.c!==je&&(y(le.b.e,le),y(je.b.e,le)),ye.f=de.f-le.f,ye.d=ee(ce,ye.f),de.b=!0,!Be&&G(ce,de)&&(R(le,je),H(de),g(je)),Be=!1,de=ye,je=le;de.b=!0,Le&&ae(ce,de)}function ge(ce,de,le,ye,je){var Le=[de.g[0],de.g[1],de.g[2]];de.d=null,de.d=ce.o&&ce.o(Le,le,ye,ce.c)||null,de.d===null&&(je?ce.n||(se(ce,100156),ce.n=!0):de.d=le[0])}function V(ce,de,le){var ye=[null,null,null,null];ye[0]=de.a.d,ye[1]=le.a.d,ge(ce,de.a,ye,[.5,.5,0,0],!1),y(de,le)}function j(ce,de,le,ye,je){var Le=Math.abs(de.b-ce.b)+Math.abs(de.a-ce.a),Be=Math.abs(le.b-ce.b)+Math.abs(le.a-ce.a),Ye=je+1;ye[je]=.5*Be/(Le+Be),ye[Ye]=.5*Le/(Le+Be),ce.g[0]+=ye[je]*de.g[0]+ye[Ye]*le.g[0],ce.g[1]+=ye[je]*de.g[1]+ye[Ye]*le.g[1],ce.g[2]+=ye[je]*de.g[2]+ye[Ye]*le.g[2]}function G(ce,de){var le=Ue(de),ye=de.a,je=le.a;if(o(ye.a,je.a)){if(0<m(je.b.a,ye.a,je.a))return;if(s(ye.a,je.a)){if(ye.a!==je.a){var le=ce.e,Le=ye.a.h;if(0<=Le){var Be=(le=le.b).d,Ye=le.e,Ge=le.c,Je=Ge[Le];Be[Je]=Be[le.a],(Ge[Be[Je]]=Je)<=--le.a&&(Je<=1||o(Ye[Be[Je>>1]],Ye[Be[Je]])?tt:We)(le,Je),Ye[Le]=null,Ge[Le]=le.b,le.b=Le}else for(le.c[-(Le+1)]=null;0<le.a&&le.c[le.d[le.a-1]]===null;)--le.a;V(ce,je.b.e,ye)}}else _(je.b),y(ye,je.b.e),de.b=le.b=!0}else{if(m(ye.b.a,je.a,ye.a)<0)return;Oe(de).b=de.b=!0,_(ye.b),y(je.b.e,ye)}return 1}function K(ce,de){var le=Ue(de),ye=de.a,je=le.a,Le=ye.a,Be=je.a,Ye=ye.b.a,Ge=je.b.a,Je=new xe;if(m(Ye,ce.a,Le),m(Ge,ce.a,Be),!(Le===Be||Math.min(Le.a,Ye.a)>Math.max(Be.a,Ge.a))){if(o(Le,Be)){if(0<m(Ge,Le,Be))return}else if(m(Ye,Be,Le)<0)return;var rt,_t,ht=Ye,lt=Le,St=Ge,pt=Be;if(o(ht,lt)||(rt=ht,ht=lt,lt=rt),o(St,pt)||(rt=St,St=pt,pt=rt),o(ht,St)||(rt=ht,ht=St,St=rt,rt=lt,lt=pt,pt=rt),o(St,lt)?o(lt,pt)?((rt=u(ht,St,lt))+(_t=u(St,lt,pt))<0&&(rt=-rt,_t=-_t),Je.b=p(rt,St.b,_t,lt.b)):((rt=m(ht,St,lt))+(_t=-m(ht,pt,lt))<0&&(rt=-rt,_t=-_t),Je.b=p(rt,St.b,_t,pt.b)):Je.b=(St.b+lt.b)/2,v(ht,lt)||(rt=ht,ht=lt,lt=rt),v(St,pt)||(rt=St,St=pt,pt=rt),v(ht,St)||(rt=ht,ht=St,St=rt,rt=lt,lt=pt,pt=rt),v(St,lt)?v(lt,pt)?((rt=c(ht,St,lt))+(_t=c(St,lt,pt))<0&&(rt=-rt,_t=-_t),Je.a=p(rt,St.a,_t,lt.a)):((rt=d(ht,St,lt))+(_t=-d(ht,pt,lt))<0&&(rt=-rt,_t=-_t),Je.a=p(rt,St.a,_t,pt.a)):Je.a=(St.a+lt.a)/2,o(Je,ce.a)&&(Je.b=ce.a.b,Je.a=ce.a.a),ht=o(Le,Be)?Le:Be,o(ht,Je)&&(Je.b=ht.b,Je.a=ht.a),s(Je,Le)||s(Je,Be))return G(ce,de),0;if(!s(Ye,ce.a)&&0<=m(Ye,ce.a,Je)||!s(Ge,ce.a)&&m(Ge,ce.a,Je)<=0){if(Ge===ce.a)_(ye.b),y(je.b,ye),ye=Ue(de=B(de)).a,q(ce,Ue(de),le),re(ce,de,ye.b.e,ye,ye,!0);else{if(Ye!==ce.a)return 0<=m(Ye,ce.a,Je)&&(Oe(de).b=de.b=!0,_(ye.b),ye.a.b=ce.a.b,ye.a.a=ce.a.a),void(m(Ge,ce.a,Je)<=0&&(de.b=le.b=!0,_(je.b),je.a.b=ce.a.b,je.a.a=ce.a.a));for(_(je.b),y(ye.e,je.b.e),Be=(Le=le=de).a.b.a;(Le=Oe(Le)).a.b.a===Be;);Le=Ue(de=Le).a.b.c,le.a=je.b.e,re(ce,de,(je=q(ce,le,null)).c,ye.b.c,Le,!0)}return 1}_(ye.b),_(je.b),y(je.b.e,ye),ye.a.b=Je.b,ye.a.a=Je.a,ye.a.h=Te(ce.e,ye.a),ye=ye.a,je=[0,0,0,0],Je=[Le.d,Ye.d,Be.d,Ge.d],ye.g[0]=ye.g[1]=ye.g[2]=0,j(ye,Le,Ye,je,0),j(ye,Be,Ge,je,2),ge(ce,ye,Je,je,!0),Oe(de).b=de.b=le.b=!0}}function ae(ce,de){for(var le=Ue(de);;){for(;le.b;)le=Ue(de=le);if(!de.b&&((de=Oe(le=de))===null||!de.b))break;de.b=!1;var ye=de.a,je=le.a;if(Le=ye.b.a!==je.b.a)e:{var Le,Be=Ue(Le=de),Ye=Le.a,Ge=Be.a,Je=void 0;if(o(Ye.b.a,Ge.b.a)){if(m(Ye.b.a,Ge.b.a,Ye.a)<0){Le=!1;break e}Oe(Le).b=Le.b=!0,Je=_(Ye),y(Ge.b,Je),Je.d.c=Le.d}else{if(0<m(Ge.b.a,Ye.b.a,Ge.a)){Le=!1;break e}Le.b=Be.b=!0,Je=_(Ge),y(Ye.e,Ge.b),Je.b.d.c=Le.d}Le=!0}if(Le&&(le.c?(H(le),g(je),je=(le=Ue(de)).a):de.c&&(H(de),g(ye),ye=(de=Oe(le)).a)),ye.a!==je.a){if(ye.b.a===je.b.a||de.c||le.c||ye.b.a!==ce.a&&je.b.a!==ce.a)G(ce,de);else if(K(ce,de))break}ye.a===je.a&&ye.b.a===je.b.a&&(R(je,ye),H(de),g(ye),de=Oe(le))}}function Q(ce,de){var le=new Ee,ye=f(ce.b);ye.a.b=4e150,ye.a.a=de,ye.b.a.b=-4e150,ye.b.a.a=de,ce.a=ye.b.a,le.a=ye,le.f=0,le.d=!1,le.c=!1,le.h=!0,le.b=!1,ye=W(ye=ce.f,ye.a,le),le.e=ye}function oe(ce){this.a=new Y,this.b=ce,this.c=D}function W(ce,de,le){for(;(de=de.c).b!==null&&!ce.c(ce.b,de.b,le););return ce=new Y(le,de.a,de),de.a.c=ce,de.a=ce}function Y(ce,de,le){this.b=ce||null,this.a=de||this,this.c=le||this}function ne(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function ue(ce,de){if(ce.d!==de)for(;ce.d!==de;)if(ce.d<de)switch(ce.d){case 0:se(ce,100151),ce.u(null);break;case 1:se(ce,100152),ce.t()}else switch(ce.d){case 2:se(ce,100154),ce.v();break;case 1:se(ce,100153),ce.w()}}function se(ce,de){ce.p&&ce.p(de,ce.c)}function pe(ce,de){this.b=ce||this,this.d=de||this,this.a=null,this.c=!1}function ve(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function fe(){this.c=new xe,this.a=new pe,this.b=new ve,this.d=new ve,this.b.b=this.d,this.d.b=this.b}function xe(ce,de){this.e=ce||this,this.f=de||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function ke(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Pe}function Te(ce,de){var le,ye,je;return ce.e?(2*(ye=++(le=ce.b).a)>le.f&&(le.f*=2,le.c=it(le.c,le.f+1)),le.b===0?je=ye:(je=le.b,le.b=le.c[le.b]),le.e[je]=de,le.c[je]=ye,le.d[ye]=je,le.h&&We(le,ye),je):(le=ce.a++,ce.c[le]=de,-(le+1))}function Ae(ce){if(ce.a===0)return Ze(ce.b);var de=ce.c[ce.d[ce.a-1]];if(ce.b.a!==0&&o(Ke(ce.b),de))return Ze(ce.b);for(;--ce.a,0<ce.a&&ce.c[ce.d[ce.a-1]]===null;);return de}function Pe(){this.d=it([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function it(ce,de){for(var le=Array(de),ye=0;ye<ce.length;ye++)le[ye]=ce[ye];for(;ye<de;ye++)le[ye]=0;return le}function Ke(ce){return ce.e[ce.d[1]]}function Ze(ce){var de=ce.d,le=ce.e,ye=ce.c,je=de[1],Le=le[je];return 0<ce.a&&(de[1]=de[ce.a],ye[de[1]]=1,le[je]=null,ye[je]=ce.b,ce.b=je,0<--ce.a&&tt(ce,1)),Le}function tt(ce,de){for(var le=ce.d,ye=ce.e,je=ce.c,Le=de,Be=le[Le];;){var Ye=Le<<1,Ge=(Ye<ce.a&&o(ye[le[Ye+1]],ye[le[Ye]])&&(Ye+=1),le[Ye]);if(Ye>ce.a||o(ye[Be],ye[Ge])){je[le[Le]=Be]=Le;break}je[le[Le]=Ge]=Le,Le=Ye}}function We(ce,de){for(var le=ce.d,ye=ce.e,je=ce.c,Le=de,Be=le[Le];;){var Ye=Le>>1,Ge=le[Ye];if(Ye==0||o(ye[Ge],ye[Be])){je[le[Le]=Be]=Le;break}je[le[Le]=Ge]=Le,Le=Ye}}function Ee(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Ue(ce){return ce.e.c.b}function Oe(ce){return ce.e.a.b}(n=ne.prototype).x=function(){ue(this,0)},n.B=function(ce,de){switch(ce){case 100142:return;case 100140:switch(de){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=de)}break;case 100141:return void(this.m=!!de);default:return void se(this,100900)}se(this,100901)},n.y=function(ce){switch(ce){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:se(this,100900)}return!1},n.A=function(ce,de,le){this.j[0]=ce,this.j[1]=de,this.j[2]=le},n.z=function(ce,de){var le=de||null;switch(ce){case 100100:case 100106:this.h=le;break;case 100104:case 100110:this.l=le;break;case 100101:case 100107:this.k=le;break;case 100102:case 100108:this.i=le;break;case 100103:case 100109:this.p=le;break;case 100105:case 100111:this.o=le;break;case 100112:this.r=le;break;default:se(this,100900)}},n.C=function(ce,de){var le=!1,ye=[0,0,0];ue(this,2);for(var je=0;je<3;++je){var Le=ce[je];Le<-1e150&&(Le=-1e150,le=!0),1e150<Le&&(Le=1e150,le=!0),ye[je]=Le}le&&se(this,100155),(le=this.q)===null?y(le=f(this.b),le.b):(_(le),le=le.e),le.a.d=de,le.a.g[0]=ye[0],le.a.g[1]=ye[1],le.a.g[2]=ye[2],le.f=1,le.b.f=-1,this.q=le},n.u=function(ce){ue(this,0),this.d=1,this.b=new fe,this.c=ce},n.t=function(){ue(this,1),this.d=2,this.q=null},n.v=function(){ue(this,2),this.d=1},n.w=function(){ue(this,1),this.d=0;var ce,de,le=this.j[0],ye=this.j[1],je=this.j[2],Le=!1,Be=[le,ye,je];if(le===0&&ye===0&&je===0){for(var ye=[-2e150,-2e150,-2e150],Ye=[2e150,2e150,2e150],je=[],Ge=[],le=(Le=this.b.c).e;le!==Le;le=le.e)for(var Je=0;Je<3;++Je){var rt=le.g[Je];rt<Ye[Je]&&(Ye[Je]=rt,Ge[Je]=le),rt>ye[Je]&&(ye[Je]=rt,je[Je]=le)}if(ye[1]-Ye[1]>ye[le=0]-Ye[0]&&(le=1),Ye[le=ye[2]-Ye[2]>ye[le]-Ye[le]?2:le]>=ye[le])Be[0]=0,Be[1]=0,Be[2]=1;else{for(Ye=Ge[le],je=je[le],Ge=[ye=0,0,0],Ye=[Ye.g[0]-je.g[0],Ye.g[1]-je.g[1],Ye.g[2]-je.g[2]],Je=[0,0,0],le=Le.e;le!==Le;le=le.e)Je[0]=le.g[0]-je.g[0],Je[1]=le.g[1]-je.g[1],Je[2]=le.g[2]-je.g[2],Ge[0]=Ye[1]*Je[2]-Ye[2]*Je[1],Ge[1]=Ye[2]*Je[0]-Ye[0]*Je[2],Ge[2]=Ye[0]*Je[1]-Ye[1]*Je[0],ye<(rt=Ge[0]*Ge[0]+Ge[1]*Ge[1]+Ge[2]*Ge[2])&&(ye=rt,Be[0]=Ge[0],Be[1]=Ge[1],Be[2]=Ge[2]);ye<=0&&(Be[0]=Be[1]=Be[2]=0,Be[L(Ye)]=1)}Le=!0}for(Ge=L(Be),le=this.b.c,ye=(Ge+1)%3,je=(Ge+2)%3,Ge=0<Be[Ge]?1:-1,Be=le.e;Be!==le;Be=Be.e)Be.b=Be.g[ye],Be.a=Ge*Be.g[je];if(Le){for(Be=0,le=(Le=this.b.a).b;le!==Le;le=le.b)if(!((ye=le.a).f<=0))for(;Be+=(ye.a.b-ye.b.a.b)*(ye.a.a+ye.b.a.a),(ye=ye.e)!==le.a;);if(Be<0)for(Le=(Be=this.b.c).e;Le!==Be;Le=Le.e)Le.a=-Le.a}for(this.n=!1,Be=this.b.b,le=Be.h;le!==Be;le=Le)Le=le.h,ye=le.e,s(le.a,le.b.a)&&le.e.e!==le&&(V(this,ye,le),g(le),ye=(le=ye).e),ye.e===le&&(ye!==le&&(ye!==Le&&ye!==Le.b||(Le=Le.h),g(ye)),le!==Le&&le!==Le.b||(Le=Le.h),g(le));for(this.e=Be=new ke,Le=this.b.c,le=Le.e;le!==Le;le=le.e)le.h=Te(Be,le);var _t=Be;_t.d=[];for(var ht=0;ht<_t.a;ht++)_t.d[ht]=ht;_t.d.sort(function(pt){return function(sr,wt){return o(pt[sr],pt[wt])?1:-1}}(_t.c)),_t.e=!0;for(var lt=_t.b,St=lt.a;1<=St;--St)tt(lt,St);for(lt.h=!0,this.f=new oe(this),Q(this,-4e150),Q(this,4e150);(Be=Ae(this.e))!==null;){for(;;){e:if((le=this.e).a===0)Le=Ke(le.b);else if(Le=le.c[le.d[le.a-1]],le.b.a!==0&&o(le=Ke(le.b),Le)){Le=le;break e}if(Le===null||!s(Le,Be))break;Le=Ae(this.e),V(this,Be.c,Le.c)}(function pt(sr,wt){for(var ut,yt=(sr.a=wt).c;yt.i===null;)if((yt=yt.c)===wt.c){var yt=sr,Qe=wt;(Pt=new Ee).a=Qe.c.b;for(var jt=(at=yt.f).a;(jt=jt.a).b!==null&&!at.c(at.b,Pt,jt.b););var at,ct,gt=Ue(at=jt.b),Pt=at.a,jt=gt.a;return void(m(Pt.b.a,Qe,Pt.a)===0?s((Pt=at.a).a,Qe)||s(Pt.b.a,Qe)||(_(Pt.b),at.c&&(g(Pt.c),at.c=!1),y(Qe.c,Pt),pt(yt,Qe)):(ct=o(jt.b.a,Pt.b.a)?at:gt,gt=void 0,at.d||ct.c?(gt=ct===at?b(Qe.c.b,Pt.e):b(jt.b.c.b,Qe.c).b,ct.c?z(ct,gt):((at=J(Pt=yt,at,gt)).f=Oe(at).f+at.a.f,at.d=ee(Pt,at.f)),pt(yt,Qe)):re(yt,at,Qe.c,Qe.c,null,!0)))}at=(Pt=Ue(yt=B(yt.i))).a,(Pt=q(sr,Pt,null)).c===at?(Pt=(at=Pt).c,jt=Ue(yt),gt=yt.a,ct=jt.a,ut=!1,gt.b.a!==ct.b.a&&K(sr,yt),s(gt.a,sr.a)&&(y(Pt.b.e,gt),Pt=Ue(yt=B(yt)).a,q(sr,Ue(yt),jt),ut=!0),s(ct.a,sr.a)&&(y(at,ct.b.e),at=q(sr,jt,null),ut=!0),ut?re(sr,yt,at.c,Pt,Pt,!0):(Qe=o(ct.a,gt.a)?ct.b.e:gt,re(sr,yt,Qe=b(at.c.b,Qe),Qe.c,Qe.c,!1),Qe.b.i.c=!0,ae(sr,yt))):re(sr,yt,Pt.c,at,at,!0)})(this,Be)}for(this.a=this.f.a.a.b.a.a,Be=0;(Le=this.f.a.a.b)!==null;)Le.h||++Be,H(Le);for(this.f=null,(Be=this.e).b=null,Be.d=null,this.e=Be.c=null,Be=this.b,le=Be.a.b;le!==Be.a;le=Le)Le=le.b,(le=le.a).e.e===le&&(R(le.c,le),g(le));if(!this.n){if(Be=this.b,this.m)for(le=Be.b.h;le!==Be.b;le=Le)Le=le.h,le.b.d.c!==le.d.c?le.f=le.d.c?1:-1:g(le);else for(le=Be.a.b;le!==Be.a;le=Le)if(Le=le.b,le.c){for(le=le.a;o(le.b.a,le.a);le=le.c.b);for(;o(le.a,le.b.a);le=le.e);for(ye=le.c.b,je=void 0;le.e!==ye;)if(o(le.b.a,ye.a)){for(;ye.e!==le&&(o((de=ye.e).b.a,de.a)||m(ye.a,ye.b.a,ye.e.b.a)<=0);)ye=(je=b(ye.e,ye)).b;ye=ye.c.b}else{for(;ye.e!==le&&(o((ce=le.c.b).a,ce.b.a)||0<=m(le.b.a,le.a,le.c.b.a));)le=(je=b(le,le.c.b)).b;le=le.e}for(;ye.e.e!==le;)je=b(ye.e,ye),ye=je.b}if(this.h||this.i||this.k||this.l)if(this.m){for(Le=(Be=this.b).a.b;Le!==Be.a;Le=Le.b)if(Le.c){for(this.h&&this.h(2,this.c),le=Le.a;this.k&&this.k(le.a.d,this.c),(le=le.e)!==Le.a;);this.i&&this.i(this.c)}}else{for(Be=this.b,Le=!!this.l,le=!1,ye=-1,je=Be.a.d;je!==Be.a;je=je.d)if(je.c)for(le||(this.h&&this.h(4,this.c),le=!0),Ge=je.a;Le&&(Ye=Ge.b.d.c?0:1,ye!==Ye&&(ye=Ye,this.l&&this.l(!!ye,this.c))),this.k&&this.k(Ge.a.d,this.c),(Ge=Ge.e)!==je.a;);le&&this.i&&this.i(this.c)}if(this.r){for(Be=this.b,le=Be.a.b;le!==Be.a;le=Le)if(Le=le.b,!le.c){for(je=(ye=le.a).e,Ge=void 0;je=(Ge=je).e,(Ge.d=null)===Ge.b.d&&(Ge.c===Ge?C(Ge.a,null):(Ge.a.c=Ge.c,T(Ge,Ge.b.e)),(Ye=Ge.b).c===Ye?C(Ye.a,null):(Ye.a.c=Ye.c,T(Ye,Ye.b.e)),E(Ge)),Ge!==ye;);ye=le.d,((le=le.b).d=ye).b=le}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:ne,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},ne.prototype.gluDeleteTess=ne.prototype.x,ne.prototype.gluTessProperty=ne.prototype.B,ne.prototype.gluGetTessProperty=ne.prototype.y,ne.prototype.gluTessNormal=ne.prototype.A,ne.prototype.gluTessCallback=ne.prototype.z,ne.prototype.gluTessVertex=ne.prototype.C,ne.prototype.gluTessBeginPolygon=ne.prototype.u,ne.prototype.gluTessBeginContour=ne.prototype.t,ne.prototype.gluTessEndContour=ne.prototype.v,ne.prototype.gluTessEndPolygon=ne.prototype.w,a!==void 0&&(a.exports=this.libtess)},{}],256:[function(t,a,l){"use strict";function n(o,u,m,v){var c=0,d=(v=v===void 0?{}:v).loop===void 0?null:v.loop,p=v.palette===void 0?null:v.palette;if(u<=0||m<=0||65535<u||65535<m)throw new Error("Width/Height invalid.");function f(A){if(A=A.length,A<2||256<A||A&A-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return A}o[c++]=71,o[c++]=73,o[c++]=70,o[c++]=56,o[c++]=57,o[c++]=97;var y=0,g=0;if(p!==null){for(var _=f(p);_>>=1;)++y;if(_=1<<y,--y,v.background!==void 0){if(_<=(g=v.background))throw new Error("Background index out of range.");if(g===0)throw new Error("Background index explicitly passed as 0.")}}if(o[c++]=255&u,o[c++]=u>>8&255,o[c++]=255&m,o[c++]=m>>8&255,o[c++]=(p!==null?128:0)|y,o[c++]=g,o[c++]=0,p!==null)for(var b=0,w=p.length;b<w;++b){var T=p[b];o[c++]=T>>16&255,o[c++]=T>>8&255,o[c++]=255&T}if(d!==null){if(d<0||65535<d)throw new Error("Loop count invalid.");o[c++]=33,o[c++]=255,o[c++]=11,o[c++]=78,o[c++]=69,o[c++]=84,o[c++]=83,o[c++]=67,o[c++]=65,o[c++]=80,o[c++]=69,o[c++]=50,o[c++]=46,o[c++]=48,o[c++]=3,o[c++]=1,o[c++]=255&d,o[c++]=d>>8&255,o[c++]=0}var O=!1;this.addFrame=function(A,E,C,I,L,R){if(O===!0&&(--c,O=!1),R=R===void 0?{}:R,A<0||E<0||65535<A||65535<E)throw new Error("x/y invalid.");if(C<=0||I<=0||65535<C||65535<I)throw new Error("Width/Height invalid.");if(L.length<C*I)throw new Error("Not enough pixels for the frame size.");var D=!0,H=R.palette;if(H==null&&(D=!1,H=p),H==null)throw new Error("Must supply either a local or global palette.");for(var B=f(H),z=0;B>>=1;)++z;var B=1<<z,J=R.delay===void 0?0:R.delay,ee=R.disposal===void 0?0:R.disposal;if(ee<0||3<ee)throw new Error("Disposal out of range.");var Z=!1,q=0;if(R.transparent!==void 0&&R.transparent!==null&&(Z=!0,(q=R.transparent)<0||B<=q))throw new Error("Transparent color index.");if(ee===0&&!Z&&J===0||(o[c++]=33,o[c++]=249,o[c++]=4,o[c++]=ee<<2|(Z===!0?1:0),o[c++]=255&J,o[c++]=J>>8&255,o[c++]=q,o[c++]=0),o[c++]=44,o[c++]=255&A,o[c++]=A>>8&255,o[c++]=255&E,o[c++]=E>>8&255,o[c++]=255&C,o[c++]=C>>8&255,o[c++]=255&I,o[c++]=I>>8&255,o[c++]=D===!0?128|z-1:0,D===!0)for(var re=0,ge=H.length;re<ge;++re){var V=H[re];o[c++]=V>>16&255,o[c++]=V>>8&255,o[c++]=255&V}return c=function(j,G,K,ae){j[G++]=K;var Q=G++,oe=1<<K,W=oe-1,Y=1+oe,ne=1+Y,ue=K+1,se=0,pe=0;function ve(Ze){for(;Ze<=se;)j[G++]=255&pe,pe>>=8,se-=8,G===Q+256&&(j[Q]=255,Q=G++)}function fe(Ze){pe|=Ze<<se,se+=ue,ve(8)}var xe=ae[0]&W,ke={};fe(oe);for(var Te=1,Ae=ae.length;Te<Ae;++Te){var Pe=ae[Te]&W,it=xe<<8|Pe,Ke=ke[it];if(Ke===void 0){for(pe|=xe<<se,se+=ue;8<=se;)j[G++]=255&pe,pe>>=8,se-=8,G===Q+256&&(j[Q]=255,Q=G++);ne===4096?(fe(oe),ne=1+Y,ue=K+1,ke={}):(1<<ue<=ne&&++ue,ke[it]=ne++),xe=Pe}else xe=Ke}return fe(xe),fe(Y),ve(1),Q+1===G?j[Q]=0:(j[Q]=G-Q-1,j[G++]=0),G}(o,c,z<2?2:z,L)},this.end=function(){return O===!1&&(o[c++]=59,O=!0),c},this.getOutputBuffer=function(){return o},this.setOutputBuffer=function(A){o=A},this.getOutputBufferPosition=function(){return c},this.setOutputBufferPosition=function(A){c=A}}function s(o,u,m,v){for(var c=o[u++],d=1<<c,p=1+d,f=1+p,y=c+1,g=(1<<y)-1,_=0,b=0,w=0,T=o[u++],O=new Int32Array(4096),A=null;;){for(;_<16&&T!==0;)b|=o[u++]<<_,_+=8,T===1?T=o[u++]:--T;if(_<y)break;var E=b&g;if(b>>=y,_-=y,E==d)f=1+p,g=(1<<(y=c+1))-1,A=null;else{if(E==p)break;for(var C=E<f?E:A,I=0,L=C;d<L;)L=O[L]>>8,++I;var R=L;if(v<w+I+(C!==E?1:0))return void console.log("Warning, gif stream longer than expected.");m[w++]=R;var D=w+=I;for(C!==E&&(m[w++]=R),L=C;I--;)L=O[L],m[--D]=255&L,L>>=8;A!==null&&f<4096&&(O[f++]=A<<8|R,g+1<=f&&y<12&&(++y,g=g<<1|1)),A=E}}w!==v&&console.log("Warning, gif stream shorter than expected.")}try{l.GifWriter=n,l.GifReader=function(o){var u=0;if(o[u++]!==71||o[u++]!==73||o[u++]!==70||o[u++]!==56||(o[u++]+1&253)!=56||o[u++]!==97)throw new Error("Invalid GIF 87a/89a header.");var m=o[u++]|o[u++]<<8,v=o[u++]|o[u++]<<8,c=o[u++],d=1<<1+(7&c),p=(o[u++],o[u++],null),f=null,y=(c>>7&&(p=u,u+=3*(f=d)),!0),g=[],_=0,b=null,w=0,T=null;for(this.width=m,this.height=v;y&&u<o.length;)switch(o[u++]){case 33:switch(o[u++]){case 255:if(o[u]!==11||o[u+1]==78&&o[u+2]==69&&o[u+3]==84&&o[u+4]==83&&o[u+5]==67&&o[u+6]==65&&o[u+7]==80&&o[u+8]==69&&o[u+9]==50&&o[u+10]==46&&o[u+11]==48&&o[u+12]==3&&o[u+13]==1&&o[u+16]==0)u+=14,T=o[u++]|o[u++]<<8,u++;else for(u+=12;;){if(!(0<=(A=o[u++])))throw Error("Invalid block size");if(A===0)break;u+=A}break;case 249:if(o[u++]!==4||o[u+4]!==0)throw new Error("Invalid graphics extension block.");var O=o[u++],_=o[u++]|o[u++]<<8,b=o[u++];!(1&O)&&(b=null),w=O>>2&7,u++;break;case 254:for(;;){if(!(0<=(A=o[u++])))throw Error("Invalid block size");if(A===0)break;u+=A}break;default:throw new Error("Unknown graphic control label: 0x"+o[u-1].toString(16))}break;case 44:var A,E=o[u++]|o[u++]<<8,C=o[u++]|o[u++]<<8,I=o[u++]|o[u++]<<8,L=o[u++]|o[u++]<<8,J=o[u++],R=J>>6&1,D=1<<1+(7&J),H=p,z=f,B=!1,J=(J>>7&&(B=!0,H=u,u+=3*(z=D)),u);for(u++;;){if(!(0<=(A=o[u++])))throw Error("Invalid block size");if(A===0)break;u+=A}g.push({x:E,y:C,width:I,height:L,has_local_palette:B,palette_offset:H,palette_size:z,data_offset:J,data_length:u-J,transparent_index:b,interlaced:!!R,delay:_,disposal:w});break;case 59:y=!1;break;default:throw new Error("Unknown gif block: 0x"+o[u-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return T},this.frameInfo=function(ee){if(ee<0||ee>=g.length)throw new Error("Frame index out of range.");return g[ee]},this.decodeAndBlitFrameBGRA=function(ee,Z){for(var ee=this.frameInfo(ee),q=ee.width*ee.height,re=new Uint8Array(q),ge=(s(o,ee.data_offset,re,q),ee.palette_offset),V=ee.transparent_index,j=(V===null&&(V=256),ee.width),G=m-j,K=j,ae=4*(ee.y*m+ee.x),Q=4*((ee.y+ee.height)*m+ee.x),oe=ae,W=4*G,Y=(ee.interlaced===!0&&(W+=4*m*7),8),ne=0,ue=re.length;ne<ue;++ne){var se,pe,ve=re[ne];K===0&&(K=j,Q<=(oe+=W)&&(W=4*G+4*m*(Y-1),oe=ae+(j+G)*(Y<<1),Y>>=1)),ve===V?oe+=4:(se=o[ge+3*ve],pe=o[ge+3*ve+1],ve=o[ge+3*ve+2],Z[oe++]=ve,Z[oe++]=pe,Z[oe++]=se,Z[oe++]=255),--K}},this.decodeAndBlitFrameRGBA=function(ee,Z){for(var ee=this.frameInfo(ee),q=ee.width*ee.height,re=new Uint8Array(q),ge=(s(o,ee.data_offset,re,q),ee.palette_offset),V=ee.transparent_index,j=(V===null&&(V=256),ee.width),G=m-j,K=j,ae=4*(ee.y*m+ee.x),Q=4*((ee.y+ee.height)*m+ee.x),oe=ae,W=4*G,Y=(ee.interlaced===!0&&(W+=4*m*7),8),ne=0,ue=re.length;ne<ue;++ne){var se,pe,ve=re[ne];K===0&&(K=j,Q<=(oe+=W)&&(W=4*G+4*m*(Y-1),oe=ae+(j+G)*(Y<<1),Y>>=1)),ve===V?oe+=4:(se=o[ge+3*ve],pe=o[ge+3*ve+1],ve=o[ge+3*ve+2],Z[oe++]=se,Z[oe++]=pe,Z[oe++]=ve,Z[oe++]=255),--K}}}}catch{}},{}],257:[function(t,a,l){(function(n){var s,o;s=this,o=function(u){"use strict";function m(X){if(this==null)throw TypeError();var k,P=String(this),F=P.length,X=X?Number(X):0;if(!((X=X!=X?0:X)<0||F<=X))return 55296<=(k=P.charCodeAt(X))&&k<=56319&&X+1<F&&56320<=(F=P.charCodeAt(X+1))&&F<=57343?1024*(k-55296)+F-56320+65536:k}String.prototype.codePointAt||((v=function(){try{var x={},k=Object.defineProperty,P=k(x,x,x)&&k}catch{}return P}())?v(String.prototype,"codePointAt",{value:m,configurable:!0,writable:!0}):String.prototype.codePointAt=m);var v,c=0,d=-3;function p(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function f(x,k){this.source=x,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=k,this.destLen=0,this.ltree=new p,this.dtree=new p}var y=new p,g=new p,_=new Uint8Array(30),b=new Uint16Array(30),w=new Uint8Array(30),T=new Uint16Array(30),O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),A=new p,E=new Uint8Array(320);function C(x,k,P,F){for(var X,te=0;te<P;++te)x[te]=0;for(te=0;te<30-P;++te)x[te+P]=te/P|0;for(X=F,te=0;te<30;++te)k[te]=X,X+=1<<x[te]}var I=new Uint16Array(16);function L(x,k,P,F){for(var X,te=0;te<16;++te)x.table[te]=0;for(te=0;te<F;++te)x.table[k[P+te]]++;for(te=X=x.table[0]=0;te<16;++te)I[te]=X,X+=x.table[te];for(te=0;te<F;++te)k[P+te]&&(x.trans[I[k[P+te]]++]=te)}function R(x,k,P){if(!k)return P;for(;x.bitcount<24;)x.tag|=x.source[x.sourceIndex++]<<x.bitcount,x.bitcount+=8;var F=x.tag&65535>>>16-k;return x.tag>>>=k,x.bitcount-=k,F+P}function D(x,k){for(;x.bitcount<24;)x.tag|=x.source[x.sourceIndex++]<<x.bitcount,x.bitcount+=8;for(var P=0,F=0,X=0,te=x.tag;F=2*F+(1&te),te>>>=1,P+=k.table[++X],0<=(F-=k.table[X]););return x.tag=te,x.bitcount-=X,k.trans[P+F]}function H(x,k,P){for(;;){var F=D(x,k);if(F===256)return c;if(F<256)x.dest[x.destLen++]=F;else for(var X,te=R(x,_[F-=257],b[F]),F=D(x,P),ie=X=x.destLen-R(x,w[F],T[F]);ie<X+te;++ie)x.dest[x.destLen++]=x.dest[ie]}}for(var z=y,B=g,J=0;J<7;++J)z.table[J]=0;for(z.table[7]=24,z.table[8]=152,z.table[9]=112,J=0;J<24;++J)z.trans[J]=256+J;for(J=0;J<144;++J)z.trans[24+J]=J;for(J=0;J<8;++J)z.trans[168+J]=280+J;for(J=0;J<112;++J)z.trans[176+J]=144+J;for(J=0;J<5;++J)B.table[J]=0;for(B.table[5]=32,J=0;J<32;++J)B.trans[J]=J;C(_,b,4,3),C(w,T,2,1),_[28]=0,b[28]=258;var ee=function(x,k){var P,F,X,te=new f(x,k);do{switch(X=void 0,(F=te).bitcount--||(F.tag=F.source[F.sourceIndex++],F.bitcount=7),X=1&F.tag,F.tag>>>=1,F=X,R(te,2,0)){case 0:P=function(Fe){for(var vt,It;8<Fe.bitcount;)Fe.sourceIndex--,Fe.bitcount-=8;if((vt=256*Fe.source[Fe.sourceIndex+1]+Fe.source[Fe.sourceIndex])!==(65535&~(256*Fe.source[Fe.sourceIndex+3]+Fe.source[Fe.sourceIndex+2])))return d;for(Fe.sourceIndex+=4,It=vt;It;--It)Fe.dest[Fe.destLen++]=Fe.source[Fe.sourceIndex++];return Fe.bitcount=0,c}(te);break;case 1:P=H(te,y,g);break;case 2:Ve=Ne=qe=Re=ie=Se=De=Ie=Me=be=_e=he=void 0;for(var ie,he=te,_e=te.ltree,be=te.dtree,Me=R(he,5,257),Ie=R(he,5,1),De=R(he,4,4),Se=0;Se<19;++Se)E[Se]=0;for(Se=0;Se<De;++Se){var qe=R(he,3,0);E[O[Se]]=qe}for(L(A,E,0,19),ie=0;ie<Me+Ie;){var Ne=D(he,A);switch(Ne){case 16:for(var Ve=E[ie-1],Re=R(he,2,3);Re;--Re)E[ie++]=Ve;break;case 17:for(Re=R(he,3,3);Re;--Re)E[ie++]=0;break;case 18:for(Re=R(he,7,11);Re;--Re)E[ie++]=0;break;default:E[ie++]=Ne}}L(_e,E,0,Me),L(be,E,Me,Ie),P=H(te,te.ltree,te.dtree);break;default:P=d}if(P!==c)throw new Error("Data error")}while(!F);return te.destLen<te.dest.length?typeof te.dest.slice=="function"?te.dest.slice(0,te.destLen):te.dest.subarray(0,te.destLen):te.dest};function Z(x,k,P,F,X){return Math.pow(1-X,3)*x+3*Math.pow(1-X,2)*X*k+3*(1-X)*Math.pow(X,2)*P+Math.pow(X,3)*F}function q(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function re(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function ge(x){throw new Error(x)}function V(x,k){x||ge(k)}q.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},q.prototype.addPoint=function(x,k){typeof x=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=x,this.x2=x),x<this.x1&&(this.x1=x),x>this.x2&&(this.x2=x)),typeof k=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=k,this.y2=k),k<this.y1&&(this.y1=k),k>this.y2&&(this.y2=k))},q.prototype.addX=function(x){this.addPoint(x,null)},q.prototype.addY=function(x){this.addPoint(null,x)},q.prototype.addBezier=function(x,k,P,F,X,te,ie,he){var _e=[x,k],be=[P,F],Me=[X,te],Ie=[ie,he];this.addPoint(x,k),this.addPoint(ie,he);for(var De=0;De<=1;De++){var Se,qe=6*_e[De]-12*be[De]+6*Me[De],Ne=-3*_e[De]+9*be[De]-9*Me[De]+3*Ie[De],Ve=3*be[De]-3*_e[De];Ne==0?qe==0||0<(Se=-Ve/qe)&&Se<1&&(De===0&&this.addX(Z(_e[De],be[De],Me[De],Ie[De],Se)),De===1&&this.addY(Z(_e[De],be[De],Me[De],Ie[De],Se))):(Se=Math.pow(qe,2)-4*Ve*Ne)<0||(0<(Ve=(-qe+Math.sqrt(Se))/(2*Ne))&&Ve<1&&(De===0&&this.addX(Z(_e[De],be[De],Me[De],Ie[De],Ve)),De===1&&this.addY(Z(_e[De],be[De],Me[De],Ie[De],Ve))),0<(Ve=(-qe-Math.sqrt(Se))/(2*Ne))&&Ve<1&&(De===0&&this.addX(Z(_e[De],be[De],Me[De],Ie[De],Ve)),De===1&&this.addY(Z(_e[De],be[De],Me[De],Ie[De],Ve))))}},q.prototype.addQuad=function(x,k,P,F,X,te){P=x+2/3*(P-x),F=k+2/3*(F-k),this.addBezier(x,k,P,F,P+1/3*(X-x),F+1/3*(te-k),X,te)},re.prototype.moveTo=function(x,k){this.commands.push({type:"M",x,y:k})},re.prototype.lineTo=function(x,k){this.commands.push({type:"L",x,y:k})},re.prototype.curveTo=re.prototype.bezierCurveTo=function(x,k,P,F,X,te){this.commands.push({type:"C",x1:x,y1:k,x2:P,y2:F,x:X,y:te})},re.prototype.quadTo=re.prototype.quadraticCurveTo=function(x,k,P,F){this.commands.push({type:"Q",x1:x,y1:k,x:P,y:F})},re.prototype.close=re.prototype.closePath=function(){this.commands.push({type:"Z"})},re.prototype.extend=function(x){var k;if(x.commands)x=x.commands;else if(x instanceof q)return k=x,this.moveTo(k.x1,k.y1),this.lineTo(k.x2,k.y1),this.lineTo(k.x2,k.y2),this.lineTo(k.x1,k.y2),void this.close();Array.prototype.push.apply(this.commands,x)},re.prototype.getBoundingBox=function(){for(var x=new q,k=0,P=0,F=0,X=0,te=0;te<this.commands.length;te++){var ie=this.commands[te];switch(ie.type){case"M":x.addPoint(ie.x,ie.y),k=F=ie.x,P=X=ie.y;break;case"L":x.addPoint(ie.x,ie.y),F=ie.x,X=ie.y;break;case"Q":x.addQuad(F,X,ie.x1,ie.y1,ie.x,ie.y),F=ie.x,X=ie.y;break;case"C":x.addBezier(F,X,ie.x1,ie.y1,ie.x2,ie.y2,ie.x,ie.y),F=ie.x,X=ie.y;break;case"Z":F=k,X=P;break;default:throw new Error("Unexpected path command "+ie.type)}}return x.isEmpty()&&x.addPoint(0,0),x},re.prototype.draw=function(x){x.beginPath();for(var k=0;k<this.commands.length;k+=1){var P=this.commands[k];P.type==="M"?x.moveTo(P.x,P.y):P.type==="L"?x.lineTo(P.x,P.y):P.type==="C"?x.bezierCurveTo(P.x1,P.y1,P.x2,P.y2,P.x,P.y):P.type==="Q"?x.quadraticCurveTo(P.x1,P.y1,P.x,P.y):P.type==="Z"&&x.closePath()}this.fill&&(x.fillStyle=this.fill,x.fill()),this.stroke&&(x.strokeStyle=this.stroke,x.lineWidth=this.strokeWidth,x.stroke())},re.prototype.toPathData=function(x){function k(){for(var te=arguments,ie="",he=0;he<arguments.length;he+=1){var _e=te[he];0<=_e&&0<he&&(ie+=" "),ie+=(_e=_e,Math.round(_e)===_e?""+Math.round(_e):_e.toFixed(x))}return ie}x=x!==void 0?x:2;for(var P="",F=0;F<this.commands.length;F+=1){var X=this.commands[F];X.type==="M"?P+="M"+k(X.x,X.y):X.type==="L"?P+="L"+k(X.x,X.y):X.type==="C"?P+="C"+k(X.x1,X.y1,X.x2,X.y2,X.x,X.y):X.type==="Q"?P+="Q"+k(X.x1,X.y1,X.x,X.y):X.type==="Z"&&(P+="Z")}return P},re.prototype.toSVG=function(x){var k=(k='<path d="')+this.toPathData(x)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?k+=' fill="none"':k+=' fill="'+this.fill+'"'),this.stroke&&(k+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),k+="/>"},re.prototype.toDOMElement=function(k){var k=this.toPathData(k),P=document.createElementNS("http://www.w3.org/2000/svg","path");return P.setAttribute("d",k),P};var j={fail:ge,argument:V,assert:V},G={},K={},ae={};function Q(x){return function(){return x}}K.BYTE=function(x){return j.argument(0<=x&&x<=255,"Byte value should be between 0 and 255."),[x]},ae.BYTE=Q(1),K.CHAR=function(x){return[x.charCodeAt(0)]},ae.CHAR=Q(1),K.CHARARRAY=function(x){for(var k=[],P=0;P<x.length;P+=1)k[P]=x.charCodeAt(P);return k},ae.CHARARRAY=function(x){return x.length},K.USHORT=function(x){return[x>>8&255,255&x]},ae.USHORT=Q(2),K.SHORT=function(x){return[(x=32768<=x?-(65536-x):x)>>8&255,255&x]},ae.SHORT=Q(2),K.UINT24=function(x){return[x>>16&255,x>>8&255,255&x]},ae.UINT24=Q(3),K.ULONG=function(x){return[x>>24&255,x>>16&255,x>>8&255,255&x]},ae.ULONG=Q(4),K.LONG=function(x){return[(x=2147483648<=x?-(4294967296-x):x)>>24&255,x>>16&255,x>>8&255,255&x]},ae.LONG=Q(4),K.FIXED=K.ULONG,ae.FIXED=ae.ULONG,K.FWORD=K.SHORT,ae.FWORD=ae.SHORT,K.UFWORD=K.USHORT,ae.UFWORD=ae.USHORT,K.LONGDATETIME=function(x){return[0,0,0,0,x>>24&255,x>>16&255,x>>8&255,255&x]},ae.LONGDATETIME=Q(8),K.TAG=function(x){return j.argument(x.length===4,"Tag should be exactly 4 ASCII characters."),[x.charCodeAt(0),x.charCodeAt(1),x.charCodeAt(2),x.charCodeAt(3)]},ae.TAG=Q(4),K.Card8=K.BYTE,ae.Card8=ae.BYTE,K.Card16=K.USHORT,ae.Card16=ae.USHORT,K.OffSize=K.BYTE,ae.OffSize=ae.BYTE,K.SID=K.USHORT,ae.SID=ae.USHORT,K.NUMBER=function(x){return-107<=x&&x<=107?[x+139]:108<=x&&x<=1131?[247+((x-=108)>>8),255&x]:-1131<=x&&x<=-108?[251+((x=-x-108)>>8),255&x]:-32768<=x&&x<=32767?K.NUMBER16(x):K.NUMBER32(x)},ae.NUMBER=function(x){return K.NUMBER(x).length},K.NUMBER16=function(x){return[28,x>>8&255,255&x]},ae.NUMBER16=Q(3),K.NUMBER32=function(x){return[29,x>>24&255,x>>16&255,x>>8&255,255&x]},ae.NUMBER32=Q(5),K.REAL=function(x){for(var k=x.toString(),P=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(k),F=(P&&(P=parseFloat("1e"+((P[2]?+P[2]:0)+P[1].length)),k=(Math.round(x*P)/P).toString()),""),X=0,te=k.length;X<te;X+=1){var ie=k[X];F+=ie==="e"?k[++X]==="-"?"c":"b":ie==="."?"a":ie==="-"?"e":ie}for(var he=[30],_e=0,be=(F+=1&F.length?"f":"ff").length;_e<be;_e+=2)he.push(parseInt(F.substr(_e,2),16));return he},ae.REAL=function(x){return K.REAL(x).length},K.NAME=K.CHARARRAY,ae.NAME=ae.CHARARRAY,K.STRING=K.CHARARRAY,ae.STRING=ae.CHARARRAY,G.UTF8=function(x,k,P){for(var F=[],X=P,te=0;te<X;te++,k+=1)F[te]=x.getUint8(k);return String.fromCharCode.apply(null,F)},G.UTF16=function(x,k,P){for(var F=[],X=P/2,te=0;te<X;te++,k+=2)F[te]=x.getUint16(k);return String.fromCharCode.apply(null,F)},K.UTF16=function(x){for(var k=[],P=0;P<x.length;P+=1){var F=x.charCodeAt(P);k[k.length]=F>>8&255,k[k.length]=255&F}return k},ae.UTF16=function(x){return 2*x.length};var oe,W={"x-mac-croatian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\u0160\u2122\xB4\xA8\u2260\u017D\xD8\u221E\xB1\u2264\u2265\u2206\xB5\u2202\u2211\u220F\u0161\u222B\xAA\xBA\u03A9\u017E\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u0106\xAB\u010C\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u0110\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\uF8FF\xA9\u2044\u20AC\u2039\u203A\xC6\xBB\u2013\xB7\u201A\u201E\u2030\xC2\u0107\xC1\u010D\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u0111\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u03C0\xCB\u02DA\xB8\xCA\xE6\u02C7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u2020\xB0\u0490\xA3\xA7\u2022\xB6\u0406\xAE\xA9\u2122\u0402\u0452\u2260\u0403\u0453\u221E\xB1\u2264\u2265\u0456\xB5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\u040B\u045B\u040C\u045C\u0455\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u201E\u040E\u045E\u040F\u045F\u2116\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E","x-mac-gaelic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u1E02\xB1\u2264\u2265\u1E03\u010A\u010B\u1E0A\u1E0B\u1E1E\u1E1F\u0120\u0121\u1E40\xE6\xF8\u1E41\u1E56\u1E57\u027C\u0192\u017F\u1E60\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u1E61\u1E9B\xFF\u0178\u1E6A\u20AC\u2039\u203A\u0176\u0177\u1E6B\xB7\u1EF2\u1EF3\u204A\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u2663\xD2\xDA\xDB\xD9\u0131\xDD\xFD\u0174\u0175\u1E84\u1E85\u1E80\u1E81\u1E82\u1E83","x-mac-greek":"\xC4\xB9\xB2\xC9\xB3\xD6\xDC\u0385\xE0\xE2\xE4\u0384\xA8\xE7\xE9\xE8\xEA\xEB\xA3\u2122\xEE\xEF\u2022\xBD\u2030\xF4\xF6\xA6\u20AC\xF9\xFB\xFC\u2020\u0393\u0394\u0398\u039B\u039E\u03A0\xDF\xAE\xA9\u03A3\u03AA\xA7\u2260\xB0\xB7\u0391\xB1\u2264\u2265\xA5\u0392\u0395\u0396\u0397\u0399\u039A\u039C\u03A6\u03AB\u03A8\u03A9\u03AC\u039D\xAC\u039F\u03A1\u2248\u03A4\xAB\xBB\u2026\xA0\u03A5\u03A7\u0386\u0388\u0153\u2013\u2015\u201C\u201D\u2018\u2019\xF7\u0389\u038A\u038C\u038E\u03AD\u03AE\u03AF\u03CC\u038F\u03CD\u03B1\u03B2\u03C8\u03B4\u03B5\u03C6\u03B3\u03B7\u03B9\u03BE\u03BA\u03BB\u03BC\u03BD\u03BF\u03C0\u03CE\u03C1\u03C3\u03C4\u03B8\u03C9\u03C2\u03C7\u03C5\u03B6\u03CA\u03CB\u0390\u03B0\xAD","x-mac-icelandic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\xDD\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\xD0\xF0\xDE\xFE\xFD\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140A\u140B\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144E\u144F\u1450\u1451\u1455\u1456\u1466\u146D\u146E\u146F\u1470\u1472\u1473\u1483\u148B\u148C\u148D\u148E\u1490\u1491\xB0\u14A1\u14A5\u14A6\u2022\xB6\u14A7\xAE\xA9\u2122\u14A8\u14AA\u14AB\u14BB\u14C2\u14C3\u14C4\u14C5\u14C7\u14C8\u14D0\u14EF\u14F0\u14F1\u14F2\u14F4\u14F5\u1505\u14D5\u14D6\u14D7\u14D8\u14DA\u14DB\u14EA\u1528\u1529\u152A\u152B\u152D\u2026\xA0\u152E\u153E\u1555\u1556\u1557\u2013\u2014\u201C\u201D\u2018\u2019\u1558\u1559\u155A\u155D\u1546\u1547\u1548\u1549\u154B\u154C\u1550\u157F\u1580\u1581\u1582\u1583\u1584\u1585\u158F\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15A0\u15A1\u15A2\u15A3\u15A4\u15A5\u15A6\u157C\u0141\u0142","x-mac-ce":"\xC4\u0100\u0101\xC9\u0104\xD6\xDC\xE1\u0105\u010C\xE4\u010D\u0106\u0107\xE9\u0179\u017A\u010E\xED\u010F\u0112\u0113\u0116\xF3\u0117\xF4\xF6\xF5\xFA\u011A\u011B\xFC\u2020\xB0\u0118\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\u0119\xA8\u2260\u0123\u012E\u012F\u012A\u2264\u2265\u012B\u0136\u2202\u2211\u0142\u013B\u013C\u013D\u013E\u0139\u013A\u0145\u0146\u0143\xAC\u221A\u0144\u0147\u2206\xAB\xBB\u2026\xA0\u0148\u0150\xD5\u0151\u014C\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\u014D\u0154\u0155\u0158\u2039\u203A\u0159\u0156\u0157\u0160\u201A\u201E\u0161\u015A\u015B\xC1\u0164\u0165\xCD\u017D\u017E\u016A\xD3\xD4\u016B\u016E\xDA\u016F\u0170\u0171\u0172\u0173\xDD\xFD\u0137\u017B\u0141\u017C\u0122\u02C7",macintosh:"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\uFB01\uFB02\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-romanian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\u0102\u0218\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\u0103\u0219\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\u021A\u021B\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-turkish":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u011E\u011F\u0130\u0131\u015E\u015F\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\uF8A0\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7"},Y=(G.MACSTRING=function(x,k,P,F){var X=W[F];if(X!==void 0){for(var te="",ie=0;ie<P;ie++){var he=x.getUint8(k+ie);te+=he<=127?String.fromCharCode(he):X[127&he]}return te}},typeof WeakMap=="function"&&new WeakMap);function ne(x){return-128<=x&&x<=127}K.MACSTRING=function(x,k){var P=function(ie){if(!oe)for(var he in oe={},W)oe[he]=new String(he);var _e=oe[ie];if(_e!==void 0){if(Y){var be=Y.get(_e);if(be!==void 0)return be}var Me=W[ie];if(Me!==void 0){for(var Ie={},De=0;De<Me.length;De++)Ie[Me.charCodeAt(De)]=De+128;return Y&&Y.set(_e,Ie),Ie}}}(k);if(P!==void 0){for(var F=[],X=0;X<x.length;X++){var te=x.charCodeAt(X);if(128<=te&&(te=P[te])===void 0)return;F[X]=te}return F}},ae.MACSTRING=function(x,k){return x=K.MACSTRING(x,k),x!==void 0?x.length:0},K.VARDELTAS=function(x){for(var F=0,k=[];F<x.length;)var P=x[F],F=(P===0?function(X,te,ie){for(var he=0,_e=X.length;te<_e&&he<64&&X[te]===0;)++te,++he;return ie.push(128|he-1),te}:-128<=P&&P<=127?function(X,te,ie){for(var he=0,_e=X.length,be=te;be<_e&&he<64;){var Me=X[be];if(!ne(Me)||Me===0&&be+1<_e&&X[be+1]===0)break;++be,++he}ie.push(he-1);for(var Ie=te;Ie<be;++Ie)ie.push(X[Ie]+256&255);return be}:function(X,te,ie){for(var he=0,_e=X.length,be=te;be<_e&&he<64;){var Me=X[be];if(Me===0||ne(Me)&&be+1<_e&&ne(X[be+1]))break;++be,++he}ie.push(64|he-1);for(var Ie=te;Ie<be;++Ie){var De=X[Ie];ie.push(De+65536>>8&255,De+256&255)}return be})(x,F,k);return k},K.INDEX=function(x){for(var k=1,P=[k],F=[],X=0;X<x.length;X+=1){var te=K.OBJECT(x[X]);Array.prototype.push.apply(F,te),k+=te.length,P.push(k)}if(F.length===0)return[0,0];for(var ie=[],he=1+Math.floor(Math.log(k)/Math.log(2))/8|0,_e=[void 0,K.BYTE,K.USHORT,K.UINT24,K.ULONG][he],be=0;be<P.length;be+=1){var Me=_e(P[be]);Array.prototype.push.apply(ie,Me)}return Array.prototype.concat(K.Card16(x.length),K.OffSize(he),ie,F)},ae.INDEX=function(x){return K.INDEX(x).length},K.DICT=function(x){for(var k=[],P=Object.keys(x),F=P.length,X=0;X<F;X+=1){var te=parseInt(P[X],0),ie=x[te];k=(k=k.concat(K.OPERAND(ie.value,ie.type))).concat(K.OPERATOR(te))}return k},ae.DICT=function(x){return K.DICT(x).length},K.OPERATOR=function(x){return x<1200?[x]:[12,x-1200]},K.OPERAND=function(x,k){var P=[];if(Array.isArray(k))for(var F=0;F<k.length;F+=1)j.argument(x.length===k.length,"Not enough arguments given for type"+k),P=P.concat(K.OPERAND(x[F],k[F]));else if(k==="SID")P=P.concat(K.NUMBER(x));else if(k==="offset")P=P.concat(K.NUMBER32(x));else if(k==="number")P=P.concat(K.NUMBER(x));else{if(k!=="real")throw new Error("Unknown operand type "+k);P=P.concat(K.REAL(x))}return P},K.OP=K.BYTE,ae.OP=ae.BYTE;var ue=typeof WeakMap=="function"&&new WeakMap;function se(x,k,P){for(var F=0;F<k.length;F+=1){var X=k[F];this[X.name]=X.value}if(this.tableName=x,this.fields=k,P)for(var te=Object.keys(P),ie=0;ie<te.length;ie+=1){var he=te[ie],_e=P[he];this[he]!==void 0&&(this[he]=_e)}}function pe(x,k,P){P===void 0&&(P=k.length);var F=new Array(k.length+1);F[0]={name:x+"Count",type:"USHORT",value:P};for(var X=0;X<k.length;X++)F[X+1]={name:x+X,type:"USHORT",value:k[X]};return F}function ve(x,k,P){var F=k.length,X=new Array(F+1);X[0]={name:x+"Count",type:"USHORT",value:F};for(var te=0;te<F;te++)X[te+1]={name:x+te,type:"TABLE",value:P(k[te],te)};return X}function fe(x,k,P){var F=k.length,X=[];X[0]={name:x+"Count",type:"USHORT",value:F};for(var te=0;te<F;te++)X=X.concat(P(k[te],te));return X}function xe(x){x.format===1?se.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(pe("glyph",x.glyphs))):j.assert(!1,"Can't create coverage table format 2 yet.")}function ke(x){se.call(this,"scriptListTable",fe("scriptRecord",x,function(k,P){var F=k.script,X=F.defaultLangSys;return j.assert(!!X,"Unable to write GSUB: script "+k.tag+" has no default language system."),[{name:"scriptTag"+P,type:"TAG",value:k.tag},{name:"script"+P,type:"TABLE",value:new se("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new se("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:X.reqFeatureIndex}].concat(pe("featureIndex",X.featureIndexes)))}].concat(fe("langSys",F.langSysRecords,function(te,ie){var he=te.langSys;return[{name:"langSysTag"+ie,type:"TAG",value:te.tag},{name:"langSys"+ie,type:"TABLE",value:new se("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:he.reqFeatureIndex}].concat(pe("featureIndex",he.featureIndexes)))}]})))}]}))}function Te(x){se.call(this,"featureListTable",fe("featureRecord",x,function(k,P){var F=k.feature;return[{name:"featureTag"+P,type:"TAG",value:k.tag},{name:"feature"+P,type:"TABLE",value:new se("featureTable",[{name:"featureParams",type:"USHORT",value:F.featureParams}].concat(pe("lookupListIndex",F.lookupListIndexes)))}]}))}function Ae(x,k){se.call(this,"lookupListTable",ve("lookup",x,function(P){var F=k[P.lookupType];return j.assert(!!F,"Unable to write GSUB lookup type "+P.lookupType+" tables."),new se("lookupTable",[{name:"lookupType",type:"USHORT",value:P.lookupType},{name:"lookupFlag",type:"USHORT",value:P.lookupFlag}].concat(ve("subtable",P.subtables,F)))}))}K.CHARSTRING=function(x){if(ue){var k=ue.get(x);if(k!==void 0)return k}for(var te=[],P=x.length,F=0;F<P;F+=1)var X=x[F],te=te.concat(K[X.type](X.value));return ue&&ue.set(x,te),te},ae.CHARSTRING=function(x){return K.CHARSTRING(x).length},K.OBJECT=function(x){var k=K[x.type];return j.argument(k!==void 0,"No encoding function for type "+x.type),k(x.value)},ae.OBJECT=function(x){var k=ae[x.type];return j.argument(k!==void 0,"No sizeOf function for type "+x.type),k(x.value)},K.TABLE=function(x){for(var k=[],P=x.fields.length,F=[],X=[],te=0;te<P;te+=1){var ie=x.fields[te],_e=K[ie.type],he=(j.argument(_e!==void 0,"No encoding function for field type "+ie.type+" ("+ie.name+")"),x[ie.name]),_e=_e(he=he===void 0?ie.value:he);ie.type==="TABLE"?(X.push(k.length),k=k.concat([0,0]),F.push(_e)):k=k.concat(_e)}for(var be=0;be<F.length;be+=1){var Me=X[be],Ie=k.length;j.argument(Ie<65536,"Table "+x.tableName+" too big."),k[Me]=Ie>>8,k[Me+1]=255&Ie,k=k.concat(F[be])}return k},ae.TABLE=function(x){for(var k=0,P=x.fields.length,F=0;F<P;F+=1){var X=x.fields[F],te=ae[X.type],ie=(j.argument(te!==void 0,"No sizeOf function for field type "+X.type+" ("+X.name+")"),x[X.name]);k+=te(ie=ie===void 0?X.value:ie),X.type==="TABLE"&&(k+=2)}return k},K.RECORD=K.TABLE,ae.RECORD=ae.TABLE,K.LITERAL=function(x){return x},ae.LITERAL=function(x){return x.length},se.prototype.encode=function(){return K.TABLE(this)},se.prototype.sizeOf=function(){return ae.TABLE(this)};var Pe={Table:se,Record:se,Coverage:(xe.prototype=Object.create(se.prototype)).constructor=xe,ScriptList:(ke.prototype=Object.create(se.prototype)).constructor=ke,FeatureList:(Te.prototype=Object.create(se.prototype)).constructor=Te,LookupList:(Ae.prototype=Object.create(se.prototype)).constructor=Ae,ushortList:pe,tableList:ve,recordList:fe};function it(x,k){return x.getUint8(k)}function Ke(x,k){return x.getUint16(k,!1)}function Ze(x,k){return x.getUint32(k,!1)}function tt(x,k){return x.getInt16(k,!1)+x.getUint16(k+2,!1)/65535}var We={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Ee(x,k){this.data=x,this.offset=k,this.relativeOffset=0}Ee.prototype.parseByte=function(){var x=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,x},Ee.prototype.parseChar=function(){var x=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,x},Ee.prototype.parseCard8=Ee.prototype.parseByte,Ee.prototype.parseCard16=Ee.prototype.parseUShort=function(){var x=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,x},Ee.prototype.parseSID=Ee.prototype.parseUShort,Ee.prototype.parseOffset16=Ee.prototype.parseUShort,Ee.prototype.parseShort=function(){var x=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,x},Ee.prototype.parseF2Dot14=function(){var x=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,x},Ee.prototype.parseOffset32=Ee.prototype.parseULong=function(){var x=Ze(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,x},Ee.prototype.parseFixed=function(){var x=tt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,x},Ee.prototype.parseString=function(x){var k=this.data,P=this.offset+this.relativeOffset,F="";this.relativeOffset+=x;for(var X=0;X<x;X++)F+=String.fromCharCode(k.getUint8(P+X));return F},Ee.prototype.parseTag=function(){return this.parseString(4)},Ee.prototype.parseLongDateTime=function(){var x=Ze(this.data,this.offset+this.relativeOffset+4);return x-=2082844800,this.relativeOffset+=8,x},Ee.prototype.parseVersion=function(x){var k=Ke(this.data,this.offset+this.relativeOffset),P=Ke(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,k+P/(x=x===void 0?4096:x)/10},Ee.prototype.skip=function(x,k){this.relativeOffset+=We[x]*(k=k===void 0?1:k)},Ee.prototype.parseULongList=function(x){x===void 0&&(x=this.parseULong());for(var k=new Array(x),P=this.data,F=this.offset+this.relativeOffset,X=0;X<x;X++)k[X]=P.getUint32(F),F+=4;return this.relativeOffset+=4*x,k},Ee.prototype.parseOffset16List=Ee.prototype.parseUShortList=function(x){x===void 0&&(x=this.parseUShort());for(var k=new Array(x),P=this.data,F=this.offset+this.relativeOffset,X=0;X<x;X++)k[X]=P.getUint16(F),F+=2;return this.relativeOffset+=2*x,k},Ee.prototype.parseShortList=function(x){for(var k=new Array(x),P=this.data,F=this.offset+this.relativeOffset,X=0;X<x;X++)k[X]=P.getInt16(F),F+=2;return this.relativeOffset+=2*x,k},Ee.prototype.parseByteList=function(x){for(var k=new Array(x),P=this.data,F=this.offset+this.relativeOffset,X=0;X<x;X++)k[X]=P.getUint8(F++);return this.relativeOffset+=x,k},Ee.prototype.parseList=function(x,k){k||(k=x,x=this.parseUShort());for(var P=new Array(x),F=0;F<x;F++)P[F]=k.call(this);return P},Ee.prototype.parseList32=function(x,k){k||(k=x,x=this.parseULong());for(var P=new Array(x),F=0;F<x;F++)P[F]=k.call(this);return P},Ee.prototype.parseRecordList=function(x,k){k||(k=x,x=this.parseUShort());for(var P=new Array(x),F=Object.keys(k),X=0;X<x;X++){for(var te={},ie=0;ie<F.length;ie++){var he=F[ie],_e=k[he];te[he]=_e.call(this)}P[X]=te}return P},Ee.prototype.parseRecordList32=function(x,k){k||(k=x,x=this.parseULong());for(var P=new Array(x),F=Object.keys(k),X=0;X<x;X++){for(var te={},ie=0;ie<F.length;ie++){var he=F[ie],_e=k[he];te[he]=_e.call(this)}P[X]=te}return P},Ee.prototype.parseStruct=function(x){if(typeof x=="function")return x.call(this);for(var k=Object.keys(x),P={},F=0;F<k.length;F++){var X=k[F],te=x[X];P[X]=te.call(this)}return P},Ee.prototype.parseValueRecord=function(x){var k;if((x=x===void 0?this.parseUShort():x)!==0)return k={},1&x&&(k.xPlacement=this.parseShort()),2&x&&(k.yPlacement=this.parseShort()),4&x&&(k.xAdvance=this.parseShort()),8&x&&(k.yAdvance=this.parseShort()),16&x&&(k.xPlaDevice=void 0,this.parseShort()),32&x&&(k.yPlaDevice=void 0,this.parseShort()),64&x&&(k.xAdvDevice=void 0,this.parseShort()),128&x&&(k.yAdvDevice=void 0,this.parseShort()),k},Ee.prototype.parseValueRecordList=function(){for(var x=this.parseUShort(),k=this.parseUShort(),P=new Array(k),F=0;F<k;F++)P[F]=this.parseValueRecord(x);return P},Ee.prototype.parsePointer=function(x){var k=this.parseOffset16();if(0<k)return new Ee(this.data,this.offset+k).parseStruct(x)},Ee.prototype.parsePointer32=function(x){var k=this.parseOffset32();if(0<k)return new Ee(this.data,this.offset+k).parseStruct(x)},Ee.prototype.parseListOfLists=function(x){for(var k=this.parseOffset16List(),P=k.length,F=this.relativeOffset,X=new Array(P),te=0;te<P;te++){var ie=k[te];if(ie===0)X[te]=void 0;else if(this.relativeOffset=ie,x){for(var he=this.parseOffset16List(),_e=new Array(he.length),be=0;be<he.length;be++)this.relativeOffset=ie+he[be],_e[be]=x.call(this);X[te]=_e}else X[te]=this.parseUShortList()}return this.relativeOffset=F,X},Ee.prototype.parseCoverage=function(){var x=this.offset+this.relativeOffset,k=this.parseUShort(),P=this.parseUShort();if(k===1)return{format:1,glyphs:this.parseUShortList(P)};if(k!==2)throw new Error("0x"+x.toString(16)+": Coverage format must be 1 or 2.");for(var F=new Array(P),X=0;X<P;X++)F[X]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:F}},Ee.prototype.parseClassDef=function(){var x=this.offset+this.relativeOffset,k=this.parseUShort();if(k===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(k===2)return{format:2,ranges:this.parseRecordList({start:Ee.uShort,end:Ee.uShort,classId:Ee.uShort})};throw new Error("0x"+x.toString(16)+": ClassDef format must be 1 or 2.")},Ee.list=function(x,k){return function(){return this.parseList(x,k)}},Ee.list32=function(x,k){return function(){return this.parseList32(x,k)}},Ee.recordList=function(x,k){return function(){return this.parseRecordList(x,k)}},Ee.recordList32=function(x,k){return function(){return this.parseRecordList32(x,k)}},Ee.pointer=function(x){return function(){return this.parsePointer(x)}},Ee.pointer32=function(x){return function(){return this.parsePointer32(x)}},Ee.tag=Ee.prototype.parseTag,Ee.byte=Ee.prototype.parseByte,Ee.uShort=Ee.offset16=Ee.prototype.parseUShort,Ee.uShortList=Ee.prototype.parseUShortList,Ee.uLong=Ee.offset32=Ee.prototype.parseULong,Ee.uLongList=Ee.prototype.parseULongList,Ee.struct=Ee.prototype.parseStruct,Ee.coverage=Ee.prototype.parseCoverage,Ee.classDef=Ee.prototype.parseClassDef;var Ue={reserved:Ee.uShort,reqFeatureIndex:Ee.uShort,featureIndexes:Ee.uShortList},Oe=(Ee.prototype.parseScriptList=function(){return this.parsePointer(Ee.recordList({tag:Ee.tag,script:Ee.pointer({defaultLangSys:Ee.pointer(Ue),langSysRecords:Ee.recordList({tag:Ee.tag,langSys:Ee.pointer(Ue)})})}))||[]},Ee.prototype.parseFeatureList=function(){return this.parsePointer(Ee.recordList({tag:Ee.tag,feature:Ee.pointer({featureParams:Ee.offset16,lookupListIndexes:Ee.uShortList})}))||[]},Ee.prototype.parseLookupList=function(x){return this.parsePointer(Ee.list(Ee.pointer(function(){var k=this.parseUShort(),P=(j.argument(1<=k&&k<=9,"GPOS/GSUB lookup type "+k+" unknown."),this.parseUShort()),F=16&P;return{lookupType:k,lookupFlag:P,subtables:this.parseList(Ee.pointer(x[k])),markFilteringSet:F?this.parseUShort():void 0}})))||[]},Ee.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var x=this.parseUShort(),k=this.parseUShort();return j.argument(x===1&&k<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Ee.offset32,featureTableSubstitutionOffset:Ee.offset32})})||[]},{getByte:it,getCard8:it,getUShort:Ke,getCard16:Ke,getShort:function(x,k){return x.getInt16(k,!1)},getULong:Ze,getFixed:tt,getTag:function(x,k){for(var P="",F=k;F<k+4;F+=1)P+=String.fromCharCode(x.getInt8(F));return P},getOffset:function(x,k,P){for(var F=0,X=0;X<P;X+=1)F=(F<<=8)+x.getUint8(k+X);return F},getBytes:function(x,k,P){for(var F=[],X=k;X<P;X+=1)F.push(x.getUint8(X));return F},bytesToString:function(x){for(var k="",P=0;P<x.length;P+=1)k+=String.fromCharCode(x[P]);return k},Parser:Ee}),ce={parse:function(x,k){for(var P={},F=(P.version=Oe.getUShort(x,k),j.argument(P.version===0,"cmap table version should be 0."),P.numTables=Oe.getUShort(x,k+2),-1),X=P.numTables-1;0<=X;--X){var te=Oe.getUShort(x,k+4+8*X),ie=Oe.getUShort(x,k+4+8*X+2);if(te===3&&(ie===0||ie===1||ie===10)||te===0&&(ie===0||ie===1||ie===2||ie===3||ie===4)){F=Oe.getULong(x,k+4+8*X+4);break}}if(F===-1)throw new Error("No valid cmap sub-tables found.");var he=new Oe.Parser(x,k+F);if(P.format=he.parseUShort(),P.format===12){var _e,be=P,Me=he;Me.parseUShort(),be.length=Me.parseULong(),be.language=Me.parseULong(),be.groupCount=_e=Me.parseULong(),be.glyphIndexMap={};for(var Ie=0;Ie<_e;Ie+=1)for(var De=Me.parseULong(),Se=Me.parseULong(),qe=Me.parseULong(),Ne=De;Ne<=Se;Ne+=1)be.glyphIndexMap[Ne]=qe,qe++}else{if(P.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+P.format+").");var Ve=P,Re=x,Fe=k,vt=F;Ve.length=he.parseUShort(),Ve.language=he.parseUShort(),Ve.segCount=It=he.parseUShort()>>1,he.skip("uShort",3),Ve.glyphIndexMap={};for(var It,bt=new Oe.Parser(Re,Fe+vt+14),xt=new Oe.Parser(Re,Fe+vt+16+2*It),Nt=new Oe.Parser(Re,Fe+vt+16+4*It),Cr=new Oe.Parser(Re,Fe+vt+16+6*It),Jr=Fe+vt+16+8*It,yi=0;yi<It-1;yi+=1)for(var Gi=void 0,Hi=bt.parseUShort(),ds=xt.parseUShort(),_r=Nt.parseShort(),Ar=Cr.parseUShort(),dr=ds;dr<=Hi;dr+=1)Ar!==0?(Jr=(Jr=Cr.offset+Cr.relativeOffset-2)+Ar+2*(dr-ds),(Gi=Oe.getUShort(Re,Jr))!==0&&(Gi=Gi+_r&65535)):Gi=dr+_r&65535,Ve.glyphIndexMap[dr]=Gi}return P},make:function(x){for(var k=!0,P=x.length-1;0<P;--P)if(65535<x.get(P).unicode){console.log("Adding CMAP format 12 (needed!)"),k=!1;break}var F,X,te=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:k?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:k?12:20}],ie=(te=(te=k?te:te.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Pe.Table("cmap",te));for(ie.segments=[],P=0;P<x.length;P+=1){for(var he=x.get(P),_e=0;_e<he.unicodes.length;_e+=1)F=he.unicodes[_e],X=P,ie.segments.push({end:F,start:F,delta:-(F-X),offset:0,glyphIndex:X});ie.segments=ie.segments.sort(function(Fe,vt){return Fe.start-vt.start})}ie.segments.push({end:65535,start:65535,delta:1,offset:0});var be=ie.segments.length,Me=0,Ie=[],De=[],Se=[],qe=[],Ne=[],Ve=[];for(P=0;P<be;P+=1){var Re=ie.segments[P];Re.end<=65535&&Re.start<=65535?(Ie=Ie.concat({name:"end_"+P,type:"USHORT",value:Re.end}),De=De.concat({name:"start_"+P,type:"USHORT",value:Re.start}),Se=Se.concat({name:"idDelta_"+P,type:"SHORT",value:Re.delta}),qe=qe.concat({name:"idRangeOffset_"+P,type:"USHORT",value:Re.offset}),Re.glyphId!==void 0&&(Ne=Ne.concat({name:"glyph_"+P,type:"USHORT",value:Re.glyphId}))):Me+=1,k||Re.glyphIndex===void 0||(Ve=(Ve=(Ve=Ve.concat({name:"cmap12Start_"+P,type:"ULONG",value:Re.start})).concat({name:"cmap12End_"+P,type:"ULONG",value:Re.end})).concat({name:"cmap12Glyph_"+P,type:"ULONG",value:Re.glyphIndex}))}return ie.segCountX2=2*(be-Me),ie.searchRange=2*Math.pow(2,Math.floor(Math.log(be-Me)/Math.log(2))),ie.entrySelector=Math.log(ie.searchRange/2)/Math.log(2),ie.rangeShift=ie.segCountX2-ie.searchRange,ie.fields=ie.fields.concat(Ie),ie.fields.push({name:"reservedPad",type:"USHORT",value:0}),ie.fields=ie.fields.concat(De),ie.fields=ie.fields.concat(Se),ie.fields=ie.fields.concat(qe),ie.fields=ie.fields.concat(Ne),ie.cmap4Length=14+2*Ie.length+2+2*De.length+2*Se.length+2*qe.length+2*Ne.length,k||(te=16+4*Ve.length,ie.cmap12Offset=20+ie.cmap4Length,ie.fields=ie.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:te},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Ve.length/3}]),ie.fields=ie.fields.concat(Ve)),ie}},de=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],le=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ye=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],je=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Le(x){this.font=x}function Be(x){this.cmap=x}function Ye(x,k){this.encoding=x,this.charset=k}function Ge(x){switch(x.version){case 1:this.names=je.slice();break;case 2:this.names=new Array(x.numberOfGlyphs);for(var k=0;k<x.numberOfGlyphs;k++)x.glyphNameIndex[k]<je.length?this.names[k]=je[x.glyphNameIndex[k]]:this.names[k]=x.names[x.glyphNameIndex[k]-je.length];break;case 2.5:this.names=new Array(x.numberOfGlyphs);for(var P=0;P<x.numberOfGlyphs;P++)this.names[P]=je[P+x.glyphNameIndex[P]];break;default:this.names=[]}}Le.prototype.charToGlyphIndex=function(x){var k=x.codePointAt(0),P=this.font.glyphs;if(P){for(var F=0;F<P.length;F+=1)for(var X=P.get(F),te=0;te<X.unicodes.length;te+=1)if(X.unicodes[te]===k)return F}return null},Be.prototype.charToGlyphIndex=function(x){return this.cmap.glyphIndexMap[x.codePointAt(0)]||0},Ye.prototype.charToGlyphIndex=function(x){return x=x.codePointAt(0),x=this.encoding[x],this.charset.indexOf(x)},Ge.prototype.nameToGlyphIndex=function(x){return this.names.indexOf(x)},Ge.prototype.glyphIndexToName=function(x){return this.names[x]};var Je={line:function(x,k,P,F,X){x.beginPath(),x.moveTo(k,P),x.lineTo(F,X),x.stroke()}};function rt(x){this.bindConstructorValues(x)}function _t(x,k,P){Object.defineProperty(x,k,{get:function(){return x.path,x[P]},set:function(F){x[P]=F},enumerable:!0,configurable:!0})}function ht(x,k){if(this.font=x,this.glyphs={},Array.isArray(k))for(var P=0;P<k.length;P++)this.glyphs[P]=k[P];this.length=k&&k.length||0}rt.prototype.bindConstructorValues=function(x){var k;this.index=x.index||0,this.name=x.name||null,this.unicode=x.unicode||void 0,this.unicodes=x.unicodes||x.unicode!==void 0?[x.unicode]:[],x.xMin&&(this.xMin=x.xMin),x.yMin&&(this.yMin=x.yMin),x.xMax&&(this.xMax=x.xMax),x.yMax&&(this.yMax=x.yMax),x.advanceWidth&&(this.advanceWidth=x.advanceWidth),Object.defineProperty(this,"path",(x=x.path,k=x||new re,{configurable:!0,get:function(){return k=typeof k=="function"?k():k},set:function(P){k=P}}))},rt.prototype.addUnicode=function(x){this.unicodes.length===0&&(this.unicode=x),this.unicodes.push(x)},rt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},rt.prototype.getPath=function(x,k,P,F,X){x=x!==void 0?x:0,k=k!==void 0?k:0,P=P!==void 0?P:72;for(var te,ie,he=(F=F||{}).xScale,_e=F.yScale,be=((te=F.hinting&&X&&X.hinting?this.path&&X.hinting.exec(this,P):te)?(ie=X.hinting.getCommands(te),x=Math.round(x),k=Math.round(k),he=_e=1):(ie=this.path.commands,F=1/this.path.unitsPerEm*P,he===void 0&&(he=F),_e===void 0&&(_e=F)),new re),Me=0;Me<ie.length;Me+=1){var Ie=ie[Me];Ie.type==="M"?be.moveTo(x+Ie.x*he,k+-Ie.y*_e):Ie.type==="L"?be.lineTo(x+Ie.x*he,k+-Ie.y*_e):Ie.type==="Q"?be.quadraticCurveTo(x+Ie.x1*he,k+-Ie.y1*_e,x+Ie.x*he,k+-Ie.y*_e):Ie.type==="C"?be.curveTo(x+Ie.x1*he,k+-Ie.y1*_e,x+Ie.x2*he,k+-Ie.y2*_e,x+Ie.x*he,k+-Ie.y*_e):Ie.type==="Z"&&be.closePath()}return be},rt.prototype.getContours=function(){if(this.points===void 0)return[];for(var x=[],k=[],P=0;P<this.points.length;P+=1){var F=this.points[P];k.push(F),F.lastPointOfContour&&(x.push(k),k=[])}return j.argument(k.length===0,"There are still points left in the current contour."),x},rt.prototype.getMetrics=function(){for(var x=this.path.commands,k=[],P=[],F=0;F<x.length;F+=1){var X=x[F];X.type!=="Z"&&(k.push(X.x),P.push(X.y)),X.type!=="Q"&&X.type!=="C"||(k.push(X.x1),P.push(X.y1)),X.type==="C"&&(k.push(X.x2),P.push(X.y2))}var te={xMin:Math.min.apply(null,k),yMin:Math.min.apply(null,P),xMax:Math.max.apply(null,k),yMax:Math.max.apply(null,P),leftSideBearing:this.leftSideBearing};return isFinite(te.xMin)||(te.xMin=0),isFinite(te.xMax)||(te.xMax=this.advanceWidth),isFinite(te.yMin)||(te.yMin=0),isFinite(te.yMax)||(te.yMax=0),te.rightSideBearing=this.advanceWidth-te.leftSideBearing-(te.xMax-te.xMin),te},rt.prototype.draw=function(x,k,P,F,X){this.getPath(k,P,F,X).draw(x)},rt.prototype.drawPoints=function(x,k,P,F){function X(Me,Ie,De,Se){var qe=2*Math.PI;x.beginPath();for(var Ne=0;Ne<Me.length;Ne+=1)x.moveTo(Ie+Me[Ne].x*Se,De+Me[Ne].y*Se),x.arc(Ie+Me[Ne].x*Se,De+Me[Ne].y*Se,2,0,qe,!1);x.closePath(),x.fill()}k=k!==void 0?k:0,P=P!==void 0?P:0;for(var F=1/this.path.unitsPerEm*(F=F!==void 0?F:24),te=[],ie=[],he=this.path,_e=0;_e<he.commands.length;_e+=1){var be=he.commands[_e];be.x!==void 0&&te.push({x:be.x,y:-be.y}),be.x1!==void 0&&ie.push({x:be.x1,y:-be.y1}),be.x2!==void 0&&ie.push({x:be.x2,y:-be.y2})}x.fillStyle="blue",X(te,k,P,F),x.fillStyle="red",X(ie,k,P,F)},rt.prototype.drawMetrics=function(x,k,P,F){k=k!==void 0?k:0,P=P!==void 0?P:0,F=1/this.path.unitsPerEm*(F=F!==void 0?F:24),x.lineWidth=1,x.strokeStyle="black",Je.line(x,k,-1e4,k,1e4),Je.line(x,-1e4,P,1e4,P);var X=this.xMin||0,te=this.yMin||0,ie=this.xMax||0,he=this.yMax||0,_e=this.advanceWidth||0;x.strokeStyle="blue",Je.line(x,k+X*F,-1e4,k+X*F,1e4),Je.line(x,k+ie*F,-1e4,k+ie*F,1e4),Je.line(x,-1e4,P+-te*F,1e4,P+-te*F),Je.line(x,-1e4,P+-he*F,1e4,P+-he*F),x.strokeStyle="green",Je.line(x,k+_e*F,-1e4,k+_e*F,1e4)},ht.prototype.get=function(x){return typeof this.glyphs[x]=="function"&&(this.glyphs[x]=this.glyphs[x]()),this.glyphs[x]},ht.prototype.push=function(x,k){this.glyphs[x]=k,this.length++};var lt={GlyphSet:ht,glyphLoader:function(x,k){return new rt({index:k,font:x})},ttfGlyphLoader:function(x,k,P,F,X,te){return function(){var ie=new rt({index:k,font:x});return ie.path=function(){P(ie,F,X);var he=te(x.glyphs,ie);return he.unitsPerEm=x.unitsPerEm,he},_t(ie,"xMin","_xMin"),_t(ie,"xMax","_xMax"),_t(ie,"yMin","_yMin"),_t(ie,"yMax","_yMax"),ie}},cffGlyphLoader:function(x,k,P,F){return function(){var X=new rt({index:k,font:x});return X.path=function(){var te=P(x,X,F);return te.unitsPerEm=x.unitsPerEm,te},X}}};function St(x){return x=x.length<1240?107:x.length<33900?1131:32768,x}function pt(x,k,P){var F,X=[],te=[],ie=Oe.getCard16(x,k);if(ie!==0){for(var he=Oe.getByte(x,k+2),_e=k+(ie+1)*he+2,be=k+3,Me=0;Me<ie+1;Me+=1)X.push(Oe.getOffset(x,be,he)),be+=he;F=_e+X[ie]}else F=k+2;for(var Ie=0;Ie<X.length-1;Ie+=1){var De=Oe.getBytes(x,_e+X[Ie],_e+X[Ie+1]);P&&(De=P(De)),te.push(De)}return{objects:te,startOffset:k,endOffset:F}}function sr(x,k){if(k===28)return x.parseByte()<<8|x.parseByte();if(k===29)return x.parseByte()<<24|x.parseByte()<<16|x.parseByte()<<8|x.parseByte();if(k===30){for(var P=x,F="",X=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var ie=P.parseByte(),te=ie>>4,ie=15&ie;if(te==15||(F+=X[te],ie==15))break;F+=X[ie]}return parseFloat(F)}if(32<=k&&k<=246)return k-139;if(247<=k&&k<=250)return 256*(k-247)+x.parseByte()+108;if(251<=k&&k<=254)return 256*-(k-251)-x.parseByte()-108;throw new Error("Invalid b0 "+k)}function wt(x,k,P){var F=new Oe.Parser(x,k=k!==void 0?k:0),X=[],te=[];for(P=P!==void 0?P:x.length;F.relativeOffset<P;){var ie=F.parseByte();ie<=21?(ie===12&&(ie=1200+F.parseByte()),X.push([ie,te]),te=[]):te.push(sr(F,ie))}for(var he=X,_e={},be=0;be<he.length;be+=1){var Me=he[be][0],Ie=he[be][1],De=void 0,De=Ie.length===1?Ie[0]:Ie;if(_e.hasOwnProperty(Me)&&!isNaN(_e[Me]))throw new Error("Object "+_e+" already has key "+Me);_e[Me]=De}return _e}function ut(x,k){return k=k<=390?de[k]:x[k-391]}function yt(x,k,P){for(var F,X={},te=0;te<k.length;te+=1){var ie=k[te];if(Array.isArray(ie.type)){var he=[];he.length=ie.type.length;for(var _e=0;_e<ie.type.length;_e++)(F=x[ie.op]!==void 0?x[ie.op][_e]:void 0)===void 0&&(F=ie.value!==void 0&&ie.value[_e]!==void 0?ie.value[_e]:null),ie.type[_e]==="SID"&&(F=ut(P,F)),he[_e]=F;X[ie.name]=he}else(F=x[ie.op])===void 0&&(F=ie.value!==void 0?ie.value:null),ie.type==="SID"&&(F=ut(P,F)),X[ie.name]=F}return X}var Qe=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],at=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function ct(x,k,P,F){return yt(wt(x,k,P),at,F)}function gt(x,k,P,F){for(var X=[],te=0;te<P.length;te+=1){var ie=new DataView(new Uint8Array(P[te]).buffer),ie=(he=F,yt(wt(ie,0,ie.byteLength),Qe,he)),he=(ie._subrs=[],ie._subrsBias=0,ie.private[0]),_e=ie.private[1];he!==0&&_e!==0&&(he=ct(x,_e+k,he,F),ie._defaultWidthX=he.defaultWidthX,ie._nominalWidthX=he.nominalWidthX,he.subrs!==0&&(_e=pt(x,_e+he.subrs+k),ie._subrs=_e.objects,ie._subrsBias=St(ie._subrs)),ie._privateDict=he),X.push(ie)}return X}function Pt(x,k,P){var F,X,te,ie,he,_e,be,Me,Ie,De=new re,Se=[],qe=0,Ne=!1,Ve=!1,Re=0,Fe=0,vt=(Ie=(x.isCIDFont?(he=x.tables.cff.topDict._fdSelect[k.index],he=x.tables.cff.topDict._fdArray[he],_e=he._subrs,be=he._subrsBias,Me=he._defaultWidthX,he):(_e=x.tables.cff.topDict._subrs,be=x.tables.cff.topDict._subrsBias,Me=x.tables.cff.topDict._defaultWidthX,x.tables.cff.topDict))._nominalWidthX,Me);function It(xt,Nt){Ve&&De.closePath(),De.moveTo(xt,Nt),Ve=!0}function bt(){Se.length%2==0||Ne||(vt=Se.shift()+Ie),qe+=Se.length>>1,Se.length=0,Ne=!0}return function xt(Nt){for(var Cr,Jr,yi,Gi,Hi,ds,_r,Ar,dr,zi,Hr,Oi,Or=0;Or<Nt.length;){var Ti=Nt[Or];switch(Or+=1,Ti){case 1:case 3:bt();break;case 4:1<Se.length&&!Ne&&(vt=Se.shift()+Ie,Ne=!0),Fe+=Se.pop(),It(Re,Fe);break;case 5:for(;0<Se.length;)Re+=Se.shift(),Fe+=Se.shift(),De.lineTo(Re,Fe);break;case 6:for(;0<Se.length&&(Re+=Se.shift(),De.lineTo(Re,Fe),Se.length!==0);)Fe+=Se.shift(),De.lineTo(Re,Fe);break;case 7:for(;0<Se.length&&(Fe+=Se.shift(),De.lineTo(Re,Fe),Se.length!==0);)Re+=Se.shift(),De.lineTo(Re,Fe);break;case 8:for(;0<Se.length;)F=Re+Se.shift(),X=Fe+Se.shift(),te=F+Se.shift(),ie=X+Se.shift(),Re=te+Se.shift(),Fe=ie+Se.shift(),De.curveTo(F,X,te,ie,Re,Fe);break;case 10:Hi=Se.pop()+be,(ds=_e[Hi])&&xt(ds);break;case 11:return;case 12:switch(Ti=Nt[Or],Or+=1,Ti){case 35:F=Re+Se.shift(),X=Fe+Se.shift(),te=F+Se.shift(),ie=X+Se.shift(),_r=te+Se.shift(),Ar=ie+Se.shift(),dr=_r+Se.shift(),zi=Ar+Se.shift(),Hr=dr+Se.shift(),Oi=zi+Se.shift(),Re=Hr+Se.shift(),Fe=Oi+Se.shift(),Se.shift(),De.curveTo(F,X,te,ie,_r,Ar),De.curveTo(dr,zi,Hr,Oi,Re,Fe);break;case 34:F=Re+Se.shift(),X=Fe,te=F+Se.shift(),ie=X+Se.shift(),_r=te+Se.shift(),Ar=ie,dr=_r+Se.shift(),zi=ie,Hr=dr+Se.shift(),Oi=Fe,Re=Hr+Se.shift(),De.curveTo(F,X,te,ie,_r,Ar),De.curveTo(dr,zi,Hr,Oi,Re,Fe);break;case 36:F=Re+Se.shift(),X=Fe+Se.shift(),te=F+Se.shift(),ie=X+Se.shift(),_r=te+Se.shift(),Ar=ie,dr=_r+Se.shift(),zi=ie,Hr=dr+Se.shift(),Oi=zi+Se.shift(),Re=Hr+Se.shift(),De.curveTo(F,X,te,ie,_r,Ar),De.curveTo(dr,zi,Hr,Oi,Re,Fe);break;case 37:F=Re+Se.shift(),X=Fe+Se.shift(),te=F+Se.shift(),ie=X+Se.shift(),_r=te+Se.shift(),Ar=ie+Se.shift(),dr=_r+Se.shift(),zi=Ar+Se.shift(),Hr=dr+Se.shift(),Oi=zi+Se.shift(),Math.abs(Hr-Re)>Math.abs(Oi-Fe)?Re=Hr+Se.shift():Fe=Oi+Se.shift(),De.curveTo(F,X,te,ie,_r,Ar),De.curveTo(dr,zi,Hr,Oi,Re,Fe);break;default:console.log("Glyph "+k.index+": unknown operator 1200"+Ti),Se.length=0}break;case 14:0<Se.length&&!Ne&&(vt=Se.shift()+Ie,Ne=!0),Ve&&(De.closePath(),Ve=!1);break;case 18:bt();break;case 19:case 20:bt(),Or+=qe+7>>3;break;case 21:2<Se.length&&!Ne&&(vt=Se.shift()+Ie,Ne=!0),Fe+=Se.pop(),It(Re+=Se.pop(),Fe);break;case 22:1<Se.length&&!Ne&&(vt=Se.shift()+Ie,Ne=!0),It(Re+=Se.pop(),Fe);break;case 23:bt();break;case 24:for(;2<Se.length;)F=Re+Se.shift(),X=Fe+Se.shift(),te=F+Se.shift(),ie=X+Se.shift(),Re=te+Se.shift(),Fe=ie+Se.shift(),De.curveTo(F,X,te,ie,Re,Fe);Re+=Se.shift(),Fe+=Se.shift(),De.lineTo(Re,Fe);break;case 25:for(;6<Se.length;)Re+=Se.shift(),Fe+=Se.shift(),De.lineTo(Re,Fe);F=Re+Se.shift(),X=Fe+Se.shift(),te=F+Se.shift(),ie=X+Se.shift(),Re=te+Se.shift(),Fe=ie+Se.shift(),De.curveTo(F,X,te,ie,Re,Fe);break;case 26:for(Se.length%2&&(Re+=Se.shift());0<Se.length;)F=Re,X=Fe+Se.shift(),te=F+Se.shift(),ie=X+Se.shift(),Re=te,Fe=ie+Se.shift(),De.curveTo(F,X,te,ie,Re,Fe);break;case 27:for(Se.length%2&&(Fe+=Se.shift());0<Se.length;)F=Re+Se.shift(),X=Fe,te=F+Se.shift(),ie=X+Se.shift(),Re=te+Se.shift(),Fe=ie,De.curveTo(F,X,te,ie,Re,Fe);break;case 28:Cr=Nt[Or],Jr=Nt[Or+1],Se.push((Cr<<24|Jr<<16)>>16),Or+=2;break;case 29:Hi=Se.pop()+x.gsubrsBias,(ds=x.gsubrs[Hi])&&xt(ds);break;case 30:for(;0<Se.length&&(F=Re,X=Fe+Se.shift(),te=F+Se.shift(),ie=X+Se.shift(),Re=te+Se.shift(),Fe=ie+(Se.length===1?Se.shift():0),De.curveTo(F,X,te,ie,Re,Fe),Se.length!==0);)F=Re+Se.shift(),X=Fe,te=F+Se.shift(),ie=X+Se.shift(),Fe=ie+Se.shift(),Re=te+(Se.length===1?Se.shift():0),De.curveTo(F,X,te,ie,Re,Fe);break;case 31:for(;0<Se.length&&(F=Re+Se.shift(),X=Fe,te=F+Se.shift(),ie=X+Se.shift(),Fe=ie+Se.shift(),Re=te+(Se.length===1?Se.shift():0),De.curveTo(F,X,te,ie,Re,Fe),Se.length!==0);)F=Re,X=Fe+Se.shift(),te=F+Se.shift(),ie=X+Se.shift(),Re=te+Se.shift(),Fe=ie+(Se.length===1?Se.shift():0),De.curveTo(F,X,te,ie,Re,Fe);break;default:Ti<32?console.log("Glyph "+k.index+": unknown operator "+Ti):Ti<247?Se.push(Ti-139):Ti<251?(Cr=Nt[Or],Or+=1,Se.push(256*(Ti-247)+Cr+108)):Ti<255?(Cr=Nt[Or],Or+=1,Se.push(256*-(Ti-251)-Cr-108)):(Cr=Nt[Or],Jr=Nt[Or+1],yi=Nt[Or+2],Gi=Nt[Or+3],Or+=4,Se.push((Cr<<24|Jr<<16|yi<<8|Gi)/65536))}}}(P),k.advanceWidth=vt,De}function jt(x,k){var P,F=de.indexOf(x);return 0<=F&&(P=F),0<=(F=k.indexOf(x))?P=F+de.length:(P=de.length+k.length,k.push(x)),P}function vr(x,k,P){for(var F={},X=0;X<x.length;X+=1){var te=x[X],ie=k[te.name];ie===void 0||function he(_e,be){if(_e===be)return 1;if(Array.isArray(_e)&&Array.isArray(be)&&_e.length===be.length){for(var Me=0;Me<_e.length;Me+=1)if(!he(_e[Me],be[Me]))return;return 1}}(ie,te.value)||(te.type==="SID"&&(ie=jt(ie,P)),F[te.op]={name:te.name,type:te.type,value:ie})}return F}function Qr(x,k){var P=new Pe.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return P.dict=vr(Qe,x,k),P}function pr(x){var k=new Pe.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return k.topDicts=[{name:"topDict_0",type:"TABLE",value:x}],k}function cr(x){for(var k=new Pe.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),P=0;P<x.length;P+=1){var F=x.get(P),X=function(te){for(var ie=[],he=te.path,_e=(ie.push({name:"width",type:"NUMBER",value:te.advanceWidth}),0),be=0,Me=0;Me<he.commands.length;Me+=1){var Ie,De,Se,qe,Ne=void 0,Ve=void 0,Re=he.commands[Me];(Re=Re.type==="Q"?{type:"C",x:Re.x,y:Re.y,x1:1/3*_e+2/3*Re.x1,y1:1/3*be+2/3*Re.y1,x2:1/3*Re.x+2/3*Re.x1,y2:1/3*Re.y+2/3*Re.y1}:Re).type==="M"?(Ne=Math.round(Re.x-_e),Ve=Math.round(Re.y-be),ie.push({name:"dx",type:"NUMBER",value:Ne}),ie.push({name:"dy",type:"NUMBER",value:Ve}),ie.push({name:"rmoveto",type:"OP",value:21}),_e=Math.round(Re.x),be=Math.round(Re.y)):Re.type==="L"?(Ne=Math.round(Re.x-_e),Ve=Math.round(Re.y-be),ie.push({name:"dx",type:"NUMBER",value:Ne}),ie.push({name:"dy",type:"NUMBER",value:Ve}),ie.push({name:"rlineto",type:"OP",value:5}),_e=Math.round(Re.x),be=Math.round(Re.y)):Re.type==="C"&&(Ie=Math.round(Re.x1-_e),De=Math.round(Re.y1-be),Se=Math.round(Re.x2-Re.x1),qe=Math.round(Re.y2-Re.y1),Ne=Math.round(Re.x-Re.x2),Ve=Math.round(Re.y-Re.y2),ie.push({name:"dx1",type:"NUMBER",value:Ie}),ie.push({name:"dy1",type:"NUMBER",value:De}),ie.push({name:"dx2",type:"NUMBER",value:Se}),ie.push({name:"dy2",type:"NUMBER",value:qe}),ie.push({name:"dx",type:"NUMBER",value:Ne}),ie.push({name:"dy",type:"NUMBER",value:Ve}),ie.push({name:"rrcurveto",type:"OP",value:8}),_e=Math.round(Re.x),be=Math.round(Re.y))}return ie.push({name:"endchar",type:"OP",value:14}),ie}(F);k.charStrings.push({name:F.name,type:"CHARSTRING",value:X})}return k}var ir={parse:function(x,k,P){P.tables.cff={},he=x,F=k,(X={}).formatMajor=Oe.getCard8(he,F),X.formatMinor=Oe.getCard8(he,F+1),X.size=Oe.getCard8(he,F+2),X.offsetSize=Oe.getCard8(he,F+3),X.startOffset=F,X.endOffset=F+4;var he=pt(x,X.endOffset,Oe.bytesToString),F=pt(x,he.endOffset),X=pt(x,F.endOffset,Oe.bytesToString),he=pt(x,X.endOffset);if(P.gsubrs=he.objects,P.gsubrsBias=St(P.gsubrs),(he=gt(x,k,F.objects,X.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+he.length);if(F=he[0],(P.tables.cff.topDict=F)._privateDict&&(P.defaultWidthX=F._privateDict.defaultWidthX,P.nominalWidthX=F._privateDict.nominalWidthX),F.ros[0]!==void 0&&F.ros[1]!==void 0&&(P.isCIDFont=!0),P.isCIDFont){var he=F.fdArray,te=F.fdSelect;if(he===0||te===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");he=gt(x,k,pt(x,he+=k).objects,X.objects),F._fdArray=he,F._fdSelect=function(De,Se,qe,Ne){var Ve,Re=[],Fe=new Oe.Parser(De,Se);if((De=Fe.parseCard8())===0)for(var vt=0;vt<qe;vt++){if(Ne<=(Ve=Fe.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ve+" (FD count "+Ne+")");Re.push(Ve)}else{if(De!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+De);var It,bt=Fe.parseCard16(),xt=Fe.parseCard16();if(xt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+xt);for(var Nt=0;Nt<bt;Nt++){if(Ve=Fe.parseCard8(),It=Fe.parseCard16(),Ne<=Ve)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ve+" (FD count "+Ne+")");if(qe<It)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+It);for(;xt<It;xt++)Re.push(Ve);xt=It}if(It!==qe)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+It)}return Re}(x,te+=k,P.numGlyphs,he.length)}var te=k+F.private[1],he=ct(x,te,F.private[0],X.objects),ie=(P.defaultWidthX=he.defaultWidthX,P.nominalWidthX=he.nominalWidthX,he.subrs!==0?(te=pt(x,te+he.subrs),P.subrs=te.objects,P.subrsBias=St(P.subrs)):(P.subrs=[],P.subrsBias=0),pt(x,k+F.charStrings)),he=(P.nGlyphs=ie.objects.length,function(Me,Ie,De,Se){var qe=new Oe.Parser(Me,Ie),Ne=(--De,[".notdef"]);if((Me=qe.parseCard8())===0)for(var Ve=0;Ve<De;Ve+=1)Re=qe.parseSID(),Ne.push(ut(Se,Re));else if(Me===1)for(;Ne.length<=De;)for(var Re=qe.parseSID(),Fe=qe.parseCard8(),vt=0;vt<=Fe;vt+=1)Ne.push(ut(Se,Re)),Re+=1;else{if(Me!==2)throw new Error("Unknown charset format "+Me);for(;Ne.length<=De;){Re=qe.parseSID(),Fe=qe.parseCard16();for(var It=0;It<=Fe;It+=1)Ne.push(ut(Se,Re)),Re+=1}}return Ne}(x,k+F.charset,P.nGlyphs,X.objects));F.encoding===0?P.cffEncoding=new Ye(le,he):F.encoding===1?P.cffEncoding=new Ye(ye,he):P.cffEncoding=function(Me,Ie,De){var Se={},qe=new Oe.Parser(Me,Ie);if((Me=qe.parseCard8())===0)for(var Ne=qe.parseCard8(),Ve=0;Ve<Ne;Ve+=1)Se[Fe=qe.parseCard8()]=Ve;else{if(Me!==1)throw new Error("Unknown encoding format "+Me);for(var Re=qe.parseCard8(),Fe=1,vt=0;vt<Re;vt+=1)for(var It=qe.parseCard8(),bt=qe.parseCard8(),xt=It;xt<=It+bt;xt+=1)Se[xt]=Fe,Fe+=1}return new Ye(Se,De)}(x,k+F.encoding,he),P.encoding=P.encoding||P.cffEncoding,P.glyphs=new lt.GlyphSet(P);for(var _e=0;_e<P.nGlyphs;_e+=1){var be=ie.objects[_e];P.glyphs.push(_e,lt.cffGlyphLoader(P,_e,Pt,be))}},make:function(x,Me){for(var P,F=new Pe.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),X=1/Me.unitsPerEm,X={version:Me.version,fullName:Me.fullName,familyName:Me.familyName,weight:Me.weightName,fontBBox:Me.fontBBox||[0,0,0,0],fontMatrix:[X,0,0,X,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},te=[],ie=1;ie<x.length;ie+=1)P=x.get(ie),te.push(P.name);var he,_e,be=[],Me=(F.header=new Pe.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),F.nameIndex=function(De){var Se=new Pe.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);Se.names=[];for(var qe=0;qe<De.length;qe+=1)Se.names.push({name:"name_"+qe,type:"NAME",value:De[qe]});return Se}([Me.postScriptName]),Qr(X,be)),Ie=(F.topDictIndex=pr(Me),F.globalSubrIndex=new Pe.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),F.charsets=function(De,Se){for(var qe=new Pe.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Ne=0;Ne<De.length;Ne+=1){var Ve=jt(De[Ne],Se);qe.fields.push({name:"glyph_"+Ne,type:"SID",value:Ve})}return qe}(te,be),F.charStringsIndex=cr(x),F.privateDict=(Ie={},he=be,(_e=new Pe.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=vr(at,Ie,he),_e),F.stringIndex=function(De){var Se=new Pe.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);Se.strings=[];for(var qe=0;qe<De.length;qe+=1)Se.strings.push({name:"string_"+qe,type:"STRING",value:De[qe]});return Se}(be),F.header.sizeOf()+F.nameIndex.sizeOf()+F.topDictIndex.sizeOf()+F.stringIndex.sizeOf()+F.globalSubrIndex.sizeOf());return X.charset=Ie,X.encoding=0,X.charStrings=X.charset+F.charsets.sizeOf(),X.private[1]=X.charStrings+F.charStringsIndex.sizeOf(),Me=Qr(X,be),F.topDictIndex=pr(Me),F}},Ai={parse:function(F,k){var P={},F=new Oe.Parser(F,k);return P.version=F.parseVersion(),P.fontRevision=Math.round(1e3*F.parseFixed())/1e3,P.checkSumAdjustment=F.parseULong(),P.magicNumber=F.parseULong(),j.argument(P.magicNumber===1594834165,"Font header has wrong magic number."),P.flags=F.parseUShort(),P.unitsPerEm=F.parseUShort(),P.created=F.parseLongDateTime(),P.modified=F.parseLongDateTime(),P.xMin=F.parseShort(),P.yMin=F.parseShort(),P.xMax=F.parseShort(),P.yMax=F.parseShort(),P.macStyle=F.parseUShort(),P.lowestRecPPEM=F.parseUShort(),P.fontDirectionHint=F.parseShort(),P.indexToLocFormat=F.parseShort(),P.glyphDataFormat=F.parseShort(),P},make:function(x){var k=Math.round(new Date().getTime()/1e3)+2082844800,P=k;return x.createdTimestamp&&(P=x.createdTimestamp+2082844800),new Pe.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:P},{name:"modified",type:"LONGDATETIME",value:k},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],x)}},we={parse:function(F,k){var P={},F=new Oe.Parser(F,k);return P.version=F.parseVersion(),P.ascender=F.parseShort(),P.descender=F.parseShort(),P.lineGap=F.parseShort(),P.advanceWidthMax=F.parseUShort(),P.minLeftSideBearing=F.parseShort(),P.minRightSideBearing=F.parseShort(),P.xMaxExtent=F.parseShort(),P.caretSlopeRise=F.parseShort(),P.caretSlopeRun=F.parseShort(),P.caretOffset=F.parseShort(),F.relativeOffset+=8,P.metricDataFormat=F.parseShort(),P.numberOfHMetrics=F.parseUShort(),P},make:function(x){return new Pe.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],x)}},Xe={parse:function(x,k,P,F,X){for(var te,ie,he=new Oe.Parser(x,k),_e=0;_e<F;_e+=1){_e<P&&(te=he.parseUShort(),ie=he.parseShort());var be=X.get(_e);be.advanceWidth=te,be.leftSideBearing=ie}},make:function(x){for(var k=new Pe.Table("hmtx",[]),P=0;P<x.length;P+=1){var X=x.get(P),F=X.advanceWidth||0,X=X.leftSideBearing||0;k.fields.push({name:"advanceWidth_"+P,type:"USHORT",value:F}),k.fields.push({name:"leftSideBearing_"+P,type:"SHORT",value:X})}return k}},nt={make:function(x){for(var k=new Pe.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:x.length}]),P="",F=12+4*x.length,X=0;X<x.length;++X){var te=P.indexOf(x[X]);te<0&&(te=P.length,P+=x[X]),k.fields.push({name:"offset "+X,type:"USHORT",value:F+te}),k.fields.push({name:"length "+X,type:"USHORT",value:x[X].length})}return k.fields.push({name:"stringPool",type:"CHARARRAY",value:P}),k},parse:function(x,k){for(var P=new Oe.Parser(x,k),F=P.parseULong(),X=(j.argument(F===1,"Unsupported ltag table version."),P.skip("uLong",1),P.parseULong()),te=[],ie=0;ie<X;ie++){for(var he="",_e=k+P.parseUShort(),be=P.parseUShort(),Me=_e;Me<_e+be;++Me)he+=String.fromCharCode(x.getInt8(Me));te.push(he)}return te}},ze={parse:function(F,k){var P={},F=new Oe.Parser(F,k);return P.version=F.parseVersion(),P.numGlyphs=F.parseUShort(),P.version===1&&(P.maxPoints=F.parseUShort(),P.maxContours=F.parseUShort(),P.maxCompositePoints=F.parseUShort(),P.maxCompositeContours=F.parseUShort(),P.maxZones=F.parseUShort(),P.maxTwilightPoints=F.parseUShort(),P.maxStorage=F.parseUShort(),P.maxFunctionDefs=F.parseUShort(),P.maxInstructionDefs=F.parseUShort(),P.maxStackElements=F.parseUShort(),P.maxSizeOfInstructions=F.parseUShort(),P.maxComponentElements=F.parseUShort(),P.maxComponentDepth=F.parseUShort()),P},make:function(x){return new Pe.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:x}])}},Tt=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],$e={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Bt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},st={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Et="utf-16",et={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},or={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Gr(x,k,P){switch(x){case 0:return Et;case 1:return or[P]||et[k];case 3:if(k===1||k===10)return Et}}function Mr(x){var k,P={};for(k in x)P[x[k]]=parseInt(k);return P}function Fr(x,k,P,F,X,te){return new Pe.Record("NameRecord",[{name:"platformID",type:"USHORT",value:x},{name:"encodingID",type:"USHORT",value:k},{name:"languageID",type:"USHORT",value:P},{name:"nameID",type:"USHORT",value:F},{name:"length",type:"USHORT",value:X},{name:"offset",type:"USHORT",value:te}])}function ui(x,k){if((P=function(te,ie){var he=te.length,_e=ie.length-he+1;e:for(var be=0;be<_e;be++)for(;be<_e;be++){for(var Me=0;Me<he;Me++)if(ie[be+Me]!==te[Me])continue e;return be}return-1}(x,k))<0)for(var P=k.length,F=0,X=x.length;F<X;++F)k.push(x[F]);return P}var _i={parse:function(x,k,P){for(var F={},X=new Oe.Parser(x,k),k=X.parseUShort(),te=X.parseUShort(),ie=X.offset+X.parseUShort(),he=0;he<te;he++){var qe=X.parseUShort(),_e=X.parseUShort(),be=X.parseUShort(),Me=X.parseUShort(),Me=Tt[Me]||Me,Ie=X.parseUShort(),De=X.parseUShort(),Se=function(Ve,Re,Fe){switch(Ve){case 0:if(Re===65535)return"und";if(Fe)return Fe[Re];break;case 1:return $e[Re];case 3:return st[Re]}}(qe,be,P),qe=Gr(qe,_e,be);qe!==void 0&&Se!==void 0&&(_e=void 0,(_e=qe===Et?G.UTF16(x,ie+De,Ie):G.MACSTRING(x,ie+De,Ie,qe))&&((be=(be=F[Me])===void 0?F[Me]={}:be)[Se]=_e))}return k===1&&X.parseUShort(),F},make:function(x,k){var P,F=[],X={},te=Mr(Tt);for(P in x){var ie=te[P];if(ie===void 0&&(ie=P),De=parseInt(ie),isNaN(De))throw new Error('Name table entry "'+P+'" does not exist, see nameTableNames for complete list.');X[De]=x[P],F.push(De)}for(var he=Mr($e),_e=Mr(st),be=[],Me=[],Ie=0;Ie<F.length;Ie++){var De,Se,qe=X[De=F[Ie]];for(Se in qe){var Ne=qe[Se],It=1,Ve=he[Se],Re=Bt[Ve],Fe=Gr(It,Re,Ve),Fe=K.MACSTRING(Ne,Fe),vt=(Fe===void 0&&(It=0,(Ve=k.indexOf(Se))<0&&(Ve=k.length,k.push(Se)),Re=4,Fe=K.UTF16(Ne)),ui(Fe,Me)),It=(be.push(Fr(It,Re,Ve,De,Fe.length,vt)),_e[Se]);It!==void 0&&(Ve=ui(Re=K.UTF16(Ne),Me),be.push(Fr(3,1,It,De,Re.length,Ve)))}}be.sort(function(Nt,Cr){return Nt.platformID-Cr.platformID||Nt.encodingID-Cr.encodingID||Nt.languageID-Cr.languageID||Nt.nameID-Cr.nameID});for(var bt=new Pe.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:be.length},{name:"stringOffset",type:"USHORT",value:6+12*be.length}]),xt=0;xt<be.length;xt++)bt.fields.push({name:"record_"+xt,type:"RECORD",value:be[xt]});return bt.fields.push({name:"strings",type:"LITERAL",value:Me}),bt}},Ji=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Br={parse:function(x,k){var P={},F=new Oe.Parser(x,k);P.version=F.parseUShort(),P.xAvgCharWidth=F.parseShort(),P.usWeightClass=F.parseUShort(),P.usWidthClass=F.parseUShort(),P.fsType=F.parseUShort(),P.ySubscriptXSize=F.parseShort(),P.ySubscriptYSize=F.parseShort(),P.ySubscriptXOffset=F.parseShort(),P.ySubscriptYOffset=F.parseShort(),P.ySuperscriptXSize=F.parseShort(),P.ySuperscriptYSize=F.parseShort(),P.ySuperscriptXOffset=F.parseShort(),P.ySuperscriptYOffset=F.parseShort(),P.yStrikeoutSize=F.parseShort(),P.yStrikeoutPosition=F.parseShort(),P.sFamilyClass=F.parseShort(),P.panose=[];for(var X=0;X<10;X++)P.panose[X]=F.parseByte();return P.ulUnicodeRange1=F.parseULong(),P.ulUnicodeRange2=F.parseULong(),P.ulUnicodeRange3=F.parseULong(),P.ulUnicodeRange4=F.parseULong(),P.achVendID=String.fromCharCode(F.parseByte(),F.parseByte(),F.parseByte(),F.parseByte()),P.fsSelection=F.parseUShort(),P.usFirstCharIndex=F.parseUShort(),P.usLastCharIndex=F.parseUShort(),P.sTypoAscender=F.parseShort(),P.sTypoDescender=F.parseShort(),P.sTypoLineGap=F.parseShort(),P.usWinAscent=F.parseUShort(),P.usWinDescent=F.parseUShort(),1<=P.version&&(P.ulCodePageRange1=F.parseULong(),P.ulCodePageRange2=F.parseULong()),2<=P.version&&(P.sxHeight=F.parseShort(),P.sCapHeight=F.parseShort(),P.usDefaultChar=F.parseUShort(),P.usBreakChar=F.parseUShort(),P.usMaxContent=F.parseUShort()),P},make:function(x){return new Pe.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],x)},unicodeRanges:Ji,getUnicodeRange:function(x){for(var k=0;k<Ji.length;k+=1){var P=Ji[k];if(x>=P.begin&&x<P.end)return k}return-1}},u4={parse:function(x,k){var P={},F=new Oe.Parser(x,k);switch(P.version=F.parseVersion(),P.italicAngle=F.parseFixed(),P.underlinePosition=F.parseShort(),P.underlineThickness=F.parseShort(),P.isFixedPitch=F.parseULong(),P.minMemType42=F.parseULong(),P.maxMemType42=F.parseULong(),P.minMemType1=F.parseULong(),P.maxMemType1=F.parseULong(),P.version){case 1:P.names=je.slice();break;case 2:P.numberOfGlyphs=F.parseUShort(),P.glyphNameIndex=new Array(P.numberOfGlyphs);for(var X=0;X<P.numberOfGlyphs;X++)P.glyphNameIndex[X]=F.parseUShort();P.names=[];for(var te,ie=0;ie<P.numberOfGlyphs;ie++)P.glyphNameIndex[ie]>=je.length&&(te=F.parseChar(),P.names.push(F.parseString(te)));break;case 2.5:P.numberOfGlyphs=F.parseUShort(),P.offset=new Array(P.numberOfGlyphs);for(var he=0;he<P.numberOfGlyphs;he++)P.offset[he]=F.parseChar()}return P},make:function(){return new Pe.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},us=new Array(9),Zc=(us[1]=function(){var x=this.offset+this.relativeOffset,k=this.parseUShort();return k===1?{substFormat:1,coverage:this.parsePointer(Ee.coverage),deltaGlyphId:this.parseUShort()}:k===2?{substFormat:2,coverage:this.parsePointer(Ee.coverage),substitute:this.parseOffset16List()}:void j.assert(!1,"0x"+x.toString(16)+": lookup type 1 format must be 1 or 2.")},us[2]=function(){var x=this.parseUShort();return j.argument(x===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(Ee.coverage),sequences:this.parseListOfLists()}},us[3]=function(){var x=this.parseUShort();return j.argument(x===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(Ee.coverage),alternateSets:this.parseListOfLists()}},us[4]=function(){var x=this.parseUShort();return j.argument(x===1,"GSUB ligature table identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(Ee.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:Ee.uShort,lookupListIndex:Ee.uShort});us[5]=function(){var x,k,P=this.offset+this.relativeOffset,F=this.parseUShort();return F===1?{substFormat:F,coverage:this.parsePointer(Ee.coverage),ruleSets:this.parseListOfLists(function(){var X=this.parseUShort(),te=this.parseUShort();return{input:this.parseUShortList(X-1),lookupRecords:this.parseRecordList(te,Zc)}})}:F===2?{substFormat:F,coverage:this.parsePointer(Ee.coverage),classDef:this.parsePointer(Ee.classDef),classSets:this.parseListOfLists(function(){var X=this.parseUShort(),te=this.parseUShort();return{classes:this.parseUShortList(X-1),lookupRecords:this.parseRecordList(te,Zc)}})}:F===3?(x=this.parseUShort(),k=this.parseUShort(),{substFormat:F,coverages:this.parseList(x,Ee.pointer(Ee.coverage)),lookupRecords:this.parseRecordList(k,Zc)}):void j.assert(!1,"0x"+P.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},us[6]=function(){var x=this.offset+this.relativeOffset,k=this.parseUShort();return k===1?{substFormat:1,coverage:this.parsePointer(Ee.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Zc)}})}:k===2?{substFormat:2,coverage:this.parsePointer(Ee.coverage),backtrackClassDef:this.parsePointer(Ee.classDef),inputClassDef:this.parsePointer(Ee.classDef),lookaheadClassDef:this.parsePointer(Ee.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Zc)}})}:k===3?{substFormat:3,backtrackCoverage:this.parseList(Ee.pointer(Ee.coverage)),inputCoverage:this.parseList(Ee.pointer(Ee.coverage)),lookaheadCoverage:this.parseList(Ee.pointer(Ee.coverage)),lookupRecords:this.parseRecordList(Zc)}:void j.assert(!1,"0x"+x.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},us[7]=function(){var x=this.parseUShort(),x=(j.argument(x===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),k=new Ee(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:x,extension:us[x].call(k)}},us[8]=function(){var x=this.parseUShort();return j.argument(x===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(Ee.coverage),backtrackCoverage:this.parseList(Ee.pointer(Ee.coverage)),lookaheadCoverage:this.parseList(Ee.pointer(Ee.coverage)),substitutes:this.parseUShortList()}};var _v=new Array(9);_v[1]=function(x){return x.substFormat===1?new Pe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Pe.Coverage(x.coverage)},{name:"deltaGlyphID",type:"USHORT",value:x.deltaGlyphId}]):new Pe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Pe.Coverage(x.coverage)}].concat(Pe.ushortList("substitute",x.substitute)))},_v[3]=function(x){return j.assert(x.substFormat===1,"Lookup type 3 substFormat must be 1."),new Pe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Pe.Coverage(x.coverage)}].concat(Pe.tableList("altSet",x.alternateSets,function(k){return new Pe.Table("alternateSetTable",Pe.ushortList("alternate",k))})))},_v[4]=function(x){return j.assert(x.substFormat===1,"Lookup type 4 substFormat must be 1."),new Pe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Pe.Coverage(x.coverage)}].concat(Pe.tableList("ligSet",x.ligatureSets,function(k){return new Pe.Table("ligatureSetTable",Pe.tableList("ligature",k,function(P){return new Pe.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:P.ligGlyph}].concat(Pe.ushortList("component",P.components,P.components.length+1)))}))})))};var c4={parse:function(x,k){return k=(x=new Ee(x,k=k||0)).parseVersion(1),j.argument(k===1||k===1.1,"Unsupported GSUB table version."),k===1?{version:k,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(us)}:{version:k,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(us),variations:x.parseFeatureVariationsList()}},make:function(x){return new Pe.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Pe.ScriptList(x.scripts)},{name:"features",type:"TABLE",value:new Pe.FeatureList(x.features)},{name:"lookups",type:"TABLE",value:new Pe.LookupList(x.lookups,_v)}])}},d4={parse:function(x,k){for(var P=new Oe.Parser(x,k),F=P.parseULong(),X=(j.argument(F===1,"Unsupported META table version."),P.parseULong(),P.parseULong(),P.parseULong()),te={},ie=0;ie<X;ie++){var he=P.parseTag(),be=P.parseULong(),_e=P.parseULong(),be=G.UTF8(x,k+be,_e);te[he]=be}return te},make:function(x){var k,P=Object.keys(x).length,F="",X=16+12*P,te=new Pe.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:X},{name:"numTags",type:"ULONG",value:P}]);for(k in x){var ie=F.length;F+=x[k],te.fields.push({name:"tag "+k,type:"TAG",value:k}),te.fields.push({name:"offset "+k,type:"ULONG",value:X+ie}),te.fields.push({name:"length "+k,type:"ULONG",value:x[k].length})}return te.fields.push({name:"stringPool",type:"CHARARRAY",value:F}),te}};function h4(x){return Math.log(x)/Math.log(2)|0}function D6(x){for(;x.length%4!=0;)x.push(0);for(var k=0,P=0;P<x.length;P+=4)k+=(x[P]<<24)+(x[P+1]<<16)+(x[P+2]<<8)+x[P+3];return k%=Math.pow(2,32)}function f4(x,k,P,F){return new Pe.Record("Table Record",[{name:"tag",type:"TAG",value:x!==void 0?x:""},{name:"checkSum",type:"ULONG",value:k!==void 0?k:0},{name:"offset",type:"ULONG",value:P!==void 0?P:0},{name:"length",type:"ULONG",value:F!==void 0?F:0}])}function p4(x){for(var k=new Pe.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),P=(k.tables=x,k.numTables=x.length,Math.pow(2,h4(k.numTables))),F=(k.searchRange=16*P,k.entrySelector=h4(P),k.rangeShift=16*k.numTables-k.searchRange,[]),X=[],te=k.sizeOf()+f4().sizeOf()*k.numTables;te%4!=0;)te+=1,X.push({name:"padding",type:"BYTE",value:0});for(var ie=0;ie<x.length;ie+=1){var he=x[ie],_e=(j.argument(he.tableName.length===4,"Table name"+he.tableName+" is invalid."),he.sizeOf()),be=f4(he.tableName,D6(he.encode()),te,_e);for(F.push({name:be.tag+" Table Record",type:"RECORD",value:be}),X.push({name:he.tableName+" table",type:"RECORD",value:he}),te+=_e,j.argument(!isNaN(te),"Something went wrong calculating the offset.");te%4!=0;)te+=1,X.push({name:"padding",type:"BYTE",value:0})}return F.sort(function(Me,Ie){return Me.value.tag>Ie.value.tag?1:-1}),k.fields=k.fields.concat(F),k.fields=k.fields.concat(X),k}function m4(x,k,P){for(var F=0;F<k.length;F+=1){var X=x.charToGlyphIndex(k[F]);if(0<X)return x.glyphs.get(X).getMetrics()}return P}var iB={make:p4,fontToTable:function(x){for(var k,P=[],F=[],X=[],te=[],ie=[],he=[],_e=[],be=0,Me=0,Ie=0,De=0,Se=0,qe=0;qe<x.glyphs.length;qe+=1){var Ne=x.glyphs.get(qe),Ve=0|Ne.unicode;if(isNaN(Ne.advanceWidth))throw new Error("Glyph "+Ne.name+" ("+qe+"): advanceWidth is not a number.");(Ve<k||k===void 0)&&0<Ve&&(k=Ve),be<Ve&&(be=Ve);var Ve=Br.getUnicodeRange(Ve);if(Ve<32)Me|=1<<Ve;else if(Ve<64)Ie|=1<<Ve-32;else if(Ve<96)De|=1<<Ve-64;else{if(!(Ve<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");Se|=1<<Ve-96}Ne.name!==".notdef"&&(Ve=Ne.getMetrics(),P.push(Ve.xMin),F.push(Ve.yMin),X.push(Ve.xMax),te.push(Ve.yMax),he.push(Ve.leftSideBearing),_e.push(Ve.rightSideBearing),ie.push(Ne.advanceWidth))}var Re,Fe={xMin:Math.min.apply(null,P),yMin:Math.min.apply(null,F),xMax:Math.max.apply(null,X),yMax:Math.max.apply(null,te),advanceWidthMax:Math.max.apply(null,ie),advanceWidthAvg:function(Ti){for(var Gf=0,Jc=0;Jc<Ti.length;Jc+=1)Gf+=Ti[Jc];return Gf/Ti.length}(ie),minLeftSideBearing:Math.min.apply(null,he),maxLeftSideBearing:Math.max.apply(null,he),minRightSideBearing:Math.min.apply(null,_e)},vt=(Fe.ascender=x.ascender,Fe.descender=x.descender,Ai.make({flags:3,unitsPerEm:x.unitsPerEm,xMin:Fe.xMin,yMin:Fe.yMin,xMax:Fe.xMax,yMax:Fe.yMax,lowestRecPPEM:3,createdTimestamp:x.createdTimestamp})),It=we.make({ascender:Fe.ascender,descender:Fe.descender,advanceWidthMax:Fe.advanceWidthMax,minLeftSideBearing:Fe.minLeftSideBearing,minRightSideBearing:Fe.minRightSideBearing,xMaxExtent:Fe.maxLeftSideBearing+(Fe.xMax-Fe.xMin),numberOfHMetrics:x.glyphs.length}),bt=ze.make(x.glyphs.length),xt=Br.make({xAvgCharWidth:Math.round(Fe.advanceWidthAvg),usWeightClass:x.tables.os2.usWeightClass,usWidthClass:x.tables.os2.usWidthClass,usFirstCharIndex:k,usLastCharIndex:be,ulUnicodeRange1:Me,ulUnicodeRange2:Ie,ulUnicodeRange3:De,ulUnicodeRange4:Se,fsSelection:x.tables.os2.fsSelection,sTypoAscender:Fe.ascender,sTypoDescender:Fe.descender,sTypoLineGap:0,usWinAscent:Fe.yMax,usWinDescent:Math.abs(Fe.yMin),ulCodePageRange1:1,sxHeight:m4(x,"xyvw",{yMax:Math.round(Fe.ascender/2)}).yMax,sCapHeight:m4(x,"HIKLEFJMNTZBDPRAGOQSUVWXY",Fe).yMax,usDefaultChar:x.hasChar(" ")?32:0,usBreakChar:x.hasChar(" ")?32:0}),Nt=Xe.make(x.glyphs),Cr=ce.make(x.glyphs),Ar=x.getEnglishName("fontFamily"),dr=x.getEnglishName("fontSubfamily"),_r=Ar+" "+dr,Jr=(Jr=x.getEnglishName("postScriptName"))||Ar.replace(/\s/g,"")+"-"+dr,yi={};for(Re in x.names)yi[Re]=x.names[Re];yi.uniqueID||(yi.uniqueID={en:x.getEnglishName("manufacturer")+":"+_r}),yi.postScriptName||(yi.postScriptName={en:Jr}),yi.preferredFamily||(yi.preferredFamily=x.names.fontFamily),yi.preferredSubfamily||(yi.preferredSubfamily=x.names.fontSubfamily);var Hi=[],Gi=_i.make(yi,Hi),Hi=0<Hi.length?nt.make(Hi):void 0,ds=u4.make(),_r=ir.make(x.glyphs,{version:x.getEnglishName("version"),fullName:_r,familyName:Ar,weightName:dr,postScriptName:Jr,unitsPerEm:x.unitsPerEm,fontBBox:[0,Fe.yMin,Fe.ascender,Fe.advanceWidthMax]}),Ar=x.metas&&0<Object.keys(x.metas).length?d4.make(x.metas):void 0,dr=[vt,It,bt,xt,Gi,Cr,ds,_r,Nt];Hi&&dr.push(Hi),x.tables.gsub&&dr.push(c4.make(x.tables.gsub)),Ar&&dr.push(Ar);for(var zi=D6((Jr=p4(dr)).encode()),Hr=Jr.fields,Oi=!1,Or=0;Or<Hr.length;Or+=1)if(Hr[Or].name==="head table"){Hr[Or].value.checkSumAdjustment=2981146554-zi,Oi=!0;break}if(Oi)return Jr;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:D6};function I6(x,k){for(var P=0,F=x.length-1;P<=F;){var X=P+F>>>1,te=x[X].tag;if(te===k)return X;te<k?P=1+X:F=X-1}return-P-1}function y4(x,k){for(var P=0,F=x.length-1;P<=F;){var X=P+F>>>1,te=x[X];if(te===k)return X;te<k?P=1+X:F=X-1}return-P-1}function g4(x,k){for(var P=0,F=x.length-1;P<=F;){var X,te=P+F>>>1,ie=(X=x[te]).start;if(ie===k)return X;ie<k?P=1+te:F=te-1}if(0<P)return k>(X=x[P-1]).end?0:X}function wv(x,k){this.font=x,this.tableName=k}function xv(x){wv.call(this,x,"gpos")}function Ns(x){wv.call(this,x,"gsub")}function v4(x,k,P){for(var F=x.subtables,X=0;X<F.length;X++){var te=F[X];if(te.substFormat===k)return te}if(P)return F.push(P),P}function b4(x){for(var k=new ArrayBuffer(x.length),P=new Uint8Array(k),F=0;F<x.length;++F)P[F]=x[F];return k}function Kc(x,k){if(!x)throw k}function _4(x,k,P,F,X){var te=0<(k&F)?(te=x.parseByte(),P+(te=k&X?te:-te)):0<(k&X)?P:P+x.parseShort();return te}function nB(x,k,P){var F,X=new Oe.Parser(k,P);if(x.numberOfContours=X.parseShort(),x._xMin=X.parseShort(),x._yMin=X.parseShort(),x._xMax=X.parseShort(),x._yMax=X.parseShort(),0<x.numberOfContours){for(var te=x.endPointIndices=[],ie=0;ie<x.numberOfContours;ie+=1)te.push(X.parseUShort());x.instructionLength=X.parseUShort(),x.instructions=[];for(var he=0;he<x.instructionLength;he+=1)x.instructions.push(X.parseByte());for(var _e=te[te.length-1]+1,be=[],Me=0;Me<_e;Me+=1)if(F=X.parseByte(),be.push(F),0<(8&F))for(var Ie=X.parseByte(),De=0;De<Ie;De+=1)be.push(F),Me+=1;if(j.argument(be.length===_e,"Bad flags."),0<te.length){var Se,qe=[];if(0<_e){for(var Ne=0;Ne<_e;Ne+=1)F=be[Ne],(Se={}).onCurve=!!(1&F),Se.lastPointOfContour=0<=te.indexOf(Ne),qe.push(Se);for(var Ve=0,Re=0;Re<_e;Re+=1)F=be[Re],(Se=qe[Re]).x=_4(X,F,Ve,2,16),Ve=Se.x;for(var Fe=0,vt=0;vt<_e;vt+=1)F=be[vt],(Se=qe[vt]).y=_4(X,F,Fe,4,32),Fe=Se.y}x.points=qe}else x.points=[]}else if(x.numberOfContours===0)x.points=[];else{x.isComposite=!0,x.points=[],x.components=[];for(var It=!0;It;){be=X.parseUShort();var bt={glyphIndex:X.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&be)?0<(2&be)?(bt.dx=X.parseShort(),bt.dy=X.parseShort()):bt.matchedPoints=[X.parseUShort(),X.parseUShort()]:0<(2&be)?(bt.dx=X.parseChar(),bt.dy=X.parseChar()):bt.matchedPoints=[X.parseByte(),X.parseByte()],0<(8&be)?bt.xScale=bt.yScale=X.parseF2Dot14():0<(64&be)?(bt.xScale=X.parseF2Dot14(),bt.yScale=X.parseF2Dot14()):0<(128&be)&&(bt.xScale=X.parseF2Dot14(),bt.scale01=X.parseF2Dot14(),bt.scale10=X.parseF2Dot14(),bt.yScale=X.parseF2Dot14()),x.components.push(bt),It=!!(32&be)}if(256&be){x.instructionLength=X.parseUShort(),x.instructions=[];for(var xt=0;xt<x.instructionLength;xt+=1)x.instructions.push(X.parseByte())}}}function R6(x,k){for(var P=[],F=0;F<x.length;F+=1){var X=x[F],X={x:k.xScale*X.x+k.scale01*X.y+k.dx,y:k.scale10*X.x+k.yScale*X.y+k.dy,onCurve:X.onCurve,lastPointOfContour:X.lastPointOfContour};P.push(X)}return P}function w4(x){var k=new re;if(x)for(var P=function(Ie){for(var De=[],Se=[],qe=0;qe<Ie.length;qe+=1){var Ne=Ie[qe];Se.push(Ne),Ne.lastPointOfContour&&(De.push(Se),Se=[])}return j.argument(Se.length===0,"There are still points left in the current contour."),De}(x),F=0;F<P.length;++F){var X,te=P[F],ie=te[te.length-1],he=te[0];ie.onCurve?k.moveTo(ie.x,ie.y):he.onCurve?k.moveTo(he.x,he.y):(X={x:.5*(ie.x+he.x),y:.5*(ie.y+he.y)},k.moveTo(X.x,X.y));for(var _e=0;_e<te.length;++_e){var be,Me=ie,ie=he,he=te[(_e+1)%te.length];ie.onCurve?k.lineTo(ie.x,ie.y):(be=he,Me.onCurve||(ie.x,Me.x,ie.y,Me.y),he.onCurve||(be={x:.5*(ie.x+he.x),y:.5*(ie.y+he.y)}),k.quadraticCurveTo(ie.x,ie.y,be.x,be.y))}k.closePath()}return k}function sB(x,k){if(k.isComposite)for(var P=0;P<k.components.length;P+=1){var F=k.components[P],X=x.get(F.glyphIndex);if(X.getPath(),X.points){var te=void 0;if(F.matchedPoints===void 0)te=R6(X.points,F);else{if(F.matchedPoints[0]>k.points.length-1||F.matchedPoints[1]>X.points.length-1)throw Error("Matched points out of range in "+k.name);var ie=k.points[F.matchedPoints[0]],he=X.points[F.matchedPoints[1]],F={xScale:F.xScale,scale01:F.scale01,scale10:F.scale10,yScale:F.yScale,dx:0,dy:0},he=R6([he],F)[0];F.dx=ie.x-he.x,F.dy=ie.y-he.y,te=R6(X.points,F)}k.points=k.points.concat(te)}}return w4(k.points)}(xv.prototype=wv.prototype={searchTag:I6,binSearch:y4,getTable:function(x){var k=this.font.tables[this.tableName];return k=!k&&x?this.font.tables[this.tableName]=this.createDefaultTable():k},getScriptNames:function(){var x=this.getTable();return x?x.scripts.map(function(k){return k.tag}):[]},getDefaultScriptName:function(){var x=this.getTable();if(x){for(var k=!1,P=0;P<x.scripts.length;P++){var F=x.scripts[P].tag;if(F==="DFLT")return F;F==="latn"&&(k=!0)}return k?"latn":void 0}},getScriptTable:function(x,k){var P,F=this.getTable(k);if(F)return P=F.scripts,0<=(F=I6(F.scripts,x=x||"DFLT"))?P[F].script:k?(P.splice(-1-F,0,k={tag:x,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),k.script):void 0},getLangSysTable:function(X,k,P){var F,X=this.getScriptTable(X,P);if(X)return k&&k!=="dflt"&&k!=="DFLT"?0<=(F=I6(X.langSysRecords,k))?X.langSysRecords[F].langSys:P?(X.langSysRecords.splice(-1-F,0,P={tag:k,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),P.langSys):void 0:X.defaultLangSys},getFeatureTable:function(x,k,P,F){if(x=this.getLangSysTable(x,k,F),x){for(var X,te=x.featureIndexes,ie=this.font.tables[this.tableName].features,he=0;he<te.length;he++)if((X=ie[te[he]]).tag===P)return X.feature;if(F)return k=ie.length,j.assert(k===0||P>=ie[k-1].tag,"Features must be added in alphabetical order."),ie.push(X={tag:P,feature:{params:0,lookupListIndexes:[]}}),te.push(k),X.feature}},getLookupTables:function(te,k,P,F,X){var te=this.getFeatureTable(te,k,P,X),ie=[];if(te){for(var he,_e=te.lookupListIndexes,be=this.font.tables[this.tableName].lookups,Me=0;Me<_e.length;Me++)(he=be[_e[Me]]).lookupType===F&&ie.push(he);if(ie.length===0&&X)return k=be.length,be.push(he={lookupType:F,lookupFlag:0,subtables:[],markFilteringSet:void 0}),_e.push(k),[he]}return ie},getGlyphClass:function(x,k){switch(x.format){case 1:return x.startGlyph<=k&&k<x.startGlyph+x.classes.length?x.classes[k-x.startGlyph]:0;case 2:var P=g4(x.ranges,k);return P?P.classId:0}},getCoverageIndex:function(x,k){switch(x.format){case 1:var P=y4(x.glyphs,k);return 0<=P?P:-1;case 2:return P=g4(x.ranges,k),P?P.index+k-P.start:-1}},expandCoverage:function(x){if(x.format===1)return x.glyphs;for(var k=[],P=x.ranges,F=0;F<P.length;F++)for(var X=P[F],te=X.start,ie=X.end,he=te;he<=ie;he++)k.push(he);return k}}).init=function(){var x=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(x)},xv.prototype.getKerningValue=function(x,k,P){for(var F=0;F<x.length;F++)for(var X=x[F].subtables,te=0;te<X.length;te++){var ie=X[te],he=this.getCoverageIndex(ie.coverage,k);if(!(he<0))switch(ie.posFormat){case 1:for(var _e=ie.pairSets[he],be=0;be<_e.length;be++){var Me=_e[be];if(Me.secondGlyph===P)return Me.value1&&Me.value1.xAdvance||0}break;case 2:var De=this.getGlyphClass(ie.classDef1,k),Ie=this.getGlyphClass(ie.classDef2,P),De=ie.classRecords[De][Ie];return De.value1&&De.value1.xAdvance||0}}return 0},xv.prototype.getKerningTables=function(x,k){if(this.font.tables.gpos)return this.getLookupTables(x,k,"kern",2)},(Ns.prototype=wv.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Ns.prototype.getSingle=function(x,k,P){for(var F=[],X=this.getLookupTables(k,P,x,1),te=0;te<X.length;te++)for(var ie=X[te].subtables,he=0;he<ie.length;he++){var _e=ie[he],be=this.expandCoverage(_e.coverage),Me=void 0;if(_e.substFormat===1)for(var Ie=_e.deltaGlyphId,Me=0;Me<be.length;Me++){var De=be[Me];F.push({sub:De,by:De+Ie})}else{var Se=_e.substitute;for(Me=0;Me<be.length;Me++)F.push({sub:be[Me],by:Se[Me]})}}return F},Ns.prototype.getAlternates=function(x,k,P){for(var F=[],X=this.getLookupTables(k,P,x,3),te=0;te<X.length;te++)for(var ie=X[te].subtables,he=0;he<ie.length;he++)for(var _e=ie[he],be=this.expandCoverage(_e.coverage),Me=_e.alternateSets,Ie=0;Ie<be.length;Ie++)F.push({sub:be[Ie],by:Me[Ie]});return F},Ns.prototype.getLigatures=function(x,k,P){for(var F=[],X=this.getLookupTables(k,P,x,4),te=0;te<X.length;te++)for(var ie=X[te].subtables,he=0;he<ie.length;he++)for(var _e=ie[he],be=this.expandCoverage(_e.coverage),Me=_e.ligatureSets,Ie=0;Ie<be.length;Ie++)for(var De=be[Ie],Se=Me[Ie],qe=0;qe<Se.length;qe++){var Ne=Se[qe];F.push({sub:[De].concat(Ne.components),by:Ne.ligGlyph})}return F},Ns.prototype.addSingle=function(x,k,P,F){P=v4(this.getLookupTables(P,F,x,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),j.assert(P.coverage.format===1,"Ligature: unable to modify coverage table format "+P.coverage.format),F=k.sub,x=this.binSearch(P.coverage.glyphs,F),x<0&&(P.coverage.glyphs.splice(x=-1-x,0,F),P.substitute.splice(x,0,0)),P.substitute[x]=k.by},Ns.prototype.addAlternate=function(x,k,P,F){P=v4(this.getLookupTables(P,F,x,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),j.assert(P.coverage.format===1,"Ligature: unable to modify coverage table format "+P.coverage.format),F=k.sub,x=this.binSearch(P.coverage.glyphs,F),x<0&&(P.coverage.glyphs.splice(x=-1-x,0,F),P.alternateSets.splice(x,0,0)),P.alternateSets[x]=k.by},Ns.prototype.addLigature=function(te,_e,he,X){var he=this.getLookupTables(he,X,te,4,!0)[0],X=he.subtables[0],te=(X||(he.subtables[0]=X={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),j.assert(X.coverage.format===1,"Ligature: unable to modify coverage table format "+X.coverage.format),_e.sub[0]),ie=_e.sub.slice(1),he={ligGlyph:_e.by,components:ie},_e=this.binSearch(X.coverage.glyphs,te);if(0<=_e){for(var be=X.ligatureSets[_e],Me=0;Me<be.length;Me++)if(function(Ie,De){var Se=Ie.length;if(Se===De.length){for(var qe=0;qe<Se;qe++)if(Ie[qe]!==De[qe])return;return 1}}(be[Me].components,ie))return;be.push(he)}else X.coverage.glyphs.splice(_e=-1-_e,0,te),X.ligatureSets.splice(_e,0,[he])},Ns.prototype.getFeature=function(x,k,P){if(/ss\d\d/.test(x))return this.getSingle(x,k,P);switch(x){case"aalt":case"salt":return this.getSingle(x,k,P).concat(this.getAlternates(x,k,P));case"dlig":case"liga":case"rlig":return this.getLigatures(x,k,P)}},Ns.prototype.add=function(x,k,P,F){if(/ss\d\d/.test(x))return this.addSingle(x,k,P,F);switch(x){case"aalt":case"salt":return typeof k.by=="number"?this.addSingle(x,k,P,F):this.addAlternate(x,k,P,F);case"dlig":case"liga":case"rlig":return this.addLigature(x,k,P,F)}};var x4={getPath:w4,parse:function(x,k,P,F){for(var X=new lt.GlyphSet(F),te=0;te<P.length-1;te+=1){var ie=P[te];ie!==P[te+1]?X.push(te,lt.ttfGlyphLoader(F,te,nB,x,k+ie,sB)):X.push(te,lt.glyphLoader(F,te))}return X}};function S4(x){this.font=x,this.getCommands=function(k){return x4.getPath(k).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function oB(x){return x}function T4(x){return Math.sign(x)*Math.round(Math.abs(x))}function aB(x){return Math.sign(x)*Math.round(Math.abs(2*x))/2}function lB(x){return Math.sign(x)*(Math.round(Math.abs(x)+.5)-.5)}function uB(x){return Math.sign(x)*Math.ceil(Math.abs(x))}function cB(x){return Math.sign(x)*Math.floor(Math.abs(x))}function C4(x){var k=this.srPeriod,P=this.srPhase,F=1;return x<0&&(x=-x,F=-1),x+=this.srThreshold-P,x=Math.trunc(x/k)*k,(x+=P)<0?P*F:x*F}var Us={x:1,y:0,axis:"x",distance:function(x,k,P,F){return(P?x.xo:x.x)-(F?k.xo:k.x)},interpolate:function(x,k,P,F){var X,te,ie,he,_e,be,Me;if(!F||F===this)return X=x.xo-k.xo,te=x.xo-P.xo,_e=k.x-k.xo,be=P.x-P.xo,(Me=(ie=Math.abs(X))+(he=Math.abs(te)))===0?void(x.x=x.xo+(_e+be)/2):void(x.x=x.xo+(_e*he+be*ie)/Me);X=F.distance(x,k,!0,!0),te=F.distance(x,P,!0,!0),_e=F.distance(k,k,!1,!0),be=F.distance(P,P,!1,!0),(Me=(ie=Math.abs(X))+(he=Math.abs(te)))===0?Us.setRelative(x,x,(_e+be)/2,F,!0):Us.setRelative(x,x,(_e*he+be*ie)/Me,F,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(x,k,P,F,X){var te,ie;F&&F!==this?(te=X?k.xo:k.x,ie=X?k.yo:k.y,te+=P*F.x,ie+=P*F.y,x.x=te+(x.y-ie)/F.normalSlope):x.x=(X?k.xo:k.x)+P},slope:0,touch:function(x){x.xTouched=!0},touched:function(x){return x.xTouched},untouch:function(x){x.xTouched=!1}},vo={x:0,y:1,axis:"y",distance:function(x,k,P,F){return(P?x.yo:x.y)-(F?k.yo:k.y)},interpolate:function(x,k,P,F){var X,te,ie,he,_e,be,Me;if(!F||F===this)return X=x.yo-k.yo,te=x.yo-P.yo,_e=k.y-k.yo,be=P.y-P.yo,(Me=(ie=Math.abs(X))+(he=Math.abs(te)))===0?void(x.y=x.yo+(_e+be)/2):void(x.y=x.yo+(_e*he+be*ie)/Me);X=F.distance(x,k,!0,!0),te=F.distance(x,P,!0,!0),_e=F.distance(k,k,!1,!0),be=F.distance(P,P,!1,!0),(Me=(ie=Math.abs(X))+(he=Math.abs(te)))===0?vo.setRelative(x,x,(_e+be)/2,F,!0):vo.setRelative(x,x,(_e*he+be*ie)/Me,F,!0)},normalSlope:0,setRelative:function(x,k,P,F,X){var te,ie;F&&F!==this?(te=X?k.xo:k.x,ie=X?k.yo:k.y,te+=P*F.x,ie+=P*F.y,x.y=ie+F.normalSlope*(x.x-te)):x.y=(X?k.yo:k.y)+P},slope:Number.POSITIVE_INFINITY,touch:function(x){x.yTouched=!0},touched:function(x){return x.yTouched},untouch:function(x){x.yTouched=!1}};function Uf(x,k){this.x=x,this.y=k,this.axis=void 0,this.slope=k/x,this.normalSlope=-x/k,Object.freeze(this)}function Vf(x,k){var P=Math.sqrt(x*x+k*k);return k/=P,(x/=P)===1&&k===0?Us:x===0&&k===1?vo:new Uf(x,k)}function bo(x,k,P,F){this.x=this.xo=Math.round(64*x)/64,this.y=this.yo=Math.round(64*k)/64,this.lastPointOfContour=P,this.onCurve=F,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Us),Object.freeze(vo),Uf.prototype.distance=function(x,k,P,F){return this.x*Us.distance(x,k,P,F)+this.y*vo.distance(x,k,P,F)},Uf.prototype.interpolate=function(x,X,te,F){var ie=F.distance(x,X,!0,!0),he=F.distance(x,te,!0,!0),X=F.distance(X,X,!1,!0),te=F.distance(te,te,!1,!0),ie=Math.abs(ie),he=Math.abs(he),_e=ie+he;_e===0?this.setRelative(x,x,(X+te)/2,F,!0):this.setRelative(x,x,(X*he+te*ie)/_e,F,!0)},Uf.prototype.setRelative=function(x,te,_e,be,he){var ie=he?te.xo:te.x,he=he?te.yo:te.y,te=ie+_e*(be=be||this).x,ie=he+_e*be.y,he=be.normalSlope,_e=this.slope,be=x.x,Me=x.y;x.x=(_e*be-he*te+ie-Me)/(_e-he),x.y=_e*(x.x-be)+Me},Uf.prototype.touch=function(x){x.xTouched=!0,x.yTouched=!0},bo.prototype.nextTouched=function(x){for(var k=this.nextPointOnContour;!x.touched(k)&&k!==this;)k=k.nextPointOnContour;return k},bo.prototype.prevTouched=function(x){for(var k=this.prevPointOnContour;!x.touched(k)&&k!==this;)k=k.prevPointOnContour;return k};var $f=Object.freeze(new bo(0,0)),dB={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function xa(x,k){switch(this.env=x,this.stack=[],this.prog=k,x){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Us,this.round=T4}}function Sv(x){for(var k=x.tZone=new Array(x.gZone.length),P=0;P<k.length;P++)k[P]=new bo(0,0)}function k4(x,k){var P,F=x.prog,X=x.ip,te=1;do if((P=F[++X])===88)te++;else if(P===89)te--;else if(P===64)X+=F[X+1]+1;else if(P===65)X+=2*F[X+1]+1;else if(176<=P&&P<=183)X+=P-176+1;else if(184<=P&&P<=191)X+=2*(P-184+1);else if(k&&te===1&&P===27)break;while(0<te);x.ip=X}function j4(x,k){u.DEBUG&&console.log(k.step,"SVTCA["+x.axis+"]"),k.fv=k.pv=k.dpv=x}function E4(x,k){u.DEBUG&&console.log(k.step,"SPVTCA["+x.axis+"]"),k.pv=k.dpv=x}function M4(x,k){u.DEBUG&&console.log(k.step,"SFVTCA["+x.axis+"]"),k.fv=x}function A4(x,k){var P,X=k.stack,F=X.pop(),X=X.pop(),te=k.z2[F],ie=k.z1[X];u.DEBUG&&console.log("SPVTL["+x+"]",F,X),F=x?(P=te.y-ie.y,ie.x-te.x):(P=ie.x-te.x,ie.y-te.y),k.pv=k.dpv=Vf(P,F)}function O4(x,k){var P,X=k.stack,F=X.pop(),X=X.pop(),te=k.z2[F],ie=k.z1[X];u.DEBUG&&console.log("SFVTL["+x+"]",F,X),F=x?(P=te.y-ie.y,ie.x-te.x):(P=ie.x-te.x,ie.y-te.y),k.fv=Vf(P,F)}function F6(x){u.DEBUG&&console.log(x.step,"POP[]"),x.stack.pop()}function L4(x,k){var P=k.stack.pop(),F=k.z0[P],X=k.fv,te=k.pv,ie=(u.DEBUG&&console.log(k.step,"MDAP["+x+"]",P),te.distance(F,$f));x&&(ie=k.round(ie)),X.setRelative(F,$f,ie,te),X.touch(F),k.rp0=k.rp1=P}function P4(x,k){var P,F,X,te=k.z2,ie=te.length-2;u.DEBUG&&console.log(k.step,"IUP["+x.axis+"]");for(var he=0;he<ie;he++)P=te[he],x.touched(P)||(F=P.prevTouched(x))!==P&&(F===(X=P.nextTouched(x))&&x.setRelative(P,P,x.distance(F,F,!1,!0),x,!0),x.interpolate(P,F,X,x))}function D4(x,k){for(var P=k.stack,F=x?k.rp1:k.rp2,X=(x?k.z0:k.z1)[F],te=k.fv,ie=k.pv,he=k.loop,_e=k.z2;he--;){var be=P.pop(),Me=_e[be],Ie=ie.distance(X,X,!1,!0);te.setRelative(Me,Me,Ie,ie),te.touch(Me),u.DEBUG&&console.log(k.step,(1<k.loop?"loop "+(k.loop-he)+": ":"")+"SHP["+(x?"rp1":"rp2")+"]",be)}k.loop=1}function I4(x,k){for(var P=k.stack,ie=x?k.rp1:k.rp2,F=(x?k.z0:k.z1)[ie],X=k.fv,te=k.pv,ie=P.pop(),he=k.z2[k.contours[ie]],_e=he,be=(u.DEBUG&&console.log(k.step,"SHC["+x+"]",ie),te.distance(F,F,!1,!0));_e!==F&&X.setRelative(_e,_e,be,te),(_e=_e.nextPointOnContour)!==he;);}function R4(x,k){var P,F,he=k.stack,X=x?k.rp1:k.rp2,X=(x?k.z0:k.z1)[X],te=k.fv,ie=k.pv,he=he.pop();switch(u.DEBUG&&console.log(k.step,"SHZ["+x+"]",he),he){case 0:P=k.tZone;break;case 1:P=k.gZone;break;default:throw new Error("Invalid zone")}for(var _e=ie.distance(X,X,!1,!0),be=P.length-2,Me=0;Me<be;Me++)F=P[Me],te.setRelative(F,F,_e,ie)}function F4(x,k){var F=k.stack,P=F.pop()/64,F=F.pop(),X=k.z1[F],te=k.z0[k.rp0],ie=k.fv,he=k.pv;ie.setRelative(X,te,P,he),ie.touch(X),u.DEBUG&&console.log(k.step,"MSIRP["+x+"]",P,F),k.rp1=k.rp0,k.rp2=F,x&&(k.rp0=F)}function B4(x,k){var P=k.stack,he=P.pop(),P=P.pop(),F=k.z0[P],X=k.fv,te=k.pv,ie=k.cvt[he],he=(u.DEBUG&&console.log(k.step,"MIAP["+x+"]",he,"(",ie,")",P),te.distance(F,$f));x&&(Math.abs(he-ie)<k.cvCutIn&&(he=ie),he=k.round(he)),X.setRelative(F,$f,he,te),k.zp0===0&&(F.xo=F.x,F.yo=F.y),X.touch(F),k.rp0=k.rp1=P}function N4(x,k){var P=k.stack,F=P.pop(),X=k.z2[F];u.DEBUG&&console.log(k.step,"GC["+x+"]",F),P.push(64*k.dpv.distance(X,$f,x,!1))}function U4(x,k){var F=k.stack,P=F.pop(),F=F.pop(),X=k.z1[P],te=k.z0[F],te=k.dpv.distance(te,X,x,x);u.DEBUG&&console.log(k.step,"MD["+x+"]",P,F,"->",te),k.stack.push(Math.round(64*te))}function B6(x,k){var P=k.stack,F=P.pop(),X=k.fv,te=k.pv,ie=k.ppem,he=k.deltaBase+16*(x-1),_e=k.deltaShift,be=k.z0;u.DEBUG&&console.log(k.step,"DELTAP["+x+"]",F,P);for(var Me=0;Me<F;Me++){var Ie=P.pop(),De=P.pop();he+((240&De)>>4)===ie&&(0<=(De=(15&De)-8)&&De++,u.DEBUG&&console.log(k.step,"DELTAPFIX",Ie,"by",De*_e),Ie=be[Ie],X.setRelative(Ie,Ie,De*_e,te))}}function Tv(x,k){var P=k.stack,F=P.pop();u.DEBUG&&console.log(k.step,"ROUND[]"),P.push(64*k.round(F/64))}function N6(x,k){var P=k.stack,F=P.pop(),X=k.ppem,te=k.deltaBase+16*(x-1),ie=k.deltaShift;u.DEBUG&&console.log(k.step,"DELTAC["+x+"]",F,P);for(var he=0;he<F;he++){var _e=P.pop(),be=P.pop();te+((240&be)>>4)===X&&(0<=(be=(15&be)-8)&&be++,be=be*ie,u.DEBUG&&console.log(k.step,"DELTACFIX",_e,"by",be),k.cvt[_e]+=be)}}function V4(x,k){var P,X=k.stack,F=X.pop(),X=X.pop(),te=k.z2[F],ie=k.z1[X];u.DEBUG&&console.log(k.step,"SDPVTL["+x+"]",F,X),F=x?(P=te.y-ie.y,ie.x-te.x):(P=ie.x-te.x,ie.y-te.y),k.dpv=Vf(P,F)}function Sa(x,k){var P=k.stack,F=k.prog,X=k.ip;u.DEBUG&&console.log(k.step,"PUSHB["+x+"]");for(var te=0;te<x;te++)P.push(F[++X]);k.ip=X}function Ta(x,k){var P=k.ip,F=k.prog,X=k.stack;u.DEBUG&&console.log(k.ip,"PUSHW["+x+"]");for(var te=0;te<x;te++){var ie=F[++P]<<8|F[++P];32768&ie&&(ie=-(1+(65535^ie))),X.push(ie)}k.ip=P}function mt(x,k,P,F,X,te){var ie,he,be=te.stack,_e=x&&be.pop(),be=be.pop(),Me=te.rp0,Me=te.z0[Me],Ie=te.z1[be],De=te.minDis,Se=te.fv,qe=te.dpv,Ne=ie=qe.distance(Ie,Me,!0,!0),Ve=0<=Ne?1:-1;Ne=Math.abs(Ne),x&&(he=te.cvt[_e],F&&Math.abs(Ne-he)<te.cvCutIn&&(Ne=he)),P&&Ne<De&&(Ne=De),F&&(Ne=te.round(Ne)),Se.setRelative(Ie,Me,Ve*Ne,qe),Se.touch(Ie),u.DEBUG&&console.log(te.step,(x?"MIRP[":"MDRP[")+(k?"M":"m")+(P?">":"_")+(F?"R":"_")+(X===0?"Gr":X===1?"Bl":X===2?"Wh":"")+"]",x?_e+"("+te.cvt[_e]+","+he+")":"",be,"(d =",ie,"->",Ve*Ne,")"),te.rp1=te.rp0,te.rp2=be,k&&(te.rp0=be)}S4.prototype.exec=function(x,k){if(typeof k!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var P=this.font,F=this._prepState;if(!F||F.ppem!==k){var X=this._fpgmState;if(!X){xa.prototype=dB,(X=this._fpgmState=new xa("fpgm",P.tables.fpgm)).funcs=[],X.font=P,u.DEBUG&&(console.log("---EXEC FPGM---"),X.step=-1);try{Qc(X)}catch(be){return console.log("Hinting error in FPGM:"+be),void(this._errorState=3)}}xa.prototype=X,(F=this._prepState=new xa("prep",P.tables.prep)).ppem=k;var te=P.tables.cvt;if(te)for(var ie=F.cvt=new Array(te.length),he=k/P.unitsPerEm,_e=0;_e<te.length;_e++)ie[_e]=te[_e]*he;else F.cvt=[];u.DEBUG&&(console.log("---EXEC PREP---"),F.step=-1);try{Qc(F)}catch(be){this._errorState<2&&console.log("Hinting error in PREP:"+be),this._errorState=2}}if(!(1<this._errorState))try{return hB(x,F)}catch(be){this._errorState<1&&(console.log("Hinting error:"+be),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var hB=function(x,k){var P=k.ppem/k.font.unitsPerEm,F=P,X=x.components;if(xa.prototype=k,X){for(var te=k.font,ie=[],he=[],_e=0;_e<X.length;_e++){var be=X[_e],Me=te.glyphs.get(be.glyphIndex),Ie=new xa("glyf",Me.instructions);u.DEBUG&&(console.log("---EXEC COMP "+_e+"---"),Ie.step=-1),$4(Me,Ie,P,F);for(var De=Math.round(be.dx*P),Se=Math.round(be.dy*F),qe=Ie.gZone,Ne=Ie.contours,Ve=0;Ve<qe.length;Ve++){var Re=qe[Ve];Re.xTouched=Re.yTouched=!1,Re.xo=Re.x=Re.x+De,Re.yo=Re.y=Re.y+Se}var Fe=ie.length;ie.push.apply(ie,qe);for(var vt=0;vt<Ne.length;vt++)he.push(Ne[vt]+Fe)}x.instructions&&!Ie.inhibitGridFit&&((Ie=new xa("glyf",x.instructions)).gZone=Ie.z0=Ie.z1=Ie.z2=ie,Ie.contours=he,ie.push(new bo(0,0),new bo(Math.round(x.advanceWidth*P),0)),u.DEBUG&&(console.log("---EXEC COMPOSITE---"),Ie.step=-1),Qc(Ie),ie.length-=2)}else Ie=new xa("glyf",x.instructions),u.DEBUG&&(console.log("---EXEC GLYPH---"),Ie.step=-1),$4(x,Ie,P,F),ie=Ie.gZone;return ie},$4=function(x,k,P,F){for(var X,te,ie,he=x.points||[],_e=he.length,be=k.gZone=k.z0=k.z1=k.z2=[],Me=k.contours=[],Ie=0;Ie<_e;Ie++)X=he[Ie],be[Ie]=new bo(X.x*P,X.y*F,X.lastPointOfContour,X.onCurve);for(var De=0;De<_e;De++)X=be[De],te||(te=X,Me.push(De)),X.lastPointOfContour?((X.nextPointOnContour=te).prevPointOnContour=X,te=void 0):(ie=be[De+1],(X.nextPointOnContour=ie).prevPointOnContour=X);if(!k.inhibitGridFit){if(u.DEBUG){console.log("PROCESSING GLYPH",k.stack);for(var Se=0;Se<_e;Se++)console.log(Se,be[Se].x,be[Se].y)}if(be.push(new bo(0,0),new bo(Math.round(x.advanceWidth*P),0)),Qc(k),be.length-=2,u.DEBUG){console.log("FINISHED GLYPH",k.stack);for(var qe=0;qe<_e;qe++)console.log(qe,be[qe].x,be[qe].y)}}},Qc=function(x){var k=x.prog;if(k){var P,F=k.length;for(x.ip=0;x.ip<F;x.ip++){if(u.DEBUG&&x.step++,!(P=fB[k[x.ip]]))throw new Error("unknown instruction: 0x"+Number(k[x.ip]).toString(16));P(x)}}},fB=[j4.bind(void 0,vo),j4.bind(void 0,Us),E4.bind(void 0,vo),E4.bind(void 0,Us),M4.bind(void 0,vo),M4.bind(void 0,Us),A4.bind(void 0,0),A4.bind(void 0,1),O4.bind(void 0,0),O4.bind(void 0,1),function(x){var k=(P=x.stack).pop(),P=P.pop();u.DEBUG&&console.log(x.step,"SPVFS[]",k,P),x.pv=x.dpv=Vf(P,k)},function(x){var k=(P=x.stack).pop(),P=P.pop();u.DEBUG&&console.log(x.step,"SPVFS[]",k,P),x.fv=Vf(P,k)},function(x){var k=x.stack,P=x.pv;u.DEBUG&&console.log(x.step,"GPV[]"),k.push(16384*P.x),k.push(16384*P.y)},function(x){var k=x.stack,P=x.fv;u.DEBUG&&console.log(x.step,"GFV[]"),k.push(16384*P.x),k.push(16384*P.y)},function(x){x.fv=x.pv,u.DEBUG&&console.log(x.step,"SFVTPV[]")},function(k){var P=(ie=k.stack).pop(),F=ie.pop(),X=ie.pop(),te=ie.pop(),ie=ie.pop(),_e=k.z0,Me=k.z1,he=_e[P],_e=_e[F],be=Me[X],Me=Me[te],k=k.z2[ie],P=(u.DEBUG&&console.log("ISECT[], ",P,F,X,te,ie),he.x),F=he.y,X=_e.x,te=_e.y,ie=be.x,he=be.y,_e=Me.x,be=Me.y,Me=(P-X)*(he-be)-(F-te)*(ie-_e),Ie=P*te-F*X,De=ie*be-he*_e;k.x=(Ie*(ie-_e)-De*(P-X))/Me,k.y=(Ie*(he-be)-De*(F-te))/Me},function(x){x.rp0=x.stack.pop(),u.DEBUG&&console.log(x.step,"SRP0[]",x.rp0)},function(x){x.rp1=x.stack.pop(),u.DEBUG&&console.log(x.step,"SRP1[]",x.rp1)},function(x){x.rp2=x.stack.pop(),u.DEBUG&&console.log(x.step,"SRP2[]",x.rp2)},function(x){var k=x.stack.pop();switch(u.DEBUG&&console.log(x.step,"SZP0[]",k),x.zp0=k){case 0:x.tZone||Sv(x),x.z0=x.tZone;break;case 1:x.z0=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){var k=x.stack.pop();switch(u.DEBUG&&console.log(x.step,"SZP1[]",k),x.zp1=k){case 0:x.tZone||Sv(x),x.z1=x.tZone;break;case 1:x.z1=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){var k=x.stack.pop();switch(u.DEBUG&&console.log(x.step,"SZP2[]",k),x.zp2=k){case 0:x.tZone||Sv(x),x.z2=x.tZone;break;case 1:x.z2=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){var k=x.stack.pop();switch(u.DEBUG&&console.log(x.step,"SZPS[]",k),x.zp0=x.zp1=x.zp2=k){case 0:x.tZone||Sv(x),x.z0=x.z1=x.z2=x.tZone;break;case 1:x.z0=x.z1=x.z2=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){x.loop=x.stack.pop(),u.DEBUG&&console.log(x.step,"SLOOP[]",x.loop)},function(x){u.DEBUG&&console.log(x.step,"RTG[]"),x.round=T4},function(x){u.DEBUG&&console.log(x.step,"RTHG[]"),x.round=lB},function(x){var k=x.stack.pop();u.DEBUG&&console.log(x.step,"SMD[]",k),x.minDis=k/64},function(x){u.DEBUG&&console.log(x.step,"ELSE[]"),k4(x,!1)},function(x){var k=x.stack.pop();u.DEBUG&&console.log(x.step,"JMPR[]",k),x.ip+=k-1},function(x){var k=x.stack.pop();u.DEBUG&&console.log(x.step,"SCVTCI[]",k),x.cvCutIn=k/64},void 0,void 0,function(x){var k=x.stack;u.DEBUG&&console.log(x.step,"DUP[]"),k.push(k[k.length-1])},F6,function(x){u.DEBUG&&console.log(x.step,"CLEAR[]"),x.stack.length=0},function(x){var k=x.stack,P=k.pop(),F=k.pop();u.DEBUG&&console.log(x.step,"SWAP[]"),k.push(P),k.push(F)},function(x){var k=x.stack;u.DEBUG&&console.log(x.step,"DEPTH[]"),k.push(k.length)},function(x){var k=x.stack,P=k.pop();u.DEBUG&&console.log(x.step,"CINDEX[]",P),k.push(k[k.length-P])},function(x){var k=x.stack,P=k.pop();u.DEBUG&&console.log(x.step,"MINDEX[]",P),k.push(k.splice(k.length-P,1)[0])},void 0,void 0,void 0,function(x){var k=(F=x.stack).pop(),P=F.pop(),F=(u.DEBUG&&console.log(x.step,"LOOPCALL[]",k,P),x.ip),X=x.prog;x.prog=x.funcs[k];for(var te=0;te<P;te++)Qc(x),u.DEBUG&&console.log(++x.step,te+1<P?"next loopcall":"done loopcall",te);x.ip=F,x.prog=X},function(x){var k=x.stack.pop(),P=(u.DEBUG&&console.log(x.step,"CALL[]",k),x.ip),F=x.prog;x.prog=x.funcs[k],Qc(x),x.ip=P,x.prog=F,u.DEBUG&&console.log(++x.step,"returning from",k)},function(x){if(x.env!=="fpgm")throw new Error("FDEF not allowed here");var F=x.stack,k=x.prog,P=x.ip,F=F.pop(),X=P;for(u.DEBUG&&console.log(x.step,"FDEF[]",F);k[++P]!==45;);x.ip=P,x.funcs[F]=k.slice(X+1,P)},void 0,L4.bind(void 0,0),L4.bind(void 0,1),P4.bind(void 0,vo),P4.bind(void 0,Us),D4.bind(void 0,0),D4.bind(void 0,1),I4.bind(void 0,0),I4.bind(void 0,1),R4.bind(void 0,0),R4.bind(void 0,1),function(x){for(var k=x.stack,P=x.loop,F=x.fv,X=k.pop()/64,te=x.z2;P--;){var ie=k.pop(),he=te[ie];u.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-P)+": ":"")+"SHPIX[]",ie,X),F.setRelative(he,he,X),F.touch(he)}x.loop=1},function(x){for(var k=x.stack,P=x.rp1,F=x.rp2,X=x.loop,te=x.z0[P],ie=x.z1[F],he=x.fv,_e=x.dpv,be=x.z2;X--;){var Me=k.pop(),Ie=be[Me];u.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-X)+": ":"")+"IP[]",Me,P,"<->",F),he.interpolate(Ie,te,ie,_e),he.touch(Ie)}x.loop=1},F4.bind(void 0,0),F4.bind(void 0,1),function(x){for(var k=x.stack,P=x.rp0,F=x.z0[P],X=x.loop,te=x.fv,ie=x.pv,he=x.z1;X--;){var _e=k.pop(),be=he[_e];u.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-X)+": ":"")+"ALIGNRP[]",_e),te.setRelative(be,F,0,ie),te.touch(be)}x.loop=1},function(x){u.DEBUG&&console.log(x.step,"RTDG[]"),x.round=aB},B4.bind(void 0,0),B4.bind(void 0,1),function(x){var k=x.prog,P=x.ip,F=x.stack,X=k[++P];u.DEBUG&&console.log(x.step,"NPUSHB[]",X);for(var te=0;te<X;te++)F.push(k[++P]);x.ip=P},function(x){var k=x.ip,P=x.prog,F=x.stack,X=P[++k];u.DEBUG&&console.log(x.step,"NPUSHW[]",X);for(var te=0;te<X;te++){var ie=P[++k]<<8|P[++k];32768&ie&&(ie=-(1+(65535^ie))),F.push(ie)}x.ip=k},function(x){var F=x.stack,k=(k=x.store)||(x.store=[]),P=F.pop(),F=F.pop();u.DEBUG&&console.log(x.step,"WS",P,F),k[F]=P},function(X){var k=X.stack,P=X.store,F=k.pop(),X=(u.DEBUG&&console.log(X.step,"RS",F),P&&P[F]||0);k.push(X)},function(x){var k=(P=x.stack).pop(),P=P.pop();u.DEBUG&&console.log(x.step,"WCVTP",k,P),x.cvt[P]=k/64},function(x){var k=x.stack,P=k.pop();u.DEBUG&&console.log(x.step,"RCVT",P),k.push(64*x.cvt[P])},N4.bind(void 0,0),N4.bind(void 0,1),void 0,U4.bind(void 0,0),U4.bind(void 0,1),function(x){u.DEBUG&&console.log(x.step,"MPPEM[]"),x.stack.push(x.ppem)},void 0,function(x){u.DEBUG&&console.log(x.step,"FLIPON[]"),x.autoFlip=!0},void 0,void 0,function(x){var k=x.stack,P=k.pop(),F=k.pop();u.DEBUG&&console.log(x.step,"LT[]",P,F),k.push(F<P?1:0)},function(x){var k=x.stack,P=k.pop(),F=k.pop();u.DEBUG&&console.log(x.step,"LTEQ[]",P,F),k.push(F<=P?1:0)},function(x){var k=x.stack,P=k.pop(),F=k.pop();u.DEBUG&&console.log(x.step,"GT[]",P,F),k.push(P<F?1:0)},function(x){var k=x.stack,P=k.pop(),F=k.pop();u.DEBUG&&console.log(x.step,"GTEQ[]",P,F),k.push(P<=F?1:0)},function(x){var k=x.stack,P=k.pop(),F=k.pop();u.DEBUG&&console.log(x.step,"EQ[]",P,F),k.push(P===F?1:0)},function(x){var k=x.stack,P=k.pop(),F=k.pop();u.DEBUG&&console.log(x.step,"NEQ[]",P,F),k.push(P!==F?1:0)},function(x){var k=x.stack,P=k.pop();u.DEBUG&&console.log(x.step,"ODD[]",P),k.push(Math.trunc(P)%2?1:0)},function(x){var k=x.stack,P=k.pop();u.DEBUG&&console.log(x.step,"EVEN[]",P),k.push(Math.trunc(P)%2?0:1)},function(x){var k=x.stack.pop();u.DEBUG&&console.log(x.step,"IF[]",k),k||(k4(x,!0),u.DEBUG&&console.log(x.step,"EIF[]"))},function(x){u.DEBUG&&console.log(x.step,"EIF[]")},function(x){var k=x.stack,P=k.pop(),F=k.pop();u.DEBUG&&console.log(x.step,"AND[]",P,F),k.push(P&&F?1:0)},function(x){var k=x.stack,P=k.pop(),F=k.pop();u.DEBUG&&console.log(x.step,"OR[]",P,F),k.push(P||F?1:0)},function(x){var k=x.stack,P=k.pop();u.DEBUG&&console.log(x.step,"NOT[]",P),k.push(P?0:1)},B6.bind(void 0,1),function(x){var k=x.stack.pop();u.DEBUG&&console.log(x.step,"SDB[]",k),x.deltaBase=k},function(x){var k=x.stack.pop();u.DEBUG&&console.log(x.step,"SDS[]",k),x.deltaShift=Math.pow(.5,k)},function(x){var k=x.stack,P=k.pop(),F=k.pop();u.DEBUG&&console.log(x.step,"ADD[]",P,F),k.push(F+P)},function(x){var k=x.stack,P=k.pop(),F=k.pop();u.DEBUG&&console.log(x.step,"SUB[]",P,F),k.push(F-P)},function(x){var k=x.stack,P=k.pop(),F=k.pop();u.DEBUG&&console.log(x.step,"DIV[]",P,F),k.push(64*F/P)},function(x){var k=x.stack,P=k.pop(),F=k.pop();u.DEBUG&&console.log(x.step,"MUL[]",P,F),k.push(F*P/64)},function(x){var k=x.stack,P=k.pop();u.DEBUG&&console.log(x.step,"ABS[]",P),k.push(Math.abs(P))},function(x){var k=x.stack,P=k.pop();u.DEBUG&&console.log(x.step,"NEG[]",P),k.push(-P)},function(x){var k=x.stack,P=k.pop();u.DEBUG&&console.log(x.step,"FLOOR[]",P),k.push(64*Math.floor(P/64))},function(x){var k=x.stack,P=k.pop();u.DEBUG&&console.log(x.step,"CEILING[]",P),k.push(64*Math.ceil(P/64))},Tv.bind(void 0,0),Tv.bind(void 0,1),Tv.bind(void 0,2),Tv.bind(void 0,3),void 0,void 0,void 0,void 0,function(x){var k=(P=x.stack).pop(),P=P.pop();u.DEBUG&&console.log(x.step,"WCVTF[]",k,P),x.cvt[P]=k*x.ppem/x.font.unitsPerEm},B6.bind(void 0,2),B6.bind(void 0,3),N6.bind(void 0,1),N6.bind(void 0,2),N6.bind(void 0,3),function(x){var k,P=x.stack.pop();switch(u.DEBUG&&console.log(x.step,"SROUND[]",P),x.round=C4,192&P){case 0:k=.5;break;case 64:k=1;break;case 128:k=2;break;default:throw new Error("invalid SROUND value")}switch(x.srPeriod=k,48&P){case 0:x.srPhase=0;break;case 16:x.srPhase=.25*k;break;case 32:x.srPhase=.5*k;break;case 48:x.srPhase=.75*k;break;default:throw new Error("invalid SROUND value")}x.srThreshold=(P&=15)===0?0:(P/8-.5)*k},function(x){var k,P=x.stack.pop();switch(u.DEBUG&&console.log(x.step,"S45ROUND[]",P),x.round=C4,192&P){case 0:k=Math.sqrt(2)/2;break;case 64:k=Math.sqrt(2);break;case 128:k=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(x.srPeriod=k,48&P){case 0:x.srPhase=0;break;case 16:x.srPhase=.25*k;break;case 32:x.srPhase=.5*k;break;case 48:x.srPhase=.75*k;break;default:throw new Error("invalid S45ROUND value")}x.srThreshold=(P&=15)===0?0:(P/8-.5)*k},void 0,void 0,function(x){u.DEBUG&&console.log(x.step,"ROFF[]"),x.round=oB},void 0,function(x){u.DEBUG&&console.log(x.step,"RUTG[]"),x.round=uB},function(x){u.DEBUG&&console.log(x.step,"RDTG[]"),x.round=cB},F6,F6,void 0,void 0,void 0,void 0,void 0,function(x){var k=x.stack.pop();u.DEBUG&&console.log(x.step,"SCANCTRL[]",k)},V4.bind(void 0,0),V4.bind(void 0,1),function(x){var k=x.stack,P=k.pop(),F=0;u.DEBUG&&console.log(x.step,"GETINFO[]",P),1&P&&(F=35),32&P&&(F|=4096),k.push(F)},void 0,function(x){var k=x.stack,P=k.pop(),F=k.pop(),X=k.pop();u.DEBUG&&console.log(x.step,"ROLL[]"),k.push(F),k.push(P),k.push(X)},function(x){var k=x.stack,P=k.pop(),F=k.pop();u.DEBUG&&console.log(x.step,"MAX[]",P,F),k.push(Math.max(F,P))},function(x){var k=x.stack,P=k.pop(),F=k.pop();u.DEBUG&&console.log(x.step,"MIN[]",P,F),k.push(Math.min(F,P))},function(x){var k=x.stack.pop();u.DEBUG&&console.log(x.step,"SCANTYPE[]",k)},function(x){var k=x.stack.pop(),P=x.stack.pop();switch(u.DEBUG&&console.log(x.step,"INSTCTRL[]",k,P),k){case 1:return void(x.inhibitGridFit=!!P);case 2:return void(x.ignoreCvt=!!P);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Sa.bind(void 0,1),Sa.bind(void 0,2),Sa.bind(void 0,3),Sa.bind(void 0,4),Sa.bind(void 0,5),Sa.bind(void 0,6),Sa.bind(void 0,7),Sa.bind(void 0,8),Ta.bind(void 0,1),Ta.bind(void 0,2),Ta.bind(void 0,3),Ta.bind(void 0,4),Ta.bind(void 0,5),Ta.bind(void 0,6),Ta.bind(void 0,7),Ta.bind(void 0,8),mt.bind(void 0,0,0,0,0,0),mt.bind(void 0,0,0,0,0,1),mt.bind(void 0,0,0,0,0,2),mt.bind(void 0,0,0,0,0,3),mt.bind(void 0,0,0,0,1,0),mt.bind(void 0,0,0,0,1,1),mt.bind(void 0,0,0,0,1,2),mt.bind(void 0,0,0,0,1,3),mt.bind(void 0,0,0,1,0,0),mt.bind(void 0,0,0,1,0,1),mt.bind(void 0,0,0,1,0,2),mt.bind(void 0,0,0,1,0,3),mt.bind(void 0,0,0,1,1,0),mt.bind(void 0,0,0,1,1,1),mt.bind(void 0,0,0,1,1,2),mt.bind(void 0,0,0,1,1,3),mt.bind(void 0,0,1,0,0,0),mt.bind(void 0,0,1,0,0,1),mt.bind(void 0,0,1,0,0,2),mt.bind(void 0,0,1,0,0,3),mt.bind(void 0,0,1,0,1,0),mt.bind(void 0,0,1,0,1,1),mt.bind(void 0,0,1,0,1,2),mt.bind(void 0,0,1,0,1,3),mt.bind(void 0,0,1,1,0,0),mt.bind(void 0,0,1,1,0,1),mt.bind(void 0,0,1,1,0,2),mt.bind(void 0,0,1,1,0,3),mt.bind(void 0,0,1,1,1,0),mt.bind(void 0,0,1,1,1,1),mt.bind(void 0,0,1,1,1,2),mt.bind(void 0,0,1,1,1,3),mt.bind(void 0,1,0,0,0,0),mt.bind(void 0,1,0,0,0,1),mt.bind(void 0,1,0,0,0,2),mt.bind(void 0,1,0,0,0,3),mt.bind(void 0,1,0,0,1,0),mt.bind(void 0,1,0,0,1,1),mt.bind(void 0,1,0,0,1,2),mt.bind(void 0,1,0,0,1,3),mt.bind(void 0,1,0,1,0,0),mt.bind(void 0,1,0,1,0,1),mt.bind(void 0,1,0,1,0,2),mt.bind(void 0,1,0,1,0,3),mt.bind(void 0,1,0,1,1,0),mt.bind(void 0,1,0,1,1,1),mt.bind(void 0,1,0,1,1,2),mt.bind(void 0,1,0,1,1,3),mt.bind(void 0,1,1,0,0,0),mt.bind(void 0,1,1,0,0,1),mt.bind(void 0,1,1,0,0,2),mt.bind(void 0,1,1,0,0,3),mt.bind(void 0,1,1,0,1,0),mt.bind(void 0,1,1,0,1,1),mt.bind(void 0,1,1,0,1,2),mt.bind(void 0,1,1,0,1,3),mt.bind(void 0,1,1,1,0,0),mt.bind(void 0,1,1,1,0,1),mt.bind(void 0,1,1,1,0,2),mt.bind(void 0,1,1,1,0,3),mt.bind(void 0,1,1,1,1,0),mt.bind(void 0,1,1,1,1,1),mt.bind(void 0,1,1,1,1,2),mt.bind(void 0,1,1,1,1,3)],pB=Array.from||function(x){return x.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function br(x){(x=x||{}).empty||(Kc(x.familyName,"When creating a new Font object, familyName is required."),Kc(x.styleName,"When creating a new Font object, styleName is required."),Kc(x.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Kc(x.ascender,"When creating a new Font object, ascender is required."),Kc(x.descender,"When creating a new Font object, descender is required."),Kc(x.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:x.familyName||" "},fontSubfamily:{en:x.styleName||" "},fullName:{en:x.fullName||x.familyName+" "+x.styleName},postScriptName:{en:x.postScriptName||(x.familyName+x.styleName).replace(/\s/g,"")},designer:{en:x.designer||" "},designerURL:{en:x.designerURL||" "},manufacturer:{en:x.manufacturer||" "},manufacturerURL:{en:x.manufacturerURL||" "},license:{en:x.license||" "},licenseURL:{en:x.licenseURL||" "},version:{en:x.version||"Version 0.1"},description:{en:x.description||" "},copyright:{en:x.copyright||" "},trademark:{en:x.trademark||" "}},this.unitsPerEm=x.unitsPerEm||1e3,this.ascender=x.ascender,this.descender=x.descender,this.createdTimestamp=x.createdTimestamp,this.tables={os2:{usWeightClass:x.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:x.widthClass||this.usWidthClasses.MEDIUM,fsSelection:x.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new lt.GlyphSet(this,x.glyphs||[]),this.encoding=new Le(this),this.position=new xv(this),this.substitution=new Ns(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new S4(this):void 0)}})}function G4(x,k){var P,F=JSON.stringify(x),X=256;for(P in k){var te=parseInt(P);if(te&&!(te<256)){if(JSON.stringify(k[P])===F)return te;X<=te&&(X=te+1)}}return k[X]=x,X}br.prototype.hasChar=function(x){return this.encoding.charToGlyphIndex(x)!==null},br.prototype.charToGlyphIndex=function(x){return this.encoding.charToGlyphIndex(x)},br.prototype.charToGlyph=function(x){return x=this.charToGlyphIndex(x),this.glyphs.get(x)||this.glyphs.get(0)},br.prototype.stringToGlyphs=function(x,k){k=k||this.defaultRenderOptions;for(var P=pB(x),F=[],X=0;X<P.length;X+=1){var te=P[X];F.push(this.charToGlyphIndex(te))}var ie=F.length;if(k.features){var x=k.script||this.substitution.getDefaultScriptName(),he=[];k.features.liga&&(he=he.concat(this.substitution.getFeature("liga",x,k.language))),k.features.rlig&&(he=he.concat(this.substitution.getFeature("rlig",x,k.language)));for(var _e=0;_e<ie;_e+=1)for(var be=0;be<he.length;be++){for(var Me=he[be],Ie=Me.sub,De=Ie.length,Se=0;Se<De&&Ie[Se]===F[_e+Se];)Se++;Se===De&&(F.splice(_e,De,Me.by),ie=ie-De+1)}}for(var qe=new Array(ie),Ne=this.glyphs.get(0),Ve=0;Ve<ie;Ve+=1)qe[Ve]=this.glyphs.get(F[Ve])||Ne;return qe},br.prototype.nameToGlyphIndex=function(x){return this.glyphNames.nameToGlyphIndex(x)},br.prototype.nameToGlyph=function(x){return x=this.nameToGlyphIndex(x),this.glyphs.get(x)||this.glyphs.get(0)},br.prototype.glyphIndexToName=function(x){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(x):""},br.prototype.getKerningValue=function(x,k){x=x.index||x,k=k.index||k;var P=this.position.defaultKerningTables;return P?this.position.getKerningValue(P,x,k):this.kerningPairs[x+","+k]||0},br.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},br.prototype.forEachGlyph=function(x,k,P,F,X,te){k=k!==void 0?k:0,P=P!==void 0?P:0,X=X||this.defaultRenderOptions;var ie,he=1/this.unitsPerEm*(F=F!==void 0?F:72),_e=this.stringToGlyphs(x,X);X.kerning&&(x=X.script||this.position.getDefaultScriptName(),ie=this.position.getKerningTables(x,X.language));for(var be=0;be<_e.length;be+=1){var Me=_e[be];te.call(this,Me,k,P,F,X),Me.advanceWidth&&(k+=Me.advanceWidth*he),X.kerning&&be<_e.length-1&&(k+=(ie?this.position.getKerningValue(ie,Me.index,_e[be+1].index):this.getKerningValue(Me,_e[be+1]))*he),X.letterSpacing?k+=X.letterSpacing*F:X.tracking&&(k+=X.tracking/1e3*F)}return k},br.prototype.getPath=function(x,k,P,F,X){var te=new re;return this.forEachGlyph(x,k,P,F,X,function(ie,he,_e,be){ie=ie.getPath(he,_e,be,X,this),te.extend(ie)}),te},br.prototype.getPaths=function(x,k,P,F,X){var te=[];return this.forEachGlyph(x,k,P,F,X,function(ie,he,_e,be){ie=ie.getPath(he,_e,be,X,this),te.push(ie)}),te},br.prototype.getAdvanceWidth=function(x,k,P){return this.forEachGlyph(x,0,0,k,P,function(){})},br.prototype.draw=function(x,k,P,F,X,te){this.getPath(k,P,F,X,te).draw(x)},br.prototype.drawPoints=function(x,k,P,F,X,te){this.forEachGlyph(k,P,F,X,te,function(ie,he,_e,be){ie.drawPoints(x,he,_e,be)})},br.prototype.drawMetrics=function(x,k,P,F,X,te){this.forEachGlyph(k,P,F,X,te,function(ie,he,_e,be){ie.drawMetrics(x,he,_e,be)})},br.prototype.getEnglishName=function(x){if(x=this.names[x],x)return x.en},br.prototype.validate=function(){var x=this;function k(P){P=x.getEnglishName(P),P&&P.trim().length}k("fontFamily"),k("weightName"),k("manufacturer"),k("copyright"),k("version"),this.unitsPerEm},br.prototype.toTables=function(){return iB.fontToTable(this)},br.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},br.prototype.toArrayBuffer=function(){for(var x=this.toTables().encode(),k=new ArrayBuffer(x.length),P=new Uint8Array(k),F=0;F<x.length;F++)P[F]=x[F];return k},br.prototype.download=function(x){var k=this.getEnglishName("fontFamily"),P=this.getEnglishName("fontSubfamily"),F=(x=x||k.replace(/\s/g,"")+"-"+P+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,F.byteLength,function(X){X.root.getFile(x,{create:!0},function(te){te.createWriter(function(ie){var he=new DataView(F),he=new Blob([he],{type:"font/opentype"});ie.write(he),ie.addEventListener("writeend",function(){location.href=te.toURL()},!1)})})},function(X){throw new Error(X.name+": "+X.message)})):(k=t("fs"),P=function(X){for(var te=new n(X.byteLength),ie=new Uint8Array(X),he=0;he<te.length;++he)te[he]=ie[he];return te}(F),k.writeFileSync(x,P))},br.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},br.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},br.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var mB={make:function(x,k){var P=new Pe.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:x.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:x.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*x.axes.length}]);P.offsetToData=P.sizeOf();for(var F,X,te,ie=0;ie<x.axes.length;ie++)P.fields=P.fields.concat((F=ie,X=x.axes[ie],te=k,te=G4(X.name,k),[{name:"tag_"+F,type:"TAG",value:X.tag},{name:"minValue_"+F,type:"FIXED",value:X.minValue<<16},{name:"defaultValue_"+F,type:"FIXED",value:X.defaultValue<<16},{name:"maxValue_"+F,type:"FIXED",value:X.maxValue<<16},{name:"flags_"+F,type:"USHORT",value:0},{name:"nameID_"+F,type:"USHORT",value:te}]));for(var he=0;he<x.instances.length;he++)P.fields=P.fields.concat(function(_e,be,Me,Ie){for(var De=[{name:"nameID_"+_e,type:"USHORT",value:G4(be.name,Ie)},{name:"flags_"+_e,type:"USHORT",value:0}],Se=0;Se<Me.length;++Se){var qe=Me[Se].tag;De.push({name:"axis_"+_e+" "+qe,type:"FIXED",value:be.coordinates[qe]<<16})}return De}(he,x.instances[he],x.axes,k));return P},parse:function(x,k,P){for(var F,X,te,ie,he=new Oe.Parser(x,k),_e=he.parseULong(),be=(j.argument(_e===65536,"Unsupported fvar table version."),he.parseOffset16()),Me=(he.skip("uShort",1),he.parseUShort()),Ie=he.parseUShort(),De=he.parseUShort(),Se=he.parseUShort(),qe=[],Ne=0;Ne<Me;Ne++)qe.push((F=x,X=k+be+Ne*Ie,te=P,ie={},F=new Oe.Parser(F,X),ie.tag=F.parseTag(),ie.minValue=F.parseFixed(),ie.defaultValue=F.parseFixed(),ie.maxValue=F.parseFixed(),F.skip("uShort",1),ie.name=te[F.parseUShort()]||{},ie));for(var Ve=[],Re=k+be+Me*Ie,Fe=0;Fe<De;Fe++)Ve.push(function(vt,It,bt,xt){var Nt={},Cr=new Oe.Parser(vt,It);Nt.name=xt[Cr.parseUShort()]||{},Cr.skip("uShort",1),Nt.coordinates={};for(var Jr=0;Jr<bt.length;++Jr)Nt.coordinates[bt[Jr].tag]=Cr.parseFixed();return Nt}(x,Re+Fe*Se,qe,P));return{axes:qe,instances:Ve}}},cs=new Array(10);cs[1]=function(){var x=this.offset+this.relativeOffset,k=this.parseUShort();return k===1?{posFormat:1,coverage:this.parsePointer(Ee.coverage),value:this.parseValueRecord()}:k===2?{posFormat:2,coverage:this.parsePointer(Ee.coverage),values:this.parseValueRecordList()}:void j.assert(!1,"0x"+x.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},cs[2]=function(){var x,k,P,F,te=this.offset+this.relativeOffset,X=this.parseUShort(),te=(j.assert(X===1||X===2,"0x"+te.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(Ee.coverage)),ie=this.parseUShort(),he=this.parseUShort();return X===1?{posFormat:X,coverage:te,valueFormat1:ie,valueFormat2:he,pairSets:this.parseList(Ee.pointer(Ee.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(ie),value2:this.parseValueRecord(he)}})))}:X===2?(x=this.parsePointer(Ee.classDef),k=this.parsePointer(Ee.classDef),P=this.parseUShort(),F=this.parseUShort(),{posFormat:X,coverage:te,valueFormat1:ie,valueFormat2:he,classDef1:x,classDef2:k,class1Count:P,class2Count:F,classRecords:this.parseList(P,Ee.list(F,function(){return{value1:this.parseValueRecord(ie),value2:this.parseValueRecord(he)}}))}):void 0},cs[3]=function(){return{error:"GPOS Lookup 3 not supported"}},cs[4]=function(){return{error:"GPOS Lookup 4 not supported"}},cs[5]=function(){return{error:"GPOS Lookup 5 not supported"}},cs[6]=function(){return{error:"GPOS Lookup 6 not supported"}},cs[7]=function(){return{error:"GPOS Lookup 7 not supported"}},cs[8]=function(){return{error:"GPOS Lookup 8 not supported"}},cs[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var yB=new Array(10),gB={parse:function(x,k){return k=(x=new Ee(x,k=k||0)).parseVersion(1),j.argument(k===1||k===1.1,"Unsupported GPOS table version "+k),k===1?{version:k,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(cs)}:{version:k,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(cs),variations:x.parseFeatureVariationsList()}},make:function(x){return new Pe.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Pe.ScriptList(x.scripts)},{name:"features",type:"TABLE",value:new Pe.FeatureList(x.features)},{name:"lookups",type:"TABLE",value:new Pe.LookupList(x.lookups,yB)}])}},vB={parse:function(x,k){if(x=new Oe.Parser(x,k),(k=x.parseUShort())===0){var P=x,F={},Ie=(P.skip("uShort"),P.parseUShort()),X=(j.argument(Ie===0,"Unsupported kern sub-table version."),P.skip("uShort",2),P.parseUShort());P.skip("uShort",3);for(var te=0;te<X;te+=1){var ie=P.parseUShort(),he=P.parseUShort(),_e=P.parseShort();F[ie+","+he]=_e}return F}if(k!==1)throw new Error("Unsupported kern table version ("+k+").");var be=x,Me={},Ie=(be.skip("uShort"),1<be.parseULong()&&console.warn("Only the first kern subtable is supported."),be.skip("uLong"),255&be.parseUShort());if(be.skip("uShort"),Ie==0){var De=be.parseUShort();be.skip("uShort",3);for(var Se=0;Se<De;Se+=1){var qe=be.parseUShort(),Ne=be.parseUShort(),Ve=be.parseShort();Me[qe+","+Ne]=Ve}}return Me}},bB={parse:function(x,k,P,F){for(var X=new Oe.Parser(x,k),te=F?X.parseUShort:X.parseULong,ie=[],he=0;he<P+1;he+=1){var _e=te.call(X);F&&(_e*=2),ie.push(_e)}return ie}};function _B(x,k){t("fs").readFile(x,function(P,F){if(P)return k(P.message);k(null,b4(F))})}function wB(x,k){var P=new XMLHttpRequest;P.open("get",x,!0),P.responseType="arraybuffer",P.onload=function(){return P.response?k(null,P.response):k("Font could not be loaded: "+P.statusText)},P.onerror=function(){k("Font could not be loaded")},P.send()}function H4(x,k){for(var P=[],F=12,X=0;X<k;X+=1){var te=Oe.getTag(x,F),ie=Oe.getULong(x,F+4),he=Oe.getULong(x,F+8),_e=Oe.getULong(x,F+12);P.push({tag:te,checksum:ie,offset:he,length:_e,compression:!1}),F+=16}return P}function mi(P,k){if(k.compression!=="WOFF")return{data:P,offset:k.offset};var P=new Uint8Array(P.buffer,k.offset+2,k.compressedLength-2),F=new Uint8Array(k.length);if(ee(P,F),F.byteLength!==k.length)throw new Error("Decompression error: "+k.tag+" decompressed length doesn't match recorded length");return{data:new DataView(F.buffer,0),offset:0}}function U6(Fe){var k,P,F,X,te,ie,he,_e,be,Me,Ie,De,Se,qe,Ne=new br({empty:!0}),Ve=new DataView(Fe,0),Re=[],Fe=Oe.getTag(Ve,0);if(Fe==="\0\0\0"||Fe==="true"||Fe==="typ1")Ne.outlinesFormat="truetype",Re=H4(Ve,F=Oe.getUShort(Ve,4));else if(Fe==="OTTO")Ne.outlinesFormat="cff",Re=H4(Ve,F=Oe.getUShort(Ve,4));else{if(Fe!=="wOFF")throw new Error("Unsupported OpenType signature "+Fe);var vt=Oe.getTag(Ve,4);if(vt==="\0\0\0")Ne.outlinesFormat="truetype";else{if(vt!=="OTTO")throw new Error("Unsupported OpenType flavor "+Fe);Ne.outlinesFormat="cff"}Re=function(Ar,dr){for(var zi=[],Hr=44,Oi=0;Oi<dr;Oi+=1){var Or=Oe.getTag(Ar,Hr),Ti=Oe.getULong(Ar,Hr+4),Gf=Oe.getULong(Ar,Hr+8),Jc=Oe.getULong(Ar,Hr+12),z4=void 0,z4=Gf<Jc&&"WOFF";zi.push({tag:Or,offset:Ti,compression:z4,compressedLength:Gf,length:Jc}),Hr+=20}return zi}(Ve,F=Oe.getUShort(Ve,12))}for(var It=0;It<F;It+=1){var bt=Re[It],xt=void 0;switch(bt.tag){case"cmap":xt=mi(Ve,bt),Ne.tables.cmap=ce.parse(xt.data,xt.offset),Ne.encoding=new Be(Ne.tables.cmap);break;case"cvt ":xt=mi(Ve,bt),qe=new Oe.Parser(xt.data,xt.offset),Ne.tables.cvt=qe.parseShortList(bt.length/2);break;case"fvar":te=bt;break;case"fpgm":xt=mi(Ve,bt),qe=new Oe.Parser(xt.data,xt.offset),Ne.tables.fpgm=qe.parseByteList(bt.length);break;case"head":xt=mi(Ve,bt),Ne.tables.head=Ai.parse(xt.data,xt.offset),Ne.unitsPerEm=Ne.tables.head.unitsPerEm,k=Ne.tables.head.indexToLocFormat;break;case"hhea":xt=mi(Ve,bt),Ne.tables.hhea=we.parse(xt.data,xt.offset),Ne.ascender=Ne.tables.hhea.ascender,Ne.descender=Ne.tables.hhea.descender,Ne.numberOfHMetrics=Ne.tables.hhea.numberOfHMetrics;break;case"hmtx":be=bt;break;case"ltag":xt=mi(Ve,bt),P=nt.parse(xt.data,xt.offset);break;case"maxp":xt=mi(Ve,bt),Ne.tables.maxp=ze.parse(xt.data,xt.offset),Ne.numGlyphs=Ne.tables.maxp.numGlyphs;break;case"name":De=bt;break;case"OS/2":xt=mi(Ve,bt),Ne.tables.os2=Br.parse(xt.data,xt.offset);break;case"post":xt=mi(Ve,bt),Ne.tables.post=u4.parse(xt.data,xt.offset),Ne.glyphNames=new Ge(Ne.tables.post);break;case"prep":xt=mi(Ve,bt),qe=new Oe.Parser(xt.data,xt.offset),Ne.tables.prep=qe.parseByteList(bt.length);break;case"glyf":ie=bt;break;case"loca":Ie=bt;break;case"CFF ":X=bt;break;case"kern":Me=bt;break;case"GPOS":he=bt;break;case"GSUB":_e=bt;break;case"meta":Se=bt}}if(vt=mi(Ve,De),Ne.tables.name=_i.parse(vt.data,vt.offset,P),Ne.names=Ne.tables.name,ie&&Ie)Fe=k===0,vt=mi(Ve,Ie),vt=bB.parse(vt.data,vt.offset,Ne.numGlyphs,Fe),Fe=mi(Ve,ie),Ne.glyphs=x4.parse(Fe.data,Fe.offset,vt,Ne);else{if(!X)throw new Error("Font doesn't contain TrueType or CFF outlines.");Fe=mi(Ve,X),ir.parse(Fe.data,Fe.offset,Ne)}for(var vt=mi(Ve,be),Nt=(Xe.parse(vt.data,vt.offset,Ne.numberOfHMetrics,Ne.numGlyphs,Ne.glyphs),Ne),Cr=Nt.tables.cmap.glyphIndexMap,Jr=Object.keys(Cr),yi=0;yi<Jr.length;yi+=1){var Gi,Hi=Jr[yi],ds=Cr[Hi];(Gi=Nt.glyphs.get(ds)).addUnicode(parseInt(Hi))}for(var _r=0;_r<Nt.glyphs.length;_r+=1)Gi=Nt.glyphs.get(_r),Nt.cffEncoding?Nt.isCIDFont?Gi.name="gid"+_r:Gi.name=Nt.cffEncoding.charset[_r]:Nt.glyphNames.names&&(Gi.name=Nt.glyphNames.glyphIndexToName(_r));return Me?(Fe=mi(Ve,Me),Ne.kerningPairs=vB.parse(Fe.data,Fe.offset)):Ne.kerningPairs={},he&&(vt=mi(Ve,he),Ne.tables.gpos=gB.parse(vt.data,vt.offset),Ne.position.init()),_e&&(Fe=mi(Ve,_e),Ne.tables.gsub=c4.parse(Fe.data,Fe.offset)),te&&(vt=mi(Ve,te),Ne.tables.fvar=mB.parse(vt.data,vt.offset,Ne.names)),Se&&(Fe=mi(Ve,Se),Ne.tables.meta=d4.parse(Fe.data,Fe.offset),Ne.metas=Ne.tables.meta),Ne}u.Font=br,u.Glyph=rt,u.Path=re,u.BoundingBox=q,u._parse=Oe,u.parse=U6,u.load=function(x,k){(typeof window>"u"?_B:wB)(x,function(P,F){if(P)return k(P);var X;try{X=U6(F)}catch(te){return k(te,null)}return k(null,X)})},u.loadSync=function(x){return U6(b4(t("fs").readFileSync(x)))},Object.defineProperty(u,"__esModule",{value:!0})},typeof l=="object"&&a!==void 0?o(l):typeof h=="function"&&h.amd?h(["exports"],o):o(s.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],258:[function(t,a,l){(function(n){function s(m,v){for(var c=0,d=m.length-1;0<=d;d--){var p=m[d];p==="."?m.splice(d,1):p===".."?(m.splice(d,1),c++):c&&(m.splice(d,1),c--)}if(v)for(;c--;)m.unshift("..");return m}function o(m,v){if(m.filter)return m.filter(v);for(var c=[],d=0;d<m.length;d++)v(m[d],d,m)&&c.push(m[d]);return c}l.resolve=function(){for(var m="",v=!1,c=arguments.length-1;-1<=c&&!v;c--){var d=0<=c?arguments[c]:n.cwd();if(typeof d!="string")throw new TypeError("Arguments to path.resolve must be strings");d&&(m=d+"/"+m,v=d.charAt(0)==="/")}return(v?"/":"")+(m=s(o(m.split("/"),function(p){return!!p}),!v).join("/"))||"."},l.normalize=function(m){var v=l.isAbsolute(m),c=u(m,-1)==="/";return(m=(m=s(o(m.split("/"),function(d){return!!d}),!v).join("/"))||v?m:".")&&c&&(m+="/"),(v?"/":"")+m},l.isAbsolute=function(m){return m.charAt(0)==="/"},l.join=function(){var m=Array.prototype.slice.call(arguments,0);return l.normalize(o(m,function(v,c){if(typeof v!="string")throw new TypeError("Arguments to path.join must be strings");return v}).join("/"))},l.relative=function(m,v){function c(b){for(var w=0;w<b.length&&b[w]==="";w++);for(var T=b.length-1;0<=T&&b[T]==="";T--);return T<w?[]:b.slice(w,T-w+1)}m=l.resolve(m).substr(1),v=l.resolve(v).substr(1);for(var d=c(m.split("/")),p=c(v.split("/")),f=Math.min(d.length,p.length),y=f,g=0;g<f;g++)if(d[g]!==p[g]){y=g;break}for(var _=[],g=y;g<d.length;g++)_.push("..");return(_=_.concat(p.slice(y))).join("/")},l.sep="/",l.delimiter=":",l.dirname=function(m){if(typeof m!="string"&&(m+=""),m.length===0)return".";for(var v=m.charCodeAt(0)===47,c=-1,d=!0,p=m.length-1;1<=p;--p)if(m.charCodeAt(p)===47){if(!d){c=p;break}}else d=!1;return c===-1?v?"/":".":v&&c===1?"/":m.slice(0,c)},l.basename=function(m,v){return m=function(c){typeof c!="string"&&(c+="");for(var d=0,p=-1,f=!0,y=c.length-1;0<=y;--y)if(c.charCodeAt(y)===47){if(!f){d=y+1;break}}else p===-1&&(f=!1,p=y+1);return p===-1?"":c.slice(d,p)}(m),m=v&&m.substr(-1*v.length)===v?m.substr(0,m.length-v.length):m},l.extname=function(m){typeof m!="string"&&(m+="");for(var v=-1,c=0,d=-1,p=!0,f=0,y=m.length-1;0<=y;--y){var g=m.charCodeAt(y);if(g===47){if(p)continue;c=y+1;break}d===-1&&(p=!1,d=y+1),g===46?v===-1?v=y:f!==1&&(f=1):v!==-1&&(f=-1)}return v===-1||d===-1||f===0||f===1&&v===d-1&&v===c+1?"":m.slice(v,d)};var u="ab".substr(-1)==="b"?function(m,v,c){return m.substr(v,c)}:function(m,v,c){return v<0&&(v=m.length+v),m.substr(v,c)}}).call(this,t("_process"))},{_process:259}],259:[function(t,o,l){var n,s,o=o.exports={};function u(){throw new Error("setTimeout has not been defined")}function m(){throw new Error("clearTimeout has not been defined")}try{n=typeof setTimeout=="function"?setTimeout:u}catch{n=u}try{s=typeof clearTimeout=="function"?clearTimeout:m}catch{s=m}function v(w){if(n===setTimeout)return setTimeout(w,0);if((n===u||!n)&&setTimeout)return(n=setTimeout)(w,0);try{return n(w,0)}catch{try{return n.call(null,w,0)}catch{return n.call(this,w,0)}}}var c,d=[],p=!1,f=-1;function y(){p&&c&&(p=!1,c.length?d=c.concat(d):f=-1,d.length&&g())}function g(){if(!p){for(var w=v(y),T=(p=!0,d.length);T;){for(c=d,d=[];++f<T;)c&&c[f].run();f=-1,T=d.length}c=null,p=!1,function(O){if(s===clearTimeout)return clearTimeout(O);if((s===m||!s)&&clearTimeout)return(s=clearTimeout)(O);try{s(O)}catch{try{return s.call(null,O)}catch{return s.call(this,O)}}}(w)}}function _(w,T){this.fun=w,this.array=T}function b(){}o.nextTick=function(w){var T=new Array(arguments.length-1);if(1<arguments.length)for(var O=1;O<arguments.length;O++)T[O-1]=arguments[O];d.push(new _(w,T)),d.length!==1||p||v(g)},_.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=b,o.addListener=b,o.once=b,o.off=b,o.removeListener=b,o.removeAllListeners=b,o.emit=b,o.prependListener=b,o.prependOnceListener=b,o.listeners=function(w){return[]},o.binding=function(w){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(w){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],260:[function(t,a,l){a=function(n){"use strict";var s,o=Object.prototype,u=o.hasOwnProperty,A=typeof Symbol=="function"?Symbol:{},m=A.iterator||"@@iterator",v=A.asyncIterator||"@@asyncIterator",c=A.toStringTag||"@@toStringTag";function d(J,G,Z,K){var re,ge,V,j,G=G&&G.prototype instanceof w?G:w,G=Object.create(G.prototype),K=new H(K||[]);return G._invoke=(re=J,ge=Z,V=K,j=f,function(ae,Q){if(j===g)throw new Error("Generator is already running");if(j===_){if(ae==="throw")throw Q;return B()}for(V.method=ae,V.arg=Q;;){var oe=V.delegate;if(oe&&(oe=function W(Y,ne){var ue=Y.iterator[ne.method];if(ue===s){if(ne.delegate=null,ne.method==="throw"){if(Y.iterator.return&&(ne.method="return",ne.arg=s,W(Y,ne),ne.method==="throw"))return b;ne.method="throw",ne.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}if(ue=p(ue,Y.iterator,ne.arg),ue.type==="throw")return ne.method="throw",ne.arg=ue.arg,ne.delegate=null,b;if(ue=ue.arg,!ue)return ne.method="throw",ne.arg=new TypeError("iterator result is not an object"),ne.delegate=null,b;{if(!ue.done)return ue;ne[Y.resultName]=ue.value,ne.next=Y.nextLoc,ne.method!=="return"&&(ne.method="next",ne.arg=s)}return ne.delegate=null,b}(oe,V),oe)){if(oe===b)continue;return oe}if(V.method==="next")V.sent=V._sent=V.arg;else if(V.method==="throw"){if(j===f)throw j=_,V.arg;V.dispatchException(V.arg)}else V.method==="return"&&V.abrupt("return",V.arg);if(j=g,oe=p(re,ge,V),oe.type==="normal"){if(j=V.done?_:y,oe.arg!==b)return{value:oe.arg,done:V.done}}else oe.type==="throw"&&(j=_,V.method="throw",V.arg=oe.arg)}}),G}function p(J,ee,Z){try{return{type:"normal",arg:J.call(ee,Z)}}catch(q){return{type:"throw",arg:q}}}n.wrap=d;var f="suspendedStart",y="suspendedYield",g="executing",_="completed",b={};function w(){}function T(){}function O(){}var A={},E=(A[m]=function(){return this},Object.getPrototypeOf),E=E&&E(E(z([]))),C=(E&&E!==o&&u.call(E,m)&&(A=E),O.prototype=w.prototype=Object.create(A));function I(J){["next","throw","return"].forEach(function(ee){J[ee]=function(Z){return this._invoke(ee,Z)}})}function L(J){var ee;this._invoke=function(Z,q){function re(){return new Promise(function(ge,V){(function j(W,K,ae,Q){var oe,W=p(J[W],J,K);if(W.type!=="throw")return(K=(oe=W.arg).value)&&typeof K=="object"&&u.call(K,"__await")?Promise.resolve(K.__await).then(function(Y){j("next",Y,ae,Q)},function(Y){j("throw",Y,ae,Q)}):Promise.resolve(K).then(function(Y){oe.value=Y,ae(oe)},function(Y){return j("throw",Y,ae,Q)});Q(W.arg)})(Z,q,ge,V)})}return ee=ee?ee.then(re,re):re()}}function R(J){var ee={tryLoc:J[0]};1 in J&&(ee.catchLoc=J[1]),2 in J&&(ee.finallyLoc=J[2],ee.afterLoc=J[3]),this.tryEntries.push(ee)}function D(J){var ee=J.completion||{};ee.type="normal",delete ee.arg,J.completion=ee}function H(J){this.tryEntries=[{tryLoc:"root"}],J.forEach(R,this),this.reset(!0)}function z(J){if(J){var ee,Z=J[m];if(Z)return Z.call(J);if(typeof J.next=="function")return J;if(!isNaN(J.length))return ee=-1,(Z=function q(){for(;++ee<J.length;)if(u.call(J,ee))return q.value=J[ee],q.done=!1,q;return q.value=s,q.done=!0,q}).next=Z}return{next:B}}function B(){return{value:s,done:!0}}return(T.prototype=C.constructor=O).constructor=T,O[c]=T.displayName="GeneratorFunction",n.isGeneratorFunction=function(J){return J=typeof J=="function"&&J.constructor,!!J&&(J===T||(J.displayName||J.name)==="GeneratorFunction")},n.mark=function(J){return Object.setPrototypeOf?Object.setPrototypeOf(J,O):(J.__proto__=O,c in J||(J[c]="GeneratorFunction")),J.prototype=Object.create(C),J},n.awrap=function(J){return{__await:J}},I(L.prototype),L.prototype[v]=function(){return this},n.AsyncIterator=L,n.async=function(J,ee,Z,q){var re=new L(d(J,ee,Z,q));return n.isGeneratorFunction(ee)?re:re.next().then(function(ge){return ge.done?ge.value:re.next()})},I(C),C[c]="Generator",C[m]=function(){return this},C.toString=function(){return"[object Generator]"},n.keys=function(J){var ee,Z=[];for(ee in J)Z.push(ee);return Z.reverse(),function q(){for(;Z.length;){var re=Z.pop();if(re in J)return q.value=re,q.done=!1,q}return q.done=!0,q}},n.values=z,H.prototype={constructor:H,reset:function(J){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(D),!J)for(var ee in this)ee.charAt(0)==="t"&&u.call(this,ee)&&!isNaN(+ee.slice(1))&&(this[ee]=s)},stop:function(){this.done=!0;var J=this.tryEntries[0].completion;if(J.type==="throw")throw J.arg;return this.rval},dispatchException:function(J){if(this.done)throw J;var ee=this;function Z(G,K){return ge.type="throw",ge.arg=J,ee.next=G,K&&(ee.method="next",ee.arg=s),!!K}for(var q=this.tryEntries.length-1;0<=q;--q){var re=this.tryEntries[q],ge=re.completion;if(re.tryLoc==="root")return Z("end");if(re.tryLoc<=this.prev){var V=u.call(re,"catchLoc"),j=u.call(re,"finallyLoc");if(V&&j){if(this.prev<re.catchLoc)return Z(re.catchLoc,!0);if(this.prev<re.finallyLoc)return Z(re.finallyLoc)}else if(V){if(this.prev<re.catchLoc)return Z(re.catchLoc,!0)}else{if(!j)throw new Error("try statement without catch or finally");if(this.prev<re.finallyLoc)return Z(re.finallyLoc)}}}},abrupt:function(J,ee){for(var Z=this.tryEntries.length-1;0<=Z;--Z){var q=this.tryEntries[Z];if(q.tryLoc<=this.prev&&u.call(q,"finallyLoc")&&this.prev<q.finallyLoc){var re=q;break}}var ge=(re=re&&(J==="break"||J==="continue")&&re.tryLoc<=ee&&ee<=re.finallyLoc?null:re)?re.completion:{};return ge.type=J,ge.arg=ee,re?(this.method="next",this.next=re.finallyLoc,b):this.complete(ge)},complete:function(J,ee){if(J.type==="throw")throw J.arg;return J.type==="break"||J.type==="continue"?this.next=J.arg:J.type==="return"?(this.rval=this.arg=J.arg,this.method="return",this.next="end"):J.type==="normal"&&ee&&(this.next=ee),b},finish:function(J){for(var ee=this.tryEntries.length-1;0<=ee;--ee){var Z=this.tryEntries[ee];if(Z.finallyLoc===J)return this.complete(Z.completion,Z.afterLoc),D(Z),b}},catch:function(J){for(var ee=this.tryEntries.length-1;0<=ee;--ee){var Z,q,re=this.tryEntries[ee];if(re.tryLoc===J)return(Z=re.completion).type==="throw"&&(q=Z.arg,D(re)),q}throw new Error("illegal catch attempt")},delegateYield:function(J,ee,Z){return this.delegate={iterator:z(J),resultName:ee,nextLoc:Z},this.method==="next"&&(this.arg=s),b}},n}(typeof a=="object"?a.exports:{});try{regeneratorRuntime=a}catch{Function("r","regeneratorRuntime = r")(a)}},{}],261:[function(t,a,l){(function(n){"use strict";var s,o,u,m,v,c,d,p,f,y;function g(D){if(typeof D!="string"&&(D=String(D)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(D))throw new TypeError("Invalid character in header field name");return D.toLowerCase()}function _(D){return D=typeof D!="string"?String(D):D}function b(D){var H={next:function(){var z=D.shift();return{done:z===void 0,value:z}}};return o&&(H[Symbol.iterator]=function(){return H}),H}function w(D){this.map={},D instanceof w?D.forEach(function(H,z){this.append(z,H)},this):Array.isArray(D)?D.forEach(function(H){this.append(H[0],H[1])},this):D&&Object.getOwnPropertyNames(D).forEach(function(H){this.append(H,D[H])},this)}function T(D){if(D.bodyUsed)return Promise.reject(new TypeError("Already read"));D.bodyUsed=!0}function O(D){return new Promise(function(H,z){D.onload=function(){H(D.result)},D.onerror=function(){z(D.error)}})}function A(D){var H=new FileReader,z=O(H);return H.readAsArrayBuffer(D),z}function E(D){var H;return D.slice?D.slice(0):((H=new Uint8Array(D.byteLength)).set(new Uint8Array(D)),H.buffer)}function C(){return this.bodyUsed=!1,this._initBody=function(D){if(this._bodyInit=D)if(typeof D=="string")this._bodyText=D;else if(u&&Blob.prototype.isPrototypeOf(D))this._bodyBlob=D;else if(m&&FormData.prototype.isPrototypeOf(D))this._bodyFormData=D;else if(s&&URLSearchParams.prototype.isPrototypeOf(D))this._bodyText=D.toString();else if(v&&u&&d(D))this._bodyArrayBuffer=E(D.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v||!ArrayBuffer.prototype.isPrototypeOf(D)&&!p(D))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=E(D)}else this._bodyText="";this.headers.get("content-type")||(typeof D=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):s&&URLSearchParams.prototype.isPrototypeOf(D)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u&&(this.blob=function(){var D=T(this);if(D)return D;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?T(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(A)}),this.text=function(){var D,H,z=T(this);if(z)return z;if(this._bodyBlob)return z=this._bodyBlob,D=new FileReader,H=O(D),D.readAsText(z),H;if(this._bodyArrayBuffer)return Promise.resolve(function(B){for(var J=new Uint8Array(B),ee=new Array(J.length),Z=0;Z<J.length;Z++)ee[Z]=String.fromCharCode(J[Z]);return ee.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m&&(this.formData=function(){return this.text().then(L)}),this.json=function(){return this.text().then(JSON.parse)},this}function I(D,H){var z,B=(H=H||{}).body;if(D instanceof I){if(D.bodyUsed)throw new TypeError("Already read");this.url=D.url,this.credentials=D.credentials,H.headers||(this.headers=new w(D.headers)),this.method=D.method,this.mode=D.mode,B||D._bodyInit==null||(B=D._bodyInit,D.bodyUsed=!0)}else this.url=String(D);if(this.credentials=H.credentials||this.credentials||"omit",!H.headers&&this.headers||(this.headers=new w(H.headers)),this.method=(D=H.method||this.method||"GET",z=D.toUpperCase(),-1<f.indexOf(z)?z:D),this.mode=H.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&B)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(B)}function L(D){var H=new FormData;return D.trim().split("&").forEach(function(z){var B;z&&(B=(z=z.split("=")).shift().replace(/\+/g," "),z=z.join("=").replace(/\+/g," "),H.append(decodeURIComponent(B),decodeURIComponent(z)))}),H}function R(D,H){H=H||{},this.type="default",this.status=H.status===void 0?200:H.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in H?H.statusText:"OK",this.headers=new w(H.headers),this.url=H.url||"",this._initBody(D)}n.fetch||(s="URLSearchParams"in n,o="Symbol"in n&&"iterator"in Symbol,u="FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch{return!1}}(),m="FormData"in n,(v="ArrayBuffer"in n)&&(c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=function(D){return D&&DataView.prototype.isPrototypeOf(D)},p=ArrayBuffer.isView||function(D){return D&&-1<c.indexOf(Object.prototype.toString.call(D))}),w.prototype.append=function(D,H){D=g(D),H=_(H);var z=this.map[D];this.map[D]=z?z+","+H:H},w.prototype.delete=function(D){delete this.map[g(D)]},w.prototype.get=function(D){return D=g(D),this.has(D)?this.map[D]:null},w.prototype.has=function(D){return this.map.hasOwnProperty(g(D))},w.prototype.set=function(D,H){this.map[g(D)]=_(H)},w.prototype.forEach=function(D,H){for(var z in this.map)this.map.hasOwnProperty(z)&&D.call(H,this.map[z],z,this)},w.prototype.keys=function(){var D=[];return this.forEach(function(H,z){D.push(z)}),b(D)},w.prototype.values=function(){var D=[];return this.forEach(function(H){D.push(H)}),b(D)},w.prototype.entries=function(){var D=[];return this.forEach(function(H,z){D.push([z,H])}),b(D)},o&&(w.prototype[Symbol.iterator]=w.prototype.entries),f=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],I.prototype.clone=function(){return new I(this,{body:this._bodyInit})},C.call(I.prototype),C.call(R.prototype),R.prototype.clone=function(){return new R(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new w(this.headers),url:this.url})},R.error=function(){var D=new R(null,{status:0,statusText:""});return D.type="error",D},y=[301,302,303,307,308],R.redirect=function(D,H){if(y.indexOf(H)===-1)throw new RangeError("Invalid status code");return new R(null,{status:H,headers:{location:D}})},n.Headers=w,n.Request=I,n.Response=R,n.fetch=function(D,H){return new Promise(function(z,B){var J=new I(D,H),ee=new XMLHttpRequest;ee.onload=function(){var Z,q={status:ee.status,statusText:ee.statusText,headers:(q=ee.getAllResponseHeaders()||"",Z=new w,q.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(V){var V=V.split(":"),j=V.shift().trim();j&&(V=V.join(":").trim(),Z.append(j,V))}),Z)},re=(q.url="responseURL"in ee?ee.responseURL:q.headers.get("X-Request-URL"),"response"in ee?ee.response:ee.responseText);z(new R(re,q))},ee.onerror=function(){B(new TypeError("Network request failed"))},ee.ontimeout=function(){B(new TypeError("Network request failed"))},ee.open(J.method,J.url,!0),J.credentials==="include"?ee.withCredentials=!0:J.credentials==="omit"&&(ee.withCredentials=!1),"responseType"in ee&&u&&(ee.responseType="blob"),J.headers.forEach(function(Z,q){ee.setRequestHeader(q,Z)}),ee.send(J._bodyInit===void 0?null:J._bodyInit)})},n.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],262:[function(t,a,l){"use strict";t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n,s=u(t("../core/main")),o=u(t("../color/color_conversion"));function u(c){return c&&c.__esModule?c:{default:c}}var m=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],v=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];s.default.prototype._rgbColorName=function(f){var d,p,f=o.default._rgbaToHSBA(f),y=[(n=f)[0],f[1],f[2]];y[0]!==0&&(y[0]=Math.round(100*y[0]),(f=y[0].toString().split(""))[p=f.length-1]=parseInt(f[p]),f[p]<2.5?f[p]=0:2.5<=f[p]&&f[p]<7.5&&(f[p]=5),f.length===2?(f[0]=parseInt(f[0]),7.5<=f[p]&&(f[p]=0,f[0]=f[0]+1),y[0]=10*f[0]+f[1]):7.5<=f[p]?y[0]=10:y[0]=f[p]),y[2]=y[2]/255;for(var g=y.length-1;1<=g;g--)y[g]<=.25?y[g]=0:.25<y[g]&&y[g]<.75?y[g]=.5:y[g]=1;if(y[0]===0&&y[1]===0&&y[2]===1){for(var _=2;0<=_;_--)n[_]=Math.round(1e4*n[_])/1e4;for(var b=0;b<m.length;b++){if(m[b].h===n[0]&&m[b].s===n[1]&&m[b].b===n[2]){d=m[b].name;break}d="white"}}else for(var w=0;w<v.length;w++)if(v[w].h===y[0]&&v[w].s===y[1]&&v[w].b===y[2]){d=v[w].name;break}return d},t=s.default,l.default=t},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(t,a,l){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=(t=t("../core/main"))&&t.__esModule?t:{default:t},s="_Description",o="_fallbackDesc",u="_fallbackTable",m="_Label",v="_labelDesc",c="_labelTable";function d(p){if(p==="label"||p==="fallback")throw new Error("description should not be LABEL or FALLBACK");return p.endsWith(".")||p.endsWith(";")||p.endsWith(",")||p.endsWith("?")||p.endsWith("!")||(p+="."),p}n.default.prototype.describe=function(p,f){var y;n.default._validateParameters("describe",arguments),typeof p=="string"&&(y=this.canvas.id,p=d(p),this.dummyDOM||(this.dummyDOM=document.getElementById(y).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==p&&(this.descriptions.fallback.innerHTML=p):this._describeHTML("fallback",p),f===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==p&&(this.descriptions.label.innerHTML=p):this._describeHTML("label",p)))},n.default.prototype.describeElement=function(p,f,y){var g,_;n.default._validateParameters("describeElement",arguments),typeof f=="string"&&typeof p=="string"&&(g=this.canvas.id,f=d(f),_=function(b){if(b==="label"||b==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return b.endsWith(".")||b.endsWith(";")||b.endsWith(",")?b=b.replace(/.$/,":"):b.endsWith(":")||(b+=":"),b}(p),p=p.replace(/[^a-zA-Z0-9]/g,""),_='<th scope="row">'.concat(_,"</th><td>").concat(f,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(g).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[p]?this.descriptions.fallbackElements[p].innerHTML!==_&&(this.descriptions.fallbackElements[p].innerHTML=_):this._describeElementHTML("fallback",p,_),y===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[p]?this.descriptions.labelElements[p].innerHTML!==_&&(this.descriptions.labelElements[p].innerHTML=_):this._describeElementHTML("label",p,_)))},n.default.prototype._describeHTML=function(p,f){var y,g=this.canvas.id;p==="fallback"?(this.dummyDOM.querySelector("#".concat(g+s))?this.dummyDOM.querySelector("#"+g+u).insertAdjacentHTML("beforebegin",'<p id="'.concat(g+o,'"></p>')):(y='<div id="'.concat(g).concat(s,'" role="region" aria-label="Canvas Description"><p id="').concat(g).concat(o,'"></p></div>'),this.dummyDOM.querySelector("#".concat(g,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(g,"accessibleOutput")).insertAdjacentHTML("beforebegin",y):this.dummyDOM.querySelector("#".concat(g)).innerHTML=y),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(g).concat(o)),this.descriptions.fallback.innerHTML=f):p==="label"&&(this.dummyDOM.querySelector("#".concat(g+m))?this.dummyDOM.querySelector("#".concat(g+c))&&this.dummyDOM.querySelector("#".concat(g+c)).insertAdjacentHTML("beforebegin",'<p id="'.concat(g).concat(v,'"></p>')):(y='<div id="'.concat(g).concat(m,'" class="p5Label"><p id="').concat(g).concat(v,'"></p></div>'),this.dummyDOM.querySelector("#".concat(g,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(g,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",y):this.dummyDOM.querySelector("#"+g).insertAdjacentHTML("afterend",y)),this.descriptions.label=this.dummyDOM.querySelector("#"+g+v),this.descriptions.label.innerHTML=f)},n.default.prototype._describeElementHTML=function(p,f,y){var g,_=this.canvas.id;p==="fallback"?(this.dummyDOM.querySelector("#".concat(_+s))?this.dummyDOM.querySelector("#"+_+u)||this.dummyDOM.querySelector("#"+_+o).insertAdjacentHTML("afterend",'<table id="'.concat(_).concat(u,'"><caption>Canvas elements and their descriptions</caption></table>')):(g='<div id="'.concat(_).concat(s,'" role="region" aria-label="Canvas Description"><table id="').concat(_).concat(u,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(_,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(_,"accessibleOutput")).insertAdjacentHTML("beforebegin",g):this.dummyDOM.querySelector("#"+_).innerHTML=g),(g=document.createElement("tr")).id=_+"_fte_"+f,this.dummyDOM.querySelector("#"+_+u).appendChild(g),this.descriptions.fallbackElements[f]=this.dummyDOM.querySelector("#".concat(_).concat("_fte_").concat(f)),this.descriptions.fallbackElements[f].innerHTML=y):p==="label"&&(this.dummyDOM.querySelector("#".concat(_+m))?this.dummyDOM.querySelector("#".concat(_+c))||this.dummyDOM.querySelector("#"+_+v).insertAdjacentHTML("afterend",'<table id="'.concat(_+c,'"></table>')):(g='<div id="'.concat(_).concat(m,'" class="p5Label"><table id="').concat(_).concat(c,'"></table></div>'),this.dummyDOM.querySelector("#".concat(_,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(_,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",g):this.dummyDOM.querySelector("#"+_).insertAdjacentHTML("afterend",g)),(p=document.createElement("tr")).id=_+"_lte_"+f,this.dummyDOM.querySelector("#"+_+c).appendChild(p),this.descriptions.labelElements[f]=this.dummyDOM.querySelector("#".concat(_).concat("_lte_").concat(f)),this.descriptions.labelElements[f].innerHTML=y)},t=n.default,l.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(t,a,l){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateGridOutput=function(n){var s,o,u,m;this.dummyDOM.querySelector("#".concat(n,"_summary"))&&(s=this._accessibleOutputs[n],u=function(v,c,d,p){return c="".concat(c," canvas, ").concat(d," by ").concat(p," pixels, contains ").concat(v[0]),c=(v[0]===1?"".concat(c," shape: "):"".concat(c," shapes: ")).concat(v[1]),c}((o=function(v,c){var d,p="",f="",y=0;for(d in c){var g,_=0;for(g in c[d]){var b='<li id="'.concat(v,"shape").concat(y,'">').concat(c[d][g].color," ").concat(d,",");d==="line"?b+=" location = ".concat(c[d][g].pos,", length = ").concat(c[d][g].length," pixels"):(b+=" location = ".concat(c[d][g].pos),d!=="point"&&(b+=", area = ".concat(c[d][g].area," %")),b+="</li>"),p+=b,_++,y++}f=1<_?"".concat(f," ").concat(_," ").concat(d,"s"):"".concat(f," ").concat(_," ").concat(d)}return{numShapes:[y,f],details:p}}(n,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),m=function(v,c){var d,p,f=0,y="",g=Array.from(Array(10),function(){return Array(10)});for(d in c)for(var _ in c[d]){var b=void 0;b=d!=="line"?'<a href="#'.concat(v,"shape").concat(f,'">').concat(c[d][_].color," ").concat(d,"</a>"):'<a href="#'.concat(v,"shape").concat(f,'">').concat(c[d][_].color," ").concat(d," midpoint</a>"),c[d][_].loc.locY<g.length&&c[d][_].loc.locX<g[c[d][_].loc.locY].length&&(g[c[d][_].loc.locY][c[d][_].loc.locX]?g[c[d][_].loc.locY][c[d][_].loc.locX]=g[c[d][_].loc.locY][c[d][_].loc.locX]+"  "+b:g[c[d][_].loc.locY][c[d][_].loc.locX]=b,f++)}for(p in g){var w,T="<tr>";for(w in g[p])T+="<td>",g[p][w]!==void 0&&(T+=g[p][w]),T+="</td>";y=y+T+"</tr>"}return y}(n,this.ingredients.shapes),u!==s.summary.innerHTML&&(s.summary.innerHTML=u),m!==s.map.innerHTML&&(s.map.innerHTML=m),o.details!==s.shapeDetails.innerHTML&&(s.shapeDetails.innerHTML=o.details),this._accessibleOutputs[n]=s)},t=t.default,l.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(t,a,l){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(u){return function(m){if(Array.isArray(m)){for(var v=0,c=new Array(m.length);v<m.length;v++)c[v]=m[v];return c}}(u)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(u,m,v){return m=Math.floor(u[0]/m*10),u=Math.floor(u[1]/v*10),m===10&&(m-=1),u===10&&(u-=1),{locX:m,locY:u}}n.default.prototype.textOutput=function(u){n.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),u===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},n.default.prototype.gridOutput=function(u){n.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),u===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},n.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},n.default.prototype._createOutput=function(u,m){var v,c,d,p=this.canvas.id,f=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(p).parentNode),"");m==="Fallback"?(v=p+u,this.dummyDOM.querySelector("#".concat(c=p+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(p,"_Description"))?this.dummyDOM.querySelector("#".concat(p,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(c,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(p)).innerHTML='<div id="'.concat(c,'" role="region" aria-label="Canvas Outputs"></div>'))):m==="Label"&&(v=p+u+(f=m),this.dummyDOM.querySelector("#".concat(c=p+"accessibleOutput"+m))||(this.dummyDOM.querySelector("#".concat(p,"_Label"))?this.dummyDOM.querySelector("#".concat(p,"_Label")):this.dummyDOM.querySelector("#".concat(p))).insertAdjacentHTML("afterend",'<div id="'.concat(c,'"></div>'))),this._accessibleOutputs[v]={},u==="textOutput"?(f="#".concat(p,"gridOutput").concat(f),d='<div id="'.concat(v,'">Text Output<div id="').concat(v,'Summary" aria-label="text output summary"><p id="').concat(v,'_summary"></p><ul id="').concat(v,'_list"></ul></div><table id="').concat(v,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(f)?this.dummyDOM.querySelector(f).insertAdjacentHTML("beforebegin",d):this.dummyDOM.querySelector("#".concat(c)).innerHTML=d,this._accessibleOutputs[v].list=this.dummyDOM.querySelector("#".concat(v,"_list"))):u==="gridOutput"&&(f="#".concat(p,"textOutput").concat(f),d='<div id="'.concat(v,'">Grid Output<p id="').concat(v,'_summary" aria-label="grid output summary"><table id="').concat(v,'_map" summary="grid output content"></table><ul id="').concat(v,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(f)?this.dummyDOM.querySelector(f).insertAdjacentHTML("afterend",d):this.dummyDOM.querySelector("#".concat(c)).innerHTML=d,this._accessibleOutputs[v].map=this.dummyDOM.querySelector("#".concat(v,"_map"))),this._accessibleOutputs[v].shapeDetails=this.dummyDOM.querySelector("#".concat(v,"_shapeDetails")),this._accessibleOutputs[v].summary=this.dummyDOM.querySelector("#".concat(v,"_summary"))},n.default.prototype._updateAccsOutput=function(){var u=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(u+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(u+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(u+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(u+"gridOutputLabel"))},n.default.prototype._accsBackground=function(u){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==u&&(this.ingredients.colors.backgroundRGBA=u,this.ingredients.colors.background=this._rgbColorName(u))},n.default.prototype._accsCanvasColors=function(u,m){u==="fill"?this.ingredients.colors.fillRGBA!==m&&(this.ingredients.colors.fillRGBA=m,this.ingredients.colors.fill=this._rgbColorName(m)):u==="stroke"&&this.ingredients.colors.strokeRGBA!==m&&(this.ingredients.colors.strokeRGBA=m,this.ingredients.colors.stroke=this._rgbColorName(m))},n.default.prototype._accsOutput=function(u,m){u==="ellipse"&&m[2]===m[3]?u="circle":u==="rectangle"&&m[2]===m[3]&&(u="square");var v,c,d={},p=!0,f=function(g,_){var b;return g=g==="rectangle"||g==="ellipse"||g==="arc"||g==="circle"||g==="square"?(b=Math.round(_[0]+_[2]/2),Math.round(_[1]+_[3]/2)):g==="triangle"?(b=(_[0]+_[2]+_[4])/3,(_[1]+_[3]+_[5])/3):g==="quadrilateral"?(b=(_[0]+_[2]+_[4]+_[6])/4,(_[1]+_[3]+_[5]+_[7])/4):g==="line"?(b=(_[0]+_[2])/2,(_[1]+_[3])/2):(b=_[0],_[1]),[b,g]}(u,m);if(u==="line"?(d.color=this.ingredients.colors.stroke,d.length=Math.round(this.dist(m[0],m[1],m[2],m[3])),v=this._getPos(m[0],[1]),c=this._getPos(m[2],[3]),d.loc=o(f,this.width,this.height),d.pos=v===c?"at ".concat(v):"from ".concat(v," to ").concat(c)):(u==="point"?d.color=this.ingredients.colors.stroke:(d.color=this.ingredients.colors.fill,d.area=this._getArea(u,m)),d.pos=this._getPos.apply(this,s(f)),d.loc=o(f,this.width,this.height)),this.ingredients.shapes[u]){if(this.ingredients.shapes[u]!==[d]){for(var y in this.ingredients.shapes[u])JSON.stringify(this.ingredients.shapes[u][y])===JSON.stringify(d)&&(p=!1);p===!0&&this.ingredients.shapes[u].push(d)}}else this.ingredients.shapes[u]=[d]},n.default.prototype._getPos=function(c,v){var c=new DOMPointReadOnly(c,v),v=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),c=c.matrixTransform(v),v=c.x,c=c.y,d=this.width*this._pixelDensity,p=this.height*this._pixelDensity;return v<.4*d?c<.4*p?"top left":.6*p<c?"bottom left":"mid left":.6*d<v?c<.4*p?"top right":.6*p<c?"bottom right":"mid right":c<.4*p?"top middle":.6*p<c?"bottom middle":"middle"},n.default.prototype._getArea=function(u,m){var v,c,d=0,p=(u==="arc"?(d=(v=((m[5]-m[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*m[2]*m[3]/8,m[6]!=="open"&&m[6]!=="chord"||(c=m[0],_=m[1],p=m[0]+m[2]/2*Math.cos(m[4]).toFixed(2),b=m[1]+m[3]/2*Math.sin(m[4]).toFixed(2),y=m[0]+m[2]/2*Math.cos(m[5]).toFixed(2),f=m[1]+m[3]/2*Math.sin(m[5]).toFixed(2),c=Math.abs(c*(b-f)+p*(f-_)+y*(_-b))/2,v>Math.PI?d+=c:d-=c)):u==="ellipse"||u==="circle"?d=3.14*m[2]/2*m[3]/2:u==="line"||u==="point"?d=0:u==="quadrilateral"?d=Math.abs((m[6]+m[0])*(m[7]-m[1])+(m[0]+m[2])*(m[1]-m[3])+(m[2]+m[4])*(m[3]-m[5])+(m[4]+m[6])*(m[5]-m[7]))/2:u==="rectangle"||u==="square"?d=m[2]*m[3]:u==="triangle"&&(d=Math.abs(m[0]*(m[3]-m[5])+m[2]*(m[5]-m[1])+m[4]*(m[1]-m[3]))/2),this.width*this._pixelDensity),f=this.height*this._pixelDensity,y=[new DOMPoint(0,0),new DOMPoint(p,0),new DOMPoint(p,f),new DOMPoint(0,f)],g=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),_=y.map(function(w){return w.matrixTransform(g)}),b=Math.abs((_[3].x+_[0].x)*(_[3].y-_[0].y)+(_[0].x+_[1].x)*(_[0].y-_[1].y)+(_[1].x+_[2].x)*(_[1].y-_[2].y)+(_[2].x+_[3].x)*(_[2].y-_[3].y))/2;return Math.round(100*d/b)},t=n.default,l.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(t,a,l){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateTextOutput=function(n){var s,o,u,m;this.dummyDOM.querySelector("#".concat(n,"_summary"))&&(s=this._accessibleOutputs[n],u=function(v,c,d,p){return d="Your output is a, ".concat(d," by ").concat(p," pixels, ").concat(c," canvas containing the following"),d=v===1?"".concat(d," shape:"):"".concat(d," ").concat(v," shapes:"),d}((o=function(v,c){var d,p="",f=0;for(d in c)for(var y in c[d]){var g='<li><a href="#'.concat(v,"shape").concat(f,'">').concat(c[d][y].color," ").concat(d,"</a>");d==="line"?g+=", ".concat(c[d][y].pos,", ").concat(c[d][y].length," pixels long.</li>"):(g+=", at ".concat(c[d][y].pos),d!=="point"&&(g+=", covering ".concat(c[d][y].area,"% of the canvas")),g+=".</li>"),p+=g,f++}return{numShapes:f,listShapes:p}}(n,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),m=function(v,c){var d,p="",f=0;for(d in c)for(var y in c[d]){var g='<tr id="'.concat(v,"shape").concat(f,'"><th>').concat(c[d][y].color," ").concat(d,"</th>");d==="line"?g+="<td>location = ".concat(c[d][y].pos,"</td><td>length = ").concat(c[d][y].length," pixels</td></tr>"):(g+="<td>location = ".concat(c[d][y].pos,"</td>"),d!=="point"&&(g+="<td> area = ".concat(c[d][y].area,"%</td>")),g+="</tr>"),p+=g,f++}return p}(n,this.ingredients.shapes),u!==s.summary.innerHTML&&(s.summary.innerHTML=u),o.listShapes!==s.list.innerHTML&&(s.list.innerHTML=o.listShapes),m!==s.shapeDetails.innerHTML&&(s.shapeDetails.innerHTML=m),this._accessibleOutputs[n]=s)},t=t.default,l.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(t,a,l){"use strict";var n=(n=t("./core/main"))&&n.__esModule?n:{default:n};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.DataArray"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.Quat"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Framebuffer"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),a.exports=n.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(t,a,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={_hsbaToHSLA:function(n){var s=n[0],o=n[1],u=n[2],m=(2-o)*u/2;return m!=0&&(m==1?o=0:m<.5?o/=2-o:o=o*u/(2-2*m)),[s,o,m,n[3]]},_hsbaToRGBA:function(n){var s,o,u,m,v,c=6*n[0],d=n[1],p=n[2];return d===0?[p,p,p,n[3]]:(o=p*(1-d),u=p*(1-d*(c-(s=Math.floor(c)))),d=p*(1-d*(1+s-c)),c=s===1?(m=u,v=p,o):s===2?(m=o,v=p,d):s===3?(m=o,v=u,p):s===4?(m=d,v=o,p):s===5?(m=p,v=o,u):(m=p,v=d,o),[m,v,c,n[3]])},_hslaToHSBA:function(n){var s=n[0],o=n[1],u=n[2],m=u<.5?(1+o)*u:u+o-u*o;return[s,o=2*(m-u)/m,m,n[3]]},_hslaToRGBA:function(n){var s,o=6*n[0],u=n[1],m=n[2];return u===0?[m,m,m,n[3]]:[(s=function(v,c,d){return v<0?v+=6:6<=v&&(v-=6),v<1?c+(d-c)*v:v<3?d:v<4?c+(d-c)*(4-v):c})(2+o,u=2*m-(m=m<.5?(1+u)*m:m+u-m*u),m),s(o,u,m),s(o-2,u,m),n[3]]},_rgbaToHSBA:function(n){var s,o,u=n[0],m=n[1],v=n[2],c=Math.max(u,m,v),d=c-Math.min(u,m,v);return d==0?o=s=0:(o=d/c,u===c?s=(m-v)/d:m===c?s=2+(v-u)/d:v===c&&(s=4+(u-m)/d),s<0?s+=6:6<=s&&(s-=6)),[s/6,o,c,n[3]]},_rgbaToHSLA:function(n){var s,o,u=n[0],m=n[1],v=n[2],c=Math.max(u,m,v),p=Math.min(u,m,v),d=c+p,p=c-p;return p==0?o=s=0:(o=d<1?p/d:p/(2-d),u===c?s=(m-v)/p:m===c?s=2+(v-u)/p:v===c&&(s=4+(u-m)/p),s<0?s+=6:6<=s&&(s-=6)),[s/6,o,d/2,n[3]]}},t=t.default.ColorConversion,l.default=t},{"../core/main":283}],269:[function(t,a,l){"use strict";function n(c){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function s(c){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(d){return n(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":n(d)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(v=t("../core/main"))&&v.__esModule?v:{default:v},u=function(c){if(c&&c.__esModule)return c;if(c===null||s(c)!=="object"&&typeof c!="function")return{default:c};var d=m();if(d&&d.has(c))return d.get(c);var p,f={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in c){var g;Object.prototype.hasOwnProperty.call(c,p)&&((g=y?Object.getOwnPropertyDescriptor(c,p):null)&&(g.get||g.set)?Object.defineProperty(f,p,g):f[p]=c[p])}return f.default=c,d&&d.set(c,f),f}(t("../core/constants"));function m(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,m=function(){return c},c)}t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),o.default.prototype.alpha=function(c){return o.default._validateParameters("alpha",arguments),this.color(c)._getAlpha()},o.default.prototype.blue=function(c){return o.default._validateParameters("blue",arguments),this.color(c)._getBlue()},o.default.prototype.brightness=function(c){return o.default._validateParameters("brightness",arguments),this.color(c)._getBrightness()},o.default.prototype.color=function(){for(var c,d=arguments.length,p=new Array(d),f=0;f<d;f++)p[f]=arguments[f];return o.default._validateParameters("color",p),p[0]instanceof o.default.Color?p[0]:(c=Array.isArray(p[0])?p[0]:p,new o.default.Color(this,c))},o.default.prototype.green=function(c){return o.default._validateParameters("green",arguments),this.color(c)._getGreen()},o.default.prototype.hue=function(c){return o.default._validateParameters("hue",arguments),this.color(c)._getHue()},o.default.prototype.lerpColor=function(c,d,p){o.default._validateParameters("lerpColor",arguments);var f,y,g,_=this._colorMode,b=this._colorMaxes;if(_===u.RGB)y=c.levels.map(function(w){return w/255}),g=d.levels.map(function(w){return w/255});else if(_===u.HSB)c._getBrightness(),d._getBrightness(),y=c.hsba,g=d.hsba;else{if(_!==u.HSL)throw new Error("".concat(_," cannot be used for interpolation."));c._getLightness(),d._getLightness(),y=c.hsla,g=d.hsla}return p=Math.max(Math.min(p,1),0),this.lerp===void 0&&(this.lerp=function(w,T,O){return O*(T-w)+w}),_===u.RGB?f=this.lerp(y[0],g[0],p):(.5<Math.abs(y[0]-g[0])&&(y[0]>g[0]?g[0]+=1:y[0]+=1),1<=(f=this.lerp(y[0],g[0],p))&&--f),c=this.lerp(y[1],g[1],p),d=this.lerp(y[2],g[2],p),y=this.lerp(y[3],g[3],p),f*=b[_][0],c*=b[_][1],d*=b[_][2],y*=b[_][3],this.color(f,c,d,y)},o.default.prototype.lightness=function(c){return o.default._validateParameters("lightness",arguments),this.color(c)._getLightness()},o.default.prototype.red=function(c){return o.default._validateParameters("red",arguments),this.color(c)._getRed()},o.default.prototype.saturation=function(c){return o.default._validateParameters("saturation",arguments),this.color(c)._getSaturation()};var v=o.default;l.default=v},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(f,a,l){"use strict";function n(w){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(w)}function s(w){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(T){return n(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":n(T)})(w)}f("core-js/modules/es.symbol"),f("core-js/modules/es.symbol.description"),f("core-js/modules/es.symbol.iterator"),f("core-js/modules/es.array.includes"),f("core-js/modules/es.array.iterator"),f("core-js/modules/es.array.join"),f("core-js/modules/es.array.map"),f("core-js/modules/es.array.slice"),f("core-js/modules/es.object.get-own-property-descriptor"),f("core-js/modules/es.object.to-string"),f("core-js/modules/es.regexp.constructor"),f("core-js/modules/es.regexp.exec"),f("core-js/modules/es.regexp.to-string"),f("core-js/modules/es.string.includes"),f("core-js/modules/es.string.iterator"),f("core-js/modules/es.string.trim"),f("core-js/modules/es.weak-map"),f("core-js/modules/web.dom-collections.iterator"),f("core-js/modules/es.array.includes"),f("core-js/modules/es.array.join"),f("core-js/modules/es.array.map"),f("core-js/modules/es.array.slice"),f("core-js/modules/es.object.to-string"),f("core-js/modules/es.regexp.constructor"),f("core-js/modules/es.regexp.exec"),f("core-js/modules/es.regexp.to-string"),f("core-js/modules/es.string.includes"),f("core-js/modules/es.string.trim"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=c(f("../core/main")),u=function(w){if(w&&w.__esModule)return w;if(w===null||s(w)!=="object"&&typeof w!="function")return{default:w};var T=v();if(T&&T.has(w))return T.get(w);var O,A={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(O in w){var C;Object.prototype.hasOwnProperty.call(w,O)&&((C=E?Object.getOwnPropertyDescriptor(w,O):null)&&(C.get||C.set)?Object.defineProperty(A,O,C):A[O]=w[O])}return A.default=w,T&&T.set(w,A),A}(f("../core/constants")),m=c(f("./color_conversion"));function v(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,v=function(){return w},w)}function c(w){return w&&w.__esModule?w:{default:w}}function d(w,T){for(var O=0;O<T.length;O++){var A=T[O];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(w,A.key,A)}}var p={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},f=/\s*/,b=/(\d{1,3})/,y=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,g=new RegExp("".concat(y.source,"%")),_={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",b.source,",",b.source,",",b.source,"\\)$"].join(f.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",g.source,",",g.source,",",g.source,"\\)$"].join(f.source),"i"),RGBA:new RegExp(["^rgba\\(",b.source,",",b.source,",",b.source,",",y.source,"\\)$"].join(f.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",g.source,",",g.source,",",g.source,",",y.source,"\\)$"].join(f.source),"i"),HSL:new RegExp(["^hsl\\(",b.source,",",g.source,",",g.source,"\\)$"].join(f.source),"i"),HSLA:new RegExp(["^hsla\\(",b.source,",",g.source,",",g.source,",",y.source,"\\)$"].join(f.source),"i"),HSB:new RegExp(["^hsb\\(",b.source,",",g.source,",",g.source,"\\)$"].join(f.source),"i"),HSBA:new RegExp(["^hsba\\(",b.source,",",g.source,",",g.source,",",y.source,"\\)$"].join(f.source),"i")},b=(o.default.Color=function(){function w(E,C){if(!(this instanceof w))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(E._colorMode,E._colorMaxes),![u.RGB,u.HSL,u.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=w._parseInputs.apply(this,C),this._calculateLevels()}var T,O,A;return T=w,A=[{key:"_parseInputs",value:function(E,C,I,L){var R,D=arguments.length,H=this.mode,z=this.maxes[H],B=[];if(3<=D){for(B[0]=E/z[0],B[1]=C/z[1],B[2]=I/z[2],B[3]=typeof L=="number"?L/z[3]:1,R=B.length-1;0<=R;--R){var J=B[R];J<0?B[R]=0:1<J&&(B[R]=1)}return H===u.HSL?m.default._hslaToRGBA(B):H===u.HSB?m.default._hsbaToRGBA(B):B}if(D===1&&typeof E=="string"){if(I=E.trim().toLowerCase(),p[I])return w._parseInputs.call(this,p[I]);if(_.HEX3.test(I))return(B=_.HEX3.exec(I).slice(1).map(function(ee){return parseInt(ee+ee,16)/255}))[3]=1,B;if(_.HEX6.test(I))return(B=_.HEX6.exec(I).slice(1).map(function(ee){return parseInt(ee,16)/255}))[3]=1,B;if(_.HEX4.test(I))return B=_.HEX4.exec(I).slice(1).map(function(ee){return parseInt(ee+ee,16)/255});if(_.HEX8.test(I))return B=_.HEX8.exec(I).slice(1).map(function(ee){return parseInt(ee,16)/255});if(_.RGB.test(I))return(B=_.RGB.exec(I).slice(1).map(function(ee){return ee/255}))[3]=1,B;if(_.RGB_PERCENT.test(I))return(B=_.RGB_PERCENT.exec(I).slice(1).map(function(ee){return parseFloat(ee)/100}))[3]=1,B;if(_.RGBA.test(I))return B=_.RGBA.exec(I).slice(1).map(function(ee,Z){return Z===3?parseFloat(ee):ee/255});if(_.RGBA_PERCENT.test(I))return B=_.RGBA_PERCENT.exec(I).slice(1).map(function(ee,Z){return Z===3?parseFloat(ee):parseFloat(ee)/100});if(_.HSL.test(I)?(B=_.HSL.exec(I).slice(1).map(function(ee,Z){return Z===0?parseInt(ee,10)/360:parseInt(ee,10)/100}))[3]=1:_.HSLA.test(I)&&(B=_.HSLA.exec(I).slice(1).map(function(ee,Z){return Z===0?parseInt(ee,10)/360:Z===3?parseFloat(ee):parseInt(ee,10)/100})),(B=B.map(function(ee){return Math.max(Math.min(ee,1),0)})).length)return m.default._hslaToRGBA(B);if(_.HSB.test(I)?(B=_.HSB.exec(I).slice(1).map(function(ee,Z){return Z===0?parseInt(ee,10)/360:parseInt(ee,10)/100}))[3]=1:_.HSBA.test(I)&&(B=_.HSBA.exec(I).slice(1).map(function(ee,Z){return Z===0?parseInt(ee,10)/360:Z===3?parseFloat(ee):parseInt(ee,10)/100})),B.length){for(R=B.length-1;0<=R;--R)B[R]=Math.max(Math.min(B[R],1),0);return m.default._hsbaToRGBA(B)}B=[1,1,1,1]}else{if(D!==1&&D!==2||typeof E!="number")throw new Error("".concat(arguments,"is not a valid color representation."));B[0]=E/z[2],B[1]=E/z[2],B[2]=E/z[2],B[3]=typeof C=="number"?C/z[3]:1,B=B.map(function(ee){return Math.max(Math.min(ee,1),0)})}return B}}],(O=[{key:"toString",value:function(E){var C=this.levels,I=this._array,L=I[3];switch(E){case"#rrggbb":return"#".concat(C[0]<16?"0".concat(C[0].toString(16)):C[0].toString(16),C[1]<16?"0".concat(C[1].toString(16)):C[1].toString(16),C[2]<16?"0".concat(C[2].toString(16)):C[2].toString(16));case"#rrggbbaa":return"#".concat(C[0]<16?"0".concat(C[0].toString(16)):C[0].toString(16),C[1]<16?"0".concat(C[1].toString(16)):C[1].toString(16),C[2]<16?"0".concat(C[2].toString(16)):C[2].toString(16),C[3]<16?"0".concat(C[3].toString(16)):C[3].toString(16));case"#rgb":return"#".concat(Math.round(15*I[0]).toString(16),Math.round(15*I[1]).toString(16),Math.round(15*I[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*I[0]).toString(16),Math.round(15*I[1]).toString(16),Math.round(15*I[2]).toString(16),Math.round(15*I[3]).toString(16));case"rgb":return"rgb(".concat(C[0],", ",C[1],", ",C[2],")");case"rgb%":return"rgb(".concat((100*I[0]).toPrecision(3),"%, ",(100*I[1]).toPrecision(3),"%, ",(100*I[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*I[0]).toPrecision(3),"%, ",(100*I[1]).toPrecision(3),"%, ",(100*I[2]).toPrecision(3),"%, ",(100*I[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[u.HSB][0],", ",this.hsba[1]*this.maxes[u.HSB][1],", ",this.hsba[2]*this.maxes[u.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[u.HSB][0],", ",this.hsba[1]*this.maxes[u.HSB][1],", ",this.hsba[2]*this.maxes[u.HSB][2],", ",L,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*L).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[u.HSL][0],", ",this.hsla[1]*this.maxes[u.HSL][1],", ",this.hsla[2]*this.maxes[u.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[u.HSL][0],", ",this.hsla[1]*this.maxes[u.HSL][1],", ",this.hsla[2]*this.maxes[u.HSL][2],", ",L,")");case"hsla%":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*L).toPrecision(3),"%)");default:return"rgba(".concat(C[0],",",C[1],",",C[2],",",L,")")}}},{key:"setRed",value:function(E){this._array[0]=E/this.maxes[u.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(E){this._array[1]=E/this.maxes[u.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(E){this._array[2]=E/this.maxes[u.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(E){this._array[3]=E/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var E=this._array,C=this.levels=new Array(E.length),I=E.length-1;0<=I;--I)C[I]=Math.round(255*E[I]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(E,C){this.mode=E,this.maxes=C}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[u.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[u.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[u.RGB][1]}},{key:"_getHue",value:function(){return this.mode===u.HSB?(this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[u.HSB][0]):(this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[u.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[u.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[u.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===u.HSB?(this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[u.HSB][1]):(this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[u.HSL][1])}}])&&d(T.prototype,O),A&&d(T,A),w}(),o.default.Color);l.default=b},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(t,a,l){"use strict";function n(c){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function s(c){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(d){return n(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":n(d)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(v=t("../core/main"))&&v.__esModule?v:{default:v},u=function(c){if(c&&c.__esModule)return c;if(c===null||s(c)!=="object"&&typeof c!="function")return{default:c};var d=m();if(d&&d.has(c))return d.get(c);var p,f={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in c){var g;Object.prototype.hasOwnProperty.call(c,p)&&((g=y?Object.getOwnPropertyDescriptor(c,p):null)&&(g.get||g.set)?Object.defineProperty(f,p,g):f[p]=c[p])}return f.default=c,d&&d.set(c,f),f}(t("../core/constants"));function m(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,m=function(){return c},c)}t("./p5.Color"),o.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},o.default.prototype.endClip=function(){this._renderer.endClip()},o.default.prototype.clip=function(c,d){this._renderer.beginClip(d),c(),this._renderer.endClip(d)},o.default.prototype.background=function(){var c;return(c=this._renderer).background.apply(c,arguments),this},o.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},o.default.prototype.colorMode=function(c,d,p,f,y){return o.default._validateParameters("colorMode",arguments),c!==u.RGB&&c!==u.HSB&&c!==u.HSL||(this._colorMode=c,c=this._colorMaxes[c],arguments.length===2?(c[0]=d,c[1]=d,c[2]=d,c[3]=d):arguments.length===4?(c[0]=d,c[1]=p,c[2]=f):arguments.length===5&&(c[0]=d,c[1]=p,c[2]=f,c[3]=y)),this},o.default.prototype.fill=function(){var c;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(c=this._renderer).fill.apply(c,arguments),this},o.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},o.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},o.default.prototype.stroke=function(){var c;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(c=this._renderer).stroke.apply(c,arguments),this},o.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},o.default.prototype.noErase=function(){return this._renderer.noErase(),this};var v=o.default;l.default=v},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(t,a,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.QUADRATIC=l.LINEAR=l._CTX_MIDDLE=l._DEFAULT_LEADMULT=l._DEFAULT_TEXT_FILL=l.WORD=l.CHAR=l.BOLDITALIC=l.BOLD=l.ITALIC=l.NORMAL=l.BLUR=l.ERODE=l.DILATE=l.POSTERIZE=l.INVERT=l.OPAQUE=l.GRAY=l.THRESHOLD=l.BURN=l.DODGE=l.SOFT_LIGHT=l.HARD_LIGHT=l.OVERLAY=l.REPLACE=l.SCREEN=l.MULTIPLY=l.EXCLUSION=l.SUBTRACT=l.DIFFERENCE=l.LIGHTEST=l.DARKEST=l.ADD=l.REMOVE=l.BLEND=l.UP_ARROW=l.TAB=l.SHIFT=l.RIGHT_ARROW=l.RETURN=l.OPTION=l.LEFT_ARROW=l.ESCAPE=l.ENTER=l.DOWN_ARROW=l.DELETE=l.CONTROL=l.BACKSPACE=l.ALT=l.AUTO=l.HSL=l.HSB=l.RGB=l.MITER=l.BEVEL=l.ROUND=l.SQUARE=l.PROJECT=l.PIE=l.CHORD=l.OPEN=l.CLOSE=l.TESS=l.QUAD_STRIP=l.QUADS=l.TRIANGLE_STRIP=l.TRIANGLE_FAN=l.TRIANGLES=l.LINE_LOOP=l.LINE_STRIP=l.LINES=l.POINTS=l.BASELINE=l.BOTTOM=l.TOP=l.CENTER=l.LEFT=l.RIGHT=l.RADIUS=l.CORNERS=l.CORNER=l.RAD_TO_DEG=l.DEG_TO_RAD=l.RADIANS=l.DEGREES=l.TWO_PI=l.TAU=l.QUARTER_PI=l.PI=l.HALF_PI=l.WAIT=l.TEXT=l.MOVE=l.HAND=l.CROSS=l.ARROW=l.WEBGL2=l.WEBGL=l.P2D=l.VERSION=void 0,l.RGBA=l.HALF_FLOAT=l.FLOAT=l.UNSIGNED_INT=l.UNSIGNED_BYTE=l.COVER=l.CONTAIN=l.FALLBACK=l.LABEL=l.AXES=l.GRID=l._DEFAULT_FILL=l._DEFAULT_STROKE=l.PORTRAIT=l.LANDSCAPE=l.SMOOTH=l.FLAT=l.MIRROR=l.CLAMP=l.REPEAT=l.NEAREST=l.IMAGE=l.IMMEDIATE=l.TEXTURE=l.FILL=l.STROKE=l.CURVE=l.BEZIER=void 0;var n=Math.PI,s=(l.VERSION="1.10.0",l.P2D="p2d",l.WEBGL="webgl",l.WEBGL2="webgl2",l.ARROW="default",l.CROSS="crosshair",l.HAND="pointer",l.MOVE="move",l.TEXT="text",l.WAIT="wait",n/2),s=(l.HALF_PI=s,n),s=(l.PI=s,n/4),s=(l.QUARTER_PI=s,2*n),s=(l.TAU=s,2*n),s=(l.TWO_PI=s,l.DEGREES="degrees",l.RADIANS="radians",n/180),s=(l.DEG_TO_RAD=s,180/n);l.RAD_TO_DEG=s,l.CORNER="corner",l.CORNERS="corners",l.RADIUS="radius",l.RIGHT="right",l.LEFT="left",l.CENTER="center",l.TOP="top",l.BOTTOM="bottom",l.BASELINE="alphabetic",l.POINTS=0,l.LINES=1,l.LINE_STRIP=3,l.LINE_LOOP=2,l.TRIANGLES=4,l.TRIANGLE_FAN=6,l.TRIANGLE_STRIP=5,l.QUADS="quads",l.QUAD_STRIP="quad_strip",l.TESS="tess",l.CLOSE="close",l.OPEN="open",l.CHORD="chord",l.PIE="pie",l.PROJECT="square",l.SQUARE="butt",l.ROUND="round",l.BEVEL="bevel",l.MITER="miter",l.RGB="rgb",l.HSB="hsb",l.HSL="hsl",l.AUTO="auto",l.ALT=18,l.BACKSPACE=8,l.CONTROL=17,l.DELETE=46,l.DOWN_ARROW=40,l.ENTER=13,l.ESCAPE=27,l.LEFT_ARROW=37,l.OPTION=18,l.RETURN=13,l.RIGHT_ARROW=39,l.SHIFT=16,l.TAB=9,l.UP_ARROW=38,l.BLEND="source-over",l.REMOVE="destination-out",l.ADD="lighter",l.DARKEST="darken",l.LIGHTEST="lighten",l.DIFFERENCE="difference",l.SUBTRACT="subtract",l.EXCLUSION="exclusion",l.MULTIPLY="multiply",l.SCREEN="screen",l.REPLACE="copy",l.OVERLAY="overlay",l.HARD_LIGHT="hard-light",l.SOFT_LIGHT="soft-light",l.DODGE="color-dodge",l.BURN="color-burn",l.THRESHOLD="threshold",l.GRAY="gray",l.OPAQUE="opaque",l.INVERT="invert",l.POSTERIZE="posterize",l.DILATE="dilate",l.ERODE="erode",l.BLUR="blur",l.NORMAL="normal",l.ITALIC="italic",l.BOLD="bold",l.BOLDITALIC="bold italic",l.CHAR="CHAR",l.WORD="WORD",l._DEFAULT_TEXT_FILL="#000000",l._DEFAULT_LEADMULT=1.25,l._CTX_MIDDLE="middle",l.LINEAR="linear",l.QUADRATIC="quadratic",l.BEZIER="bezier",l.CURVE="curve",l.STROKE="stroke",l.FILL="fill",l.TEXTURE="texture",l.IMMEDIATE="immediate",l.IMAGE="image",l.NEAREST="nearest",l.REPEAT="repeat",l.CLAMP="clamp",l.MIRROR="mirror",l.FLAT="flat",l.SMOOTH="smooth",l.LANDSCAPE="landscape",l.PORTRAIT="portrait",l._DEFAULT_STROKE="#000000",l._DEFAULT_FILL="#FFFFFF",l.GRID="grid",l.AXES="axes",l.LABEL="label",l.FALLBACK="fallback",l.CONTAIN="contain",l.COVER="cover",l.UNSIGNED_BYTE="unsigned-byte",l.UNSIGNED_INT="unsigned-int",l.FLOAT="float",l.HALF_FLOAT="half-float",l.RGBA="rgba"},{}],273:[function(t,a,l){"use strict";function n(y){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(y)}function s(y){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(g){return n(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":n(g)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(u=t("./main"))&&u.__esModule?u:{default:u},u=function(y){if(y&&y.__esModule)return y;if(y===null||s(y)!=="object"&&typeof y!="function")return{default:y};var g=m();if(g&&g.has(y))return g.get(y);var _,b={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in y){var T;Object.prototype.hasOwnProperty.call(y,_)&&((T=w?Object.getOwnPropertyDescriptor(y,_):null)&&(T.get||T.set)?Object.defineProperty(b,_,T):b[_]=y[_])}return b.default=y,g&&g.set(y,b),b}(t("./constants"));function m(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,m=function(){return y},y)}var v=[u.ARROW,u.CROSS,u.HAND,u.MOVE,u.TEXT,u.WAIT],c=(o.default.prototype._frameRate=0,o.default.prototype._lastFrameTime=window.performance.now(),o.default.prototype._targetFrameRate=60,window.print),d=!1;function p(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function f(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}o.default.prototype.print=function(){var y;arguments.length?(y=console).log.apply(y,arguments):d||(c(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(d=!0))},o.default.prototype.frameCount=0,o.default.prototype.deltaTime=0,o.default.prototype.focused=document.hasFocus(),o.default.prototype.cursor=function(y,g,_){var b,w="auto",T=this._curElement.elt;v.includes(y)?w=y:typeof y=="string"&&(b="",g&&_&&typeof g=="number"&&typeof _=="number"&&(b="".concat(g," ").concat(_)),w=y.substring(0,7)==="http://"||y.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(y)?"url(".concat(y,") ").concat(b,", auto"):y),T.style.cursor=w},o.default.prototype.frameRate=function(y){return o.default._validateParameters("frameRate",arguments),typeof y!="number"||y<0?this._frameRate:(this._setProperty("_targetFrameRate",y),y===0&&this._setProperty("_frameRate",y),this)},o.default.prototype.getFrameRate=function(){return this.frameRate()},o.default.prototype.setFrameRate=function(y){return this.frameRate(y)},o.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},o.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},o.default.prototype.webglVersion=u.P2D,o.default.prototype.displayWidth=screen.width,o.default.prototype.displayHeight=screen.height,o.default.prototype.windowWidth=0,o.default.prototype.windowHeight=0,o.default.prototype._onresize=function(y){this._setProperty("windowWidth",p()),this._setProperty("windowHeight",f());var g=this._isGlobal?window:this;typeof g.windowResized!="function"||(g=g.windowResized(y))===void 0||g||y.preventDefault()},o.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",p()),this._setProperty("windowHeight",f())},o.default.prototype.width=0,o.default.prototype.height=0,o.default.prototype.fullscreen=function(y){if(o.default._validateParameters("fullscreen",arguments),y===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(y){if(y=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");y.requestFullscreen?y.requestFullscreen():y.mozRequestFullScreen?y.mozRequestFullScreen():y.webkitRequestFullscreen?y.webkitRequestFullscreen():y.msRequestFullscreen&&y.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},o.default.prototype.pixelDensity=function(y){var g;return o.default._validateParameters("pixelDensity",arguments),typeof y=="number"?(y!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=y),(g=this).resizeCanvas(this.width,this.height,!0)):g=this._pixelDensity,g},o.default.prototype.displayDensity=function(){return window.devicePixelRatio},o.default.prototype.getURL=function(){return location.href},o.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(y){return y!==""})},o.default.prototype.getURLParams=function(){for(var y,g=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,_={};(y=g.exec(location.search))!=null;)y.index===g.lastIndex&&g.lastIndex++,_[y[1]]=y[2];return _},t=o.default,l.default=t},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(t,a,l){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=(v=t("../main"))&&v.__esModule?v:{default:v};t("../internationalization");function s(c,d){d=d||console.log.bind(console),o||m(),o.some(function(p){var f;if(c.message&&c.message.match("\\W?".concat(p.name,"\\W"))!==null)return f=p.type==="function"?"".concat(p.name,"()"):p.name,d("Did you just try to use p5.js's ".concat(f," ").concat(p.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(u)),!0})}var o=null,m=null,u=(n.default._friendlyError=n.default._checkForUserDefinedFunctions=n.default._fesErrorMonitor=function(){},o=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),m=function(){function c(p){return Object.getOwnPropertyNames(p).filter(function(f){return f[0]!=="_"&&!(f in d)&&(d[f]=!0)}).map(function(f){var y=typeof p[f]=="function"?"function":f===f.toUpperCase()?"constant":"variable";return{name:f,type:y}})}var d={};(o=[].concat(c(n.default.prototype),c(t("../constants")))).sort(function(p,f){return f.name.length-p.name.length})},v=(n.default.prototype._helpForMisusedAtTopLevelCode=s,document.readyState!=="complete"&&(window.addEventListener("error",s,!1),window.addEventListener("load",function(){window.removeEventListener("error",s,!1)})),n.default);l.default=v},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(t,a,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=(n=t("../main"))&&n.__esModule?n:{default:n};t("../internationalization"),n.default._friendlyFileLoadError=function(){},t=n.default,l.default=t},{"../internationalization":281,"../main":283}],276:[function(t,a,l){"use strict";function n(j){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(j)}function s(j){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(G){return n(G)}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":n(G)})(j)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=ee(t("../main")),u=t("../internationalization"),m=J(t("../constants")),v,c,d,p,f,y,g,_,b,w,T,O,A,E,C,I,L,R,D,H,z;function B(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,B=function(){return j},j)}function J(j){if(j&&j.__esModule)return j;if(j===null||s(j)!=="object"&&typeof j!="function")return{default:j};var G=B();if(G&&G.has(j))return G.get(j);var K,ae,Q={},oe=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(K in j)Object.prototype.hasOwnProperty.call(j,K)&&((ae=oe?Object.getOwnPropertyDescriptor(j,K):null)&&(ae.get||ae.set)?Object.defineProperty(Q,K,ae):Q[K]=j[K]);return Q.default=j,G&&G.set(j,Q),Q}function ee(j){return j&&j.__esModule?j:{default:j}}function Z(j){return ge(j)||re(j)||q()}function q(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function re(j){if(Symbol.iterator in Object(j)||Object.prototype.toString.call(j)==="[object Arguments]")return Array.from(j)}function ge(j){if(Array.isArray(j)){for(var G=0,K=new Array(j.length);G<j.length;G++)K[G]=j[G];return K}}o.default._fesCodeReader=function(){};var V=o.default;l.default=V},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(t,a,l){"use strict";t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function n(){var s=/(^|@)\S+:\d+/,o=/^\s*at .*(\S+:\d+|\(native\))/m,u=/^(eval@)?(\[native code])?$/;return{parse:function(m){return m.stacktrace!==void 0||m["opera#sourceloc"]!==void 0?this.parseOpera(m):m.stack&&m.stack.match(o)?this.parseV8OrIE(m):m.stack?this.parseFFOrSafari(m):void 0},extractLocation:function(m){return m.indexOf(":")===-1?[m]:[(m=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(m.replace(/[()]/g,"")))[1],m[2]||void 0,m[3]||void 0]},parseV8OrIE:function(m){return m.stack.split(`
`).filter(function(v){return!!v.match(o)},this).map(function(v){var c=(v=-1<v.indexOf("(eval ")?v.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):v).replace(/^\s+/,"").replace(/\(eval code/g,"("),d=c.match(/ (\((.+):(\d+):(\d+)\)$)/),c=(c=d?c.replace(d[0],""):c).split(/\s+/).slice(1),d=this.extractLocation(d?d[1]:c.pop());return{functionName:c.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(d[0])?void 0:d[0],lineNumber:d[1],columnNumber:d[2],source:v}},this)},parseFFOrSafari:function(m){return m.stack.split(`
`).filter(function(v){return!v.match(u)},this).map(function(v){var c,d;return(v=-1<v.indexOf(" > eval")?v.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):v).indexOf("@")===-1&&v.indexOf(":")===-1?{functionName:v}:{functionName:(d=v.match(c=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&d[1]?d[1]:void 0,fileName:(d=this.extractLocation(v.replace(c,"")))[0],lineNumber:d[1],columnNumber:d[2],source:v}},this)},parseOpera:function(m){return!m.stacktrace||-1<m.message.indexOf(`
`)&&m.message.split(`
`).length>m.stacktrace.split(`
`).length?this.parseOpera9(m):m.stack?this.parseOpera11(m):this.parseOpera10(m)},parseOpera9:function(m){for(var v=/Line (\d+).*script (?:in )?(\S+)/i,c=m.message.split(`
`),d=[],p=2,f=c.length;p<f;p+=2){var y=v.exec(c[p]);y&&d.push({fileName:y[2],lineNumber:y[1],source:c[p]})}return d},parseOpera10:function(m){for(var v=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,c=m.stacktrace.split(`
`),d=[],p=0,f=c.length;p<f;p+=2){var y=v.exec(c[p]);y&&d.push({functionName:y[3]||void 0,fileName:y[2],lineNumber:y[1],source:c[p]})}return d},parseOpera11:function(m){return m.stack.split(`
`).filter(function(v){return!!v.match(s)&&!v.match(/^Error created at/)},this).map(function(v){var c,p=v.split("@"),d=this.extractLocation(p.pop()),p=p.shift()||"";return{functionName:p.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(c=p.match(/\(([^)]*)\)/)?p.replace(/^[^(]+\(([^)]*)\)$/,"$1"):c)===void 0||c==="[arguments not available]"?void 0:c.split(","),fileName:d[0],lineNumber:d[1],columnNumber:d[2],source:v}},this)}}}t.default._getErrorStackParser=function(){return new n},t=t.default,l.default=t},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(t,a,l){"use strict";function n(m){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(s=t("../main"))&&s.__esModule?s:{default:s};(function(m){if(!(m&&m.__esModule)&&!(m===null||u(m)!=="object"&&typeof m!="function")){var v=o();if(v&&v.has(m))return v.get(m);var c,d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in m){var f;Object.prototype.hasOwnProperty.call(m,c)&&((f=p?Object.getOwnPropertyDescriptor(m,c):null)&&(f.get||f.set)?Object.defineProperty(d,c,f):d[c]=m[c])}d.default=m,v&&v.set(m,d)}})(t("../constants")),t("../internationalization");function o(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,o=function(){return m},m)}function u(m){return(u=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(v){return n(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":n(v)})(m)}s.default._validateParameters=s.default._clearValidateParamsCache=function(){},t=s.default,l.default=t},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(t,a,l){"use strict";function n(m){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}function s(m){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(v){return n(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":n(v)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=function(m){if(m&&m.__esModule)return m;if(m===null||s(m)!=="object"&&typeof m!="function")return{default:m};var v=u();if(v&&v.has(m))return v.get(m);var c,d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in m){var f;Object.prototype.hasOwnProperty.call(m,c)&&((f=p?Object.getOwnPropertyDescriptor(m,c):null)&&(f.get||f.set)?Object.defineProperty(d,c,f):d[c]=m[c])}return d.default=m,v&&v.set(m,d),d}(t("./constants"));function u(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,u=function(){return m},m)}l.default={modeAdjust:function(m,v,c,d,p){return p===o.CORNER?{x:m,y:v,w:c,h:d}:p===o.CORNERS?{x:m,y:v,w:c-m,h:d-v}:p===o.RADIUS?{x:m-c,y:v-d,w:2*c,h:2*d}:p===o.CENTER?{x:m-.5*c,y:v-.5*d,w:c,h:d}:void 0}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(t,a,l){"use strict";t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var n=(s=t("../core/main"))&&s.__esModule?s:{default:s};t("./internationalization");var s=Promise.resolve();Promise.all([new Promise(function(o,u){document.readyState==="complete"?o():window.addEventListener("load",o,!1)}),s]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!n.default.instance&&new n.default})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(t,a,l){"use strict";t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.setTranslatorLanguage=l.currentTranslatorLanguage=l.availableTranslatorLanguages=l.initialize=l.translator=void 0;var n,s,o=m(t("i18next")),u=m(t("i18next-browser-languagedetector"));function m(d){return d&&d.__esModule?d:{default:d}}function v(d,p){for(var f=0;f<p.length;f++){var y=p[f];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}var c=function(){function d(g,_){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.init(g,_)}var p,f,y;return p=d,(f=[{key:"fetchWithTimeout",value:function(g,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(g,_),new Promise(function(w,T){return setTimeout(function(){return T(new Error("timeout"))},b)})])}},{key:"init",value:function(g){var _=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=g,this.options=_}},{key:"read",value:function(g,_,b){var w=this.options.loadPath;g===this.options.fallback?b(null,n[g][_]):s.includes(g)?(w=this.services.interpolator.interpolate(w,{lng:g,ns:_}),this.loadUrl(w,b)):b("Not found",!1)}},{key:"loadUrl",value:function(g,_){this.fetchWithTimeout(g).then(function(b){if(b.ok)return b.json();throw new Error("failed loading ".concat(g))},function(){throw new Error("failed loading ".concat(g))}).then(function(b){return _(null,b)}).catch(_)}}])&&v(p.prototype,f),y&&v(p,y),d}();c.type="backend",l.translator=function(d,p){console.debug("p5.js translator called before translations were loaded"),o.default.t(d,p)},l.initialize=function(){return o.default.use(u.default).use(c).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:n}).then(function(d){l.translator=d},function(d){return console.debug("Translations failed to load (".concat(d,")"))})},l.availableTranslatorLanguages=function(){return o.default.languages},l.currentTranslatorLanguage=function(d){return o.default.language},l.setTranslatorLanguage=function(d){return o.default.changeLanguage(d||void 0,function(p){return console.debug("Translations failed to load (".concat(p,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(t,a,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,l.default=t},{"./main":283}],283:[function(t,a,l){"use strict";function n(d){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}function s(d){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(p){return n(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":n(p)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t("./shim");var o=function(d){if(d&&d.__esModule)return d;if(d===null||s(d)!=="object"&&typeof d!="function")return{default:d};var p=u();if(p&&p.has(d))return p.get(d);var f,y={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in d){var _;Object.prototype.hasOwnProperty.call(d,f)&&((_=g?Object.getOwnPropertyDescriptor(d,f):null)&&(_.get||_.set)?Object.defineProperty(y,f,_):y[f]=d[f])}return y.default=d,p&&p.set(d,y),y}(t("./constants"));function u(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,u=function(){return d},d)}function m(d,p){for(var f=0;f<p.length;f++){var y=p[f];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}var v,c=function(){function d(g,w){var b=this;if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=w,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var w=Object.getOwnPropertyNames(d.prototype._registeredMethods),T=!0,O=!1,A=void 0;try{for(var E,C=w[Symbol.iterator]();!(T=(E=C.next()).done);T=!0){var I=E.value;this._registeredMethods[I]=d.prototype._registeredMethods[I].slice()}}catch(Z){O=!0,A=Z}finally{try{T||C.return==null||C.return()}finally{if(O)throw A}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),d.prototype.callRegisteredHooksFor=function(Z){var q=this||d.prototype,re=this._isGlobal?window:this;if(q._registeredMethods.hasOwnProperty(Z)){var q=q._registeredMethods[Z],ge=!0,Z=!1,V=void 0;try{for(var j,G=q[Symbol.iterator]();!(ge=(j=G.next()).done);ge=!0){var K=j.value;typeof K=="function"&&K.call(re)}}catch(oe){Z=!0,V=oe}finally{try{ge||G.return==null||G.return()}finally{if(Z)throw V}}}},this._start=function(){b._userNode&&typeof b._userNode=="string"&&(b._userNode=document.getElementById(b._userNode));var Z=b._isGlobal?window:b;if(Z.preload){b.callRegisteredHooksFor("beforePreload");var q,re=document.getElementById(b._loadingScreenId),ge=(re||((re=document.createElement("div")).innerHTML="Loading...",re.style.position="absolute",re.id=b._loadingScreenId,(b._userNode||document.body).appendChild(re)),b._preloadMethods);for(q in ge){ge[q]=ge[q]||d;var V=ge[q];V!==d.prototype&&V!==d||(b._isGlobal&&(window[q]=b._wrapPreload(b,q)),V=b),b._registeredPreloadMethods[q]=V[q],V[q]=b._wrapPreload(V,q)}Z.preload(),b._runIfPreloadsAreDone()}else b._setup(),b._recording||b._draw()},this._runIfPreloadsAreDone=function(){var Z,q=this._isGlobal?window:this;q._preloadCount===0&&((Z=document.getElementById(q._loadingScreenId))&&Z.parentNode.removeChild(Z),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),q._setup(),this._recording||q._draw()))},this._decrementPreload=function(){var Z=this._isGlobal?window:this;Z._preloadDone||typeof Z.preload!="function"||(Z._setProperty("_preloadCount",Z._preloadCount-1),Z._runIfPreloadsAreDone())},this._wrapPreload=function(Z,q){var re=this;return function(){re._incrementPreload();for(var ge=arguments.length,V=new Array(ge),j=0;j<ge;j++)V[j]=arguments[j];return re._registeredPreloadMethods[q].apply(Z,V)}},this._incrementPreload=function(){var Z=this._isGlobal?window:this;Z._preloadDone||Z._setProperty("_preloadCount",Z._preloadCount+1)},this._setup=function(){b.callRegisteredHooksFor("beforeSetup"),b.createCanvas(b._defaultCanvasSize.width,b._defaultCanvasSize.height,"p2d");var Z=b._isGlobal?window:b;if(typeof Z.preload=="function")for(var q in b._preloadMethods)Z[q]=b._preloadMethods[q][q],Z[q]&&b&&(Z[q]=Z[q].bind(b));b._millisStart=window.performance.now(),Z._preloadDone=!0,typeof Z.setup=="function"&&Z.setup();var re=document.getElementsByTagName("canvas"),ge=!0,V=!1,j=void 0;try{for(var G,K=re[Symbol.iterator]();!(ge=(G=K.next()).done);ge=!0){var ae=G.value;ae.dataset.hidden==="true"&&(ae.style.visibility="",delete ae.dataset.hidden)}}catch(Q){V=!0,j=Q}finally{try{ge||K.return==null||K.return()}finally{if(V)throw j}}b._lastTargetFrameTime=window.performance.now(),b._lastRealFrameTime=window.performance.now(),b._setupDone=!0,(b._accessibleOutputs.grid||b._accessibleOutputs.text)&&b._updateAccsOutput(),b.callRegisteredHooksFor("afterSetup")},this._draw=function(q){var q=q||window.performance.now(),re=q-b._lastTargetFrameTime,ge=1e3/b._targetFrameRate;(!b._loop||ge-5<=re)&&(b.deltaTime=q-b._lastRealFrameTime,b._setProperty("deltaTime",b.deltaTime),b._frameRate=1e3/b.deltaTime,b.redraw(),b._lastTargetFrameTime=Math.max(b._lastTargetFrameTime+ge,q),b._lastRealFrameTime=q,b._updateMouseCoords!==void 0&&(b._updateMouseCoords(),b._setProperty("movedX",0),b._setProperty("movedY",0))),b._loop&&(b._requestAnimId=window.requestAnimationFrame(b._draw))},this._setProperty=function(Z,q){b[Z]=q,b._isGlobal&&(window[Z]=q)},this.remove=function(){b._startListener&&window.removeEventListener("load",b._startListener,!1);var Z=document.getElementById(b._loadingScreenId);if(Z&&(Z.parentNode.removeChild(Z),b._incrementPreload()),b._curElement){for(var q in b._loop=!1,b._requestAnimId&&window.cancelAnimationFrame(b._requestAnimId),b._events)window.removeEventListener(q,b._events[q]);var re=!0,Z=!1,ge=void 0;try{for(var V,j=b._elements[Symbol.iterator]();!(re=(V=j.next()).done);re=!0){var G,K=V.value;for(G in K.elt&&K.elt.parentNode&&K.elt.parentNode.removeChild(K.elt),K._events)K.elt.removeEventListener(G,K._events[G])}}catch(Y){Z=!0,ge=Y}finally{try{re||j.return==null||j.return()}finally{if(Z)throw ge}}var ae=b;b._registeredMethods.remove.forEach(function(Y){Y!==void 0&&Y.call(ae)})}if(b._isGlobal){for(var Q in d.prototype)try{delete window[Q]}catch{window[Q]=void 0}for(var oe in b)if(b.hasOwnProperty(oe))try{delete window[oe]}catch{window[oe]=void 0}d.instance=null}},this._updateWindowSize(),this._registeredMethods.init.forEach(function(Z){Z!==void 0&&Z.call(this)},this),this._setupPromisePreloads();var L,R,D=this._createFriendlyGlobalFunctionBinder();if(g)g(this),d._checkForUserDefinedFunctions(this);else{for(var H in this._isGlobal=!0,d.instance=this,d.prototype)typeof d.prototype[H]=="function"?(L=H.substring(2),this._events.hasOwnProperty(L)||(Math.hasOwnProperty(H)&&Math[H]===d.prototype[H]?D(H,d.prototype[H]):D(H,d.prototype[H].bind(this)))):D(H,d.prototype[H]);for(var z in this)this.hasOwnProperty(z)&&D(z,this[z])}for(R in this._events){var B=this["_on".concat(R)];B&&(B=B.bind(this),window.addEventListener(R,B,{passive:!1}),this._events[R]=B)}function J(){b._setProperty("focused",!0)}function ee(){b._setProperty("focused",!1)}window.addEventListener("focus",J),window.addEventListener("blur",ee),this.registerMethod("remove",function(){window.removeEventListener("focus",J),window.removeEventListener("blur",ee)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var p,f,y;return p=d,(f=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=o.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(g,_){d.prototype._preloadMethods.hasOwnProperty(g)||(d.prototype._preloadMethods[g]=_)}},{key:"registerMethod",value:function(g,_){var b=this||d.prototype;b._registeredMethods.hasOwnProperty(g)||(b._registeredMethods[g]=[]),b._registeredMethods[g].push(_)}},{key:"unregisterMethod",value:function(g,_){var b=this||d.prototype;if(b._registeredMethods.hasOwnProperty(g)){for(var w=b._registeredMethods[g],T=[],O=0;O<w.length;O++)w[O]===_&&T.push(O);for(var A=T.length-1;0<=A;A--)w.splice(T[A],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},_=g.globalObject||window;return g.log||console.log.bind(console),function(b,w){d.disableFriendlyErrors,_[b]=w}}}])&&m(p.prototype,f),y&&m(p,y),d}();for(v in c.instance=null,c.disableFriendlyErrors=!1,o)c.prototype[v]=o[v];c.VERSION=o.VERSION,c.prototype._preloadMethods={loadJSON:c.prototype,loadImage:c.prototype,loadStrings:c.prototype,loadXML:c.prototype,loadBytes:c.prototype,loadTable:c.prototype,loadFont:c.prototype,loadModel:c.prototype,loadShader:c.prototype},c.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},c.prototype._registeredPreloadMethods={},l.default=c},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(t,a,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=(t=t("./main"))&&t.__esModule?t:{default:t};function s(o,u){for(var m=0;m<u.length;m++){var v=u[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(o,v.key,v)}}n.default.Element=function(){function o(c,d){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.elt=c,this._pInst=this._pixelsState=d,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var u,m,v;return u=o,v=[{key:"_adjustListener",value:function(c,d,p){return d===!1?n.default.Element._detachListener(c,p):n.default.Element._attachListener(c,d,p),this}},{key:"_attachListener",value:function(c,d,p){p._events[c]&&n.default.Element._detachListener(c,p),d=d.bind(p),p.elt.addEventListener(c,d,!1),p._events[c]=d}},{key:"_detachListener",value:function(c,d){var p=d._events[c];d.elt.removeEventListener(c,p,!1),d._events[c]=null}}],(m=[{key:"parent",value:function(c){return c===void 0?this.elt.parentNode:(typeof c=="string"?(c[0]==="#"&&(c=c.substring(1)),c=document.getElementById(c)):c instanceof n.default.Element&&(c=c.elt),c.appendChild(this.elt),this)}},{key:"id",value:function(c){return c===void 0?this.elt.id:(this.elt.id=c,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(c){return c===void 0?this.elt.className:(this.elt.className=c,this)}},{key:"mousePressed",value:function(c){return n.default.Element._adjustListener("mousedown",function(d){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(d),c.call(this,d)},this),this}},{key:"doubleClicked",value:function(c){return n.default.Element._adjustListener("dblclick",c,this),this}},{key:"mouseWheel",value:function(c){return n.default.Element._adjustListener("wheel",c,this),this}},{key:"mouseReleased",value:function(c){return n.default.Element._adjustListener("mouseup",c,this),this}},{key:"mouseClicked",value:function(c){return n.default.Element._adjustListener("click",c,this),this}},{key:"mouseMoved",value:function(c){return n.default.Element._adjustListener("mousemove",c,this),this}},{key:"mouseOver",value:function(c){return n.default.Element._adjustListener("mouseover",c,this),this}},{key:"mouseOut",value:function(c){return n.default.Element._adjustListener("mouseout",c,this),this}},{key:"touchStarted",value:function(c){return n.default.Element._adjustListener("touchstart",c,this),this}},{key:"touchMoved",value:function(c){return n.default.Element._adjustListener("touchmove",c,this),this}},{key:"touchEnded",value:function(c){return n.default.Element._adjustListener("touchend",c,this),this}},{key:"dragOver",value:function(c){return n.default.Element._adjustListener("dragover",c,this),this}},{key:"dragLeave",value:function(c){return n.default.Element._adjustListener("dragleave",c,this),this}},{key:"_setProperty",value:function(c,d){this[c]=d}}])&&s(u.prototype,m),v&&s(u,v),o}(),t=n.default.Element,l.default=t},{"./main":283}],285:[function(t,a,l){"use strict";function n(_){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(_)}function s(_){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(b){return n(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":n(b)})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(g=t("./main"))&&g.__esModule?g:{default:g},u=function(_){if(_&&_.__esModule)return _;if(_===null||s(_)!=="object"&&typeof _!="function")return{default:_};var b=m();if(b&&b.has(_))return b.get(_);var w,T={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in _){var A;Object.prototype.hasOwnProperty.call(_,w)&&((A=O?Object.getOwnPropertyDescriptor(_,w):null)&&(A.get||A.set)?Object.defineProperty(T,w,A):T[w]=_[w])}return T.default=_,b&&b.set(_,T),T}(t("./constants"));function m(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,m=function(){return _},_)}function v(_,b){for(var w=0;w<b.length;w++){var T=b[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}function c(_,b){return(c=Object.setPrototypeOf||function(w,T){return w.__proto__=T,w})(_,b)}function d(_){return function(){var b,w=y(_);return p(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(b=y(this).constructor,Reflect.construct(w,arguments,b)):w.apply(this,arguments))}}function p(_,b){return!b||s(b)!=="object"&&typeof b!="function"?f(_):b}function f(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function y(_){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(_)}o.default.Graphics=function(_){var b=O;if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),_&&c(b,_);var w,T=d(O);function O(A,E,z,I,L){var R;if(!(this instanceof O))throw new TypeError("Cannot call a class as a function");H=L||document.createElement("canvas"),(R=T.call(this,H,I)).canvas=H;var D,H=z||u.P2D,z=I._userNode||document.body;for(D in L||z.appendChild(R.canvas),o.default.prototype)R[D]||(typeof o.default.prototype[D]=="function"?R[D]=o.default.prototype[D].bind(f(R)):R[D]=o.default.prototype[D]);return o.default.prototype._initializeInstanceVariables.apply(f(R)),R.width=A,R.height=E,R._pixelDensity=I._pixelDensity,H===u.WEBGL?(R._renderer=new o.default.RendererGL(R.canvas,f(R),!1),A=(L=R._renderer._adjustDimensions(A,E)).adjustedWidth,E=L.adjustedHeight):R._renderer=new o.default.Renderer2D(R.canvas,f(R),!1),I._elements.push(f(R)),Object.defineProperty(f(R),"deltaTime",{get:function(){return this._pInst.deltaTime}}),R._renderer.resize(A,E),R._renderer._applyDefaults(),p(R,f(R))}return b=O,(_=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var A,E=this._pInst._elements.indexOf(this);for(A in E!==-1&&this._pInst._elements.splice(E,1),this._events)this.elt.removeEventListener(A,this._events[A]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:"createFramebuffer",value:function(A){return new o.default.Framebuffer(this,A)}}])&&v(b.prototype,_),w&&v(b,w),O}(o.default.Element);var g=o.default.Graphics;l.default=g},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(t,a,l){"use strict";function n(_){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(y=t("./main"))&&y.__esModule?y:{default:y},o=function(_){if(_&&_.__esModule)return _;if(_===null||m(_)!=="object"&&typeof _!="function")return{default:_};var b=u();if(b&&b.has(_))return b.get(_);var w,T={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in _){var A;Object.prototype.hasOwnProperty.call(_,w)&&((A=O?Object.getOwnPropertyDescriptor(_,w):null)&&(A.get||A.set)?Object.defineProperty(T,w,A):T[w]=_[w])}return T.default=_,b&&b.set(_,T),T}(t("../core/constants"));function u(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,u=function(){return _},_)}function m(_){return(m=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(b){return n(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":n(b)})(_)}function v(_,b){for(var w=0;w<b.length;w++){var T=b[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}function c(_,b){return(c=Object.setPrototypeOf||function(w,T){return w.__proto__=T,w})(_,b)}function d(_){return function(){var b,w,T=f(_);return b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(b=f(this).constructor,Reflect.construct(T,arguments,b)):T.apply(this,arguments),T=this,!(w=b)||m(w)!=="object"&&typeof w!="function"?p(T):w}}function p(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function f(_){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(_)}var y=function(_){var b=O;if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),_&&c(b,_);var w,T=d(O);function O(A,E,C){var I;if(this instanceof O)return(I=T.call(this,A,E)).canvas=A,I._pixelsState=E,C?(I._isMainCanvas=!0,I._pInst._setProperty("_curElement",p(I)),I._pInst._setProperty("canvas",I.canvas),I._pInst._setProperty("width",I.width),I._pInst._setProperty("height",I.height)):(I.canvas.style.display="none",I._styles=[]),I._clipping=!1,I._clipInvert=!1,I._textSize=12,I._textLeading=15,I._textFont="sans-serif",I._textStyle=o.NORMAL,I._textAscent=null,I._textDescent=null,I._textAlign=o.LEFT,I._textBaseline=o.BASELINE,I._textWrap=o.WORD,I._rectMode=o.CORNER,I._ellipseMode=o.CENTER,I._curveTightness=0,I._imageMode=o.CORNER,I._tint=null,I._doStroke=!0,I._doFill=!0,I._strokeSet=!1,I._fillSet=!1,I._leadingSet=!1,I._pushPopDepth=0,I;throw new TypeError("Cannot call a class as a function")}return b=O,(_=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(A){this._pushPopDepth--,A.properties&&Object.assign(this,A.properties)}},{key:"beginClip",value:function(){var A=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=A.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(A,E){this.width=A,this.height=E,this.elt.width=A*this._pInst._pixelDensity,this.elt.height=E*this._pInst._pixelDensity,this.elt.style.width="".concat(A,"px"),this.elt.style.height="".concat(E,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(A,E,C,I){var L=this._pixelsState,R=L._pixelDensity,D=this.canvas;if(A===void 0&&E===void 0)A=E=0,C=L.width,I=L.height;else if(A*=R,E*=R,C===void 0&&I===void 0)return A<0||E<0||A>=D.width||E>=D.height?[0,0,0,0]:this._getPixel(A,E);return L=new s.default.Image(C*R,I*R),L.pixelDensity(R),L.canvas.getContext("2d").drawImage(D,A,E,C*R,I*R,0,0,C*R,I*R),L}},{key:"textLeading",value:function(A){return typeof A=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",A),this._pInst):this._textLeading}},{key:"textStyle",value:function(A){return A?(A!==o.NORMAL&&A!==o.ITALIC&&A!==o.BOLD&&A!==o.BOLDITALIC||this._setProperty("_textStyle",A),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(A,E){return A!==void 0?(this._setProperty("_textAlign",A),E!==void 0&&this._setProperty("_textBaseline",E),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(A){return this._setProperty("_textWrap",A),this._textWrap}},{key:"text",value:function(A,E,C,I,L){var R,D,H,z,B=this._pInst,J=this._textWrap,ee=Number.MAX_VALUE,Z=C;if((this._doFill||this._doStroke)&&A!==void 0){if(R=(A=(A=typeof A!="string"?A.toString():A).replace(/(\t)/g,"  ")).split(`
`),I!==void 0){switch(this._rectMode===o.CENTER&&(E-=I/2),this._textAlign){case o.CENTER:E+=I/2;break;case o.RIGHT:E+=I}if(L!==void 0){this._rectMode===o.CENTER&&(C-=L/2,Z-=L/2);var A=C,q=B.textAscent();switch(this._textBaseline){case o.BOTTOM:z=C+L,C=Math.max(z,C),Z+=q;break;case o.CENTER:z=C+L/2,C=Math.max(z,C),Z+=q/2}ee=C+L-q,this._textBaseline===o.CENTER&&(ee=A+L-q/2)}else this._textBaseline!==o.BOTTOM&&this._textBaseline!==o.CENTER||(Z=C-(A=B.textSize()*this._textLeading)/2,ee=C+A/2);if(J===o.WORD){for(var re=[],ge=0;ge<R.length;ge++){for(var V="",j=R[ge].split(" "),G=0;G<j.length;G++)D="".concat(V+j[G])+" ",V=I<(H=this.textWidth(D))&&0<V.length?(re.push(V),"".concat(j[G])+" "):D;re.push(V)}var K=0;this._textBaseline===o.CENTER?K=(re.length-1)*B.textLeading()/2:this._textBaseline===o.BOTTOM&&(K=(re.length-1)*B.textLeading());for(var ae=0;ae<R.length;ae++){V="",j=R[ae].split(" ");for(var Q=0;Q<j.length;Q++)D="".concat(V+j[Q])+" ",I<(H=this.textWidth(D))&&0<V.length?(this._renderText(B,V.trim(),E,C-K,ee,Z),V="".concat(j[Q])+" ",C+=B.textLeading()):V=D;this._renderText(B,V.trim(),E,C-K,ee,Z),C+=B.textLeading()}}else{for(var oe=[],W=0;W<R.length;W++)for(var Y=R[W].split(V=""),ne=0;ne<Y.length;ne++)D="".concat(V+Y[ne]),(H=this.textWidth(D))<=I?V+=Y[ne]:I<H&&0<V.length&&(oe.push(V),V="".concat(Y[ne]));oe.push(V);var ue=0;this._textBaseline===o.CENTER?ue=(oe.length-1)*B.textLeading()/2:this._textBaseline===o.BOTTOM&&(ue=(oe.length-1)*B.textLeading());for(var se=0;se<R.length;se++){Y=R[se].split(V="");for(var pe=0;pe<Y.length;pe++)D="".concat(V+Y[pe]),(H=this.textWidth(D))<=I?V+=Y[pe]:I<H&&0<V.length&&(this._renderText(B,V.trim(),E,C-ue,ee,Z),C+=B.textLeading(),V="".concat(Y[pe]))}this._renderText(B,V.trim(),E,C-ue,ee,Z),C+=B.textLeading()}}else{var ve=0;this._textBaseline===o.CENTER?ve=(R.length-1)*B.textLeading()/2:this._textBaseline===o.BOTTOM&&(ve=(R.length-1)*B.textLeading());for(var fe=0;fe<R.length;fe++)this._renderText(B,R[fe],E,C-ve,ee,Z-ve),C+=B.textLeading()}return B}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var A=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return m(A)==="object"&&A.font&&A.font.supported}},{key:"_updateTextMetrics",value:function(){var A,E,C,I,L,R;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((A=document.createElement("span")).style.fontFamily=this._textFont,A.style.fontSize="".concat(this._textSize,"px"),A.innerHTML="ABCjgq|",(R=document.createElement("div")).style.display="inline-block",R.style.width="1px",R.style.height="0px",I=((E=document.createElement("div")).appendChild(A),E.appendChild(R),E.style.height="0px",E.style.overflow="hidden",document.body.appendChild(E),R.style.verticalAlign="baseline",g(R)),L=g(A),C=I[1]-L[1],I=(R.style.verticalAlign="bottom",g(R)),L=g(A),R=I[1]-L[1]-C,document.body.removeChild(E),this._setProperty("_textAscent",C),this._setProperty("_textDescent",R)),this}}])&&v(b.prototype,_),w&&v(b,w),O}(s.default.Element);function g(_){var b=0,w=0;if(_.offsetParent)for(;b+=_.offsetLeft,w+=_.offsetTop,_=_.offsetParent;);else b+=_.offsetLeft,w+=_.offsetTop;return[b,w]}y.prototype.textSize=function(_){return typeof _=="number"?(this._setProperty("_textSize",_),this._leadingSet||this._setProperty("_textLeading",_*o._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},s.default.Renderer=y,t=s.default.Renderer,l.default=t},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(_,a,l){"use strict";function n(b){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(b)}function s(b){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(w){return n(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":n(w)})(b)}_("core-js/modules/es.symbol"),_("core-js/modules/es.symbol.description"),_("core-js/modules/es.symbol.iterator"),_("core-js/modules/es.array.concat"),_("core-js/modules/es.array.fill"),_("core-js/modules/es.array.for-each"),_("core-js/modules/es.array.iterator"),_("core-js/modules/es.array.join"),_("core-js/modules/es.array.slice"),_("core-js/modules/es.function.name"),_("core-js/modules/es.number.to-fixed"),_("core-js/modules/es.object.get-own-property-descriptor"),_("core-js/modules/es.object.get-prototype-of"),_("core-js/modules/es.object.to-string"),_("core-js/modules/es.reflect.construct"),_("core-js/modules/es.reflect.get"),_("core-js/modules/es.regexp.exec"),_("core-js/modules/es.regexp.to-string"),_("core-js/modules/es.string.iterator"),_("core-js/modules/es.weak-map"),_("core-js/modules/web.dom-collections.iterator"),_("core-js/modules/es.array.concat"),_("core-js/modules/es.array.fill"),_("core-js/modules/es.array.for-each"),_("core-js/modules/es.array.join"),_("core-js/modules/es.array.slice"),_("core-js/modules/es.function.name"),_("core-js/modules/es.number.to-fixed"),_("core-js/modules/es.object.get-prototype-of"),_("core-js/modules/es.object.to-string"),_("core-js/modules/es.regexp.exec"),_("core-js/modules/es.regexp.to-string"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(g=_("./main"))&&g.__esModule?g:{default:g},u=function(b){if(b&&b.__esModule)return b;if(b===null||s(b)!=="object"&&typeof b!="function")return{default:b};var w=m();if(w&&w.has(b))return w.get(b);var T,O={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in b){var E;Object.prototype.hasOwnProperty.call(b,T)&&((E=A?Object.getOwnPropertyDescriptor(b,T):null)&&(E.get||E.set)?Object.defineProperty(O,T,E):O[T]=b[T])}return O.default=b,w&&w.set(b,O),O}(_("./constants"));function m(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,m=function(){return b},b)}function v(b,w){for(var T=0;T<w.length;T++){var O=w[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(b,O.key,O)}}function c(b,w,T){return(c=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(C,A,E){var C=function(I,L){for(;!Object.prototype.hasOwnProperty.call(I,L)&&(I=f(I))!==null;);return I}(C,A);if(C)return(C=Object.getOwnPropertyDescriptor(C,A)).get?C.get.call(E):C.value})(b,w,T||b)}function d(b,w){return(d=Object.setPrototypeOf||function(T,O){return T.__proto__=O,T})(b,w)}function p(b){return function(){var w,T=f(b),T=(w=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(w=f(this).constructor,Reflect.construct(T,arguments,w)):T.apply(this,arguments),this);if(!w||s(w)!=="object"&&typeof w!="function"){if(T!==void 0)return T;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return w}}function f(b){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)})(b)}_("./p5.Renderer");var y="rgba(0,0,0,0)",g=function(b){var w=A;if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),b&&d(w,b);var T,O=p(A);function A(E,C,I){if(this instanceof A)return(E=O.call(this,E,C,I)).drawingContext=E.canvas.getContext("2d"),E._pInst._setProperty("drawingContext",E.drawingContext),E;throw new TypeError("Cannot call a class as a function")}return w=A,(b=[{key:"getFilterGraphicsLayer",value:function(){var E;return this.filterGraphicsLayer||(E=(this._pInst instanceof o.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new o.default.Graphics(this.width,this.height,u.WEBGL,E)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=u.BLEND,this._setFill(u._DEFAULT_FILL),this._setStroke(u._DEFAULT_STROKE),this.drawingContext.lineCap=u.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(E,C){c(f(A.prototype),"resize",this).call(this,E,C),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var E,C;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof o.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(E=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(E,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(E=this._getFill(),C=(C=this._pInst).color.apply(C,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(C.levels),C=C.toString(),this._setFill(C),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(E),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var E=(E=this._pInst).color.apply(E,arguments);this._setFill(E.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",E.levels)}},{key:"stroke",value:function(){var E=(E=this._pInst).color.apply(E,arguments);this._setStroke(E.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",E.levels)}},{key:"erase",value:function(E,C){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,E=this._pInst.color(255,E).toString(),this.drawingContext.fillStyle=E,this._cachedStrokeStyle=this.drawingContext.strokeStyle,E=this._pInst.color(255,C).toString(),this.drawingContext.strokeStyle=E,C=this._cachedBlendMode,this.blendMode(u.REMOVE),this._cachedBlendMode=C,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},E=(c(f(A.prototype),"beginClip",this).call(this,E),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),E=(this.drawingContext.fillStyle=E,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),E=(this.drawingContext.strokeStyle=E,this._cachedBlendMode);this.blendMode(u.BLEND),this._cachedBlendMode=E,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),c(f(A.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(E,C,I,L,R,D,H,z,B){E.gifProperties&&E._animateGif(this._pInst);try{o.default.MediaElement&&E instanceof o.default.MediaElement&&E._ensureCanvas();var J=(J=this._tint&&E.canvas?this._getTintedImageCanvas(E):J)||E.canvas||E.elt,ee=1;E.width&&0<E.width&&(ee=J.width/E.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(J,ee*C,ee*I,ee*L,ee*R,D,H,z,B),this._isErasing&&this._pInst.erase()}catch(Z){if(Z.name!=="NS_ERROR_NOT_AVAILABLE")throw Z}}},{key:"_getTintedImageCanvas",value:function(E){if(!E.canvas)return E;E.tintCanvas||(E.tintCanvas=document.createElement("canvas")),E.tintCanvas.width!==E.canvas.width&&(E.tintCanvas.width=E.canvas.width),E.tintCanvas.height!==E.canvas.height&&(E.tintCanvas.height=E.canvas.height);var C=E.tintCanvas.getContext("2d");return C.save(),C.clearRect(0,0,E.canvas.width,E.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(C.drawImage(E.canvas,0,0),C.globalCompositeOperation="luminosity",C.drawImage(E.canvas,0,0),C.globalCompositeOperation="color",C.drawImage(E.canvas,0,0),C.globalCompositeOperation="multiply",C.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),C.fillRect(0,0,E.canvas.width,E.canvas.height),C.globalCompositeOperation="destination-in"),C.globalAlpha=this._tint[3]/255,C.drawImage(E.canvas,0,0),C.restore(),E.tintCanvas}},{key:"blendMode",value:function(E){if(E===u.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(E!==u.BLEND&&E!==u.REMOVE&&E!==u.DARKEST&&E!==u.LIGHTEST&&E!==u.DIFFERENCE&&E!==u.MULTIPLY&&E!==u.EXCLUSION&&E!==u.SCREEN&&E!==u.REPLACE&&E!==u.OVERLAY&&E!==u.HARD_LIGHT&&E!==u.SOFT_LIGHT&&E!==u.DODGE&&E!==u.BURN&&E!==u.ADD)throw new Error("Mode ".concat(E," not recognized."));this._cachedBlendMode=E,this.drawingContext.globalCompositeOperation=E}}},{key:"blend",value:function(){for(var E=this.drawingContext.globalCompositeOperation,C=arguments.length,I=new Array(C),L=0;L<C;L++)I[L]=arguments[L];var R=I[I.length-1],D=Array.prototype.slice.call(I,0,I.length-1);this.drawingContext.globalCompositeOperation=R,o.default.prototype.copy.apply(this,D),this.drawingContext.globalCompositeOperation=E}},{key:"_getPixel",value:function(E,C){return E=this.drawingContext.getImageData(E,C,1,1).data,[E[0],E[1],E[2],E[3]]}},{key:"loadPixels",value:function(){var E=this._pixelsState,C=E._pixelDensity,I=this.width*C,C=this.height*C,I=this.drawingContext.getImageData(0,0,I,C);E._setProperty("imageData",I),E._setProperty("pixels",I.data)}},{key:"set",value:function(E,C,I){E=Math.floor(E),C=Math.floor(C);var L=this._pixelsState;if(I instanceof o.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(L._pixelDensity,L._pixelDensity),this.drawingContext.clearRect(E,C,I.width,I.height),this.drawingContext.drawImage(I.canvas,E,C),this.drawingContext.restore();else{var R=0,D=0,H=0,z=0,B=4*(C*L._pixelDensity*(this.width*L._pixelDensity)+E*L._pixelDensity);if(L.imageData||L.loadPixels(),typeof I=="number")B<L.pixels.length&&(H=D=R=I,z=255);else if(Array.isArray(I)){if(I.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");B<L.pixels.length&&(R=I[0],D=I[1],H=I[2],z=I[3])}else I instanceof o.default.Color&&B<L.pixels.length&&(R=I.levels[0],D=I.levels[1],H=I.levels[2],z=I.levels[3]);for(var J=0;J<L._pixelDensity;J++)for(var ee=0;ee<L._pixelDensity;ee++)B=4*((C*L._pixelDensity+ee)*this.width*L._pixelDensity+(E*L._pixelDensity+J)),L.pixels[B]=R,L.pixels[B+1]=D,L.pixels[B+2]=H,L.pixels[B+3]=z}}},{key:"updatePixels",value:function(E,C,I,L){var R=this._pixelsState,D=R._pixelDensity;E===void 0&&C===void 0&&I===void 0&&L===void 0&&(C=E=0,I=this.width,L=this.height),E*=D,C*=D,I*=D,L*=D,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=R.imageData),this.drawingContext.putImageData(R.imageData,E,C,0,0,I,L)}},{key:"_acuteArcToBezier",value:function(E,C){var D=C/2,I=Math.cos(D),z=Math.sin(D),L=1/Math.tan(D),D=E+D,R=Math.cos(D),D=Math.sin(D),H=(4-I)/3,z=z+(I-H)*L;return{ax:Math.cos(E).toFixed(7),ay:Math.sin(E).toFixed(7),bx:(H*R+z*D).toFixed(7),by:(H*D-z*R).toFixed(7),cx:(H*R-z*D).toFixed(7),cy:(H*D+z*R).toFixed(7),dx:Math.cos(E+C).toFixed(7),dy:Math.sin(E+C).toFixed(7)}}},{key:"arc",value:function(E,C,I,L,R,D,H){var z,B=this.drawingContext,J=I/2,ee=L/2,Z=[];for(E+=J,C+=ee;1e-5<=D-R;)z=Math.min(D-R,u.HALF_PI),Z.push(this._acuteArcToBezier(R,z)),R+=z;return this._doFill&&(this._clipping||B.beginPath(),Z.forEach(function(q,re){re===0&&B.moveTo(E+q.ax*J,C+q.ay*ee),B.bezierCurveTo(E+q.bx*J,C+q.by*ee,E+q.cx*J,C+q.cy*ee,E+q.dx*J,C+q.dy*ee)}),H!==u.PIE&&H!=null||B.lineTo(E,C),B.closePath(),this._clipping||B.fill()),this._doStroke&&(this._clipping||B.beginPath(),Z.forEach(function(q,re){re===0&&B.moveTo(E+q.ax*J,C+q.ay*ee),B.bezierCurveTo(E+q.bx*J,C+q.by*ee,E+q.cx*J,C+q.cy*ee,E+q.dx*J,C+q.dy*ee)}),H===u.PIE?(B.lineTo(E,C),B.closePath()):H===u.CHORD&&B.closePath(),this._clipping||B.stroke()),this}},{key:"ellipse",value:function(z){var C=this.drawingContext,I=this._doFill,L=this._doStroke,R=parseFloat(z[0]),D=parseFloat(z[1]),H=parseFloat(z[2]),z=parseFloat(z[3]);if(I&&!L){if(this._getFill()===y)return this}else if(!I&&L&&this._getStroke()===y)return this;R+=H/2,D+=z/2,H/=2,z/=2,this._clipping||C.beginPath(),C.ellipse(R,D,H,z,0,0,2*Math.PI),!this._clipping&&I&&C.fill(),!this._clipping&&L&&C.stroke()}},{key:"line",value:function(E,C,I,L){var R=this.drawingContext;return this._doStroke&&this._getStroke()!==y&&(this._clipping||R.beginPath(),R.moveTo(E,C),R.lineTo(I,L),R.stroke()),this}},{key:"point",value:function(E,C){var I,L,R=this.drawingContext;return!this._doStroke||this._getStroke()===y?this:(I=this._getStroke(),L=this._getFill(),this._clipping||this._setFill(I),this._clipping||R.beginPath(),R.arc(E,C,R.lineWidth/2,0,u.TWO_PI,!1),void(this._clipping||(R.fill(),this._setFill(L))))}},{key:"quad",value:function(E,C,I,L,R,D,H,z){var B=this.drawingContext,J=this._doFill,ee=this._doStroke;if(J&&!ee){if(this._getFill()===y)return this}else if(!J&&ee&&this._getStroke()===y)return this;return this._clipping||B.beginPath(),B.moveTo(E,C),B.lineTo(I,L),B.lineTo(R,D),B.lineTo(H,z),B.closePath(),!this._clipping&&J&&B.fill(),!this._clipping&&ee&&B.stroke(),this}},{key:"rect",value:function(ee){var C,I,L=ee[0],R=ee[1],D=ee[2],H=ee[3],z=ee[4],B=ee[5],J=ee[6],ee=ee[7],Z=this.drawingContext,q=this._doFill,re=this._doStroke;if(q&&!re){if(this._getFill()===y)return this}else if(!q&&re&&this._getStroke()===y)return this;return this._clipping||Z.beginPath(),z===void 0?Z.rect(L,R,D,H):(B===void 0&&(B=z),J===void 0&&(J=B),ee===void 0&&(ee=J),re=(q=Math.abs(D))/2,I=(C=Math.abs(H))/2,C<2*(z=q<2*z?re:z)&&(z=I),C<2*(B=q<2*B?re:B)&&(B=I),C<2*(J=q<2*J?re:J)&&(J=I),C<2*(ee=q<2*ee?re:ee)&&(ee=I),this._clipping||Z.beginPath(),Z.moveTo(L+z,R),Z.arcTo(L+D,R,L+D,R+H,B),Z.arcTo(L+D,R+H,L,R+H,J),Z.arcTo(L,R+H,L,R,ee),Z.arcTo(L,R,L+D,R,z),Z.closePath()),!this._clipping&&this._doFill&&Z.fill(),!this._clipping&&this._doStroke&&Z.stroke(),this}},{key:"triangle",value:function(J){var C=this.drawingContext,I=this._doFill,L=this._doStroke,R=J[0],D=J[1],H=J[2],z=J[3],B=J[4],J=J[5];if(I&&!L){if(this._getFill()===y)return this}else if(!I&&L&&this._getStroke()===y)return this;this._clipping||C.beginPath(),C.moveTo(R,D),C.lineTo(H,z),C.lineTo(B,J),C.closePath(),!this._clipping&&I&&C.fill(),!this._clipping&&L&&C.stroke()}},{key:"endShape",value:function(E,C,I,L,R,D,H){if(C.length!==0&&(this._doStroke||this._doFill)){var z,B,J,ee=E===u.CLOSE,Z=(ee&&!D&&C.push(C[0]),C.length);if(I&&H===null){if(3<Z){var q=[],re=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(C[1][0],C[1][1]),B=1;B+2<Z;B++)z=C[B],q[0]=[z[0],z[1]],q[1]=[z[0]+(re*C[B+1][0]-re*C[B-1][0])/6,z[1]+(re*C[B+1][1]-re*C[B-1][1])/6],q[2]=[C[B+1][0]+(re*C[B][0]-re*C[B+2][0])/6,C[B+1][1]+(re*C[B][1]-re*C[B+2][1])/6],q[3]=[C[B+1][0],C[B+1][1]],this.drawingContext.bezierCurveTo(q[1][0],q[1][1],q[2][0],q[2][1],q[3][0],q[3][1]);ee&&this.drawingContext.lineTo(C[B+1][0],C[B+1][1]),this._doFillStrokeClose(ee)}}else if(L&&H===null){for(this._clipping||this.drawingContext.beginPath(),B=0;B<Z;B++)C[B].isVert?C[B].moveTo?this.drawingContext.moveTo(C[B][0],C[B][1]):this.drawingContext.lineTo(C[B][0],C[B][1]):this.drawingContext.bezierCurveTo(C[B][0],C[B][1],C[B][2],C[B][3],C[B][4],C[B][5]);this._doFillStrokeClose(ee)}else if(R&&H===null){for(this._clipping||this.drawingContext.beginPath(),B=0;B<Z;B++)C[B].isVert?C[B].moveTo?this.drawingContext.moveTo(C[B][0],C[B][1]):this.drawingContext.lineTo(C[B][0],C[B][1]):this.drawingContext.quadraticCurveTo(C[B][0],C[B][1],C[B][2],C[B][3]);this._doFillStrokeClose(ee)}else if(H===u.POINTS)for(B=0;B<Z;B++)z=C[B],this._doStroke&&this._pInst.stroke(z[6]),this._pInst.point(z[0],z[1]);else if(H===u.LINES)for(B=0;B+1<Z;B+=2)z=C[B],this._doStroke&&this._pInst.stroke(C[B+1][6]),this._pInst.line(z[0],z[1],C[B+1][0],C[B+1][1]);else if(H===u.TRIANGLES)for(B=0;B+2<Z;B+=3)z=C[B],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(z[0],z[1]),this.drawingContext.lineTo(C[B+1][0],C[B+1][1]),this.drawingContext.lineTo(C[B+2][0],C[B+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(C[B+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(C[B+2][6]),this.drawingContext.stroke());else if(H===u.TRIANGLE_STRIP)for(B=0;B+1<Z;B++)z=C[B],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(C[B+1][0],C[B+1][1]),this.drawingContext.lineTo(z[0],z[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(C[B+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(C[B+1][5]),B+2<Z&&(this.drawingContext.lineTo(C[B+2][0],C[B+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(C[B+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(C[B+2][5])),this._doFillStrokeClose(ee);else if(H===u.TRIANGLE_FAN){if(2<Z){for(this._clipping||this.drawingContext.beginPath(),B=2;B<Z;B++)z=C[B],this.drawingContext.moveTo(C[0][0],C[0][1]),this.drawingContext.lineTo(C[B-1][0],C[B-1][1]),this.drawingContext.lineTo(z[0],z[1]),this.drawingContext.lineTo(C[0][0],C[0][1]),B<Z-1&&(this._doFill&&z[5]!==C[B+1][5]||this._doStroke&&z[6]!==C[B+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(z[5]),this.drawingContext.fill(),this._pInst.fill(C[B+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(z[6]),this.drawingContext.stroke(),this._pInst.stroke(C[B+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(ee)}}else if(H===u.QUADS)for(B=0;B+3<Z;B+=4){for(z=C[B],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(z[0],z[1]),J=1;J<4;J++)this.drawingContext.lineTo(C[B+J][0],C[B+J][1]);this.drawingContext.lineTo(z[0],z[1]),!this._clipping&&this._doFill&&this._pInst.fill(C[B+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(C[B+3][6]),this._doFillStrokeClose(ee)}else if(H===u.QUAD_STRIP){if(3<Z)for(B=0;B+1<Z;B+=2)z=C[B],this._clipping||this.drawingContext.beginPath(),B+3<Z?(this.drawingContext.moveTo(C[B+2][0],C[B+2][1]),this.drawingContext.lineTo(z[0],z[1]),this.drawingContext.lineTo(C[B+1][0],C[B+1][1]),this.drawingContext.lineTo(C[B+3][0],C[B+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(C[B+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(C[B+3][6])):(this.drawingContext.moveTo(z[0],z[1]),this.drawingContext.lineTo(C[B+1][0],C[B+1][1])),this._doFillStrokeClose(ee)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(C[0][0],C[0][1]),B=1;B<Z;B++)(z=C[B]).isVert&&(z.moveTo?(ee&&this.drawingContext.closePath(),this.drawingContext.moveTo(z[0],z[1])):this.drawingContext.lineTo(z[0],z[1]));this._doFillStrokeClose(ee)}D=R=L=I=!1,ee&&C.pop()}return this}},{key:"strokeCap",value:function(E){return E!==u.ROUND&&E!==u.SQUARE&&E!==u.PROJECT||(this.drawingContext.lineCap=E),this}},{key:"strokeJoin",value:function(E){return E!==u.ROUND&&E!==u.BEVEL&&E!==u.MITER||(this.drawingContext.lineJoin=E),this}},{key:"strokeWeight",value:function(E){return this.drawingContext.lineWidth=E===void 0||E===0?1e-4:E,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(E){E!==this._cachedFillStyle&&(this.drawingContext.fillStyle=E,this._cachedFillStyle=E)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(E){E!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=E,this._cachedStrokeStyle=E)}},{key:"bezier",value:function(E,C,I,L,R,D,H,z){return this._pInst.beginShape(),this._pInst.vertex(E,C),this._pInst.bezierVertex(I,L,R,D,H,z),this._pInst.endShape(),this}},{key:"curve",value:function(E,C,I,L,R,D,H,z){return this._pInst.beginShape(),this._pInst.curveVertex(E,C),this._pInst.curveVertex(I,L),this._pInst.curveVertex(R,D),this._pInst.curveVertex(H,z),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(E){E&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(E,C,I,L,R,D){this.drawingContext.transform(E,C,I,L,R,D)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(E){this.drawingContext.rotate(E)}},{key:"scale",value:function(E,C){return this.drawingContext.scale(E,C),this}},{key:"translate",value:function(E,C){return E instanceof o.default.Vector&&(C=E.y,E=E.x),this.drawingContext.translate(E,C),this}},{key:"_renderText",value:function(E,C,I,L,R,D){if(!(L<D||R<=L))return E.push(),this._isOpenType()?this._textFont._renderPath(C,I,L,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(C,I,L),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(u._DEFAULT_TEXT_FILL),this.drawingContext.fillText(C,I,L))),E.pop(),E}},{key:"textWidth",value:function(E){return this._isOpenType()?this._textFont._textWidth(E,this._textSize):this.drawingContext.measureText(E).width}},{key:"_applyTextProperties",value:function(){var E=this._pInst,C=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),C=this._textFont,this._isOpenType()&&(C=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),C||"sans-serif");return/\s/.exec(C)&&(C='"'.concat(C,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(C),this.drawingContext.textAlign=this._textAlign,this._textBaseline===u.CENTER?this.drawingContext.textBaseline=u._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,E}},{key:"push",value:function(){return this.drawingContext.save(),c(f(A.prototype),"push",this).call(this)}},{key:"pop",value:function(E){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,c(f(A.prototype),"pop",this).call(this,E)}}])&&v(w.prototype,b),T&&v(w,T),A}(o.default.Renderer),_=(g.prototype.text=function(b,w,T,C,A){C!==void 0&&this.drawingContext.textBaseline===u.BASELINE&&(E=!0,this.drawingContext.textBaseline=u.TOP);var E,C=o.default.Renderer.prototype.text.apply(this,arguments);return E&&(this.drawingContext.textBaseline=u.BASELINE),C},o.default.Renderer2D=g,o.default.Renderer2D);l.default=_},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(t,a,l){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var n=(t=t("./main"))&&t.__esModule?t:{default:t};n.default.prototype._promisePreloads=[];function s(){return{}}var o=!(n.default.prototype.registerPromisePreload=function(u){n.default.prototype._promisePreloads.push(u)});n.default.prototype._setupPromisePreloads=function(){var u=!0,m=!1,v=void 0;try{for(var c,d=this._promisePreloads[Symbol.iterator]();!(u=(c=d.next()).done);u=!0){var p=c.value,f=this,y=p.method,g=p.addCallbacks,_=p.legacyPreloadSetup,b=p.target||this,w=b[y].bind(b);if(b===n.default.prototype){if(o)continue;f=null,w=b[y]}b[y]=this._wrapPromisePreload(f,w,g),_&&(b[_.method]=this._legacyPreloadGenerator(f,_,b[y]))}}catch(T){m=!0,v=T}finally{try{u||d.return==null||d.return()}finally{if(m)throw v}}o=!0},n.default.prototype._wrapPromisePreload=function(u,m,v){var c=function(){for(var d=this,p=(this._incrementPreload(),null),f=null,y=arguments.length,g=new Array(y),_=0;_<y;_++)g[_]=arguments[_];if(v)for(var b=g.length-1;0<=b&&!f&&typeof g[b]=="function";b--)f=p,p=g.pop();var w=Promise.resolve(m.apply(this,g));return p&&w.then(p),f&&w.catch(f),w.then(function(){return d._decrementPreload()}),w};return c=u?c.bind(u):c},n.default.prototype._legacyPreloadGenerator=function(u,d,v){var c=d.createBaseObject||s,d=function(){var p=this;this._incrementPreload();for(var f=arguments.length,y=new Array(f),g=0;g<f;g++)y[g]=arguments[g];var _=c.apply(this,y);return v.apply(this,y).then(function(b){Object.assign(_,b),p._decrementPreload()}),_};return d=u?d.bind(u):d}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(t,a,l){"use strict";function n(d){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(c=t("./main"))&&c.__esModule?c:{default:c},o=function(d){if(d&&d.__esModule)return d;if(d===null||m(d)!=="object"&&typeof d!="function")return{default:d};var p=u();if(p&&p.has(d))return p.get(d);var f,y={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in d){var _;Object.prototype.hasOwnProperty.call(d,f)&&((_=g?Object.getOwnPropertyDescriptor(d,f):null)&&(_.get||_.set)?Object.defineProperty(y,f,_):y[f]=d[f])}return y.default=d,p&&p.set(d,y),y}(t("./constants"));function u(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,u=function(){return d},d)}function m(d){return(m=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(p){return n(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":n(p)})(d)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var v="defaultCanvas0",c=(s.default.prototype.createCanvas=function(d,p,f,y){var g,_,b;if(s.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(f=o.P2D,y=arguments[2]):g=f||o.P2D,y)(b=document.getElementById(v))&&b.parentNode.removeChild(b),b=y,this._defaultGraphicsCreated=!1;else{if(g===o.WEBGL)(b=document.getElementById(v))&&(b.parentNode.removeChild(b),_=this._renderer,this._elements=this._elements.filter(function(T){return T!==_})),(b=document.createElement("canvas")).id=v,b.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)b=this.canvas;else{b=y||document.createElement("canvas");for(var w=0;document.getElementById("defaultCanvas".concat(w));)w++;v="defaultCanvas".concat(w),b.id=v,b.classList.add("p5Canvas")}this._setupDone||(b.dataset.hidden=!0,b.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(f=document.createElement("main"),document.body.appendChild(f)),document.getElementsByTagName("main")[0])).appendChild(b)}return g===o.WEBGL?(this._setProperty("_renderer",new s.default.RendererGL(b,this,!0)),this._elements.push(this._renderer),d=(y=this._renderer._adjustDimensions(d,p)).adjustedWidth,p=y.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new s.default.Renderer2D(b,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(d,p),this._renderer._applyDefaults(),this._renderer},s.default.prototype.resizeCanvas=function(d,p,f){if(s.default._validateParameters("resizeCanvas",arguments),this._renderer){var y,g,_,b={};for(y in this.drawingContext){var w=this.drawingContext[y];m(w)!=="object"&&typeof w!="function"&&(b[y]=w)}for(_ in this._renderer instanceof s.default.RendererGL&&(d=(g=this._renderer._adjustDimensions(d,p)).adjustedWidth,p=g.adjustedHeight),this.width=d,this.height=p,this._renderer.resize(d,p),b)try{this.drawingContext[_]=b[_]}catch{}f||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},s.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},s.default.prototype.createGraphics=function(d,p){for(var f=arguments.length,y=new Array(2<f?f-2:0),g=2;g<f;g++)y[g-2]=arguments[g];return y[0]instanceof HTMLCanvasElement&&(y[1]=y[0],y[0]=o.P2D),s.default._validateParameters("createGraphics",arguments),new s.default.Graphics(d,p,y[0],this,y[1])},s.default.prototype.createFramebuffer=function(d){return new s.default.Framebuffer(this,d)},s.default.prototype.clearDepth=function(d){this._assert3d("clearDepth"),this._renderer.clearDepth(d)},s.default.prototype.blendMode=function(d){s.default._validateParameters("blendMode",arguments),d===o.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),d=o.BLEND),this._renderer.blendMode(d)},s.default);l.default=c},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(t,a,l){"use strict";function n(p){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function s(p){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(f){return n(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":n(f)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=c(t("../main")),u=function(p){if(p&&p.__esModule)return p;if(p===null||s(p)!=="object"&&typeof p!="function")return{default:p};var f=v();if(f&&f.has(p))return f.get(p);var y,g={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in p){var b;Object.prototype.hasOwnProperty.call(p,y)&&((b=_?Object.getOwnPropertyDescriptor(p,y):null)&&(b.get||b.set)?Object.defineProperty(g,y,b):g[y]=p[y])}return g.default=p,f&&f.set(p,g),g}(t("../constants")),m=c(t("../helpers"));function v(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,v=function(){return p},p)}function c(p){return p&&p.__esModule?p:{default:p}}function d(p){return function(f){if(Array.isArray(f)){for(var y=0,g=new Array(f.length);y<f.length;y++)g[y]=f[y];return g}}(p)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),o.default.prototype._normalizeArcAngles=function(p,f,y,g,_){var b;return p-=u.TWO_PI*Math.floor(p/u.TWO_PI),f-=u.TWO_PI*Math.floor(f/u.TWO_PI),b=Math.min(Math.abs(p-f),u.TWO_PI-Math.abs(p-f)),_&&(p=p<=u.HALF_PI?Math.atan(y/g*Math.tan(p)):p>u.HALF_PI&&p<=3*u.HALF_PI?Math.atan(y/g*Math.tan(p))+u.PI:Math.atan(y/g*Math.tan(p))+u.TWO_PI,f=f<=u.HALF_PI?Math.atan(y/g*Math.tan(f)):f>u.HALF_PI&&f<=3*u.HALF_PI?Math.atan(y/g*Math.tan(f))+u.PI:Math.atan(y/g*Math.tan(f))+u.TWO_PI),f<p&&(f+=u.TWO_PI),{start:p,stop:f,correspondToSamePoint:b<1e-5}},o.default.prototype.arc=function(p,f,y,g,_,b,w,T){return o.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&_!==b&&(_=this._toRadians(_),b=this._toRadians(b),y=Math.abs(y),g=Math.abs(g),p=m.default.modeAdjust(p,f,y,g,this._renderer._ellipseMode),(f=this._normalizeArcAngles(_,b,p.w,p.h,!0)).correspondToSamePoint?this._renderer.ellipse([p.x,p.y,p.w,p.h,T]):(this._renderer.arc(p.x,p.y,p.w,p.h,f.start,f.stop,w,T),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[p.x,p.y,p.w,p.h,f.start,f.stop,w]))),this},o.default.prototype.ellipse=function(p,f,y,g,_){return o.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},o.default.prototype.circle=function(){for(var p=arguments.length,f=new Array(p),y=0;y<p;y++)f[y]=arguments[y];o.default._validateParameters("circle",f);var g=f.slice(0,2);return g.push(f[2],f[2]),this._renderEllipse.apply(this,d(g))},o.default.prototype._renderEllipse=function(p,f,y,g,_){return(this._renderer._doStroke||this._renderer._doFill)&&(y<0&&(y=Math.abs(y)),g===void 0?g=y:g<0&&(g=Math.abs(g)),p=m.default.modeAdjust(p,f,y,g,this._renderer._ellipseMode),this._renderer.ellipse([p.x,p.y,p.w,p.h,_]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[p.x,p.y,p.w,p.h])),this},o.default.prototype.line=function(){for(var p,f=arguments.length,y=new Array(f),g=0;g<f;g++)y[g]=arguments[g];return o.default._validateParameters("line",y),this._renderer._doStroke&&(p=this._renderer).line.apply(p,y),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",y),this},o.default.prototype.point=function(){for(var p,f=arguments.length,y=new Array(f),g=0;g<f;g++)y[g]=arguments[g];return o.default._validateParameters("point",y),this._renderer._doStroke&&(y.length===1&&y[0]instanceof o.default.Vector?this._renderer.point.call(this._renderer,y[0].x,y[0].y,y[0].z):((p=this._renderer).point.apply(p,y),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",y))),this},o.default.prototype.quad=function(){for(var p,f=arguments.length,y=new Array(f),g=0;g<f;g++)y[g]=arguments[g];return o.default._validateParameters("quad",y),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&y.length<12?this._renderer.quad.call(this._renderer,y[0],y[1],0,y[2],y[3],0,y[4],y[5],0,y[6],y[7],0,y[8],y[9]):((p=this._renderer).quad.apply(p,y),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",y))),this},o.default.prototype.rect=function(){for(var p=arguments.length,f=new Array(p),y=0;y<p;y++)f[y]=arguments[y];return o.default._validateParameters("rect",f),this._renderRect.apply(this,f)},o.default.prototype.square=function(p,f,y,g,_,b,w){return o.default._validateParameters("square",arguments),this._renderRect.call(this,p,f,y,y,g,_,b,w)},o.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var p=m.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),f=[p.x,p.y,p.w,p.h],y=4;y<arguments.length;y++)f[y]=arguments[y];this._renderer.rect(f),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[p.x,p.y,p.w,p.h])}return this},o.default.prototype.triangle=function(){for(var p=arguments.length,f=new Array(p),y=0;y<p;y++)f[y]=arguments[y];return o.default._validateParameters("triangle",f),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(f),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",f),this},t=o.default,l.default=t},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(t,a,l){"use strict";function n(c){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function s(c){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(d){return n(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":n(d)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(v=t("../main"))&&v.__esModule?v:{default:v},u=function(c){if(c&&c.__esModule)return c;if(c===null||s(c)!=="object"&&typeof c!="function")return{default:c};var d=m();if(d&&d.has(c))return d.get(c);var p,f={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in c){var g;Object.prototype.hasOwnProperty.call(c,p)&&((g=y?Object.getOwnPropertyDescriptor(c,p):null)&&(g.get||g.set)?Object.defineProperty(f,p,g):f[p]=c[p])}return f.default=c,d&&d.set(c,f),f}(t("../constants"));function m(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,m=function(){return c},c)}o.default.prototype.ellipseMode=function(c){return o.default._validateParameters("ellipseMode",arguments),c!==u.CORNER&&c!==u.CORNERS&&c!==u.RADIUS&&c!==u.CENTER||(this._renderer._ellipseMode=c),this},o.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},o.default.prototype.rectMode=function(c){return o.default._validateParameters("rectMode",arguments),c!==u.CORNER&&c!==u.CORNERS&&c!==u.RADIUS&&c!==u.CENTER||(this._renderer._rectMode=c),this},o.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},o.default.prototype.strokeCap=function(c){return o.default._validateParameters("strokeCap",arguments),c!==u.ROUND&&c!==u.SQUARE&&c!==u.PROJECT||this._renderer.strokeCap(c),this},o.default.prototype.strokeJoin=function(c){return o.default._validateParameters("strokeJoin",arguments),c!==u.ROUND&&c!==u.BEVEL&&c!==u.MITER||this._renderer.strokeJoin(c),this},o.default.prototype.strokeWeight=function(c){return o.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(c),this};var v=o.default;l.default=v},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(t,a,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=(s=t("../main"))&&s.__esModule?s:{default:s};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),n.default.prototype.bezier=function(){for(var o,u=arguments.length,m=new Array(u),v=0;v<u;v++)m[v]=arguments[v];return n.default._validateParameters("bezier",m),(this._renderer._doStroke||this._renderer._doFill)&&(o=this._renderer).bezier.apply(o,m),this},n.default.prototype.bezierDetail=function(o){return n.default._validateParameters("bezierDetail",arguments),this._bezierDetail=o,this},n.default.prototype.bezierPoint=function(o,u,m,v,c){n.default._validateParameters("bezierPoint",arguments);var d=1-c;return Math.pow(d,3)*o+3*Math.pow(d,2)*c*u+3*d*Math.pow(c,2)*m+Math.pow(c,3)*v},n.default.prototype.bezierTangent=function(o,u,m,v,c){n.default._validateParameters("bezierTangent",arguments);var d=1-c;return 3*v*Math.pow(c,2)-3*m*Math.pow(c,2)+6*m*d*c-6*u*d*c+3*u*Math.pow(d,2)-3*o*Math.pow(d,2)},n.default.prototype.curve=function(){for(var o,u=arguments.length,m=new Array(u),v=0;v<u;v++)m[v]=arguments[v];return n.default._validateParameters("curve",m),this._renderer._doStroke&&(o=this._renderer).curve.apply(o,m),this},n.default.prototype.curveDetail=function(o){return n.default._validateParameters("curveDetail",arguments),this._curveDetail=o<3?3:o,this},n.default.prototype.curveTightness=function(o){return n.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=o,this},n.default.prototype.curvePoint=function(o,u,m,v,c){n.default._validateParameters("curvePoint",arguments);var d=this._renderer._curveTightness,p=c*c*c,f=c*c;return o*((d-1)/2*p+(1-d)*f+(d-1)/2*c)+u*((d+3)/2*p+(-5-d)/2*f+1)+m*((-3-d)/2*p+(d+2)*f+(1-d)/2*c)+v*((1-d)/2*p+(d-1)/2*f)},n.default.prototype.curveTangent=function(o,u,m,v,f){n.default._validateParameters("curveTangent",arguments);var d=this._renderer._curveTightness,p=f*f*3,f=2*f;return o*((d-1)/2*p+(1-d)*f+(d-1)/2)+u*((d+3)/2*p+(-5-d)/2*f)+m*((-3-d)/2*p+(d+2)*f+(1-d)/2)+v*((1-d)/2*p+(d-1)/2*f)};var s=n.default;l.default=s},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(t,a,l){"use strict";function n(w){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(w)}function s(w){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(T){return n(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":n(T)})(w)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(b=t("../main"))&&b.__esModule?b:{default:b},u=function(w){if(w&&w.__esModule)return w;if(w===null||s(w)!=="object"&&typeof w!="function")return{default:w};var T=m();if(T&&T.has(w))return T.get(w);var O,A={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(O in w){var C;Object.prototype.hasOwnProperty.call(w,O)&&((C=E?Object.getOwnPropertyDescriptor(w,O):null)&&(C.get||C.set)?Object.defineProperty(A,O,C):A[O]=w[O])}return A.default=w,T&&T.set(w,A),A}(t("../constants"));function m(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,m=function(){return w},w)}var v=null,c=[],d=[],p=!1,f=!1,y=!1,g=!1,_=!0,b=(o.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(d=[],g=!0),this},o.default.prototype.beginShape=function(w){var T;return o.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(T=this._renderer).beginShape.apply(T,arguments):(v=w===u.POINTS||w===u.LINES||w===u.TRIANGLES||w===u.TRIANGLE_FAN||w===u.TRIANGLE_STRIP||w===u.QUADS||w===u.QUAD_STRIP?w:null,c=[],d=[]),this},o.default.prototype.bezierVertex=function(){for(var w,T=arguments.length,O=new Array(T),A=0;A<T;A++)O[A]=arguments[A];if(o.default._validateParameters("bezierVertex",O),this._renderer.isP3D)(w=this._renderer).bezierVertex.apply(w,O);else if(c.length===0)o.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{p=!0;for(var E=[],C=0;C<O.length;C++)E[C]=O[C];E.isVert=!1,(g?d:c).push(E)}return this},o.default.prototype.curveVertex=function(){for(var w,T=arguments.length,O=new Array(T),A=0;A<T;A++)O[A]=arguments[A];return o.default._validateParameters("curveVertex",O),this._renderer.isP3D?(w=this._renderer).curveVertex.apply(w,O):(f=!0,this.vertex(O[0],O[1])),this},o.default.prototype.endContour=function(){if(!this._renderer.isP3D){var w=d[0].slice();w.isVert=d[0].isVert,w.moveTo=!1,d.push(w),_&&(c.push(c[0]),_=!1);for(var T=0;T<d.length;T++)c.push(d[T])}return this},o.default.prototype.endShape=function(w){var T=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(o.default._validateParameters("endShape",arguments),T<1&&(console.log("\u{1F338} p5.js says: You can not have less than one instance"),T=1),this._renderer.isP3D)this._renderer.endShape(w,f,p,y,g,v,T);else{if(T!==1&&console.log("\u{1F338} p5.js says: Instancing is only supported in WebGL2 mode"),c.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;T=w===u.CLOSE,T&&!g&&c.push(c[0]),this._renderer.endShape(w,c,f,p,y,g,v),_=!(g=y=p=f=!1),T&&c.pop()}return this},o.default.prototype.quadraticVertex=function(){for(var w,T=arguments.length,O=new Array(T),A=0;A<T;A++)O[A]=arguments[A];if(o.default._validateParameters("quadraticVertex",O),this._renderer.isP3D)(w=this._renderer).quadraticVertex.apply(w,O);else{if(this._contourInited)return(w={}).x=O[0],w.y=O[1],w.x3=O[2],w.y3=O[3],w.type=u.QUADRATIC,this._contourVertices.push(w),this;if(0<c.length){y=!0;for(var E=[],C=0;C<O.length;C++)E[C]=O[C];E.isVert=!1,(g?d:c).push(E)}else o.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},o.default.prototype.vertex=function(w,T,O,A,E){var C;return this._renderer.isP3D?(C=this._renderer).vertex.apply(C,arguments):((C=[]).isVert=!0,C[0]=w,C[1]=T,C[2]=0,C[3]=0,C[4]=0,C[5]=this._renderer._getFill(),C[6]=this._renderer._getStroke(),O&&(C.moveTo=O),(g?(d.length===0&&(C.moveTo=!0),d):c).push(C)),this},o.default.prototype.normal=function(w,T,O){var A;return this._assert3d("normal"),o.default._validateParameters("normal",arguments),(A=this._renderer).normal.apply(A,arguments),this},o.default);l.default=b},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(t,a,l){},{}],295:[function(t,a,l){"use strict";t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.assign"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var n=this._styles.pop();n?(this._renderer.pop(n.renderer),Object.assign(this,n.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(n){if(!this._inUserDraw&&this._setupDone){var s=parseInt(n),o=((isNaN(s)||s<1)&&(s=1),this._isGlobal?window:this);if(typeof o.draw=="function"){o.setup===void 0&&o.scale(o._pixelDensity,o._pixelDensity);for(var u=0;u<s;u++){o.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),o._renderer.isP3D&&o._renderer._update(),o._setProperty("frameCount",o.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{o.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},t=t.default,l.default=t},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(t,a,l){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=(t=t("./main"))&&t.__esModule?t:{default:t};function s(o){return function(u){if(Array.isArray(u)){for(var m=0,v=new Array(u.length);m<u.length;m++)v[m]=u[m];return v}}(o)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.default.prototype.applyMatrix=function(){var o=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||o?(o=this._renderer).applyMatrix.apply(o,s(arguments.length<=0?void 0:arguments[0])):(o=this._renderer).applyMatrix.apply(o,arguments),this},n.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},n.default.prototype.rotate=function(o,u){return n.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(o),u),this},n.default.prototype.rotateX=function(o){return this._assert3d("rotateX"),n.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(o)),this},n.default.prototype.rotateY=function(o){return this._assert3d("rotateY"),n.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(o)),this},n.default.prototype.rotateZ=function(o){return this._assert3d("rotateZ"),n.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(o)),this},n.default.prototype.scale=function(o,u,m){var v;return n.default._validateParameters("scale",arguments),o instanceof n.default.Vector?(o=(v=o).x,u=v.y,m=v.z):Array.isArray(o)&&(o=(v=o)[0],u=v[1],m=v[2]||1),isNaN(u)?u=m=o:isNaN(m)&&(m=1),this._renderer.scale(o,u,m),this},n.default.prototype.shearX=function(o){return n.default._validateParameters("shearX",arguments),o=this._toRadians(o),this._renderer.applyMatrix(1,0,Math.tan(o),1,0,0),this},n.default.prototype.shearY=function(o){return n.default._validateParameters("shearY",arguments),o=this._toRadians(o),this._renderer.applyMatrix(1,Math.tan(o),0,1,0,0),this},n.default.prototype.translate=function(o,u,m){return n.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(o,u,m):this._renderer.translate(o,u),this},t=n.default,l.default=t},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(t,a,l){"use strict";function n(m){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator");var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(m){return function(v){if(Array.isArray(v)){for(var c=0,d=new Array(v.length);c<v.length;c++)d[c]=v[c];return d}}(m)||function(v){if(Symbol.iterator in Object(v)||Object.prototype.toString.call(v)==="[object Arguments]")return Array.from(v)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(m){return(u=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(v){return n(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":n(v)})(m)}s.default.prototype.storeItem=function(m,v){typeof m!="string"&&console.log("The argument that you passed to storeItem() - ".concat(m," is not a string.")),m.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(m," must not end with 'p5TypeID'.")),v===void 0&&console.log("You cannot store undefined variables using storeItem().");var c=u(v);switch(c){case"number":case"boolean":v=v.toString();break;case"object":v instanceof s.default.Color?c="p5.Color":v instanceof s.default.Vector&&(c="p5.Vector",v=[v.x,v.y,v.z]),v=JSON.stringify(v)}localStorage.setItem(m,v),m="".concat(m,"p5TypeID"),localStorage.setItem(m,c)},s.default.prototype.getItem=function(m){var v=localStorage.getItem(m),c=localStorage.getItem("".concat(m,"p5TypeID"));if(c===void 0)console.log("Unable to determine type of item stored under ".concat(m,"in local storage. Did you save the item with something other than setItem()?"));else if(v!==null)switch(c){case"number":v=parseFloat(v);break;case"boolean":v=v==="true";break;case"object":v=JSON.parse(v);break;case"p5.Color":v=JSON.parse(v),v=this.color.apply(this,o(v.levels));break;case"p5.Vector":v=JSON.parse(v),v=this.createVector.apply(this,o(v))}return v},s.default.prototype.clearStorage=function(){var m=this;Object.keys(localStorage).forEach(function(v){v.endsWith("p5TypeID")&&m.removeItem(v.replace("p5TypeID",""))})},s.default.prototype.removeItem=function(m){typeof m!="string"&&console.log("The argument that you passed to removeItem() - ".concat(m," is not a string.")),localStorage.removeItem(m),localStorage.removeItem("".concat(m,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(t,a,l){"use strict";function n(y){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(y)}function s(y){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(g){return n(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":n(g)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),g&&m(y,g)}function m(y,g){return(m=Object.setPrototypeOf||function(_,b){return _.__proto__=b,_})(y,g)}function v(y){return function(){var g,_=c(y),_=(g=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(g=c(this).constructor,Reflect.construct(_,arguments,g)):_.apply(this,arguments),this);if(!g||s(g)!=="object"&&typeof g!="function"){if(_!==void 0)return _;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return g}}function c(y){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(y)}function d(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function p(y,g){for(var _=0;_<g.length;_++){var b=g[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}function f(y,g,_){g&&p(y.prototype,g),_&&p(y,_)}o.default.prototype.createStringDict=function(y,g){return o.default._validateParameters("createStringDict",arguments),new o.default.StringDict(y,g)},o.default.prototype.createNumberDict=function(y,g){return o.default._validateParameters("createNumberDict",arguments),new o.default.NumberDict(y,g)},o.default.TypedDict=function(){function y(g,_){return d(this,y),g instanceof Object?this.data=g:(this.data={},this.data[g]=_),this}return f(y,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(g){return this.data.hasOwnProperty(g)}},{key:"get",value:function(g){if(this.data.hasOwnProperty(g))return this.data[g];console.log("".concat(g," does not exist in this Dictionary"))}},{key:"set",value:function(g,_){this._validate(_)?this.data[g]=_:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(g){for(var _ in g)this.set(_,g[_])}},{key:"create",value:function(g,_){g instanceof Object&&_===void 0?this._addObj(g):g!==void 0?this.set(g,_):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(g){if(!this.data.hasOwnProperty(g))throw new Error("".concat(g," does not exist in this Dictionary"));delete this.data[g]}},{key:"print",value:function(){for(var g in this.data)console.log("key:".concat(g," value:").concat(this.data[g]))}},{key:"saveTable",value:function(g){var _,b="";for(_ in this.data)b+="".concat(_,",").concat(this.data[_],`
`);var w=new Blob([b],{type:"text/csv"});o.default.prototype.downloadFile(w,g||"mycsv","csv")}},{key:"saveJSON",value:function(g,_){o.default.prototype.saveJSON(this.data,g,_)}},{key:"_validate",value:function(g){return!0}}]),y}(),o.default.StringDict=function(){u(g,o.default.TypedDict);var y=v(g);function g(){d(this,g);for(var _=arguments.length,b=new Array(_),w=0;w<_;w++)b[w]=arguments[w];return y.call.apply(y,[this].concat(b))}return f(g,[{key:"_validate",value:function(_){return typeof _=="string"}}]),g}(),o.default.NumberDict=function(){u(g,o.default.TypedDict);var y=v(g);function g(){d(this,g);for(var _=arguments.length,b=new Array(_),w=0;w<_;w++)b[w]=arguments[w];return y.call.apply(y,[this].concat(b))}return f(g,[{key:"_validate",value:function(_){return typeof _=="number"}},{key:"add",value:function(_,b){this.data.hasOwnProperty(_)?this.data[_]+=b:console.log("The key - ".concat(_," does not exist in this dictionary."))}},{key:"sub",value:function(_,b){this.add(_,-b)}},{key:"mult",value:function(_,b){this.data.hasOwnProperty(_)?this.data[_]*=b:console.log("The key - ".concat(_," does not exist in this dictionary."))}},{key:"div",value:function(_,b){this.data.hasOwnProperty(_)?this.data[_]/=b:console.log("The key - ".concat(_," does not exist in this dictionary."))}},{key:"_valueTest",value:function(_){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var b,w=this.data[Object.keys(this.data)[0]];for(b in this.data)this.data[b]*_<w*_&&(w=this.data[b]);return w}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(_){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var b=Object.keys(this.data)[0],w=1;w<Object.keys(this.data).length;w++)Object.keys(this.data)[w]*_<b*_&&(b=Object.keys(this.data)[w]);return b}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),g}(),t=o.default.TypedDict,l.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(t,a,l){"use strict";function n(b){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(b,w){for(var T=0;T<w.length;T++){var O=w[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(b,O.key,O)}}function u(b,w,T){w&&o(b.prototype,w),T&&o(b,T)}function m(b,w){return(m=Object.setPrototypeOf||function(T,O){return T.__proto__=O,T})(b,w)}function v(b){return function(){var w,T,O=d(b);return w=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(w=d(this).constructor,Reflect.construct(O,arguments,w)):O.apply(this,arguments),O=this,!(T=w)||f(T)!=="object"&&typeof T!="function"?c(O):T}}function c(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function d(b){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)})(b)}function p(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function f(b){return(f=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(w){return n(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":n(w)})(b)}function y(b,w,T){return(w._userNode||document.body).appendChild(b),T=new(T?s.default.MediaElement:s.default.Element)(b,w),w._elements.push(T),T}function g(b,C,T,O){var A=document.createElement(C),E=(typeof(T=T||"")=="string"&&(T=[T]),!0),C=!1,I=void 0;try{for(var L,R=T[Symbol.iterator]();!(E=(L=R.next()).done);E=!0){var D=L.value,H=document.createElement("source");H.setAttribute("src",D),A.appendChild(H)}}catch(B){C=!0,I=B}finally{try{E||R.return==null||R.return()}finally{if(C)throw I}}typeof O=="function"&&A.addEventListener("canplaythrough",function B(){O(),A.removeEventListener("canplaythrough",B)});var z=y(A,b,!0);return z.loadedmetadata=!1,A.addEventListener("loadedmetadata",function(){z.width=A.videoWidth,z.height=A.videoHeight,z.elt.width===0&&(z.elt.width=A.videoWidth),z.elt.height===0&&(z.elt.height=A.videoHeight),z.presetPlaybackRate&&(z.elt.playbackRate=z.presetPlaybackRate,delete z.presetPlaybackRate),z.loadedmetadata=!0}),z}s.default.prototype.select=function(b,w){return s.default._validateParameters("select",arguments),w=this._getContainer(w).querySelector(b),w?this._wrapElement(w):null},s.default.prototype.selectAll=function(b,w){s.default._validateParameters("selectAll",arguments);var T=[],O=this._getContainer(w).querySelectorAll(b);if(O)for(var A=0;A<O.length;A++){var E=this._wrapElement(O[A]);T.push(E)}return T},s.default.prototype._getContainer=function(b){var w=document;return typeof b=="string"?w=document.querySelector(b)||document:b instanceof s.default.Element?w=b.elt:b instanceof HTMLElement&&(w=b),w},s.default.prototype._wrapElement=function(b){var w,T=Array.prototype.slice.call(b.children);return b.tagName==="INPUT"&&b.type==="checkbox"?((w=new s.default.Element(b,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},w):b.tagName==="VIDEO"||b.tagName==="AUDIO"?new s.default.MediaElement(b,this):b.tagName==="SELECT"?this.createSelect(new s.default.Element(b,this)):0<T.length&&T.every(function(O){return O.tagName==="INPUT"||O.tagName==="LABEL"})&&(b.tagName==="DIV"||b.tagName==="SPAN")?this.createRadio(new s.default.Element(b,this)):new s.default.Element(b,this)},s.default.prototype.removeElements=function(b){s.default._validateParameters("removeElements",arguments),this._elements.filter(function(w){return!(w.elt instanceof HTMLCanvasElement)}).map(function(w){return w.remove()})},s.default.Element.prototype.changed=function(b){return s.default.Element._adjustListener("change",b,this),this},s.default.Element.prototype.input=function(b){return s.default.Element._adjustListener("input",b,this),this},s.default.prototype.createDiv=function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",w=document.createElement("div");return w.innerHTML=b,y(w,this)},s.default.prototype.createP=function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",w=document.createElement("p");return w.innerHTML=b,y(w,this)},s.default.prototype.createSpan=function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",w=document.createElement("span");return w.innerHTML=b,y(w,this)},s.default.prototype.createImg=function(){s.default._validateParameters("createImg",arguments);var b,w=document.createElement("img"),T=arguments;return 1<T.length&&typeof T[1]=="string"&&(w.alt=T[1]),2<T.length&&typeof T[2]=="string"&&(w.crossOrigin=T[2]),w.src=T[0],b=y(w,this),w.addEventListener("load",function(){b.width=w.offsetWidth||w.width,b.height=w.offsetHeight||w.height;var O=T[T.length-1];typeof O=="function"&&O(b)}),b},s.default.prototype.createA=function(b,w,T){s.default._validateParameters("createA",arguments);var O=document.createElement("a");return O.href=b,O.innerHTML=w,T&&(O.target=T),y(O,this)},s.default.prototype.createSlider=function(b,w,T,O){s.default._validateParameters("createSlider",arguments);var A=document.createElement("input");return A.type="range",A.min=b,A.max=w,O===0?A.step=1e-18:O&&(A.step=O),typeof T=="number"&&(A.value=T),y(A,this)},s.default.prototype.createButton=function(b,w){s.default._validateParameters("createButton",arguments);var T=document.createElement("button");return T.innerHTML=b,w&&(T.value=w),y(T,this)},s.default.prototype.createCheckbox=function(){for(var b=arguments.length,w=new Array(b),T=0;T<b;T++)w[T]=arguments[T];s.default._validateParameters("createCheckbox",w);var O=document.createElement("div"),A=document.createElement("input"),E=(A.type="checkbox",document.createElement("label")),C=(E.appendChild(A),O.appendChild(E),y(O,this));return C.checked=function(){var I=C.elt.firstElementChild.getElementsByTagName("input")[0];if(I){if(arguments.length===0)return I.checked;I.checked=!(arguments.length<=0||!arguments[0])}return C},this.value=function(I){return C.value=I,this},w[0]&&(C.value(w[0]),(O=document.createElement("span")).innerHTML=w[0],E.appendChild(O)),w[1]&&(A.checked=!0),C},s.default.prototype.createSelect=function(){for(var b,w=arguments.length,T=new Array(w),O=0;O<w;O++)T[O]=arguments[O];s.default._validateParameters("createSelect",T);var A,E=T[0];return E instanceof s.default.Element&&E.elt instanceof HTMLSelectElement?this.elt=(b=E).elt:E instanceof HTMLSelectElement?(b=y(E,this),this.elt=E):(A=document.createElement("select"),E&&typeof E=="boolean"&&A.setAttribute("multiple","true"),b=y(A,this),this.elt=A),b.option=function(C,I){var L;if(C!==void 0){for(var R,D=0;D<this.elt.length;D+=1)if(this.elt[D].textContent===C){L=D;break}L!==void 0?I===!1?this.elt.remove(L):this.elt[L].value=I:((R=document.createElement("option")).textContent=C,R.value=I===void 0?C:I,this.elt.appendChild(R),this._pInst._elements.push(R))}},b.selected=function(C){if(C!==void 0){for(var I=0;I<this.elt.length;I+=1)this.elt[I].value.toString()===C.toString()&&(this.elt.selectedIndex=I);return this}if(this.elt.getAttribute("multiple")){var L=[],R=!0,D=!1,H=void 0;try{for(var z,B=this.elt.selectedOptions[Symbol.iterator]();!(R=(z=B.next()).done);R=!0){var J=z.value;L.push(J.value)}}catch(ee){D=!0,H=ee}finally{try{R||B.return==null||B.return()}finally{if(D)throw H}}return L}return this.elt.value},b.disable=function(C){if(typeof C=="string")for(var I=0;I<this.elt.length;I++)this.elt[I].value.toString()===C&&(this.elt[I].disabled=!0,this.elt[I].selected=!1);else this.elt.disabled=!0;return this},b.enable=function(C){if(typeof C=="string")for(var I=0;I<this.elt.length;I++)this.elt[I].value.toString()===C&&(this.elt[I].disabled=!1,this.elt[I].selected=!1);else{this.elt.disabled=!1;for(var L=0;L<this.elt.length;L++)this.elt[L].disabled=!1,this.elt[L].selected=!1}return this},b},s.default.prototype.createRadio=function(){function b(C){return C instanceof HTMLInputElement&&C.type==="radio"}function w(C){return C instanceof HTMLLabelElement}var T,O,A,E=arguments.length<=0?void 0:arguments[0];return E instanceof s.default.Element&&(E.elt instanceof HTMLDivElement||E.elt instanceof HTMLSpanElement)?(T=E,this.elt=E.elt):E instanceof HTMLDivElement||E instanceof HTMLSpanElement?(T=y(E,this),O=this.elt=E,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(A=arguments.length<=1?void 0:arguments[1])):(typeof E=="string"&&(A=E),O=document.createElement("div"),T=y(O,this),this.elt=O),T._name=A||"radioOption",T._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(C){return b(C)||w(C)&&b(C.firstElementChild)}).map(function(C){return b(C)?C:C.firstElementChild})},T.option=function(C,I){var L,R,D,H=!0,z=!1,B=void 0;try{for(var J,ee=T._getOptionsArray()[Symbol.iterator]();!(H=(J=ee.next()).done);H=!0){var Z=J.value;if(Z.value===C){L=Z;break}}}catch(q){z=!0,B=q}finally{try{H||ee.return==null||ee.return()}finally{if(z)throw B}}return L===void 0&&((L=document.createElement("input")).setAttribute("type","radio"),L.setAttribute("value",C)),L.setAttribute("name",T._name),w(L.parentElement)?R=L.parentElement:(R=document.createElement("label")).insertAdjacentElement("afterbegin",L),R.lastElementChild instanceof HTMLSpanElement?D=R.lastElementChild:(D=document.createElement("span"),L.insertAdjacentElement("afterend",D)),D.innerHTML=I===void 0?C:I,this.elt.appendChild(R),L},T.remove=function(C){var I=!0,L=!1,R=void 0;try{for(var D,H=T._getOptionsArray()[Symbol.iterator]();!(I=(D=H.next()).done);I=!0){var z=D.value;if(z.value===C)return void(w(z.parentElement)?z.parentElement:z).remove()}}catch(B){L=!0,R=B}finally{try{I||H.return==null||H.return()}finally{if(L)throw R}}},T.value=function(){var C="",I=!0,L=!1,R=void 0;try{for(var D,H=T._getOptionsArray()[Symbol.iterator]();!(I=(D=H.next()).done);I=!0){var z=D.value;if(z.checked){C=z.value;break}}}catch(B){L=!0,R=B}finally{try{I||H.return==null||H.return()}finally{if(L)throw R}}return C},T.selected=function(C){var I=null;if(C===void 0){var L=!0,R=!1,D=void 0;try{for(var H,z=T._getOptionsArray()[Symbol.iterator]();!(L=(H=z.next()).done);L=!0){var B=H.value;if(B.checked){I=B;break}}}catch(re){R=!0,D=re}finally{try{L||z.return==null||z.return()}finally{if(R)throw D}}}else{T._getOptionsArray().forEach(function(V){V.checked=!1,V.removeAttribute("checked")});var J=!0,R=!1,D=void 0;try{for(var ee,Z=T._getOptionsArray()[Symbol.iterator]();!(J=(ee=Z.next()).done);J=!0){var q=ee.value;q.value===C&&(q.setAttribute("checked",!0),q.checked=!0,I=q)}}catch(V){R=!0,D=V}finally{try{J||Z.return==null||Z.return()}finally{if(R)throw D}}}return I},T.disable=function(){var C=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],I=!0,L=!1,R=void 0;try{for(var D,H=T._getOptionsArray()[Symbol.iterator]();!(I=(D=H.next()).done);I=!0)D.value.setAttribute("disabled",C)}catch(z){L=!0,R=z}finally{try{I||H.return==null||H.return()}finally{if(L)throw R}}},T},s.default.prototype.createColorPicker=function(b){s.default._validateParameters("createColorPicker",arguments);var w=document.createElement("input");return w.type="color",b?b instanceof s.default.Color?w.value=b.toString("#rrggbb"):(s.default.prototype._colorMode="rgb",s.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},w.value=s.default.prototype.color(b).toString("#rrggbb")):w.value="#000000",(w=y(w,this)).color=function(){return b&&(b.mode&&(s.default.prototype._colorMode=b.mode),b.maxes&&(s.default.prototype._colorMaxes=b.maxes)),s.default.prototype.color(this.elt.value)},w},s.default.prototype.createInput=function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",w=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",T=(s.default._validateParameters("createInput",arguments),document.createElement("input"));return T.setAttribute("value",b),T.setAttribute("type",w),y(T,this)},s.default.prototype.createFileInput=function(b){var w,T=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(s.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(w=document.createElement("input")).setAttribute("type","file"),T&&w.setAttribute("multiple",!0),w.addEventListener("change",function(O){var A=!0,E=!1,C=void 0;try{for(var I,L=O.target.files[Symbol.iterator]();!(A=(I=L.next()).done);A=!0){var R=I.value;s.default.File._load(R,b)}}catch(D){E=!0,C=D}finally{try{A||L.return==null||L.return()}finally{if(E)throw C}}},!1),y(w,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},s.default.prototype.createVideo=function(b,w){return s.default._validateParameters("createVideo",arguments),g(this,"video",b,w)},s.default.prototype.createAudio=function(b,w){return s.default._validateParameters("createAudio",arguments),g(this,"audio",b,w)},s.default.prototype.VIDEO="video",s.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(b){var w=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return w?new Promise(function(T,O){w.call(navigator,b,T,O)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),s.default.prototype.createCapture=function(){for(var b=arguments.length,w=new Array(b),T=0;T<b;T++)w[T]=arguments[T];if(s.default._validateParameters("createCapture",w),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var O,A=!0,E=!0,C=!1,I=0,L=w;I<L.length;I++){var R=L[I];R===s.default.prototype.VIDEO?E=!1:R===s.default.prototype.AUDIO?A=!1:f(R)==="object"?(R.flipped!==void 0&&(C=R.flipped,delete R.flipped),D=Object.assign({},D,R)):typeof R=="function"&&(O=R)}var D=Object.assign({},{video:A,audio:E},D),H=document.createElement("video"),z=(H.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(D).then(function(B){try{"srcObject"in H?H.srcObject=B:H.src=window.URL.createObjectURL(B)}catch{H.src=B}}).catch(function(B){B.name==="NotFoundError"&&s.default._friendlyError("No webcam found on this device","createCapture"),B.name==="NotAllowedError"&&s.default._friendlyError("Access to the camera was denied","createCapture"),console.error(B)}),y(H,this,!0));return z.loadedmetadata=!1,H.addEventListener("loadedmetadata",function(){H.play(),H.width?(z.width=H.width,z.height=H.height,C&&(z.elt.style.transform="scaleX(-1)")):(z.width=z.elt.width=H.videoWidth,z.height=z.elt.height=H.videoHeight),z.loadedmetadata=!0,O&&O(H.srcObject)}),z.flipped=C,z},s.default.prototype.createElement=function(b,w){return s.default._validateParameters("createElement",arguments),b=document.createElement(b),w!==void 0&&(b.innerHTML=w),y(b,this)},s.default.Element.prototype.addClass=function(b){return this.elt.className?this.hasClass(b)||(this.elt.className=this.elt.className+" "+b):this.elt.className=b,this},s.default.Element.prototype.removeClass=function(b){return this.elt.classList.remove(b),this},s.default.Element.prototype.hasClass=function(b){return this.elt.classList.contains(b)},s.default.Element.prototype.toggleClass=function(b){return this.elt.classList.contains(b)?this.elt.classList.remove(b):this.elt.classList.add(b),this},s.default.Element.prototype.child=function(b){return b===void 0?this.elt.childNodes:(typeof b=="string"?(b[0]==="#"&&(b=b.substring(1)),b=document.getElementById(b)):b instanceof s.default.Element&&(b=b.elt),b instanceof HTMLElement&&this.elt.appendChild(b),this)},s.default.Element.prototype.center=function(b){var w=this.elt.style.display,T=this.elt.style.display==="none",O=this.parent().style.display==="none",A={x:this.elt.offsetLeft,y:this.elt.offsetTop},E=(T&&this.show(),O&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),C=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return b==="both"||b===void 0?this.position(E/2+this.parent().offsetLeft,C/2+this.parent().offsetTop):b==="horizontal"?this.position(E/2+this.parent().offsetLeft,A.y):b==="vertical"&&this.position(A.x,C/2+this.parent().offsetTop),this.style("display",w),T&&this.hide(),O&&this.parent().hide(),this},s.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},s.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},s.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var b="";return this.elt.style.transform&&(b=(b=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=b,this},s.default.Element.prototype._rotate=function(){var b="";return this.elt.style.transform&&(b=(b=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=b,this},s.default.Element.prototype.style=function(b,w){if((w=w instanceof s.default.Color?"rgba("+w.levels[0]+","+w.levels[1]+","+w.levels[2]+","+w.levels[3]/255+")":w)===void 0){if(b.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(b);for(var T=b.split(";"),O=0;O<T.length;O++){var A=T[O].split(":");A[0]&&A[1]&&(this.elt.style[A[0].trim()]=A[1].trim())}}else this.elt.style[b]=w,b!=="width"&&b!=="height"&&b!=="left"&&b!=="top"||(w=window.getComputedStyle(this.elt).getPropertyValue(b).replace(/[^\d.]/g,""),this[b]=Math.round(parseFloat(w,10)));return this},s.default.Element.prototype.attribute=function(b,w){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return w===void 0?this.elt.getAttribute(b):(this.elt.setAttribute(b,w),this);if(w===void 0)return this.elt.firstChild.getAttribute(b);for(var T=0;T<this.elt.childNodes.length;T++)this.elt.childNodes[T].setAttribute(b,w)},s.default.Element.prototype.removeAttribute=function(b){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var w=0;w<this.elt.childNodes.length;w++)this.elt.childNodes[w].removeAttribute(b);return this.elt.removeAttribute(b),this},s.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},s.default.Element.prototype.show=function(){return this.elt.style.display="block",this},s.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},s.default.Element.prototype.size=function(b,w){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var T=b,O=w,A=s.default.prototype.AUTO;if(T!==A||O!==A){if(T===A?T=w*this.width/this.height:O===A&&(O=b*this.height/this.width),this.elt instanceof HTMLCanvasElement){var E,C={},I=this.elt.getContext("2d");for(E in I)C[E]=I[E];for(E in this.elt.setAttribute("width",T*this._pInst._pixelDensity),this.elt.setAttribute("height",O*this._pInst._pixelDensity),this.elt.style.width=T+"px",this.elt.style.height=O+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),C)this.elt.getContext("2d")[E]=C[E]}else this.elt.style.width=T+"px",this.elt.style.height=O+"px",this.elt.width=T,this.elt.height=O;this.width=T,this.height=O,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",T),this._pInst._setProperty("height",O))}return this},s.default.Element.prototype.remove=function(){this instanceof s.default.MediaElement&&(this.stop(),(w=this.elt.srcObject)!==null&&w.getTracks().forEach(function(T){T.stop()}));var b,w=this._pInst._elements.indexOf(this);for(b in w!==-1&&this._pInst._elements.splice(w,1),this._events)this.elt.removeEventListener(b,this._events[b]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},s.default.Element.prototype.drop=function(b,w){var T;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",T=function(O){O.preventDefault()}),this.elt.addEventListener("dragleave",T)),s.default.Element._attachListener("drop",function(A){A.preventDefault(),typeof w=="function"&&w.call(this,A);var A=A.dataTransfer.files,E=!0,C=!1,I=void 0;try{for(var L,R=A[Symbol.iterator]();!(E=(L=R.next()).done);E=!0){var D=L.value;s.default.File._load(D,b)}}catch(H){C=!0,I=H}finally{try{E||R.return==null||R.return()}finally{if(C)throw I}}},this)):console.log("The File APIs are not fully supported in this browser."),this},s.default.Element.prototype.draggable=function(b){var w,T="ontouchstart"in window,O=0,A=0,E=0,C=0,I=T?"touchend":"mouseup",L=T?"touchmove":"mousemove";function R(H){var z;H=H||window.event,C=T?(z=H.changedTouches,O=E-parseInt(z[0].clientX),A=C-parseInt(z[0].clientY),E=parseInt(z[0].clientX),parseInt(z[0].clientY)):(O=E-parseInt(H.clientX),A=C-parseInt(H.clientY),E=parseInt(H.clientX),parseInt(H.clientY)),b.style.left=b.offsetLeft-O+"px",b.style.top=b.offsetTop-A+"px"}function D(){document.removeEventListener(I,D,!1),document.removeEventListener(L,R,!1)}return b===void 0?w=b=this.elt:b!==this.elt&&b.elt!==this.elt&&(b=b.elt,w=this.elt),w.addEventListener(T?"touchstart":"mousedown",function(H){{var z;H=H||window.event,C=T?(z=H.changedTouches,E=parseInt(z[0].clientX),parseInt(z[0].clientY)):(E=parseInt(H.clientX),parseInt(H.clientY))}return document.addEventListener(I,D,!1),document.addEventListener(L,R,!1),!1},!1),w.style.cursor="move",this};function _(b,w,T,O){p(this,_),this.callback=b,this.time=w,this.id=T,this.val=O}t=function(b){var w=O;if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),b&&m(w,b);var T=v(O);function O(A,E){p(this,O);var C=c(E=T.call(this,A,E));return E.elt.crossOrigin="anonymous",E._prevTime=0,E._cueIDCounter=0,E._cues=[],E.pixels=[],E._pixelsState=c(E),E._pixelDensity=1,E._modified=!1,E._frameOnCanvas=-1,Object.defineProperty(C,"src",{get:function(){var I=C.elt.children[0].src,L=C.elt.src===window.location.href?"":C.elt.src;return I===window.location.href?L:I},set:function(I){for(var L=0;L<C.elt.children.length;L++)C.elt.removeChild(C.elt.children[L]);var R=document.createElement("source");R.src=I,A.appendChild(R),C.elt.src=I,C.modified=!0}}),C._onended=function(){},C.elt.onended=function(){C._onended(C)},E}return u(O,[{key:"play",value:function(){var A;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(A=this.elt.play())&&A.catch&&A.catch(function(E){E.name==="NotAllowedError"?console.error(E):console.error("Media play method encountered an unexpected error",E)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var A=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(A)},{passive:!0,once:!0})}},{key:"autoplay",value:function(A){var E=this,C=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",A),A&&!C&&(A=function(){return E._setupAutoplayFailDetection()},this.elt.readyState===4?A():this.elt.addEventListener("canplay",A,{passive:!0,once:!0})),this}},{key:"volume",value:function(A){if(A===void 0)return this.elt.volume;this.elt.volume=A}},{key:"speed",value:function(A){if(A===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=A:this.presetPlaybackRate=A}},{key:"time",value:function(A){return A===void 0?this.elt.currentTime:(this.elt.currentTime=A,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var A=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&A&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var A=arguments.length,E=new Array(A),C=0;C<A;C++)E[C]=arguments[C];return s.default.Renderer2D.prototype.loadPixels.apply(this,E)}},{key:"updatePixels",value:function(A,E,C,I){return this.loadedmetadata&&(this._ensureCanvas(),s.default.Renderer2D.prototype.updatePixels.call(this,A,E,C,I)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var A=arguments.length,E=new Array(A),C=0;C<A;C++)E[C]=arguments[C];return s.default.Renderer2D.prototype.get.apply(this,E)}},{key:"_getPixel",value:function(){this.loadPixels();for(var A=arguments.length,E=new Array(A),C=0;C<A;C++)E[C]=arguments[C];return s.default.Renderer2D.prototype._getPixel.apply(this,E)}},{key:"set",value:function(A,E,C){this.loadedmetadata&&(this._ensureCanvas(),s.default.Renderer2D.prototype.set.call(this,A,E,C),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var A=arguments.length,E=new Array(A),C=0;C<A;C++)E[C]=arguments[C];s.default.prototype.copy.apply(this,E)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var A=arguments.length,E=new Array(A),C=0;C<A;C++)E[C]=arguments[C];s.default.Image.prototype.mask.apply(this,E)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(A){this._modified=A}},{key:"onended",value:function(A){return this._onended=A,this}},{key:"connect",value:function(A){var E,C;if(typeof s.default.prototype.getAudioContext=="function")E=s.default.prototype.getAudioContext(),C=s.default.soundOut.input;else try{C=(E=A.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=E.createMediaElementSource(this.elt),this.audioSourceNode.connect(C)),A?A.input?this.audioSourceNode.connect(A.input):this.audioSourceNode.connect(A):this.audioSourceNode.connect(C)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(A,L,C){var I=this._cueIDCounter++,L=new _(L,A,I,C);return this._cues.push(L),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),I}},{key:"removeCue",value:function(A){for(var E=0;E<this._cues.length;E++)this._cues[E].id===A&&(console.log(A),this._cues.splice(E,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var A=this.time(),E=0;E<this._cues.length;E++){var C=this._cues[E].time,I=this._cues[E].val;this._prevTime<C&&C<=A&&this._cues[E].callback(I)}this._prevTime=A}}]),O}(s.default.Element),s.default.MediaElement=t,t=function(){function b(w,T){p(this,b),this.file=w,this._pInst=T,T=w.type.split("/"),this.type=T[0],this.subtype=T[1],this.name=w.name,this.size=w.size,this.data=void 0}return u(b,null,[{key:"_createLoader",value:function(w,T){var O=new FileReader;return O.onload=function(A){var E,C=new s.default.File(w);C.file.type==="application/json"?C.data=JSON.parse(A.target.result):C.file.type==="text/xml"?(E=new DOMParser().parseFromString(A.target.result,"text/xml"),C.data=new s.default.XML(E.documentElement)):C.data=A.target.result,T(C)},O}},{key:"_load",value:function(w,T){var O;/^text\//.test(w.type)||w.type==="application/json"?s.default.File._createLoader(w,T).readAsText(w):/^(video|audio)\//.test(w.type)?((O=new s.default.File(w)).data=URL.createObjectURL(w),T(O)):s.default.File._createLoader(w,T).readAsDataURL(w)}}]),b}(),s.default.File=t,t=s.default,l.default=t},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(f,a,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=(f=f("../core/main"))&&f.__esModule?f:{default:f};n.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",n.default.prototype.accelerationX=0,n.default.prototype.accelerationY=0,n.default.prototype.accelerationZ=0,n.default.prototype.pAccelerationX=0,n.default.prototype.pAccelerationY=0,n.default.prototype.pAccelerationZ=0,n.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},n.default.prototype.rotationX=0,n.default.prototype.rotationY=0,n.default.prototype.rotationZ=0,n.default.prototype.pRotationX=0,n.default.prototype.pRotationY=0;var s=n.default.prototype.pRotationZ=0,o=0,u=0,m="clockwise",v="clockwise",c="clockwise",d=(n.default.prototype.pRotateDirectionX=void 0,n.default.prototype.pRotateDirectionY=void 0,n.default.prototype.pRotateDirectionZ=void 0,n.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},n.default.prototype.turnAxis=void 0,.5),p=30,f=(n.default.prototype.setMoveThreshold=function(y){n.default._validateParameters("setMoveThreshold",arguments),d=y},n.default.prototype.setShakeThreshold=function(y){n.default._validateParameters("setShakeThreshold",arguments),p=y},n.default.prototype._ondeviceorientation=function(y){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(y.beta)),this._setProperty("rotationY",this._fromDegrees(y.gamma)),this._setProperty("rotationZ",this._fromDegrees(y.alpha)),this._handleMotion()},n.default.prototype._ondevicemotion=function(y){this._updatePAccelerations(),this._setProperty("accelerationX",2*y.acceleration.x),this._setProperty("accelerationY",2*y.acceleration.y),this._setProperty("accelerationZ",2*y.acceleration.z),this._handleMotion()},n.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var y,g,_,b,w,T=this._isGlobal?window:this;typeof T.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>d||Math.abs(this.accelerationY-this.pAccelerationY)>d||Math.abs(this.accelerationZ-this.pAccelerationZ)>d)&&T.deviceMoved(),typeof T.deviceTurned=="function"&&(g=this._toDegrees(this.rotationX)+180,_=this._toDegrees(this.pRotationX)+180,y=s+180,0<g-_&&g-_<270||g-_<-270?m="clockwise":(g-_<0||270<g-_)&&(m="counter-clockwise"),m!==this.pRotateDirectionX&&(y=g),90<Math.abs(g-y)&&Math.abs(g-y)<270&&(y=g,this._setProperty("turnAxis","X"),T.deviceTurned()),this.pRotateDirectionX=m,s=y-180,_=this._toDegrees(this.rotationY)+180,g=this._toDegrees(this.pRotationY)+180,y=o+180,0<_-g&&_-g<270||_-g<-270?v="clockwise":(_-g<0||270<_-this.pRotationY)&&(v="counter-clockwise"),v!==this.pRotateDirectionY&&(y=_),90<Math.abs(_-y)&&Math.abs(_-y)<270&&(y=_,this._setProperty("turnAxis","Y"),T.deviceTurned()),this.pRotateDirectionY=v,o=y-180,0<(g=this._toDegrees(this.rotationZ))-(_=this._toDegrees(this.pRotationZ))&&g-_<270||g-_<-270?c="clockwise":(g-_<0||270<g-_)&&(c="counter-clockwise"),c!==this.pRotateDirectionZ&&(u=g),90<Math.abs(g-u)&&Math.abs(g-u)<270&&(u=g,this._setProperty("turnAxis","Z"),T.deviceTurned()),this.pRotateDirectionZ=c,this._setProperty("turnAxis",void 0)),typeof T.deviceShaken=="function"&&(this.pAccelerationX!==null&&(b=Math.abs(this.accelerationX-this.pAccelerationX),w=Math.abs(this.accelerationY-this.pAccelerationY)),p<b+w&&T.deviceShaken())},n.default);l.default=f},{"../core/main":283}],301:[function(t,a,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=(t=t("../core/main"))&&t.__esModule?t:{default:t};n.default.prototype.isKeyPressed=!1,n.default.prototype.keyIsPressed=!1,n.default.prototype.key="",n.default.prototype.keyCode=0,n.default.prototype._onkeydown=function(s){var o;this._downKeys[s.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",s.which),this._downKeys[s.which]=!0,this._setProperty("key",s.key||String.fromCharCode(s.which)||s.which),typeof(o=this._isGlobal?window:this).keyPressed!="function"||s.charCode||o.keyPressed(s)===!1&&s.preventDefault())},n.default.prototype._onkeyup=function(s){this._downKeys[s.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",s.key||String.fromCharCode(s.which)||s.which),this._setProperty("keyCode",s.which);var o=this._isGlobal?window:this;typeof o.keyReleased=="function"&&o.keyReleased(s)===!1&&s.preventDefault()},n.default.prototype._onkeypress=function(s){var o;s.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",s.which),this._setProperty("key",s.key||String.fromCharCode(s.which)||s.which),typeof(o=this._isGlobal?window:this).keyTyped=="function"&&o.keyTyped(s)===!1&&s.preventDefault())},n.default.prototype._onblur=function(s){this._downKeys={}},n.default.prototype.keyIsDown=function(s){return n.default._validateParameters("keyIsDown",arguments),this._downKeys[s]||!1},n.default.prototype._areDownKeys=function(){for(var s in this._downKeys)if(this._downKeys.hasOwnProperty(s)&&this._downKeys[s]===!0)return!0;return!1},t=n.default,l.default=t},{"../core/main":283}],302:[function(t,a,l){"use strict";function n(v){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(v)}function s(v){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(c){return n(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":n(c)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(o=t("../core/main"))&&o.__esModule?o:{default:o},u=function(v){if(v&&v.__esModule)return v;if(v===null||s(v)!=="object"&&typeof v!="function")return{default:v};var c=m();if(c&&c.has(v))return c.get(v);var d,p={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in v){var y;Object.prototype.hasOwnProperty.call(v,d)&&((y=f?Object.getOwnPropertyDescriptor(v,d):null)&&(y.get||y.set)?Object.defineProperty(p,d,y):p[d]=v[d])}return p.default=v,c&&c.set(v,p),p}(t("../core/constants"));function m(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,m=function(){return v},v)}o.default.prototype.movedX=0,o.default.prototype.movedY=0,o.default.prototype._hasMouseInteracted=!1,o.default.prototype.mouseX=0,o.default.prototype.mouseY=0,o.default.prototype.pmouseX=0,o.default.prototype.pmouseY=0,o.default.prototype.winMouseX=0,o.default.prototype.winMouseY=0,o.default.prototype.pwinMouseX=0,o.default.prototype.pwinMouseY=0,o.default.prototype.mouseButton=0,o.default.prototype.mouseIsPressed=!1,o.default.prototype._updateNextMouseCoords=function(v){var c,d,p,f,y;this._curElement!==null&&(!v.touches||0<v.touches.length)&&(c=this._curElement.elt,d=this.width,p=this.height,(f=v)&&!f.clientX&&(f.touches?f=f.touches[0]:f.changedTouches&&(f=f.changedTouches[0])),y=c.getBoundingClientRect(),d=c.scrollWidth/d||1,c=c.scrollHeight/p||1,p={x:(f.clientX-y.left)/d,y:(f.clientY-y.top)/c,winX:f.clientX,winY:f.clientY,id:f.identifier},this._setProperty("movedX",v.movementX),this._setProperty("movedY",v.movementY),this._setProperty("mouseX",p.x),this._setProperty("mouseY",p.y),this._setProperty("winMouseX",p.winX),this._setProperty("winMouseY",p.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},o.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},o.default.prototype._setMouseButton=function(v){v.button===1?this._setProperty("mouseButton",u.CENTER):v.button===2?this._setProperty("mouseButton",u.RIGHT):this._setProperty("mouseButton",u.LEFT)},o.default.prototype._onmousemove=function(v){var c=this._isGlobal?window:this;this._updateNextMouseCoords(v),this.mouseIsPressed?typeof c.mouseDragged=="function"?c.mouseDragged(v)===!1&&v.preventDefault():typeof c.touchMoved=="function"&&c.touchMoved(v)===!1&&v.preventDefault():typeof c.mouseMoved=="function"&&c.mouseMoved(v)===!1&&v.preventDefault()},o.default.prototype._onmousedown=function(v){var c=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(v),this._updateNextMouseCoords(v),this.touchstart||(typeof c.mousePressed=="function"?c.mousePressed(v)===!1&&v.preventDefault():typeof c.touchStarted=="function"&&c.touchStarted(v)===!1&&v.preventDefault(),this.touchstart=!1)},o.default.prototype._onmouseup=function(v){var c=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||(typeof c.mouseReleased=="function"?c.mouseReleased(v)===!1&&v.preventDefault():typeof c.touchEnded=="function"&&c.touchEnded(v)===!1&&v.preventDefault(),this.touchend=!1)},o.default.prototype._ondragend=o.default.prototype._onmouseup,o.default.prototype._ondragover=o.default.prototype._onmousemove,o.default.prototype._onclick=function(v){var c=this._isGlobal?window:this;typeof c.mouseClicked=="function"&&c.mouseClicked(v)===!1&&v.preventDefault()},o.default.prototype._ondblclick=function(v){var c=this._isGlobal?window:this;typeof c.doubleClicked=="function"&&c.doubleClicked(v)===!1&&v.preventDefault()},o.default.prototype._mouseWheelDeltaY=0,o.default.prototype._pmouseWheelDeltaY=0,o.default.prototype._onwheel=function(v){var c=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",v.deltaY),typeof c.mouseWheel=="function"&&(v.delta=v.deltaY,c.mouseWheel(v)===!1&&v.preventDefault())},o.default.prototype.requestPointerLock=function(){var v=this._curElement.elt;return v.requestPointerLock=v.requestPointerLock||v.mozRequestPointerLock,v.requestPointerLock?(v.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},o.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=o.default,l.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(t,a,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(n){if(this._curElement!==null){for(var s=[],o=0;o<n.touches.length;o++)s[o]=function(y,f,g,c){var d=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,p=y.getBoundingClientRect(),f=y.scrollWidth/f||1,y=y.scrollHeight/g||1,g=c.touches[d]||c.changedTouches[d];return{x:(g.clientX-p.left)/f,y:(g.clientY-p.top)/y,winX:g.clientX,winY:g.clientY,id:g.identifier}}(this._curElement.elt,this.width,this.height,n,o);this._setProperty("touches",s)}},t.default.prototype._ontouchstart=function(n){var s=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(n),this._updateNextMouseCoords(n),this._updateMouseCoords(),typeof s.touchStarted=="function"&&(s.touchStarted(n)===!1&&n.preventDefault(),this.touchstart=!0)},t.default.prototype._ontouchmove=function(n){var s=this._isGlobal?window:this;this._updateTouchCoords(n),this._updateNextMouseCoords(n),typeof s.touchMoved=="function"?s.touchMoved(n)===!1&&n.preventDefault():typeof s.mouseDragged=="function"&&s.mouseDragged(n)===!1&&n.preventDefault()},t.default.prototype._ontouchend=function(n){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(n),this._updateNextMouseCoords(n);var s=this._isGlobal?window:this;typeof s.touchEnded=="function"&&(s.touchEnded(n)===!1&&n.preventDefault(),this.touchend=!0)},t=t.default,l.default=t},{"../core/main":283}],304:[function(t,a,l){"use strict";t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n,s,o,u,m={_toPixels:function(v){var c,d;return v instanceof ImageData?v.data:v.getContext("2d")?v.getContext("2d").getImageData(0,0,v.width,v.height).data:v.getContext("webgl")?(d=(c=v.getContext("webgl")).drawingBufferWidth*c.drawingBufferHeight*4,d=new Uint8Array(d),c.readPixels(0,0,v.width,v.height,c.RGBA,c.UNSIGNED_BYTE,d),d):void 0},_getARGB:function(v,c){return c*=4,v[3+c]<<24&4278190080|v[c]<<16&16711680|v[1+c]<<8&65280|255&v[2+c]},_setPixels:function(v,c){for(var d,p=0,f=v.length;p<f;p++)v[0+(d=4*p)]=(16711680&c[p])>>>16,v[1+d]=(65280&c[p])>>>8,v[2+d]=255&c[p],v[3+d]=(4278190080&c[p])>>>24},_toImageData:function(v){return v instanceof ImageData?v:v.getContext("2d").getImageData(0,0,v.width,v.height)},_createImageData:function(v,c){return m._tmpCanvas=document.createElement("canvas"),m._tmpCtx=m._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(v,c)},apply:function(v,y,d){var p=v.getContext("2d"),f=p.getImageData(0,0,v.width,v.height),y=y(f,d);y instanceof ImageData?p.putImageData(y,0,0,0,0,v.width,v.height):p.putImageData(f,0,0,0,0,v.width,v.height)},threshold:function(v){for(var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:.5,d=m._toPixels(v),p=Math.floor(255*c),f=0;f<d.length;f+=4){var y=void 0,y=p<=.2126*d[f]+.7152*d[f+1]+.0722*d[f+2]?255:0;d[f]=d[f+1]=d[f+2]=y}},gray:function(v){for(var c=m._toPixels(v),d=0;d<c.length;d+=4){var p=c[d],f=c[d+1],y=c[d+2];c[d]=c[d+1]=c[d+2]=.2126*p+.7152*f+.0722*y}},opaque:function(v){for(var c=m._toPixels(v),d=0;d<c.length;d+=4)c[d+3]=255;return c},invert:function(v){for(var c=m._toPixels(v),d=0;d<c.length;d+=4)c[d]=255-c[d],c[d+1]=255-c[d+1],c[d+2]=255-c[d+2]},posterize:function(v){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:4,d=m._toPixels(v);if(c<2||255<c)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var p=c-1,f=0;f<d.length;f+=4){var y=d[f],g=d[f+1],_=d[f+2];d[f]=255*(y*c>>8)/p,d[f+1]=255*(g*c>>8)/p,d[f+2]=255*(_*c>>8)/p}},dilate:function(v){for(var c,d,p,f,y,g,_,b,w,T=m._toPixels(v),O=0,A=T.length?T.length/4:0,E=new Int32Array(A);O<A;)for(d=(c=O)+v.width;O<d;)f=p=m._getARGB(T,O),(w=O-1)<c&&(w=O),d<=(b=O+1)&&(b=O),(y=O-v.width)<0&&(y=0),A<=(g=O+v.width)&&(g=O),y=m._getARGB(T,y),w=m._getARGB(T,w),g=m._getARGB(T,g),(f=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))<(_=77*(w>>16&255)+151*(w>>8&255)+28*(255&w))&&(p=w,f=_),f<(_=77*((w=m._getARGB(T,b))>>16&255)+151*(w>>8&255)+28*(255&w))&&(p=w,f=_),f<(b=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))&&(p=y,f=b),f<(w=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))&&(p=g,f=w),E[O++]=p;m._setPixels(T,E)},erode:function(v){for(var c,d,p,f,y,g,_,b,w,T=m._toPixels(v),O=0,A=T.length?T.length/4:0,E=new Int32Array(A);O<A;)for(d=(c=O)+v.width;O<d;)f=p=m._getARGB(T,O),(w=O-1)<c&&(w=O),d<=(b=O+1)&&(b=O),(y=O-v.width)<0&&(y=0),A<=(g=O+v.width)&&(g=O),y=m._getARGB(T,y),w=m._getARGB(T,w),g=m._getARGB(T,g),(_=77*(w>>16&255)+151*(w>>8&255)+28*(255&w))<(f=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))&&(p=w,f=_),(_=77*((w=m._getARGB(T,b))>>16&255)+151*(w>>8&255)+28*(255&w))<f&&(p=w,f=_),(b=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))<f&&(p=y,f=b),(w=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))<f&&(p=g,f=w),E[O++]=p;m._setPixels(T,E)},blur:function(v,c){for(var d,p,f,y,g,_,b,w,T,O,A=m._toPixels(v),E=v.width,C=v.height,I=E*C,L=new Int32Array(I),R=0;R<I;R++)L[R]=m._getARGB(A,R);var D,H,z,B,J,ee,Z,q,re=new Int32Array(I),ge=new Int32Array(I),V=new Int32Array(I),j=new Int32Array(I),G=0,K=3.5*c|0;if(n!==(K=K<1?1:K<248?K:248)){s=1+(n=K)<<1,o=new Int32Array(s),u=new Array(s);for(var ae=0;ae<s;ae++)u[ae]=new Int32Array(256);for(var Q=1,oe=K-1;Q<K;Q++){o[K+Q]=o[oe]=ee=oe*oe,Z=u[K+Q],q=u[oe--];for(var W=0;W<256;W++)Z[W]=q[W]=ee*W}J=o[K]=K*K,Z=u[K];for(var Y=0;Y<256;Y++)Z[Y]=J*Y}for(H=0;H<C;H++){for(D=0;D<E;D++){if(y=f=p=g=d=0,(_=D-n)<0)O=-_,_=0;else{if(E<=_)break;O=0}for(z=O;z<s&&!(E<=_);z++){var ne=L[_+G];B=u[z],g+=B[(-16777216&ne)>>>24],p+=B[(16711680&ne)>>16],f+=B[(65280&ne)>>8],y+=B[255&ne],d+=o[z],_++}re[b=G+D]=g/d,ge[b]=p/d,V[b]=f/d,j[b]=y/d}G+=E}for(T=(w=-n)*E,H=G=0;H<C;H++){for(D=0;D<E;D++){if(y=f=p=g=d=0,w<0)O=b=-w,_=D;else{if(C<=w)break;O=0,b=w,_=D+T}for(z=O;z<s&&!(C<=b);z++)B=u[z],g+=B[re[_]],p+=B[ge[_]],f+=B[V[_]],y+=B[j[_]],d+=o[z],b++,_+=E;L[D+G]=g/d<<24|p/d<<16|f/d<<8|y/d}G+=E,T+=E,w++}m._setPixels(A,L)}};l.default=m},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(t,a,l){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=o(t("../core/main")),s=o(t("omggif"));function o(m){return m&&m.__esModule?m:{default:m}}function u(m){return function(v){if(Array.isArray(v)){for(var c=0,d=new Array(v.length);c<v.length;c++)d[c]=v[c];return d}}(m)||function(v){if(Symbol.iterator in Object(v)||Object.prototype.toString.call(v)==="[object Arguments]")return Array.from(v)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.default.prototype.createImage=function(m,v){return n.default._validateParameters("createImage",arguments),new n.default.Image(m,v)},n.default.prototype.saveCanvas=function(){for(var m,v,c,d,p,f,y=arguments.length,g=new Array(y),_=0;_<y;_++)g[_]=arguments[_];switch(n.default._validateParameters("saveCanvas",g),g[0]instanceof HTMLCanvasElement?(m=g[0],g.shift()):g[0]instanceof n.default.Element?(m=g[0].elt,g.shift()):g[0]instanceof n.default.Framebuffer?(d=g[0],(p=this.createGraphics(d.width,d.height)).pixelDensity(pixelDensity()),d.loadPixels(),p.loadPixels(),p.pixels.set(d.pixels),p.updatePixels(),m=p.elt,g.shift()):m=this._curElement&&this._curElement.elt,1<=g.length&&(v=g[0]),c=(c=2<=g.length?g[1]:c)||n.default.prototype._checkFileExtension(v,c)[1]||"png"){default:f="image/png";break;case"webp":f="image/webp";break;case"jpeg":case"jpg":f="image/jpeg"}m.toBlob(function(b){n.default.prototype.downloadFile(b,v,c),p&&p.remove()},f)},n.default.prototype.encodeAndDownloadGif=function(m,v){for(var c=m.gifProperties,d=c.loopLimit,p=(d===1?d=null:d===null&&(d=0),new Uint8Array(m.width*m.height*c.numFrames)),f=[],y={},g=0;g<c.numFrames;g++){for(var _=new Set,b=c.frames[g].image.data,w=b.length,T=new Uint32Array(m.width*m.height),O=0,A=0;O<w;O+=4,A++){var E=b[O+0]<<16|b[O+1]<<8|b[O+2]<<0;_.add(E),T[A]=E}var C=u(_).sort().toString();y[C]===void 0?y[C]={freq:1,frames:[g]}:(y[C].freq+=1,y[C].frames.push(g)),f.push(T)}for(var R=[],I=Object.keys(y).sort(function(V,j){return y[j].freq-y[V].freq}),L=I[0].split(",").map(function(V){return parseInt(V)}),R=R.concat(y[L].frames),D=new Set(L),H=1;H<I.length;H++){var z=I[H].split(",").map(function(V){return parseInt(V)}).filter(function(V){return!D.has(V)});if(L.length+z.length<=256){for(var B=0;B<z.length;B++)L.push(z[B]),D.add(z[B]);R=R.concat(y[I[H]].frames)}}R=new Set(R);for(var J={},ee=0;ee<L.length;ee++)J[L[ee]]||(J[L[ee]]=ee);for(var Z=1;Z<L.length;)Z<<=1;L.length=Z;for(var d={loop:d,palette:new Uint32Array(L)},q=new s.default.GifWriter(p,m.width,m.height,d),re={},ge=0;ge<c.numFrames;ge++)(function(j){var G=!R.has(j),K=G?[]:L,ae=new Uint8Array(m.width*m.height),Q={},oe=new Set,W=(f[j].forEach(function(pe,ve){G?(Q[pe]===void 0&&(Q[pe]=K.length,K.push(pe)),ae[ve]=Q[pe]):ae[ve]=J[pe],0<j&&f[j-1][ve]!==pe&&oe.add(pe)}),{}),Y=K.filter(function(pe){return!oe.has(pe)});if(0<Y.length){var Y=Y[0],ne=(G?Q:J)[Y];if(0<j){for(var ue=0;ue<f[j].length;ue++)f[j-1][ue]===f[j][ue]&&(ae[ue]=ne);W.transparent=ne,re.frameOpts.disposal=1}}if(W.delay=c.frames[j].delay/10,G){for(var se=1;se<K.length;)se<<=1;K.length=se,W.palette=new Uint32Array(K)}0<j&&q.addFrame(0,0,m.width,m.height,re.pixelPaletteIndex,re.frameOpts),re={pixelPaletteIndex:ae,frameOpts:W}})(ge);re.frameOpts.disposal=1,q.addFrame(0,0,m.width,m.height,re.pixelPaletteIndex,re.frameOpts),d=new Blob([p.slice(0,q.end())],{type:"image/gif"}),n.default.prototype.downloadFile(d,v,"gif")},n.default.prototype.saveFrames=function(m,v,c,f,p){n.default._validateParameters("saveFrames",arguments),c=n.default.prototype.constrain(c=c||3,0,15),c*=1e3;var f=n.default.prototype.constrain(f||15,0,22),y=0,g=n.default.prototype._makeFrame,_=this._curElement.elt,b=[],w=setInterval(function(){b.push(g(m+y,v,_)),y++},1e3/f);setTimeout(function(){if(clearInterval(w),p)p(b);else for(var T=0,O=b;T<O.length;T++){var A=O[T];n.default.prototype.downloadFile(A.imageData,A.filename,A.ext)}b=[]},.01+c)},n.default.prototype._makeFrame=function(m,v,p){var d,p=this?this._curElement.elt:p;if(v)switch(v.toLowerCase()){case"png":d="image/png";break;case"jpeg":case"jpg":d="image/jpeg";break;default:d="image/png"}else v="png",d="image/png";var p=(p=p.toDataURL(d)).replace(d,"image/octet-stream"),f={};return f.imageData=p,f.filename=m,f.ext=v,f},t=n.default,l.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(t,a,l){"use strict";function n(_){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(_)}function s(_){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(b){return n(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":n(b)})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t("regenerator-runtime/runtime");var o=p(t("../core/main")),u=p(t("../core/helpers")),m=function(_){if(_&&_.__esModule)return _;if(_===null||s(_)!=="object"&&typeof _!="function")return{default:_};var b=d();if(b&&b.has(_))return b.get(_);var w,T={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in _){var A;Object.prototype.hasOwnProperty.call(_,w)&&((A=O?Object.getOwnPropertyDescriptor(_,w):null)&&(A.get||A.set)?Object.defineProperty(T,w,A):T[w]=_[w])}return T.default=_,b&&b.set(_,T),T}(t("../core/constants")),v=p(t("omggif")),c=t("gifenc");function d(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,d=function(){return _},_)}function p(_){return _&&_.__esModule?_:{default:_}}function f(_,b,w,T,O,A,E){try{var C=_[A](E),I=C.value}catch(L){return void w(L)}C.done?b(I):Promise.resolve(I).then(T,O)}function y(_,b,w,T,O,A,E,C,I,L,R){var D,H,z,B,J,ee,Z,q,re;return _===m.COVER&&(D=b,z=w,Z=A,q=E,ee=C,re=I,H=L,B=R,J=Math.max(Z/H,q/B),Z/=J,q/=J,J=ee,ee=re,D===m.CENTER?J+=(H-Z)/2:D===m.RIGHT&&(J+=H-Z),z===m.CENTER?ee+=(B-q)/2:z===m.BOTTOM&&(ee+=B-q),C=(re={x:J,y:ee,w:Z,h:q}).x,I=re.y,L=re.w,R=re.h),_===m.CONTAIN&&(D=b,H=w,z=T,B=O,J=A,ee=E,Z=L,q=R,re=Math.max(Z/J,q/ee),Z/=re,q/=re,re=z,z=B,D===m.CENTER?re+=(J-Z)/2:D===m.RIGHT&&(re+=J-Z),H===m.CENTER?z+=(ee-q)/2:H===m.BOTTOM&&(z+=ee-q),T=(_={x:re,y:z,w:Z,h:q}).x,O=_.y,A=_.w,E=_.h),{sx:C,sy:I,sw:L,sh:R,dx:T,dy:O,dw:A,dh:E}}function g(_,b){return 0<_&&_<b?_:b}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),o.default.prototype.loadImage=function(_,b,w){o.default._validateParameters("loadImage",arguments);var T=new o.default.Image(1,1,this),O=this,A=new Request(_,{method:"GET",mode:"cors"});return fetch(_,A).then(function(E){var C,I=E.headers.get("content-type");I===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),I&&I.includes("image/gif")?E.arrayBuffer().then(function(L){if(L){for(var L=new Uint8Array(L),R=T,D=b,H=w,z=function(G){O._decrementPreload()}.bind(O),B=new v.default.GifReader(L),J=(R.width=R.canvas.width=B.width,R.height=R.canvas.height=B.height,[]),ee=B.numFrames(),Z=new Uint8ClampedArray(R.width*R.height*4),q=0;q<ee;q++){var re=B.frameInfo(q),ge=R.drawingContext.getImageData(0,0,R.width,R.height),V=(Z=ge.data.slice(),function(G,K){try{K.decodeAndBlitFrameRGBA(G,Z)}catch(ae){o.default._friendlyFileLoadError(8,R.src),typeof H=="function"?H(ae):console.error(ae)}}(q,B),new ImageData(Z,R.width,R.height)),V=(R.drawingContext.putImageData(V,0,0),re.delay);V===0&&(V=10),J.push({image:R.drawingContext.getImageData(0,0,R.width,R.height),delay:10*V}),re.disposal===2?R.drawingContext.clearRect(re.x,re.y,re.width,re.height):re.disposal===3&&R.drawingContext.putImageData(ge,0,0,re.x,re.y,re.width,re.height)}(L=B.loopCount())===null?L=1:L===0&&(L=null),R.drawingContext.putImageData(J[0].image,0,0),1<J.length&&(R.gifProperties={displayIndex:0,loopLimit:L,loopCount:0,frames:J,numFrames:ee,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof D=="function"&&D(R),z()}},function(L){typeof w=="function"?(w(L),O._decrementPreload()):console.error(L)}):((C=new Image).onload=function(){T.width=T.canvas.width=C.width,T.height=T.canvas.height=C.height,T.drawingContext.drawImage(C,0,0),T.modified=!0,typeof b=="function"&&b(T),O._decrementPreload()},C.onerror=function(L){o.default._friendlyFileLoadError(0,C.src),typeof w=="function"?(w(L),O._decrementPreload()):console.error(L)},_.indexOf("data:image/")!==0&&(C.crossOrigin="Anonymous"),C.src=_),T.modified=!0}).catch(function(E){o.default._friendlyFileLoadError(0,_),typeof w=="function"?(w(E),O._decrementPreload()):console.error(E)}),T},o.default.prototype.saveGif=function(){_=regeneratorRuntime.mark(function w(T,O){var A,E,C,I,L,R,D,H,z,B,J,ee,Z,q,re,ge,V,j,G,K,ae,Q,oe,W,Y,ne,ue=arguments;return regeneratorRuntime.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(A=2<ue.length&&ue[2]!==void 0?ue[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof T!="string")throw TypeError("fileName parameter must be a string");se.next=3;break;case 3:if(typeof O!="number")throw TypeError("Duration parameter must be a number");se.next=5;break;case 5:if(E=A&&A.delay||0,C=A&&A.units||"seconds",I=A&&A.silent||!1,L=A&&A.notificationDuration||0,R=A&&A.notificationID||"progressBar",typeof E!="number")throw TypeError("Delay parameter must be a number");se.next=12;break;case 12:if(C!=="seconds"&&C!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');se.next=14;break;case 14:if(typeof I!="boolean")throw TypeError("Silent parameter must be a boolean");se.next=16;break;case 16:if(typeof L!="number")throw TypeError("Notification duration parameter must be a number");se.next=18;break;case 18:if(typeof R!="string")throw TypeError("Notification ID parameter must be a string");se.next=20;break;case 20:return this._recording=!0,B=this._targetFrameRate,D=(D=1/(B=B!==1/0&&B!==void 0&&B!==0?B:60)*1e3)<20?20:D,z=(H=C==="seconds"?O*B:O)+(B=C==="seconds"?E*B:E),B=B,this.frameCount=B,J=this._pixelDensity,this.pixelDensity(1),ee=[],document.getElementById(R)!==null&&document.getElementById(R).remove(),I||((Z=this.createP("")).id(R),Z.style("font-size","16px"),Z.style("font-family","Montserrat"),Z.style("background-color","#ffffffa0"),Z.style("padding","8px"),Z.style("border-radius","10px"),Z.position(0,0)),this._renderer instanceof o.default.RendererGL&&(re=this.drawingContext,q=new Uint8Array(re.drawingBufferWidth*re.drawingBufferHeight*4)),this.noLoop(),se.next=39,Promise.resolve();case 39:if(B<z)return this.redraw(),W=void 0,W=this._renderer instanceof o.default.RendererGL?(q=new Uint8Array(re.drawingBufferWidth*re.drawingBufferHeight*4),re.readPixels(0,0,re.drawingBufferWidth,re.drawingBufferHeight,re.RGBA,re.UNSIGNED_BYTE,q),function(pe,ve,fe){for(var xe=parseInt(fe/2),ke=4*ve,Te=new Uint8Array(4*ve),Ae=0;Ae<xe;++Ae){var Pe=Ae*ke,it=(fe-Ae-1)*ke;Te.set(pe.subarray(Pe,Pe+ke)),pe.copyWithin(Pe,it,it+ke),pe.set(Te,it)}return pe}(q,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,ee.push(W),B++,I||Z.html("Saved frame <b>"+ee.length.toString()+"</b> out of "+H.toString()),se.next=48,new Promise(function(pe){return setTimeout(pe,0)});se.next=50;break;case 48:se.next=39;break;case 50:I||Z.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(J),ge=(0,c.GIFEncoder)(),V=function(pe){for(var ve=new Uint8Array(pe.length*pe[0].length),fe=0;fe<pe.length;fe++)ve.set(pe[fe],fe*pe[0].length);var xe=(0,c.quantize)(ve,256,{format:"rgba4444",oneBitAlpha:!0});return xe.length===256?xe[xe.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:xe.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),xe}(ee),j={},G=function(pe){for(var ve=pe.length/4,fe=new Uint8Array(ve),xe=0;xe<ve;xe++){var ke=pe[4*xe]<<24|pe[4*xe+1]<<16|pe[4*xe+2]<<8|pe[4*xe+3];j[ke]===void 0&&(j[ke]=(0,c.nearestColorIndex)(V,pe.slice(4*xe,4*(xe+1)))),fe[xe]=j[ke]}return fe},K=V.length-1,ae=[],Q=0;case 60:if(!(Q<ee.length)){se.next=71;break}if(oe=G(ee[Q]),W=oe.slice(),Q===0)ge.writeFrame(oe,this.width,this.height,{palette:V,delay:D,dispose:1});else{for(Y=0;Y<oe.length;Y++)oe[Y]===ae[Y]&&(oe[Y]=K);ge.writeFrame(oe,this.width,this.height,{delay:D,transparent:!0,transparentIndex:K,dispose:1})}return ae=W,I||Z.html("Rendered frame <b>"+Q.toString()+"</b> out of "+H.toString()),se.next=68,new Promise(function(pe){return setTimeout(pe,0)});case 68:Q++,se.next=60;break;case 71:ge.finish(),ne=ge.bytesView(),ne=new Blob([ne],{type:"image/gif"}),ee=[],this._recording=!1,this.loop(),I||(Z.html("Done. Downloading your gif!\u{1F338}"),0<L&&setTimeout(function(){return Z.remove()},1e3*L)),o.default.prototype.downloadFile(ne,T,"gif");case 80:case"end":return se.stop()}},w,this)});var _,b=function(){var w=this,T=arguments;return new Promise(function(O,A){var E=_.apply(w,T);function C(L){f(E,O,A,C,I,"next",L)}function I(L){f(E,O,A,C,I,"throw",L)}C(void 0)})};return function(w,T){return b.apply(this,arguments)}}(),o.default.prototype.image=function(_,b,w,T,B,J,ee,Z,re,L,R,D){o.default._validateParameters("image",arguments);var q=_.width,H=_.height,z=(D=D||m.CENTER,R=R||m.CENTER,_.elt&&(q=q!==void 0?q:_.elt.width,H=H!==void 0?H:_.elt.height),_.elt&&_.elt.videoWidth&&!_.canvas&&(q=q!==void 0?q:_.elt.videoWidth,H=H!==void 0?H:_.elt.videoHeight),T||q),B=B||H,J=J||0,ee=ee||0,Z=g(Z!==void 0?Z:q,q),q=g(re!==void 0?re:H,H),re=1;_.elt&&!_.canvas&&_.elt.style.width&&(re=_.elt.videoWidth&&!T?_.elt.videoWidth:_.elt.width,re/=parseInt(_.elt.style.width,10)),J*=re,ee*=re,q*=re,Z*=re,H=y(L,R,D,(H=u.default.modeAdjust(b,w,z,B,this._renderer._imageMode)).x,H.y,H.w,H.h,J,ee,Z,q),this._renderer.image(_,H.sx,H.sy,H.sw,H.sh,H.dx,H.dy,H.dw,H.dh)},o.default.prototype.tint=function(){for(var _=arguments.length,b=new Array(_),w=0;w<_;w++)b[w]=arguments[w];o.default._validateParameters("tint",b);var T=this.color.apply(this,b);this._renderer._tint=T.levels},o.default.prototype.noTint=function(){this._renderer._tint=null},o.default.prototype._getTintedImageCanvas=o.default.Renderer2D.prototype._getTintedImageCanvas,o.default.prototype.imageMode=function(_){o.default._validateParameters("imageMode",arguments),_!==m.CORNER&&_!==m.CORNERS&&_!==m.CENTER||(this._renderer._imageMode=_)},t=o.default,l.default=t},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(t,a,l){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=o(t("../core/main")),s=o(t("./filters"));function o(m){return m&&m.__esModule?m:{default:m}}function u(m,v){for(var c=0;c<v.length;c++){var d=v[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(m,d.key,d)}}n.default.Image=function(){function m(p,f){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.width=p,this.height=f,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var v,c,d;return v=m,(c=[{key:"pixelDensity",value:function(p){return p!==void 0?(p<=0&&(n.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),p=1),this._pixelDensity=p,this.width/=p,this.height/=p,this):this._pixelDensity}},{key:"_animateGif",value:function(g){var f,y=this.gifProperties,g=g._lastRealFrameTime||window.performance.now();y.lastChangeTime===0&&(y.lastChangeTime=g),y.playing&&(y.timeDisplayed=g-y.lastChangeTime,f=y.frames[y.displayIndex].delay,y.timeDisplayed>=f&&(f=Math.floor(y.timeDisplayed/f),y.timeDisplayed=0,y.lastChangeTime=g,y.displayIndex+=f,y.loopCount=Math.floor(y.displayIndex/y.numFrames),y.loopLimit!==null&&y.loopCount>=y.loopLimit?y.playing=!1:(g=y.displayIndex%y.numFrames,this.drawingContext.putImageData(y.frames[g].image,0,0),y.displayIndex=g,this.setModified(!0))))}},{key:"_setProperty",value:function(p,f){this[p]=f,this.setModified(!0)}},{key:"loadPixels",value:function(){n.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(p,f,y,g){n.default.Renderer2D.prototype.updatePixels.call(this,p,f,y,g),this.setModified(!0)}},{key:"get",value:function(p,f,y,g){return n.default._validateParameters("p5.Image.get",arguments),n.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var p=arguments.length,f=new Array(p),y=0;y<p;y++)f[y]=arguments[y];return n.default.Renderer2D.prototype._getPixel.apply(this,f)}},{key:"set",value:function(p,f,y){n.default.Renderer2D.prototype.set.call(this,p,f,y),this.setModified(!0)}},{key:"resize",value:function(p,f){p===0&&f===0?(p=this.canvas.width,f=this.canvas.height):p===0?p=this.canvas.width*f/this.canvas.height:f===0&&(f=this.canvas.height*p/this.canvas.width),p=Math.floor(p),f=Math.floor(f);var y=document.createElement("canvas");if(y.width=p,y.height=f,this.gifProperties)for(var g=this.gifProperties,_=0;_<g.numFrames;_++){for(var b=this.drawingContext.createImageData(p,f),w=(C=C=E=A=O=void 0,g.frames[_].image),T=b,O=0,A=0;A<T.height;A++)for(var E=0;E<T.width;E++){var C=Math.floor(E*w.width/T.width),C=4*(Math.floor(A*w.height/T.height)*w.width+C);T.data[O++]=w.data[C++],T.data[O++]=w.data[C++],T.data[O++]=w.data[C++],T.data[O++]=w.data[+C]}g.frames[_].image=b}y.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,y.width,y.height),this.canvas.width=this.width=p,this.canvas.height=this.height=f,this.drawingContext.drawImage(y,0,0,p,f,0,0,p,f),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var p=arguments.length,f=new Array(p),y=0;y<p;y++)f[y]=arguments[y];n.default.prototype.copy.apply(this,f)}},{key:"mask",value:function(p){var f=this.drawingContext.globalCompositeOperation,y=this._pixelDensity,g=1,_=[p=p===void 0?this:p,0,0,(g=p instanceof n.default.Renderer?p._pInst._pixelDensity:g)*p.width,g*p.height,0,0,y*this.width,y*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var b=0;b<this.gifProperties.frames.length;b++)this.drawingContext.putImageData(this.gifProperties.frames[b].image,0,0),this.copy.apply(this,_),this.gifProperties.frames[b].image=this.drawingContext.getImageData(0,0,y*this.width,y*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,_);this.drawingContext.globalCompositeOperation=f,this.setModified(!0)}},{key:"filter",value:function(p,f){s.default.apply(this.canvas,s.default[p],f),this.setModified(!0)}},{key:"blend",value:function(){for(var p=arguments.length,f=new Array(p),y=0;y<p;y++)f[y]=arguments[y];n.default._validateParameters("p5.Image.blend",arguments),n.default.prototype.blend.apply(this,f),this.setModified(!0)}},{key:"setModified",value:function(p){this._modified=p}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(p,f){this.gifProperties?n.default.prototype.encodeAndDownloadGif(this,p):n.default.prototype.saveCanvas(this.canvas,p,f)}},{key:"reset",value:function(){var p;this.gifProperties&&((p=this.gifProperties).playing=!0,p.timeSinceStart=0,p.timeDisplayed=0,p.lastChangeTime=0,p.loopCount=0,p.displayIndex=0,this.drawingContext.putImageData(p.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var p;if(this.gifProperties)return(p=this.gifProperties).displayIndex%p.numFrames}},{key:"setFrame",value:function(p){var f;this.gifProperties&&(p<(f=this.gifProperties).numFrames&&0<=p?(f.timeDisplayed=0,f.lastChangeTime=0,f.displayIndex=p,this.drawingContext.putImageData(f.frames[p].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(p,f){if(this.gifProperties){var y=this.gifProperties;if(f<y.numFrames&&0<=f)y.frames[f].delay=p;else{var g=!0,f=!1,_=void 0;try{for(var b,w=y.frames[Symbol.iterator]();!(g=(b=w.next()).done);g=!0)b.value.delay=p}catch(O){f=!0,_=O}finally{try{g||w.return==null||w.return()}finally{if(f)throw _}}}}}}])&&u(v.prototype,c),d&&u(v,d),m}(),t=n.default.Image,l.default=t},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(t,a,l){"use strict";t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=o(t("../core/main")),s=o(t("./filters"));function o(u){return u&&u.__esModule?u:{default:u}}t("../color/p5.Color"),n.default.prototype.pixels=[],n.default.prototype.blend=function(){for(var u,m=arguments.length,v=new Array(m),c=0;c<m;c++)v[c]=arguments[c];n.default._validateParameters("blend",v),this._renderer?(u=this._renderer).blend.apply(u,v):n.default.Renderer2D.prototype.blend.apply(this,v)},n.default.prototype.copy=function(){for(var u,m,v,c,d,p,f,y,g,_=arguments.length,b=new Array(_),w=0;w<_;w++)b[w]=arguments[w];if(n.default._validateParameters("copy",b),b.length===9)u=b[0],m=b[1],v=b[2],c=b[3],d=b[4],p=b[5],f=b[6],y=b[7],g=b[8];else{if(b.length!==8)throw new Error("Signature not supported");u=this,m=b[0],v=b[1],c=b[2],d=b[3],p=b[4],f=b[5],y=b[6],g=b[7]}n.default.prototype._copyHelper(this,u,m,v,c,d,p,f,y,g)},n.default.prototype._copyHelper=function(u,m,v,c,d,p,f,y,g,_){var b=m.canvas.width/m.width,w=0,T=0;m._renderer&&m._renderer.isP3D&&(w=m.width/2,T=m.height/2),u._renderer&&u._renderer.isP3D?(u.push(),u.resetMatrix(),u.noLights(),u.blendMode(u.BLEND),u.imageMode(u.CORNER),n.default.RendererGL.prototype.image.call(u._renderer,m,v+w,c+T,d,p,f,y,g,_),u.pop()):u.drawingContext.drawImage(m.canvas,b*(v+w),b*(c+T),b*d,b*p,f,y,g,_)},n.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},n.default.prototype.filter=function(){for(var u=arguments.length,m=new Array(u),v=0;v<u;v++)m[v]=arguments[v];n.default._validateParameters("filter",m);var f=function(){var y,g={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof n.default.Shader?g.shader=arguments.length<=0?void 0:arguments[0]:(g.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(g.value=arguments.length<=1?void 0:arguments[1]),((y=arguments.length-1)<0||arguments.length<=y?void 0:arguments[y])===!1&&(g.useWebGL=!1)),g}.apply(void 0,m),c=f.shader,d=f.operation,p=f.value,f=f.useWebGL;this._renderer.isP3D&&c?n.default.RendererGL.prototype.filter.call(this._renderer,c):f||this._renderer.isP3D?(!f&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?n.default.RendererGL.prototype.filter.call(this._renderer,d,p):((c=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),c.filter.apply(c,m),this.copy(c._renderer,0,0,this.width,this.height,0,0,this.width,this.height),c.clear())):this.canvas!==void 0?s.default.apply(this.canvas,s.default[d],p):s.default.apply(this.elt,s.default[d],p)},n.default.prototype.get=function(u,m,v,c){var d;return n.default._validateParameters("get",arguments),(d=this._renderer).get.apply(d,arguments)},n.default.prototype.loadPixels=function(){for(var u=arguments.length,m=new Array(u),v=0;v<u;v++)m[v]=arguments[v];n.default._validateParameters("loadPixels",m),this._renderer.loadPixels()},n.default.prototype.set=function(u,m,v){this._renderer.set(u,m,v)},n.default.prototype.updatePixels=function(u,m,v,c){n.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(u,m,v,c)},t=n.default,l.default=t},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(t,a,l){"use strict";function n(p){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=m(t("../core/main")),o=(t("whatwg-fetch"),t("es6-promise/auto"),m(t("fetch-jsonp"))),u=m(t("file-saver"));function m(p){return p&&p.__esModule?p:{default:p}}function v(p){return(v=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(f){return n(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":n(f)})(p)}function c(p){return p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function d(p,f){f&&f!==!0&&f!=="true"||(f="");var y="";return(p=p||"untitled")&&p.includes(".")&&(y=p.split(".").pop()),f&&y!==f&&(y=f,p="".concat(p,".").concat(y)),[p,y]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.loadJSON=function(){for(var p=arguments.length,f=new Array(p),y=0;y<p;y++)f[y]=arguments[y];s.default._validateParameters("loadJSON",f);for(var g,_,b,w=f[0],T={},O="json",A=1;A<f.length;A++){var E=f[A];typeof E=="string"?E!=="jsonp"&&E!=="json"||(O=E):typeof E=="function"?g?_=E:g=E:v(E)==="object"&&(E.hasOwnProperty("jsonpCallback")||E.hasOwnProperty("jsonpCallbackFunction"))&&(O="jsonp",b=E)}var C=this;return this.httpDo(w,"GET",b,O,function(I){for(var L in I)T[L]=I[L];g!==void 0&&g(I),C._decrementPreload()},function(I){if(s.default._friendlyFileLoadError(5,w),!_)throw I;_(I)}),T},s.default.prototype.loadStrings=function(){for(var p=arguments.length,f=new Array(p),y=0;y<p;y++)f[y]=arguments[y];s.default._validateParameters("loadStrings",f);for(var g,_,b=[],w=1;w<f.length;w++){var T=f[w];typeof T=="function"&&(g===void 0?g=T:_===void 0&&(_=T))}var O=this;return s.default.prototype.httpDo.call(this,f[0],"GET","text",function(A){for(var E=A.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),C=0,I=E.length;C<I;C+=32768)Array.prototype.push.apply(b,E.slice(C,Math.min(C+32768,I)));g!==void 0&&g(b),O._decrementPreload()},function(A){if(s.default._friendlyFileLoadError(3,A),!_)throw A;_(A)}),b},s.default.prototype.loadTable=function(p){var f,y,g,_=[],b=!1,w=p.substring(p.lastIndexOf(".")+1,p.length);w==="csv"?g=",":w==="ssv"?g=";":w==="tsv"&&(g="	");for(var T=1;T<arguments.length;T++)typeof arguments[T]=="function"?f===void 0?f=arguments[T]:y===void 0&&(y=arguments[T]):typeof arguments[T]=="string"&&(_.push(arguments[T]),arguments[T]==="header"&&(b=!0),arguments[T]==="csv"?g=",":arguments[T]==="ssv"?g=";":arguments[T]==="tsv"&&(g="	"));var O=new s.default.Table,A=this;return this.httpDo(p,"GET","table",function(E){for(var C,I,L={},R=0,D=[],H=0,z=null,B=function(){L.currentState=R,L.token=""},J=function(){z.push(L.token),B()},ee=function(){L.currentState=4,D.push(z),z=null};;){if((C=E[H++])==null){if(L.escaped)throw new Error("Unclosed quote in file.");if(z){J(),ee();break}}if(z===null&&(L.escaped=!1,z=[],B()),L.currentState===R){if(C==='"'){L.escaped=!0,L.currentState=1;continue}L.currentState=1}if(L.currentState===1&&L.escaped)if(C==='"')E[H]==='"'?(L.token+='"',H++):(L.escaped=!1,L.currentState=2);else{if(C==="\r")continue;L.token+=C}else C==="\r"?(E[H]===`
`&&H++,J(),ee()):C===`
`?(J(),ee()):C===g?J():L.currentState===1&&(L.token+=C)}if(b)O.columns=D.shift();else for(var Z=0;Z<D[0].length;Z++)O.columns[Z]="null";for(var q=0;q<D.length;q++)(D[q].length!==1||D[q][0]!=="undefined"&&D[q][0]!=="")&&((I=new s.default.TableRow).arr=D[q],I.obj=function(re,ge){if((ge=ge||[])===void 0)for(var V=0;V<re.length;V++)ge[V.toString()]=V;return Object.fromEntries(ge.map(function(j,G){return[j,re[G]]}))}(D[q],O.columns),O.addRow(I));typeof f=="function"&&f(O),A._decrementPreload()},function(E){s.default._friendlyFileLoadError(2,p),y?y(E):console.error(E)}),O},s.default.prototype.loadXML=function(){for(var p=arguments.length,f=new Array(p),y=0;y<p;y++)f[y]=arguments[y];for(var g,_,b=new s.default.XML,w=1;w<f.length;w++){var T=f[w];typeof T=="function"&&(g===void 0?g=T:_===void 0&&(_=T))}var O=this;return this.httpDo(f[0],"GET","xml",function(A){for(var E in A)b[E]=A[E];g!==void 0&&g(b),O._decrementPreload()},function(A){if(s.default._friendlyFileLoadError(1,A),!_)throw A;_(A)}),b},s.default.prototype.loadBytes=function(p,f,y){var g={},_=this;return this.httpDo(p,"GET","arrayBuffer",function(b){g.bytes=new Uint8Array(b),typeof f=="function"&&f(g),_._decrementPreload()},function(b){if(s.default._friendlyFileLoadError(6,p),!y)throw b;y(b)}),g},s.default.prototype.httpGet=function(){for(var p=arguments.length,f=new Array(p),y=0;y<p;y++)f[y]=arguments[y];return s.default._validateParameters("httpGet",f),f.splice(1,0,"GET"),s.default.prototype.httpDo.apply(this,f)},s.default.prototype.httpPost=function(){for(var p=arguments.length,f=new Array(p),y=0;y<p;y++)f[y]=arguments[y];return s.default._validateParameters("httpPost",f),f.splice(1,0,"POST"),s.default.prototype.httpDo.apply(this,f)},s.default.prototype.httpDo=function(){for(var p,f,y,g={},_=0,b="text/plain",w=arguments.length-1;0<w&&typeof(w<0||arguments.length<=w?void 0:arguments[w])=="function";w--)_++;var T=arguments.length-_,O=arguments.length<=0?void 0:arguments[0];if(T==2&&typeof O=="string"&&v(arguments.length<=1?void 0:arguments[1])==="object")R=new Request(O,arguments.length<=1?void 0:arguments[1]),f=arguments.length<=2?void 0:arguments[2],y=arguments.length<=3?void 0:arguments[3];else{for(var A,E="GET",C=1;C<arguments.length;C++){var I=C<0||arguments.length<=C?void 0:arguments[C];if(typeof I=="string")I==="GET"||I==="POST"||I==="PUT"||I==="DELETE"?E=I:I==="json"||I==="jsonp"||I==="binary"||I==="arrayBuffer"||I==="xml"||I==="text"||I==="table"?p=I:A=I;else if(typeof I=="number")A=I.toString();else if(v(I)==="object")if(I.hasOwnProperty("jsonpCallback")||I.hasOwnProperty("jsonpCallbackFunction"))for(var L in I)g[L]=I[L];else b=I instanceof s.default.XML?(A=I.serialize(),"application/xml"):(A=JSON.stringify(I),"application/json");else typeof I=="function"&&(f?y=I:f=I)}var T=E==="GET"?new Headers:new Headers({"Content-Type":b}),R=new Request(O,{method:E,mode:"cors",body:A,headers:T})}return(T=(T=(p=p||(O.includes("json")?"json":O.includes("xml")?"xml":"text"))==="jsonp"?(0,o.default)(O,g):fetch(R)).then(function(D){if(!D.ok)throw(H=new Error(D.body)).status=D.status,H.ok=!1,H;var H=0;switch((H=p!=="jsonp"?D.headers.get("content-length"):H)&&64e6<H&&s.default._friendlyFileLoadError(7,O),p){case"json":case"jsonp":return D.json();case"binary":return D.blob();case"arrayBuffer":return D.arrayBuffer();case"xml":return D.text().then(function(z){return z=new DOMParser().parseFromString(z,"text/xml"),new s.default.XML(z.documentElement)});default:return D.text()}})).then(f||function(){}),T.catch(y||console.error),T},window.URL=window.URL||window.webkitURL,s.default.prototype._pWriters=[],s.default.prototype.createWriter=function(p,f){var y,g;for(g in s.default.prototype._pWriters)if(s.default.prototype._pWriters[g].name===p)return y=new s.default.PrintWriter(p+this.millis(),f),s.default.prototype._pWriters.push(y),y;return y=new s.default.PrintWriter(p,f),s.default.prototype._pWriters.push(y),y},s.default.PrintWriter=function(p,f){var y=this;this.name=p,this.content="",this.write=function(g){this.content+=g},this.print=function(g){this.content+="".concat(g,`
`)},this.clear=function(){this.content=""},this.close=function(){var g,_=[];for(g in _.push(this.content),s.default.prototype.writeFile(_,p,f),s.default.prototype._pWriters)s.default.prototype._pWriters[g].name===this.name&&s.default.prototype._pWriters.splice(g,1);y.clear(),y={}}},s.default.prototype.save=function(p,f,y){var g=arguments,_=(this._curElement||this).elt;if(g.length===0)s.default.prototype.saveCanvas(_);else if(g[0]instanceof s.default.Renderer||g[0]instanceof s.default.Graphics)s.default.prototype.saveCanvas(g[0].elt,g[1],g[2]);else if(g.length===1&&typeof g[0]=="string")s.default.prototype.saveCanvas(_,g[0]);else switch(d(g[1],g[2])[1]){case"json":return void s.default.prototype.saveJSON(g[0],g[1],g[2]);case"txt":return void s.default.prototype.saveStrings(g[0],g[1],g[2]);default:g[0]instanceof Array?s.default.prototype.saveStrings(g[0],g[1],g[2]):g[0]instanceof s.default.Table?s.default.prototype.saveTable(g[0],g[1],g[2]):g[0]instanceof s.default.Image?s.default.prototype.saveCanvas(g[0].canvas,g[1]):g[0]instanceof s.default.SoundFile&&s.default.prototype.saveSound(g[0],g[1],g[2],g[3])}},s.default.prototype.saveJSON=function(p,f,y){s.default._validateParameters("saveJSON",arguments),y=y?JSON.stringify(p):JSON.stringify(p,void 0,2),this.saveStrings(y.split(`
`),f,"json")},s.default.prototype.saveJSONObject=s.default.prototype.saveJSON,s.default.prototype.saveJSONArray=s.default.prototype.saveJSON,s.default.prototype.saveStrings=function(p,f,y,g){s.default._validateParameters("saveStrings",arguments);for(var _=this.createWriter(f,y||"txt"),b=0;b<p.length;b++)g?_.write(p[b]+`\r
`):_.write(p[b]+`
`);_.close(),_.clear()},s.default.prototype.saveTable=function(p,f,y){s.default._validateParameters("saveTable",arguments),g=y===void 0?f.substring(f.lastIndexOf(".")+1,f.length):y;var g,_=this.createWriter(f,g),b=p.columns,w=g==="tsv"?"	":",";if(g!=="html"){if(b[0]!=="0"){for(var T=0;T<b.length;T++)T<b.length-1?_.write(b[T]+w):_.write(b[T]);_.write(`
`)}for(var O=0;O<p.rows.length;O++){for(var A=void 0,A=0;A<p.rows[O].arr.length;A++)A<p.rows[O].arr.length-1?g==="csv"&&String(p.rows[O].arr[A]).includes(",")?_.write('"'+p.rows[O].arr[A]+'"'+w):_.write(p.rows[O].arr[A]+w):g==="csv"&&String(p.rows[O].arr[A]).includes(",")?_.write('"'+p.rows[O].arr[A]+'"'):_.write(p.rows[O].arr[A]);_.write(`
`)}}else{if(_.print("<html>"),_.print("<head>"),_.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),_.print("</head>"),_.print("<body>"),_.print("  <table>"),b[0]!=="0"){_.print("    <tr>");for(var E=0;E<b.length;E++){var C=c(b[E]);_.print("      <td>".concat(C)),_.print("      </td>")}_.print("    </tr>")}for(var I=0;I<p.rows.length;I++){_.print("    <tr>");for(var L=0;L<p.columns.length;L++){var R=c(p.rows[I].getString(L));_.print("      <td>".concat(R)),_.print("      </td>")}_.print("    </tr>")}_.print("  </table>"),_.print("</body>"),_.print("</html>")}_.close(),_.clear()},s.default.prototype.writeFile=function(_,f,y){var g="application/octet-stream",_=(s.default.prototype._isSafari()&&(g="text/plain"),new Blob(_,{type:g}));s.default.prototype.downloadFile(_,f,y)},s.default.prototype.downloadFile=function(p,_,b){var g,_=d(_,b),b=_[0];p instanceof Blob?u.default.saveAs(p,b):((g=document.createElement("a")).href=p,g.download=b,g.onclick=function(w){document.body.removeChild(w.target),w.stopPropagation()},g.style.display="none",document.body.appendChild(g),s.default.prototype._isSafari()&&(p=(p=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(_[1],'"'),alert(p)),g.click())},s.default.prototype._checkFileExtension=d,s.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},t=s.default,l.default=t},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(t,a,l){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(o,u){for(var m=0;m<u.length;m++){var v=u[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(o,v.key,v)}}n.default.Table=function(){function o(){var c=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],d=this,p=o;if(!(d instanceof p))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=c}var u,m,v;return u=o,(m=[{key:"addRow",value:function(c){if(c=c||new n.default.TableRow,c.arr===void 0||c.obj===void 0)throw new Error("invalid TableRow: ".concat(c));return(c.table=this).rows.push(c),c}},{key:"removeRow",value:function(c){this.rows[c].table=null,c=this.rows.splice(c+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(c)}},{key:"getRow",value:function(c){return this.rows[c]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(c,d){if(typeof d=="string"){for(var p=0;p<this.rows.length;p++)if(this.rows[p].obj[d]===c)return this.rows[p]}else for(var f=0;f<this.rows.length;f++)if(this.rows[f].arr[d]===c)return this.rows[f];return null}},{key:"findRows",value:function(c,d){var p=[];if(typeof d=="string")for(var f=0;f<this.rows.length;f++)this.rows[f].obj[d]===c&&p.push(this.rows[f]);else for(var y=0;y<this.rows.length;y++)this.rows[y].arr[d]===c&&p.push(this.rows[y]);return p}},{key:"matchRow",value:function(c,d){if(typeof d=="number"){for(var p=0;p<this.rows.length;p++)if(this.rows[p].arr[d].match(c))return this.rows[p]}else for(var f=0;f<this.rows.length;f++)if(this.rows[f].obj[d].match(c))return this.rows[f];return null}},{key:"matchRows",value:function(c,d){var p=[];if(typeof d=="number")for(var f=0;f<this.rows.length;f++)this.rows[f].arr[d].match(c)&&p.push(this.rows[f]);else for(var y=0;y<this.rows.length;y++)this.rows[y].obj[d].match(c)&&p.push(this.rows[y]);return p}},{key:"getColumn",value:function(c){var d=[];if(typeof c=="string")for(var p=0;p<this.rows.length;p++)d.push(this.rows[p].obj[c]);else for(var f=0;f<this.rows.length;f++)d.push(this.rows[f].arr[c]);return d}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(c){this.columns.push(c||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(c,d){for(var p=[],f=0;f<c.length;f++)p.push(c.charAt(f).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var y=new RegExp(p.join("|"),"g");if(d===void 0)for(var g=0;g<this.columns.length;g++)for(var _=0;_<this.rows.length;_++){var b=(b=this.rows[_].arr[g]).replace(y,"");this.rows[_].arr[g]=b,this.rows[_].obj[this.columns[g]]=b}else if(typeof d=="string")for(var w=0;w<this.rows.length;w++){var T=(T=this.rows[w].obj[d]).replace(y,""),O=(this.rows[w].obj[d]=T,this.columns.indexOf(d));this.rows[w].arr[O]=T}else for(var A=0;A<this.rows.length;A++){var E=(E=this.rows[A].arr[d]).replace(y,"");this.rows[A].arr[d]=E,this.rows[A].obj[this.columns[d]]=E}}},{key:"trim",value:function(c){var d=new RegExp(" ","g");if(c===void 0)for(var p=0;p<this.columns.length;p++)for(var f=0;f<this.rows.length;f++){var y=(y=this.rows[f].arr[p]).replace(d,"");this.rows[f].arr[p]=y,this.rows[f].obj[this.columns[p]]=y}else if(typeof c=="string")for(var g=0;g<this.rows.length;g++){var _=(_=this.rows[g].obj[c]).replace(d,""),b=(this.rows[g].obj[c]=_,this.columns.indexOf(c));this.rows[g].arr[b]=_}else for(var w=0;w<this.rows.length;w++){var T=(T=this.rows[w].arr[c]).replace(d,"");this.rows[w].arr[c]=T,this.rows[w].obj[this.columns[c]]=T}}},{key:"removeColumn",value:function(f){typeof f=="string"?p=this.columns.indexOf(d=f):d=this.columns[p=f];var d,p,f=this.columns.splice(p+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(f);for(var y=0;y<this.rows.length;y++){var g=this.rows[y].arr,_=g.splice(p+1,g.length);g.pop(),this.rows[y].arr=g.concat(_),delete this.rows[y].obj[d]}}},{key:"set",value:function(c,d,p){this.rows[c].set(d,p)}},{key:"setNum",value:function(c,d,p){this.rows[c].setNum(d,p)}},{key:"setString",value:function(c,d,p){this.rows[c].setString(d,p)}},{key:"get",value:function(c,d){return this.rows[c].get(d)}},{key:"getNum",value:function(c,d){return this.rows[c].getNum(d)}},{key:"getString",value:function(c,d){return this.rows[c].getString(d)}},{key:"getObject",value:function(c){for(var d,p={},f=0;f<this.rows.length;f++)if(d=this.rows[f].obj,typeof c=="string"){if(!(0<=this.columns.indexOf(c)))throw new Error('This table has no column named "'.concat(c,'"'));p[d[c]]=d}else p[f]=this.rows[f].obj;return p}},{key:"getArray",value:function(){for(var c=[],d=0;d<this.rows.length;d++)c.push(this.rows[d].arr);return c}}])&&s(u.prototype,m),v&&s(u,v),o}(),t=n.default,l.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(t,a,l){"use strict";t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function n(s,o){for(var u=0;u<o.length;u++){var m=o[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}t.default.TableRow=function(){function s(v,c){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");var d=[];v&&(d=v.split(c=c||",")),this.arr=d,this.obj=Object.fromEntries(d.entries()),this.table=null}var o,u,m;return o=s,(u=[{key:"set",value:function(v,c){if(typeof v=="string"){var d=this.table.columns.indexOf(v);if(!(0<=d))throw new Error('This table has no column named "'.concat(v,'"'));this.obj[v]=c,this.arr[d]=c}else{if(!(v<this.table.columns.length))throw new Error("Column #".concat(v," is out of the range of this table"));this.arr[v]=c,d=this.table.columns[v],this.obj[d]=c}}},{key:"setNum",value:function(v,c){c=parseFloat(c),this.set(v,c)}},{key:"setString",value:function(v,c){c=c.toString(),this.set(v,c)}},{key:"get",value:function(v){return(typeof v=="string"?this.obj:this.arr)[v]}},{key:"getNum",value:function(v){var c=parseFloat(typeof v=="string"?this.obj[v]:this.arr[v]);if(c.toString()==="NaN")throw"Error: ".concat(this.obj[v]," is NaN (Not a Number)");return c}},{key:"getString",value:function(v){return(typeof v=="string"?this.obj:this.arr)[v].toString()}}])&&n(o.prototype,u),m&&n(o,m),s}(),t=t.default,l.default=t},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(t,a,l){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(u,m){for(var v=0;v<m.length;v++){var c=m[v];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}function o(u){for(var m=[],v=0;v<u.length;v++)m.push(new n.default.XML(u[v]));return m}n.default.XML=function(){function u(d){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");d?this.DOM=d:(d=document.implementation.createDocument(null,"doc"),this.DOM=d.createElement("root"))}var m,v,c;return m=u,(v=[{key:"getParent",value:function(){return new n.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(d){var p=this.DOM.innerHTML,f=this.DOM.attributes,y=document.implementation.createDocument(null,"default").createElement(d);y.innerHTML=p;for(var g=0;g<f.length;g++)y.setAttribute(f[g].nodeName,f[g].nodeValue);this.DOM=y}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var d=[],p=0;p<this.DOM.childNodes.length;p++)d.push(this.DOM.childNodes[p].nodeName);return d}},{key:"getChildren",value:function(d){return o(d?this.DOM.getElementsByTagName(d):this.DOM.children)}},{key:"getChild",value:function(d){if(typeof d!="string")return new n.default.XML(this.DOM.children[d]);var p=!0,f=!1,y=void 0;try{for(var g,_=this.DOM.children[Symbol.iterator]();!(p=(g=_.next()).done);p=!0){var b=g.value;if(b.tagName===d)return new n.default.XML(b)}}catch(w){f=!0,y=w}finally{try{p||_.return==null||_.return()}finally{if(f)throw y}}}},{key:"addChild",value:function(d){d instanceof n.default.XML&&this.DOM.appendChild(d.DOM)}},{key:"removeChild",value:function(d){var p=-1;if(typeof d=="string"){for(var f=0;f<this.DOM.children.length;f++)if(this.DOM.children[f].tagName===d){p=f;break}}else p=d;p!==-1&&this.DOM.removeChild(this.DOM.children[p])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var d=[],p=!0,f=!1,y=void 0;try{for(var g,_=this.DOM.attributes[Symbol.iterator]();!(p=(g=_.next()).done);p=!0){var b=g.value;d.push(b.nodeName)}}catch(w){f=!0,y=w}finally{try{p||_.return==null||_.return()}finally{if(f)throw y}}return d}},{key:"hasAttribute",value:function(d){var p={},f=!0,y=!1,g=void 0;try{for(var _,b=this.DOM.attributes[Symbol.iterator]();!(f=(_=b.next()).done);f=!0){var w=_.value;p[w.nodeName]=w.nodeValue}}catch(T){y=!0,g=T}finally{try{f||b.return==null||b.return()}finally{if(y)throw g}}return!!p[d]}},{key:"getNum",value:function(d,p){var f={},y=!0,g=!1,_=void 0;try{for(var b,w=this.DOM.attributes[Symbol.iterator]();!(y=(b=w.next()).done);y=!0){var T=b.value;f[T.nodeName]=T.nodeValue}}catch(O){g=!0,_=O}finally{try{y||w.return==null||w.return()}finally{if(g)throw _}}return Number(f[d])||p||0}},{key:"getString",value:function(d,p){var f={},y=!0,g=!1,_=void 0;try{for(var b,w=this.DOM.attributes[Symbol.iterator]();!(y=(b=w.next()).done);y=!0){var T=b.value;f[T.nodeName]=T.nodeValue}}catch(O){g=!0,_=O}finally{try{y||w.return==null||w.return()}finally{if(g)throw _}}return f[d]?String(f[d]):p||null}},{key:"setAttribute",value:function(d,p){this.DOM.setAttribute(d,p)}},{key:"getContent",value:function(d){var p=this.DOM.textContent;return(p=p.replace(/\s\s+/g,","))||d||null}},{key:"setContent",value:function(d){this.DOM.children.length||(this.DOM.textContent=d)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&s(m.prototype,v),c&&s(m,c),u}(),t=n.default,l.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(t,a,l){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(o){return function(u){if(Array.isArray(u)){for(var m=0,v=new Array(u.length);m<u.length;m++)v[m]=u[m];return v}}(o)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.default.prototype.abs=Math.abs,n.default.prototype.ceil=Math.ceil,n.default.prototype.constrain=function(o,u,m){return n.default._validateParameters("constrain",arguments),Math.max(Math.min(o,m),u)},n.default.prototype.dist=function(){for(var o=arguments.length,u=new Array(o),m=0;m<o;m++)u[m]=arguments[m];return n.default._validateParameters("dist",u),u.length===4?Math.hypot(u[2]-u[0],u[3]-u[1]):u.length===6?Math.hypot(u[3]-u[0],u[4]-u[1],u[5]-u[2]):void 0},n.default.prototype.exp=Math.exp,n.default.prototype.floor=Math.floor,n.default.prototype.lerp=function(o,u,m){return n.default._validateParameters("lerp",arguments),m*(u-o)+o},n.default.prototype.log=Math.log,n.default.prototype.mag=function(o,u){return n.default._validateParameters("mag",arguments),Math.hypot(o,u)},n.default.prototype.map=function(o,u,m,v,c,d){return n.default._validateParameters("map",arguments),o=(o-u)/(m-u)*(c-v)+v,d?v<c?this.constrain(o,v,c):this.constrain(o,c,v):o},n.default.prototype.max=function(){for(var o=function(c){return Math.max.apply(Math,s(c))},u=arguments.length,m=new Array(u),v=0;v<u;v++)m[v]=arguments[v];return Array.isArray(m[0])?o(m[0]):o(m)},n.default.prototype.min=function(){for(var o=function(c){return Math.min.apply(Math,s(c))},u=arguments.length,m=new Array(u),v=0;v<u;v++)m[v]=arguments[v];return Array.isArray(m[0])?o(m[0]):o(m)},n.default.prototype.norm=function(o,u,m){return n.default._validateParameters("norm",arguments),this.map(o,u,m,0,1)},n.default.prototype.pow=Math.pow,n.default.prototype.round=function(o,u){return u?(u=Math.pow(10,u),Math.round(o*u)/u):Math.round(o)},n.default.prototype.sq=function(o){return o*o},n.default.prototype.sqrt=Math.sqrt,n.default.prototype.fract=function(v){n.default._validateParameters("fract",arguments);var u,m=0,v=Number(v);return isNaN(v)||Math.abs(v)===1/0?v:(v<0&&(v=-v,m=1),String(v).includes(".")&&!String(v).includes("e")?(u=String(v),u=+("0"+u.slice(u.indexOf("."))),Math.abs(m-u)):v<1?Math.abs(m-v):0)},t=n.default,l.default=t},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(t,a,l){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(u,m,v){return(s=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(c,d,p){var f=[null];return f.push.apply(f,d),d=new(Function.bind.apply(c,f)),p&&o(d,p.prototype),d}).apply(null,arguments)}function o(u,m){return(o=Object.setPrototypeOf||function(v,c){return v.__proto__=c,v})(u,m)}n.default.prototype.createVector=function(u,m,v){return this instanceof n.default?s(n.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new n.default.Vector(u,m,v)},t=n.default,l.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(v,a,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,v=(v=v("../core/main"))&&v.__esModule?v:{default:v};function n(c){return .5*(1-Math.cos(c*Math.PI))}var s,o=4095,u=4,m=.5,v=(v.default.prototype.noise=function(c){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(s==null){s=new Array(4096);for(var f=0;f<4096;f++)s[f]=Math.random()}c<0&&(c=-c),d<0&&(d=-d),p<0&&(p=-p);for(var y,g,_=Math.floor(c),b=Math.floor(d),w=Math.floor(p),T=c-_,O=d-b,A=p-w,E=0,C=.5,I=0;I<u;I++){var L=_+(b<<4)+(w<<8),R=n(T),D=n(O),H=s[L&o];H+=R*(s[L+1&o]-H),y=s[L+16&o],H+=D*((y+=R*(s[L+16+1&o]-y))-H),y=s[(L+=256)&o],y+=R*(s[L+1&o]-y),g=s[L+16&o],y+=D*((g+=R*(s[L+16+1&o]-g))-y),E+=(H+=n(A)*(y-H))*C,C*=m,_<<=1,b<<=1,w<<=1,1<=(T*=2)&&(_++,T--),1<=(O*=2)&&(b++,O--),1<=(A*=2)&&(w++,A--)}return E},v.default.prototype.noiseDetail=function(c,d){0<c&&(u=c),0<d&&(m=d)},v.default.prototype.noiseSeed=function(c){f=4294967296;var d,p,f,y={setSeed:function(_){p=d=(_??Math.random()*f)>>>0},getSeed:function(){return d},rand:function(){return(p=(1664525*p+1013904223)%f)/f}};y.setSeed(c),s=new Array(4096);for(var g=0;g<4096;g++)s[g]=y.rand()},v.default);l.default=v},{"../core/main":283}],316:[function(t,a,l){"use strict";function n(d){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}function s(d){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(p){return n(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":n(p)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.string.sub"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(c=t("../core/main"))&&c.__esModule?c:{default:c},u=function(d){if(d&&d.__esModule)return d;if(d===null||s(d)!=="object"&&typeof d!="function")return{default:d};var p=m();if(p&&p.has(d))return p.get(d);var f,y={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in d){var _;Object.prototype.hasOwnProperty.call(d,f)&&((_=g?Object.getOwnPropertyDescriptor(d,f):null)&&(_.get||_.set)?Object.defineProperty(y,f,_):y[f]=d[f])}return y.default=d,p&&p.set(d,y),y}(t("../core/constants"));function m(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,m=function(){return d},d)}function v(d,p){for(var f=0;f<p.length;f++){var y=p[f];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}o.default.Vector=function(){function d(){var w=this,g=d;if(!(w instanceof g))throw new TypeError("Cannot call a class as a function");var _,b,w=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],_=(arguments.length<=2?void 0:arguments[2])||0,b=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(_=(arguments.length<=0?void 0:arguments[0])||0,b=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=_,this.y=b,this.z=w}var p,f,y;return p=d,y=[{key:"fromAngle",value:function(g){var _=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;return new o.default.Vector(_*Math.cos(g),_*Math.sin(g),0)}},{key:"fromAngles",value:function(A,T){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,w=Math.cos(T),T=Math.sin(T),O=Math.cos(A),A=Math.sin(A);return new o.default.Vector(b*A*T,-b*O,b*A*w)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*u.TWO_PI)}},{key:"random3D",value:function(){var g=Math.random()*u.TWO_PI,_=2*Math.random()-1,w=Math.sqrt(1-_*_),b=w*Math.cos(g),w=w*Math.sin(g);return new o.default.Vector(b,w,_)}},{key:"copy",value:function(g){return g.copy(g)}},{key:"add",value:function(){for(var g=arguments.length,_=new Array(g),b=0;b<g;b++)_[b]=arguments[b];var w=_[0],T=_[1],O=_[2];return O?O.set(w):(O=w.copy(),_.length===3&&o.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),O.add(T),O}},{key:"rem",value:function(g,_){if(g instanceof o.default.Vector&&_ instanceof o.default.Vector)return(g=g.copy()).rem(_),g}},{key:"sub",value:function(){for(var g=arguments.length,_=new Array(g),b=0;b<g;b++)_[b]=arguments[b];var w=_[0],T=_[1],O=_[2];return O?O.set(w):(O=w.copy(),_.length===3&&o.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),O.sub(T),O}},{key:"mult",value:function(){for(var g=arguments.length,_=new Array(g),b=0;b<g;b++)_[b]=arguments[b];var w=_[0],T=_[1],O=_[2];return O?O.set(w):(O=w.copy(),_.length===3&&o.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),O.mult(T),O}},{key:"rotate",value:function(){for(var g=arguments.length,_=new Array(g),b=0;b<g;b++)_[b]=arguments[b];var w=_[0],T=_[1],O=_[2];return _.length===2?O=w.copy():(O instanceof o.default.Vector||o.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),O.set(w)),O.rotate(T),O}},{key:"div",value:function(){for(var g=arguments.length,_=new Array(g),b=0;b<g;b++)_[b]=arguments[b];var w=_[0],T=_[1],O=_[2];return O?O.set(w):(O=w.copy(),_.length===3&&o.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),O.div(T),O}},{key:"dot",value:function(g,_){return g.dot(_)}},{key:"cross",value:function(g,_){return g.cross(_)}},{key:"dist",value:function(g,_){return g.dist(_)}},{key:"lerp",value:function(){for(var g=arguments.length,_=new Array(g),b=0;b<g;b++)_[b]=arguments[b];var w=_[0],T=_[1],O=_[2],A=_[3];return A?A.set(w):(A=w.copy(),_.length===4&&o.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),A.lerp(T,O),A}},{key:"slerp",value:function(){for(var g=arguments.length,_=new Array(g),b=0;b<g;b++)_[b]=arguments[b];var w=_[0],T=_[1],O=_[2],A=_[3];return A?A.set(w):(A=w.copy(),_.length===4&&o.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),A.slerp(T,O),A}},{key:"mag",value:function(g){return g.mag()}},{key:"magSq",value:function(g){return g.magSq()}},{key:"normalize",value:function(){for(var g=arguments.length,_=new Array(g),b=0;b<g;b++)_[b]=arguments[b];var w=_[0],T=_[1];return _.length<2?T=w.copy():(T instanceof o.default.Vector||o.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),T.set(w)),T.normalize()}},{key:"limit",value:function(){for(var g=arguments.length,_=new Array(g),b=0;b<g;b++)_[b]=arguments[b];var w=_[0],T=_[1],O=_[2];return _.length<3?O=w.copy():(O instanceof o.default.Vector||o.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),O.set(w)),O.limit(T)}},{key:"setMag",value:function(){for(var g=arguments.length,_=new Array(g),b=0;b<g;b++)_[b]=arguments[b];var w=_[0],T=_[1],O=_[2];return _.length<3?O=w.copy():(O instanceof o.default.Vector||o.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),O.set(w)),O.setMag(T)}},{key:"heading",value:function(g){return g.heading()}},{key:"angleBetween",value:function(g,_){return g.angleBetween(_)}},{key:"reflect",value:function(){for(var g=arguments.length,_=new Array(g),b=0;b<g;b++)_[b]=arguments[b];var w=_[0],T=_[1],O=_[2];return _.length<3?O=w.copy():(O instanceof o.default.Vector||o.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),O.set(w)),O.reflect(T)}},{key:"array",value:function(g){return g.array()}},{key:"equals",value:function(g,_){var b;return g instanceof o.default.Vector?b=g:Array.isArray(g)?b=new o.default.Vector().set(g):o.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),b.equals(_)}}],(f=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(g,_,b){return g instanceof o.default.Vector?(this.x=g.x||0,this.y=g.y||0,this.z=g.z||0):Array.isArray(g)?(this.x=g[0]||0,this.y=g[1]||0,this.z=g[2]||0):(this.x=g||0,this.y=_||0,this.z=b||0),this}},{key:"copy",value:function(){return this.isPInst?new o.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new o.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(g,_,b){return g instanceof o.default.Vector?(this.x+=g.x||0,this.y+=g.y||0,this.z+=g.z||0):Array.isArray(g)?(this.x+=g[0]||0,this.y+=g[1]||0,this.z+=g[2]||0):(this.x+=g||0,this.y+=_||0,this.z+=b||0),this}},{key:"calculateRemainder2D",value:function(g,_){return g!==0&&(this.x=this.x%g),_!==0&&(this.y=this.y%_),this}},{key:"calculateRemainder3D",value:function(g,_,b){return g!==0&&(this.x=this.x%g),_!==0&&(this.y=this.y%_),b!==0&&(this.z=this.z%b),this}},{key:"rem",value:function(){for(var g=arguments.length,_=new Array(g),b=0;b<g;b++)_[b]=arguments[b];var w,T,O,A=_[0],E=_[1],C=_[2];if(A instanceof o.default.Vector){if([A.x,A.y,A.z].every(Number.isFinite))return w=parseFloat(A.x),T=parseFloat(A.y),O=parseFloat(A.z),this.calculateRemainder3D(w,T,O)}else if(Array.isArray(A)){if(A.every(Number.isFinite))return A.length===2?this.calculateRemainder2D(A[0],A[1]):A.length===3?this.calculateRemainder3D(A[0],A[1],A[2]):void 0}else if(_.length===1){if(Number.isFinite(A)&&A!==0)return this.x=this.x%A,this.y=this.y%A,this.z=this.z%A,this}else if(_.length===2){if(_.every(Number.isFinite))return this.calculateRemainder2D(A,E)}else if(_.length===3&&_.every(Number.isFinite))return this.calculateRemainder3D(A,E,C)}},{key:"sub",value:function(g,_,b){return g instanceof o.default.Vector?(this.x-=g.x||0,this.y-=g.y||0,this.z-=g.z||0):Array.isArray(g)?(this.x-=g[0]||0,this.y-=g[1]||0,this.z-=g[2]||0):(this.x-=g||0,this.y-=_||0,this.z-=b||0),this}},{key:"mult",value:function(){for(var g=arguments.length,_=new Array(g),b=0;b<g;b++)_[b]=arguments[b];var w,T=_[0],O=_[1],A=_[2];return T instanceof o.default.Vector?Number.isFinite(T.x)&&Number.isFinite(T.y)&&Number.isFinite(T.z)&&typeof T.x=="number"&&typeof T.y=="number"&&typeof T.z=="number"?(this.x*=T.x,this.y*=T.y,this.z*=T.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(T)?T.every(function(E){return Number.isFinite(E)})&&T.every(function(E){return typeof E=="number"})?T.length===1?(this.x*=T[0],this.y*=T[0],this.z*=T[0]):T.length===2?(this.x*=T[0],this.y*=T[1]):T.length===3&&(this.x*=T[0],this.y*=T[1],this.z*=T[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(w=_).every(function(E){return Number.isFinite(E)})&&w.every(function(E){return typeof E=="number"})?(_.length===1&&(this.x*=T,this.y*=T,this.z*=T),_.length===2&&(this.x*=T,this.y*=O),_.length===3&&(this.x*=T,this.y*=O,this.z*=A)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var g=arguments.length,_=new Array(g),b=0;b<g;b++)_[b]=arguments[b];var w=_[0],T=_[1],O=_[2];if(w instanceof o.default.Vector)if(Number.isFinite(w.x)&&Number.isFinite(w.y)&&Number.isFinite(w.z)&&typeof w.x=="number"&&typeof w.y=="number"&&typeof w.z=="number"){var A=w.z===0&&this.z===0;if(w.x===0||w.y===0||!A&&w.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=w.x,this.y/=w.y,A||(this.z/=w.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(w))if(w.every(Number.isFinite)&&w.every(function(E){return typeof E=="number"})){if(w.some(function(E){return E===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;w.length===1?(this.x/=w[0],this.y/=w[0],this.z/=w[0]):w.length===2?(this.x/=w[0],this.y/=w[1]):w.length===3&&(this.x/=w[0],this.y/=w[1],this.z/=w[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(_.every(Number.isFinite)&&_.every(function(E){return typeof E=="number"})){if(_.some(function(E){return E===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;_.length===1&&(this.x/=w,this.y/=w,this.z/=w),_.length===2&&(this.x/=w,this.y/=T),_.length===3&&(this.x/=w,this.y/=T,this.z/=O)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var g=this.x,_=this.y,b=this.z;return g*g+_*_+b*b}},{key:"dot",value:function(g,_,b){return g instanceof o.default.Vector?this.dot(g.x,g.y,g.z):this.x*(g||0)+this.y*(_||0)+this.z*(b||0)}},{key:"cross",value:function(w){var _=this.y*w.z-this.z*w.y,b=this.z*w.x-this.x*w.z,w=this.x*w.y-this.y*w.x;return this.isPInst?new o.default.Vector(this._fromRadians,this._toRadians,_,b,w):new o.default.Vector(_,b,w)}},{key:"dist",value:function(g){return g.copy().sub(this).mag()}},{key:"normalize",value:function(){var g=this.mag();return g!==0&&this.mult(1/g),this}},{key:"limit",value:function(g){var _=this.magSq();return g*g<_&&this.div(Math.sqrt(_)).mult(g),this}},{key:"setMag",value:function(g){return this.normalize().mult(g)}},{key:"heading",value:function(){var g=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(g):g}},{key:"setHeading",value:function(g){this.isPInst&&(g=this._toRadians(g));var _=this.mag();return this.x=_*Math.cos(g),this.y=_*Math.sin(g),this}},{key:"rotate",value:function(_){var _=this.heading()+_,b=(this.isPInst&&(_=this._toRadians(_)),this.mag());return this.x=Math.cos(_)*b,this.y=Math.sin(_)*b,this}},{key:"angleBetween",value:function(g){var _;return this.magSq()*g.magSq()==0?NaN:(_=this.cross(g),g=Math.atan2(_.mag(),this.dot(g))*Math.sign(_.z||1),this.isPInst?this._fromRadians(g):g)}},{key:"lerp",value:function(g,_,b,w){return g instanceof o.default.Vector?this.lerp(g.x,g.y,g.z,_):(this.x+=(g-this.x)*w||0,this.y+=(_-this.y)*w||0,this.z+=(b-this.z)*w||0,this)}},{key:"slerp",value:function(g,_){if(_!==0){if(_===1)return this.set(g);var b=this.mag(),w=g.mag();if(b*w==0)this.mult(1-_).add(g.x*_,g.y*_,g.z*_);else{var T=this.cross(g),O=T.mag(),A=Math.atan2(O,this.dot(g));if(0<O)T.x/=O,T.y/=O,T.z/=O;else{if(A<.5*Math.PI)return this.mult(1-_).add(g.x*_,g.y*_,g.z*_),this;this.z===0&&g.z===0?T.set(0,0,1):this.x!==0?T.set(this.y,-this.x,0).normalize():T.set(1,0,0)}O=T.cross(this),g=1-_+_*w/b,T=g*Math.cos(_*A),w=g*Math.sin(_*A),this.x=this.x*T+O.x*w,this.y=this.y*T+O.y*w,this.z=this.z*T+O.z*w}}return this}},{key:"reflect",value:function(g){return g=o.default.Vector.normalize(g),this.sub(g.mult(2*this.dot(g)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(O,_,b){var w,T,O=O instanceof o.default.Vector?(w=O.x||0,T=O.y||0,O.z||0):Array.isArray(O)?(w=O[0]||0,T=O[1]||0,O[2]||0):(w=O||0,T=_||0,b||0);return this.x===w&&this.y===T&&this.z===O}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(g){return Math.abs(+(g||0))<=Number.EPSILON?0:g}}])&&v(p.prototype,f),y&&v(p,y),d}();var c=o.default.Vector;l.default=c},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(m,a,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=(m=m("../core/main"))&&m.__esModule?m:{default:m},s="_lcg_random_state",o=4294967296,u=0,m=(n.default.prototype._lcg=function(v){return this[v]=(1664525*this[v]+1013904223)%o,this[v]/o},n.default.prototype._lcgSetSeed=function(v,c){this[v]=(c??Math.random()*o)>>>0},n.default.prototype.randomSeed=function(v){this._lcgSetSeed(s,v),this._gaussian_previous=!1},n.default.prototype.random=function(v,c){var d,p;return n.default._validateParameters("random",arguments),d=this[s]!=null?this._lcg(s):Math.random(),v===void 0?d:c===void 0?Array.isArray(v)?v[Math.floor(d*v.length)]:d*v:(c<v&&(p=v,v=c,c=p),d*(c-v)+v)},n.default.prototype.randomGaussian=function(v){var c,d,p,f,y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)c=u,this._gaussian_previous=!1;else{for(;1<=(f=(d=this.random(2)-1)*d+(p=this.random(2)-1)*p););c=d*(f=Math.sqrt(-2*Math.log(f)/f)),u=p*f,this._gaussian_previous=!0}return c*y+(v||0)},n.default);l.default=m},{"../core/main":283}],318:[function(t,a,l){"use strict";function n(c){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function s(c){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(d){return n(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":n(d)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(v=t("../core/main"))&&v.__esModule?v:{default:v},u=function(c){if(c&&c.__esModule)return c;if(c===null||s(c)!=="object"&&typeof c!="function")return{default:c};var d=m();if(d&&d.has(c))return d.get(c);var p,f={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in c){var g;Object.prototype.hasOwnProperty.call(c,p)&&((g=y?Object.getOwnPropertyDescriptor(c,p):null)&&(g.get||g.set)?Object.defineProperty(f,p,g):f[p]=c[p])}return f.default=c,d&&d.set(c,f),f}(t("../core/constants"));function m(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,m=function(){return c},c)}o.default.prototype._angleMode=u.RADIANS,o.default.prototype.acos=function(c){return this._fromRadians(Math.acos(c))},o.default.prototype.asin=function(c){return this._fromRadians(Math.asin(c))},o.default.prototype.atan=function(c){return this._fromRadians(Math.atan(c))},o.default.prototype.atan2=function(c,d){return this._fromRadians(Math.atan2(c,d))},o.default.prototype.cos=function(c){return Math.cos(this._toRadians(c))},o.default.prototype.sin=function(c){return Math.sin(this._toRadians(c))},o.default.prototype.tan=function(c){return Math.tan(this._toRadians(c))},o.default.prototype.degrees=function(c){return c*u.RAD_TO_DEG},o.default.prototype.radians=function(c){return c*u.DEG_TO_RAD},o.default.prototype.angleMode=function(c){if(o.default._validateParameters("angleMode",arguments),c===void 0)return this._angleMode;c!==u.DEGREES&&c!==u.RADIANS||c!==this._angleMode&&(c===u.RADIANS?(this._setProperty("pRotationX",this.pRotationX*u.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*u.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*u.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*u.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*u.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*u.RAD_TO_DEG)),this._angleMode=c)},o.default.prototype._toRadians=function(c){return this._angleMode===u.DEGREES?c*u.DEG_TO_RAD:c},o.default.prototype._toDegrees=function(c){return this._angleMode===u.RADIANS?c*u.RAD_TO_DEG:c},o.default.prototype._fromRadians=function(c){return this._angleMode===u.DEGREES?c*u.RAD_TO_DEG:c},o.default.prototype._fromDegrees=function(c){return this._angleMode===u.RADIANS?c*u.DEG_TO_RAD:c};var v=o.default;l.default=v},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(t,a,l){"use strict";t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=(t=t("../core/main"))&&t.__esModule?t:{default:t};n.default.prototype.textAlign=function(s,o){var u;return n.default._validateParameters("textAlign",arguments),(u=this._renderer).textAlign.apply(u,arguments)},n.default.prototype.textLeading=function(s){var o;return n.default._validateParameters("textLeading",arguments),(o=this._renderer).textLeading.apply(o,arguments)},n.default.prototype.textSize=function(s){var o;return n.default._validateParameters("textSize",arguments),(o=this._renderer).textSize.apply(o,arguments)},n.default.prototype.textStyle=function(s){var o;return n.default._validateParameters("textStyle",arguments),(o=this._renderer).textStyle.apply(o,arguments)},n.default.prototype.textWidth=function(){for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];if(o[0]+="",n.default._validateParameters("textWidth",o),o[0].length===0)return 0;for(var m=o[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),v=[],c=0;c<m.length;c++)v.push(this._renderer.textWidth(m[c]));return Math.max.apply(Math,v)},n.default.prototype.textAscent=function(){for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];return n.default._validateParameters("textAscent",o),this._renderer.textAscent()},n.default.prototype.textDescent=function(){for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];return n.default._validateParameters("textDescent",o),this._renderer.textDescent()},n.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},n.default.prototype.textWrap=function(s){return n.default._validateParameters("textWrap",[s]),this._renderer.textWrap(s)},t=n.default,l.default=t},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(t,a,l){"use strict";function n(p){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function s(p){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(f){return n(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":n(f)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(d=t("../core/main"))&&d.__esModule?d:{default:d},u=c(t("../core/constants")),m=c(t("opentype.js"));function v(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,v=function(){return p},p)}function c(p){if(p&&p.__esModule)return p;if(p===null||s(p)!=="object"&&typeof p!="function")return{default:p};var f=v();if(f&&f.has(p))return f.get(p);var y,g,_={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in p)Object.prototype.hasOwnProperty.call(p,y)&&((g=b?Object.getOwnPropertyDescriptor(p,y):null)&&(g.get||g.set)?Object.defineProperty(_,y,g):_[y]=p[y]);return _.default=p,f&&f.set(p,_),_}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),o.default.prototype.loadFont=function(p,f,y){o.default._validateParameters("loadFont",arguments);var g=new o.default.Font(this),_=this;return m.load(p,function(T,O){if(T)return o.default._friendlyFileLoadError(4,p),y!==void 0?y(T):void console.error(T,p);g.font=O,f!==void 0&&f(g),_._decrementPreload();var T=p.split("\\").pop().split("/").pop(),O=T.lastIndexOf("."),A=O<1?null:T.slice(O+1);["ttf","otf","woff","woff2"].includes(A)&&(A=T.slice(0,O!==-1?O:0),(T=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(A,`;
src: url(`).concat(p,`);
}
`))),document.head.appendChild(T))}),g},o.default.prototype.text=function(p,f,y,g,_){var b;return o.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(b=this._renderer).text.apply(b,arguments):this},o.default.prototype.textFont=function(p,f){if(o.default._validateParameters("textFont",arguments),arguments.length){if(p)return this._renderer._setProperty("_textFont",p),f&&(this._renderer._setProperty("_textSize",f),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",f*u._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var d=o.default;l.default=d},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(t,a,l){"use strict";function n(E){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(E)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(s=t("../core/main"))&&s.__esModule?s:{default:s},o=function(E){if(E&&E.__esModule)return E;if(E===null||m(E)!=="object"&&typeof E!="function")return{default:E};var C=u();if(C&&C.has(E))return C.get(E);var I,L={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(I in E){var D;Object.prototype.hasOwnProperty.call(E,I)&&((D=R?Object.getOwnPropertyDescriptor(E,I):null)&&(D.get||D.set)?Object.defineProperty(L,I,D):L[I]=E[I])}return L.default=E,C&&C.set(E,L),L}(t("../core/constants"));function u(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,u=function(){return E},E)}function m(E){return(m=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(C){return n(C)}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":n(C)})(E)}function v(E,C){for(var I=0;I<C.length;I++){var L=C[I];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(E,L.key,L)}}function c(E,C){var I=E.length;return E[C<0?C%I+I:C%I]}function d(E,C,I,L){var R,D,H;return L?(d.tmpPoint1===void 0&&(d.tmpPoint1=[],d.tmpPoint2=[]),D=d.tmpPoint1,H=d.tmpPoint2,D.x=C.x-E.x,D.y=C.y-E.y,H.x=I.x-C.x,H.y=I.y-C.y,R=D.x*H.x+D.y*H.y,D=Math.sqrt(D.x*D.x+D.y*D.y),H=Math.sqrt(H.x*H.x+H.y*H.y),Math.acos(R/(D*H))<L):(C[0]-E[0])*(I[1]-E[1])-(I[0]-E[0])*(C[1]-E[1])==0}function p(j,K,G,ae,Q,D,H,z,B){var J=1-B,Z=Math.pow(J,3),q=Math.pow(J,2),V=B*B,re=V*B,ee=Z*j+3*q*B*G+3*J*B*B*Q+re*H,Z=Z*K+3*q*B*ae+3*J*B*B*D+re*z,q=j+2*B*(G-j)+V*(Q-2*G+j),re=K+2*B*(ae-K)+V*(D-2*ae+K),ge=G+2*B*(Q-G)+V*(H-2*Q+G),V=ae+2*B*(D-ae)+V*(z-2*D+ae),j=J*j+B*G,G=J*K+B*ae,K=J*Q+B*H,ae=J*D+B*z,Q=90-180*Math.atan2(q-ge,re-V)/Math.PI;return(ge<q||re<V)&&(Q+=180),{x:ee,y:Z,m:{x:q,y:re},n:{x:ge,y:V},start:{x:j,y:G},end:{x:K,y:ae},alpha:Q}}function f(E,C,I,L,R,D,H,z,B){return B==null?O(E,C,I,L,R,D,H,z):p(E,C,I,L,R,D,H,z,function(J,ee,Z,q,re,ge,V,j,G){if(!(G<0||O(J,ee,Z,q,re,ge,V,j)<G)){var K,ae=.5,Q=1-ae;for(K=O(J,ee,Z,q,re,ge,V,j,Q);.01<Math.abs(K-G);)K=O(J,ee,Z,q,re,ge,V,j,Q+=(K<G?1:-1)*(ae/=2));return Q}}(E,C,I,L,R,D,H,z,B))}function y(E,C,I){for(var L,R,D,H,z,B=0,J=0,ee=(E=function(Z,q){function re(xe,ke,Te){var Ae,Pe;if(!xe)return["C",ke.x,ke.y,ke.x,ke.y,ke.x,ke.y];switch(xe[0]in{T:1,Q:1}||(ke.qx=ke.qy=null),xe[0]){case"M":ke.X=xe[1],ke.Y=xe[2];break;case"A":xe=["C"].concat(_.apply(0,[ke.x,ke.y].concat(xe.slice(1))));break;case"S":Pe=Te==="C"||Te==="S"?(Ae=2*ke.x-ke.bx,2*ke.y-ke.by):(Ae=ke.x,ke.y),xe=["C",Ae,Pe].concat(xe.slice(1));break;case"T":Te==="Q"||Te==="T"?(ke.qx=2*ke.x-ke.qx,ke.qy=2*ke.y-ke.qy):(ke.qx=ke.x,ke.qy=ke.y),xe=["C"].concat(T(ke.x,ke.y,ke.qx,ke.qy,xe[1],xe[2]));break;case"Q":ke.qx=xe[1],ke.qy=xe[2],xe=["C"].concat(T(ke.x,ke.y,xe[1],xe[2],xe[3],xe[4]));break;case"L":xe=["C"].concat(w(ke.x,ke.y,xe[1],xe[2]));break;case"H":xe=["C"].concat(w(ke.x,ke.y,xe[1],ke.y));break;case"V":xe=["C"].concat(w(ke.x,ke.y,ke.x,xe[1]));break;case"Z":xe=["C"].concat(w(ke.x,ke.y,ke.X,ke.Y))}return xe}function ge(xe,ke){if(7<xe[ke].length){xe[ke].shift();for(var Te=xe[ke];Te.length;)oe[ke]="A",K&&(W[ke]="A"),xe.splice(ke++,0,["C"].concat(Te.splice(0,6)));xe.splice(ke,1),j=Math.max(G.length,K&&K.length||0)}}function V(xe,ke,Te,Ae,Pe){xe&&ke&&xe[Pe][0]==="M"&&ke[Pe][0]!=="M"&&(ke.splice(Pe,0,["M",Ae.x,Ae.y]),Te.bx=0,Te.by=0,Te.x=xe[Pe][1],Te.y=xe[Pe][2],j=Math.max(G.length,K&&K.length||0))}var j,G=g(Z),K=q&&g(q),ae={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Q={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},oe=[],W=[],Y="",ne="";j=Math.max(G.length,K&&K.length||0);for(var ue=0;ue<j;ue++){(Y=G[ue]?G[ue][0]:Y)!=="C"&&(oe[ue]=Y,ue&&(ne=oe[ue-1])),G[ue]=re(G[ue],ae,ne),oe[ue]!=="A"&&Y==="C"&&(oe[ue]="C"),ge(G,ue),K&&((Y=K[ue]?K[ue][0]:Y)!=="C"&&(W[ue]=Y,ue&&(ne=W[ue-1])),K[ue]=re(K[ue],Q,ne),W[ue]!=="A"&&Y==="C"&&(W[ue]="C"),ge(K,ue)),V(G,K,ae,Q,ue),V(K,G,Q,ae,ue);var se=G[ue],pe=K&&K[ue],ve=se.length,fe=K&&pe.length;ae.x=se[ve-2],ae.y=se[ve-1],ae.bx=parseFloat(se[ve-4])||ae.x,ae.by=parseFloat(se[ve-3])||ae.y,Q.bx=K&&(parseFloat(pe[fe-4])||Q.x),Q.by=K&&(parseFloat(pe[fe-3])||Q.y),Q.x=K&&pe[fe-2],Q.y=K&&pe[fe-1]}return K?[G,K]:G}(E)).length;J<ee;J++){if((D=E[J])[0]==="M")L=+D[1],R=+D[2];else{if(C<B+(H=f(L,R,D[1],D[2],D[3],D[4],D[5],D[6]))&&!I)return{x:(z=f(L,R,D[1],D[2],D[3],D[4],D[5],D[6],C-B)).x,y:z.y,alpha:z.alpha};B+=H,L=+D[5],R=+D[6]}D.shift()}return z=(z=I?B:p(L,R,D[0],D[1],D[2],D[3],D[4],D[5],1)).alpha?{x:z.x,y:z.y,alpha:z.alpha}:z}function g(E){var C=[],I=0,L=0,R=0,D=0,H=0;if(E){E[0][0]==="M"&&(R=I=+E[0][1],D=L=+E[0][2],H++,C[0]=["M",I,L]);for(var z,B,J=E.length===3&&E[0][0]==="M"&&E[1][0].toUpperCase()==="R"&&E[2][0].toUpperCase()==="Z",ee=H,Z=E.length;ee<Z;ee++){if(C.push(z=[]),(B=E[ee])[0]!==B[0].toUpperCase())switch(z[0]=B[0].toUpperCase(),z[0]){case"A":z[1]=B[1],z[2]=B[2],z[3]=B[3],z[4]=B[4],z[5]=B[5],z[6]=+(B[6]+I),z[7]=+(B[7]+L);break;case"V":z[1]=+B[1]+L;break;case"H":z[1]=+B[1]+I;break;case"R":for(var q,re=2,ge=(q=[I,L].concat(B.slice(1))).length;re<ge;re++)q[re]=+q[re]+I,q[++re]=+q[re]+L;C.pop(),C=C.concat(b(q,J));break;case"M":R=+B[1]+I,D=+B[2]+L;break;default:for(var V=1,j=B.length;V<j;V++)z[V]=+B[V]+(V%2?I:L)}else if(B[0]==="R")q=[I,L].concat(B.slice(1)),C.pop(),C=C.concat(b(q,J)),z=["R"].concat(B.slice(-2));else for(var G=0,K=B.length;G<K;G++)z[G]=B[G];switch(z[0]){case"Z":I=R,L=D;break;case"H":I=z[1];break;case"V":L=z[1];break;case"M":R=z[z.length-2],D=z[z.length-1];break;default:I=z[z.length-2],L=z[z.length-1]}}}return C}function _(E,C,I,L,K,oe,ae,z,B,J){function ee(fe,xe,ke){return{x:fe*Math.cos(ke)-xe*Math.sin(ke),y:fe*Math.sin(ke)+xe*Math.cos(ke)}}var Z,j=Math.PI,G=120*j/180,q=j/180*(+K||0),re=[],ge=(J?(ue=J[0],Z=J[1],Y=J[2],ne=J[3]):(E=(Q=ee(E,C,-q)).x,C=Q.y,1<(ge=(V=(E-(z=(Q=ee(z,B,-q)).x))/2)*V/(I*I)+(Q=(C-(B=Q.y))/2)*Q/(L*L))&&(I*=ge=Math.sqrt(ge),L*=ge),ge=I*I,W=L*L,Y=(oe=(oe===ae?-1:1)*Math.sqrt(Math.abs((ge*W-ge*Q*Q-W*V*V)/(ge*Q*Q+W*V*V))))*I*Q/L+(E+z)/2,ne=oe*-L*V/I+(C+B)/2,ue=Math.asin(((C-ne)/L).toFixed(9)),Z=Math.asin(((B-ne)/L).toFixed(9)),(ue=E<Y?j-ue:ue)<0&&(ue=2*j+ue),(Z=z<Y?j-Z:Z)<0&&(Z=2*j+Z),ae&&Z<ue&&(ue-=2*j),!ae&&ue<Z&&(Z-=2*j)),Z-ue),V=(Math.abs(ge)>G&&(W=Z,Q=z,oe=B,Z=ue+G*(ae&&ue<Z?1:-1),re=_(z=Y+I*Math.cos(Z),B=ne+L*Math.sin(Z),I,L,K,0,ae,Q,oe,[Z,W,Y,ne])),ge=Z-ue,Math.cos(ue)),j=Math.sin(ue),G=Math.cos(Z),K=Math.sin(Z),ae=Math.tan(ge/4),Q=4/3*I*ae,oe=4/3*L*ae,W=[E,C],Y=[E+Q*j,C-oe*V],ne=[z+Q*K,B-oe*G],ue=[z,B];if(Y[0]=2*W[0]-Y[0],Y[1]=2*W[1]-Y[1],J)return[Y,ne,ue].concat(re);for(var se=[],pe=0,ve=(re=[Y,ne,ue].concat(re).join().split(",")).length;pe<ve;pe++)se[pe]=pe%2?ee(re[pe-1],re[pe],q).y:ee(re[pe],re[pe+1],q).x;return se}function b(E,C){for(var I=[],L=0,R=E.length;L<R-2*!C;L+=2){var D=[{x:+E[L-2],y:+E[L-1]},{x:+E[L],y:+E[L+1]},{x:+E[L+2],y:+E[L+3]},{x:+E[L+4],y:+E[L+5]}];C?L?R-4===L?D[3]={x:+E[0],y:+E[1]}:R-2===L&&(D[2]={x:+E[0],y:+E[1]},D[3]={x:+E[2],y:+E[3]}):D[0]={x:+E[R-2],y:+E[R-1]}:R-4===L?D[3]=D[2]:L||(D[0]={x:+E[L],y:+E[L+1]}),I.push(["C",(-D[0].x+6*D[1].x+D[2].x)/6,(-D[0].y+6*D[1].y+D[2].y)/6,(D[1].x+6*D[2].x-D[3].x)/6,(D[1].y+6*D[2].y-D[3].y)/6,D[2].x,D[2].y])}return I}function w(E,C,I,L){return[E,C,I,L,I,L]}function T(E,C,I,L,R,D){return[1/3*E+2/3*I,1/3*C+2/3*L,1/3*R+2/3*I,1/3*D+2/3*L,R,D]}function O(E,C,I,L,R,D,H,z,B){for(var J=(B=1<(B=B??1)?1:B<0?0:B)/2,ee=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Z=0,q=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],re=0;re<12;re++){var V=J*ee[re]+J,ge=A(V,E,I,R,H),V=A(V,C,L,D,z);Z+=q[re]*Math.sqrt(ge*ge+V*V)}return J*Z}function A(E,C,I,L,R){return E*(E*(-3*C+9*I-9*L+3*R)+6*C-12*I+6*L)-3*C+3*I}s.default.Font=function(){function E(R){if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");this.parent=R,this.cache={},this.font=void 0}var C,I,L;return C=E,(I=[{key:"textBounds",value:function(R){var D=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,H=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,ee=3<arguments.length?arguments[3]:void 0,z=4<arguments.length?arguments[4]:void 0,B=z&&z.renderer&&z.renderer._pInst||this.parent,J=B._renderer.drawingContext,ee=(J.textAlign||o.LEFT,J.textBaseline||o.BASELINE,ee||B._renderer._textSize);if(!oe){for(var Z=[],q=[],re=[],ge=(re[0]=[],[]),V=this._scale(ee),j=B._renderer.textLeading(),G=0,K=(this.font.forEachGlyph(R,D,H,ee,z,function(ne,ue,se,pe){var ve=ne.getMetrics();ne.index===0?re[G+=1]=[]:(re[G].push(ue+ve.xMin*V),re[G].push(ue+ve.xMax*V),ge.push(se+G*j+-ve.yMin*V),ge.push(se+G*j+-ve.yMax*V))}),0<re[G].length&&(Z[G]=Math.min.apply(null,re[G]),q[G]=Math.max.apply(null,re[G])),0),ae=0;ae<=G;ae++){Z[ae]=Math.min.apply(null,re[ae]),q[ae]=Math.max.apply(null,re[ae]);var Q=q[ae]-Z[ae];K<Q&&(K=Q)}var J=Math.min.apply(null,Z),oe={x:J,y:H=Math.min.apply(null,ge),h:Math.max.apply(null,ge)-H,w:K,advance:J-D},ee=this._handleAlignment(B._renderer,R,oe.x,oe.y,oe.w+oe.advance);oe.x=ee.x,oe.y=ee.y}return oe}},{key:"textToPoints",value:function(R,D,H,z,B){var J=D,ee=[],Z=R.split(/\r?\n|\r|\n/g);z=z||this.parent._renderer._textSize;for(var q,re,ge,V=0;V<Z.length;V++){var j=0;D=J;for(var G=(G=Z[V]).replace("	","  "),K=this._getGlyphs(G),ae=0;ae<K.length;ae++){if(re=G,!((ge=K)[q=ae].name&&ge[q].name==="space"||re.length===ge.length&&re[q]===" "))for(var Q=function(ne){for(var ue,se=[],pe=0;pe<ne.length;pe++)ne[pe].type==="M"&&(ue&&se.push(ue),ue=[]),ue.push(function(ve){var fe=[ve.type];return ve.type==="M"||ve.type==="L"?fe.push(ve.x,ve.y):ve.type==="C"?fe.push(ve.x1,ve.y1,ve.x2,ve.y2,ve.x,ve.y):ve.type==="Q"&&fe.push(ve.x1,ve.y1,ve.x,ve.y),fe}(ne[pe]));return se.push(ue),se}(K[ae].getPath(D,H,z).commands),oe=0;oe<Q.length;oe++)for(var W=function(ne,ue){for(var ue=function(ke,Te){if(m(ke)!=="object")ke=Te;else for(var Ae in Te)ke[Ae]===void 0&&(ke[Ae]=Te[Ae]);return ke}(ue,{sampleFactor:.1,simplifyThreshold:0}),se=y(ne,0,1),pe=se/(se*ue.sampleFactor),ve=[],fe=0;fe<se;fe+=pe)ve.push(y(ne,fe));return ue.simplifyThreshold&&function(xe){for(var ke=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,Te=0,Ae=xe.length-1;3<xe.length&&0<=Ae;--Ae)d(c(xe,Ae-1),c(xe,Ae),c(xe,Ae+1),ke)&&(xe.splice(Ae%xe.length,1),Te++)}(ve,ue.simplifyThreshold),ve}(Q[oe],B),Y=0;Y<W.length;Y++)W[Y].x+=j,ee.push(W[Y]);j+=K[ae].advanceWidth*this._scale(z)}H+=this.parent._renderer._textLeading}return ee}},{key:"_getGlyphs",value:function(R){return this.font.stringToGlyphs(R)}},{key:"_getPath",value:function(R,J,H,z){var B=(z&&z.renderer&&z.renderer._pInst||this.parent)._renderer,J=this._handleAlignment(B,R,J,H);return this.font.getPath(R,J.x,J.y,B._textSize,z)}},{key:"_getPathData",value:function(R,D,H,z){var B=3;return typeof R=="string"&&2<arguments.length?R=this._getPath(R,D,H,z):m(D)==="object"&&(z=D),z&&typeof z.decimals=="number"&&(B=z.decimals),R.toPathData(B)}},{key:"_getSVG",value:function(R,D,H,z){var B=3;return typeof R=="string"&&2<arguments.length?R=this._getPath(R,D,H,z):m(D)==="object"&&(z=D),z&&(typeof z.decimals=="number"&&(B=z.decimals),typeof z.strokeWidth=="number"&&(R.strokeWidth=z.strokeWidth),z.fill!==void 0&&(R.fill=z.fill),z.stroke!==void 0&&(R.stroke=z.stroke)),R.toSVG(B)}},{key:"_renderPath",value:function(ee,q,re,z){var B=z&&z.renderer||this.parent._renderer,J=B.drawingContext,ee=(m(ee)==="object"&&ee.commands?ee:this._getPath(ee,q,re,z)).commands,Z=(B._clipping||J.beginPath(),!0),q=!1,re=void 0;try{for(var ge,V=ee[Symbol.iterator]();!(Z=(ge=V.next()).done);Z=!0){var j=ge.value;j.type==="M"?J.moveTo(j.x,j.y):j.type==="L"?J.lineTo(j.x,j.y):j.type==="C"?J.bezierCurveTo(j.x1,j.y1,j.x2,j.y2,j.x,j.y):j.type==="Q"?J.quadraticCurveTo(j.x1,j.y1,j.x,j.y):j.type==="Z"&&J.closePath()}}catch(G){q=!0,re=G}finally{try{Z||V.return==null||V.return()}finally{if(q)throw re}}return B._doStroke&&B._strokeSet&&!B._clipping&&J.stroke(),B._doFill&&!B._clipping&&(B._fillSet||B._setFill(o._DEFAULT_TEXT_FILL),J.fill()),this}},{key:"_textWidth",value:function(R,D){return this.font.getAdvanceWidth(R,D)}},{key:"_textAscent",value:function(R){return this.font.ascender*this._scale(R)}},{key:"_textDescent",value:function(R){return-this.font.descender*this._scale(R)}},{key:"_scale",value:function(R){return 1/this.font.unitsPerEm*(R||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(R,D,H,z,B){var J=R._textSize;switch(B===void 0&&(B=this._textWidth(D,J)),R._textAlign){case o.CENTER:H-=B/2;break;case o.RIGHT:H-=B}switch(R._textBaseline){case o.TOP:z+=this._textAscent(J);break;case o.CENTER:z+=this._textAscent(J)/2;break;case o.BOTTOM:z-=this._textDescent(J)}return{x:H,y:z}}}])&&v(C.prototype,I),L&&v(C,L),E}(),t=s.default,l.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(t,a,l){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(n,s){return n.push(s),n},t.default.prototype.arrayCopy=function(n,s,o,u,m){var v,c;n=m!==void 0?(c=Math.min(m,n.length),v=u,n.slice(s,c+s)):(c=o!==void 0?(c=o,Math.min(c,n.length)):n.length,o=s,n.slice(v=0,c)),Array.prototype.splice.apply(o,[v,c].concat(n))},t.default.prototype.concat=function(n,s){return n.concat(s)},t.default.prototype.reverse=function(n){return n.reverse()},t.default.prototype.shorten=function(n){return n.pop(),n},t.default.prototype.shuffle=function(n,s){for(var o,u,m=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(n),v=(n=s||m?n:n.slice()).length;1<v;)o=this.random(0,1)*v|0,u=n[--v],n[v]=n[o],n[o]=u;return n},t.default.prototype.sort=function(n,u){var o=u?n.slice(0,Math.min(u,n.length)):n,u=u?n.slice(Math.min(u,n.length)):[];return(o=typeof o[0]=="string"?o.sort():o.sort(function(m,v){return m-v})).concat(u)},t.default.prototype.splice=function(n,s,o){return Array.prototype.splice.apply(n,[o,0].concat(s)),n},t.default.prototype.subset=function(n,s,o){return o!==void 0?n.slice(s,s+o):n.slice(s,n.length)},t=t.default,l.default=t},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(t,a,l){"use strict";t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=(t=t("../core/main"))&&t.__esModule?t:{default:t};n.default.prototype.float=function(s){return s instanceof Array?s.map(parseFloat):parseFloat(s)},n.default.prototype.int=function(s){var o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return s===1/0||s==="Infinity"?1/0:s===-1/0||s==="-Infinity"?-1/0:typeof s=="string"?parseInt(s,o):typeof s=="number"?0|s:typeof s=="boolean"?s?1:0:s instanceof Array?s.map(function(u){return n.default.prototype.int(u,o)}):void 0},n.default.prototype.str=function(s){return s instanceof Array?s.map(n.default.prototype.str):String(s)},n.default.prototype.boolean=function(s){return typeof s=="number"?s!==0:typeof s=="string"?s.toLowerCase()==="true":typeof s=="boolean"?s:s instanceof Array?s.map(n.default.prototype.boolean):void 0},n.default.prototype.byte=function(s){return s=n.default.prototype.int(s,10),typeof s=="number"?(s+128)%256-128:s instanceof Array?s.map(n.default.prototype.byte):void 0},n.default.prototype.char=function(s){return typeof s!="number"||isNaN(s)?s instanceof Array?s.map(n.default.prototype.char):typeof s=="string"?n.default.prototype.char(parseInt(s,10)):void 0:String.fromCharCode(s)},n.default.prototype.unchar=function(s){return typeof s=="string"&&s.length===1?s.charCodeAt(0):s instanceof Array?s.map(n.default.prototype.unchar):void 0},n.default.prototype.hex=function(s,o){if(o=o??8,s instanceof Array)return s.map(function(m){return n.default.prototype.hex(m,o)});if(s===1/0||s===-1/0)return(s===1/0?"F":"0").repeat(o);if(typeof s=="number"){s<0&&(s=4294967295+s+1);for(var u=Number(s).toString(16).toUpperCase();u.length<o;)u="0".concat(u);return u=u.length>=o?u.substring(u.length-o,u.length):u}},n.default.prototype.unhex=function(s){return s instanceof Array?s.map(n.default.prototype.unhex):parseInt("0x".concat(s),16)},t=n.default,l.default=t},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(t,a,l){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=(c=t("../core/main"))&&c.__esModule?c:{default:c};function s(d,p){return function(f){if(Array.isArray(f))return f}(d)||function(f,y){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]"){var g=[],_=!0,b=!1,w=void 0;try{for(var T,O=f[Symbol.iterator]();!(_=(T=O.next()).done)&&(g.push(T.value),!y||g.length!==y);_=!0);}catch(A){b=!0,w=A}finally{try{_||O.return==null||O.return()}finally{if(b)throw w}}return g}}(d,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(d,p,f){var g=s(d.toString().split("."),2),y=g[0],g=g[1];return f===void 0?(y=y.padStart(p,"0"),g?y+"."+g:y):(y=(d=s(d.toFixed(f).toString().split("."),2))[0],g=d[1],y=y.padStart(p,"0"),g===void 0?y:y+"."+g)}function u(g,p){var f=(g=g.toString()).indexOf("."),y=f!==-1?g.substring(f):"",g=(g=f!==-1?g.substring(0,f):g).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(p===0)y="";else if(p!==void 0)if(p>y.length)for(var _=p-(y+=f===-1?".":"").length+1,b=0;b<_;b++)y+="0";else y=y.substring(0,p+1);return g+y}function m(d){return 0<parseFloat(d)?"+".concat(d.toString()):d.toString()}function v(d){return 0<=parseFloat(d)?" ".concat(d.toString()):d.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),n.default.prototype.join=function(d,p){return n.default._validateParameters("join",arguments),d.join(p)},n.default.prototype.match=function(d,p){return n.default._validateParameters("match",arguments),d.match(p)},n.default.prototype.matchAll=function(d,p){n.default._validateParameters("matchAll",arguments);for(var f=new RegExp(p,"g"),y=f.exec(d),g=[];y!==null;)g.push(y),y=f.exec(d);return g},n.default.prototype.nf=function(d,p,f){return n.default._validateParameters("nf",arguments),d instanceof Array?d.map(function(y){return o(y,p,f)}):Object.prototype.toString.call(d)==="[object Arguments]"?d.length===3?this.nf(d[0],d[1],d[2]):d.length===2?this.nf(d[0],d[1]):this.nf(d[0]):o(d,p,f)},n.default.prototype.nfc=function(d,p){return n.default._validateParameters("nfc",arguments),d instanceof Array?d.map(function(f){return u(f,p)}):u(d,p)},n.default.prototype.nfp=function(){for(var d=arguments.length,p=new Array(d),f=0;f<d;f++)p[f]=arguments[f];n.default._validateParameters("nfp",p);var y=n.default.prototype.nf.apply(this,p);return y instanceof Array?y.map(m):m(y)},n.default.prototype.nfs=function(){for(var d=arguments.length,p=new Array(d),f=0;f<d;f++)p[f]=arguments[f];n.default._validateParameters("nfs",p);var y=n.default.prototype.nf.apply(this,p);return y instanceof Array?y.map(v):v(y)},n.default.prototype.split=function(d,p){return n.default._validateParameters("split",arguments),d.split(p)},n.default.prototype.splitTokens=function(d,p){var f,y;return n.default._validateParameters("splitTokens",arguments),y=p!==void 0?(y=/\]/g.exec(p=p),(f=/\[/g.exec(p))&&y?(p=p.slice(0,y.index)+p.slice(y.index+1),f=/\[/g.exec(p),p=p.slice(0,f.index)+p.slice(f.index+1),new RegExp("[\\[".concat(p,"\\]]"),"g")):y?(p=p.slice(0,y.index)+p.slice(y.index+1),new RegExp("[".concat(p,"\\]]"),"g")):f?(p=p.slice(0,f.index)+p.slice(f.index+1),new RegExp("[".concat(p,"\\[]"),"g")):new RegExp("[".concat(p,"]"),"g")):/\s/g,d.split(y).filter(function(g){return g})},n.default.prototype.trim=function(d){return n.default._validateParameters("trim",arguments),d instanceof Array?d.map(this.trim):d.trim()};var c=n.default;l.default=c},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(t,a,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,l.default=t},{"../core/main":283}],326:[function(t,a,l){"use strict";function n(d){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}function s(d){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(p){return n(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":n(p)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(c=t("../core/main"))&&c.__esModule?c:{default:c},u=(t("./p5.Geometry"),function(d){if(d&&d.__esModule)return d;if(d===null||s(d)!=="object"&&typeof d!="function")return{default:d};var p=m();if(p&&p.has(d))return p.get(d);var f,y={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in d){var _;Object.prototype.hasOwnProperty.call(d,f)&&((_=g?Object.getOwnPropertyDescriptor(d,f):null)&&(_.get||_.set)?Object.defineProperty(y,f,_):y[f]=d[f])}return y.default=d,p&&p.set(d,y),y}(t("../core/constants")));function m(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,m=function(){return d},d)}o.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},o.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},o.default.prototype.buildGeometry=function(d){return this._renderer.buildGeometry(d)},o.default.prototype.freeGeometry=function(d){this._renderer._freeBuffers(d.gid)},o.default.prototype.plane=function(){var d,p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:p,y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,_=(this._assert3d("plane"),o.default._validateParameters("plane",arguments),"plane|".concat(y,"|").concat(g));return this._renderer.geometryInHash(_)||((d=new o.default.Geometry(y,g,function(){for(var b,w,T=0;T<=this.detailY;T++)for(var O=T/this.detailY,A=0;A<=this.detailX;A++)b=A/this.detailX,w=new o.default.Vector(b-.5,O-.5,0),this.vertices.push(w),this.uvs.push(b,O)})).computeFaces().computeNormals(),y<=1&&g<=1?d._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(_,d)),this._renderer.drawBuffersScaled(_,p,f,1),this},o.default.prototype.box=function(d,p,f,y,g){this._assert3d("box"),o.default._validateParameters("box",arguments),d===void 0&&(d=50),p===void 0&&(p=d),f===void 0&&(f=p);var _,b=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,b=(g===void 0&&(g=b?1:4),"box|".concat(y=y===void 0?b?1:4:y,"|").concat(g));return this._renderer.geometryInHash(b)||((_=new o.default.Geometry(y,g,function(){var w=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(T,O){for(var O=4*O,A=0;A<4;A++){var E=T[A],E=new o.default.Vector((2*(1&E)-1)/2,((2&E)-1)/2,((4&E)/2-1)/2);w.vertices.push(E),w.uvs.push(1&A,(2&A)/2)}w.faces.push([O,1+O,2+O]),w.faces.push([2+O,1+O,3+O])})})).computeNormals(),y<=4&&g<=4?_._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(b,_)),this._renderer.drawBuffersScaled(b,d,p,f),this},o.default.prototype.sphere=function(){var d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:24,f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:16;return this._assert3d("sphere"),o.default._validateParameters("sphere",arguments),this.ellipsoid(d,d,d,p,f),this};function v(d,p,f,y,g,_,b){d=d<=0?1:d,p=p<0?0:p,f=f<=0?d:f,y=y<3?3:y;for(var w,T,O=(_=_===void 0||_)?-2:0,A=(g=g<1?1:g)+((b=b===void 0?p!==0:b)?2:0),E=Math.atan2(d-p,f),C=Math.sin(E),I=Math.cos(E),L=O;L<=A;++L){var R=L/g,D=f*R,H=void 0,H=L<0?(R=D=0,d):g<L?(D=f,R=1,p):d+(p-d)*R;for(L!==-2&&L!==g+2||(H=0),D-=f/2,w=0;w<y;++w){var z=w/(y-1),J=2*Math.PI*z,B=Math.sin(J),J=Math.cos(J),ee=(this.vertices.push(new o.default.Vector(B*H,D,J*H)),void 0),ee=L<0?new o.default.Vector(0,-1,0):g<L&&p?new o.default.Vector(0,1,0):new o.default.Vector(B*I,C,J*I);this.vertexNormals.push(ee),this.uvs.push(z,R)}}var Z=0;if(_){for(T=0;T<y;++T)this.faces.push([Z+T,Z+y+(T+1)%y,Z+y+T]);Z+=2*y}for(L=0;L<g;++L){for(w=0;w<y;++w){var q=(w+1)%y;this.faces.push([Z+w,Z+q,Z+y+q]),this.faces.push([Z+w,Z+y+q,Z+y+w])}Z+=y}if(b)for(Z+=y,w=0;w<y;++w)this.faces.push([Z+w,Z+(w+1)%y,Z+y])}o.default.prototype.cylinder=function(){var d,p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:p,y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,_=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],b=!(5<arguments.length&&arguments[5]!==void 0)||arguments[5],w=(this._assert3d("cylinder"),o.default._validateParameters("cylinder",arguments),"cylinder|".concat(y,"|").concat(g,"|").concat(_,"|").concat(b));return this._renderer.geometryInHash(w)||(d=new o.default.Geometry(y,g),v.call(d,1,1,1,y,g,_,b),y<=24&&g<=16?d._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(w,d)),this._renderer.drawBuffersScaled(w,p,f,p),this},o.default.prototype.cone=function(){var d,p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:p,y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,_=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],b=(this._assert3d("cone"),o.default._validateParameters("cone",arguments),"cone|".concat(y,"|").concat(g,"|").concat(_));return this._renderer.geometryInHash(b)||(d=new o.default.Geometry(y,g),v.call(d,1,0,1,y,g,_,!1),y<=24&&g<=16?d._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(b,d)),this._renderer.drawBuffersScaled(b,p,f,p),this},o.default.prototype.ellipsoid=function(){var d,p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:p,y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:p,g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:24,_=4<arguments.length&&arguments[4]!==void 0?arguments[4]:16,b=(this._assert3d("ellipsoid"),o.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(g,"|").concat(_));return this._renderer.geometryInHash(b)||((d=new o.default.Geometry(g,_,function(){for(var w=0;w<=this.detailY;w++)for(var T=w/this.detailY,O=Math.PI*T-Math.PI/2,A=Math.cos(O),E=Math.sin(O),C=0;C<=this.detailX;C++){var I=C/this.detailX,R=2*Math.PI*I,L=Math.cos(R),R=Math.sin(R),R=new o.default.Vector(A*R,E,A*L);this.vertices.push(R),this.vertexNormals.push(R),this.uvs.push(I,T)}})).computeFaces(),g<=24&&_<=24?d._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(b,d)),this._renderer.drawBuffersScaled(b,p,f,y),this},o.default.prototype.torus=function(d,b,f,y){if(this._assert3d("torus"),o.default._validateParameters("torus",arguments),d===void 0)d=50;else if(!d)return;if(b===void 0)b=10;else if(!b)return;f===void 0&&(f=24),y===void 0&&(y=16);var g,_=(b/d).toPrecision(4),b="torus|".concat(_,"|").concat(f,"|").concat(y);return this._renderer.geometryInHash(b)||((g=new o.default.Geometry(f,y,function(){for(var w=0;w<=this.detailY;w++)for(var T=w/this.detailY,O=2*Math.PI*T,A=Math.cos(O),E=Math.sin(O),C=1+_*A,I=0;I<=this.detailX;I++){var L=I/this.detailX,R=2*Math.PI*L,H=Math.cos(R),R=Math.sin(R),D=new o.default.Vector(C*H,C*R,_*E),H=new o.default.Vector(A*H,A*R,E);this.vertices.push(D),this.vertexNormals.push(H),this.uvs.push(L,T)}})).computeFaces(),f<=24&&y<=16?g._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(b,g)),this._renderer.drawBuffersScaled(b,d,d,d),this},o.default.RendererGL.prototype.point=function(d,p){var f=[];return f.push(new o.default.Vector(d,p,2<arguments.length&&arguments[2]!==void 0?arguments[2]:0)),this._drawPoints(f,this.immediateMode.buffers.point),this},o.default.RendererGL.prototype.triangle=function(b){var p=b[0],f=b[1],y=b[2],g=b[3],_=b[4],b=b[5],w=(this.geometryInHash("tri")||((w=new o.default.Geometry(1,1,function(){var A=[];A.push(new o.default.Vector(0,0,0)),A.push(new o.default.Vector(1,0,0)),A.push(new o.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=A,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),w.computeNormals(),this.createBuffers("tri",w)),this.uModelMatrix.copy());try{var T=Math.sign(p*g-y*f+y*b-_*g+_*f-p*b),O=new o.default.Matrix([y-p,g-f,0,0,_-p,b-f,0,0,0,0,T,0,p,f,0,1]).mult(this.uModelMatrix);this.uModelMatrix=O,this.drawBuffers("tri")}finally{this.uModelMatrix=w}return this},o.default.RendererGL.prototype.ellipse=function(d){this.arc(d[0],d[1],d[2],d[3],0,u.TWO_PI,u.OPEN,d[4])},o.default.RendererGL.prototype.arc=function(){var d,p=arguments.length<=0?void 0:arguments[0],f=arguments.length<=1?void 0:arguments[1],y=arguments.length<=2?void 0:arguments[2],g=arguments.length<=3?void 0:arguments[3],_=arguments.length<=4?void 0:arguments[4],b=arguments.length<=5?void 0:arguments[5],w=arguments.length<=6?void 0:arguments[6],T=(arguments.length<=7?void 0:arguments[7])||25,O=(Math.abs(b-_)>=u.TWO_PI?"".concat(A="ellipse","|"):"".concat(A="arc","|").concat(_,"|").concat(b,"|").concat(w,"|")).concat(T,"|"),A=(this.geometryInHash(O)||((d=new o.default.Geometry(T,1,function(){if(_.toFixed(10)!==b.toFixed(10)){w!==u.PIE&&w!==void 0||(this.vertices.push(new o.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var E=0;E<=T;E++){var I=(b-_)*(E/T)+_,C=.5+Math.cos(I)/2,I=.5+Math.sin(I)/2;this.vertices.push(new o.default.Vector(C,I,0)),this.uvs.push([C,I]),E<T-1&&(this.faces.push([0,E+1,E+2]),this.edges.push([E+1,E+2]))}switch(w){case u.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case u.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case u.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),T<=50?d._edgesToVertices(d):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(A," with more than 50 detail")),this.createBuffers(O,d)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([p,f,0]),this.uModelMatrix.scale(y,g,1),this.drawBuffers(O)}finally{this.uModelMatrix=A}return this},o.default.RendererGL.prototype.rect=function(d){var p=d[0],f=d[1],y=d[2],g=d[3];if(d[4]===void 0){var w=this._pInst._glAttributes.perPixelLighting,_=d[4]||(w?1:24),b=d[5]||(w?1:16),w="rect|".concat(_,"|").concat(b),T=(this.geometryInHash(w)||((T=new o.default.Geometry(_,b,function(){for(var ee=0;ee<=this.detailY;ee++)for(var Z=ee/this.detailY,q=0;q<=this.detailX;q++){var re=q/this.detailX,ge=new o.default.Vector(re,Z,0);this.vertices.push(ge),this.uvs.push(re,Z)}0<_&&0<b&&(this.edges=[[0,_],[_,(_+1)*(b+1)-1],[(_+1)*(b+1)-1,(_+1)*b],[(_+1)*b,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(w,T)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([p,f,0]),this.uModelMatrix.scale(y,g,1),this.drawBuffers(w)}finally{this.uModelMatrix=T}}else{var w=d[4],T=d[5]===void 0?w:d[5],O=d[6]===void 0?T:d[6],d=d[7]===void 0?O:d[7],R=y,A=g,I=((R+=p)<p&&(I=p,p=R,R=I),(A+=f)<f&&(I=f,f=A,A=I),Math.min((R-p)/2,(A-f)/2)),E=(I<w&&(w=I),I<T&&(T=I),I<O&&(O=I),I<d&&(d=I),p),C=f,I=R,p=A,L=(this.beginShape(),T!==0?(this.vertex(I-T,C),this.quadraticVertex(I,C,I,C+T)):this.vertex(I,C),O!==0?(this.vertex(I,p-O),this.quadraticVertex(I,p,I-O,p)):this.vertex(I,p),d!==0?(this.vertex(E+d,p),this.quadraticVertex(E,p,E,p-d)):this.vertex(E,p),w!==0?(this.vertex(E,C+w),this.quadraticVertex(E,C,E+w,C)):this.vertex(E,C),!(this.immediateMode.geometry.uvs.length=0)),f=!1,R=void 0;try{for(var D,H=this.immediateMode.geometry.vertices[Symbol.iterator]();!(L=(D=H.next()).done);L=!0){var z=D.value,B=(z.x-E)/y,J=(z.y-C)/g;this.immediateMode.geometry.uvs.push(B,J)}}catch(V){f=!0,R=V}finally{try{L||H.return==null||H.return()}finally{if(f)throw R}}this.endShape(u.CLOSE)}return this},o.default.RendererGL.prototype.quad=function(d,p,f,y,g,_,b,w,T,O,A,E){var C=12<arguments.length&&arguments[12]!==void 0?arguments[12]:2,I=13<arguments.length&&arguments[13]!==void 0?arguments[13]:2,L="quad|".concat(d,"|").concat(p,"|").concat(f,"|").concat(y,"|").concat(g,"|").concat(_,"|").concat(b,"|").concat(w,"|").concat(T,"|").concat(O,"|").concat(A,"|").concat(E,"|").concat(C,"|").concat(I);if(!this.geometryInHash(L)){var R=new o.default.Geometry(C,I,function(){for(var q=1/(this.detailX-1),re=1/(this.detailY-1),ge=0;ge<this.detailY;ge++)for(var V=0;V<this.detailX;V++){var j=V*q,G=ge*re;this.vertices.push(new o.default.Vector((1-j)*((1-G)*d+G*O)+j*((1-G)*y+G*b),(1-j)*((1-G)*p+G*A)+j*((1-G)*g+G*w),(1-j)*((1-G)*f+G*E)+j*((1-G)*_+G*T))),this.uvs.push([j,G])}});R.faces=[];for(var D=0;D<I-1;D++)for(var H=0;H<C-1;H++){var z=H+D*C,B=H+1+(D+1)*C,J=H+(D+1)*C;R.faces.push([z,H+1+D*C,B]),R.faces.push([z,B,J])}R.computeNormals();for(var ee=[R.edges.length=0,2,3,1],Z=0;Z<ee.length;Z++)R.edges.push([ee[Z],ee[(Z+1)%ee.length]]);R._edgesToVertices(),this.createBuffers(L,R)}return this.drawBuffers(L),this},o.default.RendererGL.prototype.bezier=function(d,p,f,y,g,_,b,w,T,O,A,E){arguments.length===8&&(A=w,O=b,w=_,b=g,g=y,y=f,f=_=T=E=0);var C=this._pInst._bezierDetail||20;this.beginShape();for(var I=0;I<=C;I++){var L=Math.pow(1-I/C,3),R=I/C*3*Math.pow(1-I/C,2),D=3*Math.pow(I/C,2)*(1-I/C),H=Math.pow(I/C,3);this.vertex(d*L+y*R+b*D+O*H,p*L+g*R+w*D+A*H,f*L+_*R+T*D+E*H)}return this.endShape(),this},o.default.RendererGL.prototype.curve=function(d,p,f,y,g,_,b,w,T,O,A,E){arguments.length===8&&(O=b,A=w,b=g,w=y,g=y=f,f=_=T=E=0);var C=this._pInst._curveDetail;this.beginShape();for(var I=0;I<=C;I++){var L=.5*Math.pow(I/C,3),R=.5*Math.pow(I/C,2),D=I/C*.5;this.vertex(L*(3*y-d-3*b+O)+R*(2*d-5*y+4*b-O)+D*(-d+b)+2*y*.5,L*(3*g-p-3*w+A)+R*(2*p-5*g+4*w-A)+D*(-p+w)+2*g*.5,L*(3*_-f-3*T+E)+R*(2*f-5*_+4*T-E)+D*(-f+T)+2*_*.5)}return this.endShape(),this},o.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(u.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(u.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},o.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var d,p,f,y,g,_,b=[],w=[],T=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var O=1/this._lutBezierDetail,A=0,E=1,C=0;A<1;){if(_=parseFloat(A.toFixed(6)),this._lookUpTableBezier[C]=this._bezierCoefficients(_),E.toFixed(6)===O.toFixed(6)){_=parseFloat(E.toFixed(6))+parseFloat(A.toFixed(6)),++C,this._lookUpTableBezier[C]=this._bezierCoefficients(_);break}A+=O,E-=O,++C}}for(var I=this._lookUpTableBezier.length,L=[],R=0;R<4;R++)L.push([]);L[0]=this.immediateMode.geometry.vertexColors.slice(-4),L[3]=this.curFillColor.slice();var D=[];for(R=0;R<4;R++)D.push([]);if(D[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),D[3]=this.curStrokeColor.slice(),T===6){this.isBezier=!0;var b=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],w=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],H=Math.hypot(b[0]-b[1],w[0]-w[1]),B=Math.hypot(b[1]-b[2],w[1]-w[2]),z=Math.hypot(b[2]-b[3],w[2]-w[3]),B=H+B+z;for(H/=B,z/=B,g=0;g<4;g++)L[1].push(L[0][g]*(1-H)+L[3][g]*H),L[2].push(L[0][g]*z+L[3][g]*(1-z)),D[1].push(D[0][g]*(1-H)+D[3][g]*H),D[2].push(D[0][g]*z+D[3][g]*(1-z));for(y=0;y<I;y++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],R=d=p=0;R<4;R++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableBezier[y][R]*L[R][g],this.curStrokeColor[g]+=this._lookUpTableBezier[y][R]*D[R][g];d+=b[R]*this._lookUpTableBezier[y][R],p+=w[R]*this._lookUpTableBezier[y][R]}this.vertex(d,p)}this.curFillColor=L[3],this.curStrokeColor=D[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(T===9){this.isBezier=!0,b=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],w=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var J=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],ee=Math.hypot(b[0]-b[1],w[0]-w[1],J[0]-J[1]),B=Math.hypot(b[1]-b[2],w[1]-w[2],J[1]-J[2]),Z=Math.hypot(b[2]-b[3],w[2]-w[3],J[2]-J[3]),T=ee+B+Z;for(ee/=T,Z/=T,g=0;g<4;g++)L[1].push(L[0][g]*(1-ee)+L[3][g]*ee),L[2].push(L[0][g]*Z+L[3][g]*(1-Z)),D[1].push(D[0][g]*(1-ee)+D[3][g]*ee),D[2].push(D[0][g]*Z+D[3][g]*(1-Z));for(y=0;y<I;y++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],R=d=p=f=0;R<4;R++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableBezier[y][R]*L[R][g],this.curStrokeColor[g]+=this._lookUpTableBezier[y][R]*D[R][g];d+=b[R]*this._lookUpTableBezier[y][R],p+=w[R]*this._lookUpTableBezier[y][R],f+=J[R]*this._lookUpTableBezier[y][R]}this.vertex(d,p,f)}this.curFillColor=L[3],this.curStrokeColor=D[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},o.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var d,p,f,y,g,_,b=[],w=[],T=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var O=1/this._lutQuadraticDetail,A=0,E=1,C=0;A<1;){if(_=parseFloat(A.toFixed(6)),this._lookUpTableQuadratic[C]=this._quadraticCoefficients(_),E.toFixed(6)===O.toFixed(6)){_=parseFloat(E.toFixed(6))+parseFloat(A.toFixed(6)),++C,this._lookUpTableQuadratic[C]=this._quadraticCoefficients(_);break}A+=O,E-=O,++C}}for(var I=this._lookUpTableQuadratic.length,L=[],R=0;R<3;R++)L.push([]);L[0]=this.immediateMode.geometry.vertexColors.slice(-4),L[2]=this.curFillColor.slice();var D=[];for(R=0;R<3;R++)D.push([]);if(D[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),D[2]=this.curStrokeColor.slice(),T===4){this.isQuadratic=!0;var b=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],w=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],H=Math.hypot(b[0]-b[1],w[0]-w[1]);for(H/=H+Math.hypot(b[1]-b[2],w[1]-w[2]),g=0;g<4;g++)L[1].push(L[0][g]*(1-H)+L[2][g]*H),D[1].push(D[0][g]*(1-H)+D[2][g]*H);for(y=0;y<I;y++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],R=d=p=0;R<3;R++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableQuadratic[y][R]*L[R][g],this.curStrokeColor[g]+=this._lookUpTableQuadratic[y][R]*D[R][g];d+=b[R]*this._lookUpTableQuadratic[y][R],p+=w[R]*this._lookUpTableQuadratic[y][R]}this.vertex(d,p)}this.curFillColor=L[2],this.curStrokeColor=D[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(T===6){this.isQuadratic=!0,b=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],w=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var z=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],B=Math.hypot(b[0]-b[1],w[0]-w[1],z[0]-z[1]);for(B/=B+Math.hypot(b[1]-b[2],w[1]-w[2],z[1]-z[2]),g=0;g<4;g++)L[1].push(L[0][g]*(1-B)+L[2][g]*B),D[1].push(D[0][g]*(1-B)+D[2][g]*B);for(y=0;y<I;y++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],R=d=p=f=0;R<3;R++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableQuadratic[y][R]*L[R][g],this.curStrokeColor[g]+=this._lookUpTableQuadratic[y][R]*D[R][g];d+=b[R]*this._lookUpTableQuadratic[y][R],p+=w[R]*this._lookUpTableQuadratic[y][R],f+=z[R]*this._lookUpTableQuadratic[y][R]}this.vertex(d,p,f)}this.curFillColor=L[2],this.curStrokeColor=D[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},o.default.RendererGL.prototype.curveVertex=function(){var d,p,f,y,g,_,b=[],w=[],T=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var O=1/this._lutBezierDetail,A=0,E=1,C=0;A<1;){if(_=parseFloat(A.toFixed(6)),this._lookUpTableBezier[C]=this._bezierCoefficients(_),E.toFixed(6)===O.toFixed(6)){_=parseFloat(E.toFixed(6))+parseFloat(A.toFixed(6)),++C,this._lookUpTableBezier[C]=this._bezierCoefficients(_);break}A+=O,E-=O,++C}}var I=this._lookUpTableBezier.length;if(T===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,b=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),w=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),g=0;g<I;g++)p=b[0]*this._lookUpTableBezier[g][0]+b[1]*this._lookUpTableBezier[g][1]+b[2]*this._lookUpTableBezier[g][2]+b[3]*this._lookUpTableBezier[g][3],f=w[0]*this._lookUpTableBezier[g][0]+w[1]*this._lookUpTableBezier[g][1]+w[2]*this._lookUpTableBezier[g][2]+w[3]*this._lookUpTableBezier[g][3],this.vertex(p,f);for(g=0;g<T;g++)this.immediateMode._curveVertex.shift()}}else if(T===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,b=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),w=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),d=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),g=0;g<I;g++)p=b[0]*this._lookUpTableBezier[g][0]+b[1]*this._lookUpTableBezier[g][1]+b[2]*this._lookUpTableBezier[g][2]+b[3]*this._lookUpTableBezier[g][3],f=w[0]*this._lookUpTableBezier[g][0]+w[1]*this._lookUpTableBezier[g][1]+w[2]*this._lookUpTableBezier[g][2]+w[3]*this._lookUpTableBezier[g][3],y=d[0]*this._lookUpTableBezier[g][0]+d[1]*this._lookUpTableBezier[g][1]+d[2]*this._lookUpTableBezier[g][2]+d[3]*this._lookUpTableBezier[g][3],this.vertex(p,f,y);for(g=0;g<T;g++)this.immediateMode._curveVertex.shift()}},o.default.RendererGL.prototype.image=function(d,E,f,C,g,_,b,w,T){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(d),this._pInst.textureMode(u.NORMAL);var O=0,A=(E<=d.width&&(O=E/d.width),1),E=(E+C<=d.width&&(A=(E+C)/d.width),0),C=(f<=d.height&&(E=f/d.height),1);f+g<=d.height&&(C=(f+g)/d.height),this.beginShape(),this.vertex(_,b,0,O,E),this.vertex(_+w,b,0,A,E),this.vertex(_+w,b+T,0,A,C),this.vertex(_,b+T,0,O,C),this.endShape(u.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(u.REMOVE)};var c=o.default;l.default=c},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(t,a,l){"use strict";function n(p){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function s(p){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(f){return n(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":n(f)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(d=t("../core/main"))&&d.__esModule?d:{default:d},u=function(p){if(p&&p.__esModule)return p;if(p===null||s(p)!=="object"&&typeof p!="function")return{default:p};var f=m();if(f&&f.has(p))return f.get(p);var y,g={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in p){var b;Object.prototype.hasOwnProperty.call(p,y)&&((b=_?Object.getOwnPropertyDescriptor(p,y):null)&&(b.get||b.set)?Object.defineProperty(g,y,b):g[y]=p[y])}return g.default=p,f&&f.set(p,g),g}(t("../core/constants"));function m(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,m=function(){return p},p)}function v(p){return function(f){if(Array.isArray(f)){for(var y=0,g=new Array(f.length);y<f.length;y++)g[y]=f[y];return g}}(p)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(p,f){for(var y=0;y<f.length;y++){var g=f[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}var d=function(){function p(_){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");(this.renderer=_)._pInst.push(),this.identityMatrix=new o.default.Matrix,_.uModelMatrix=new o.default.Matrix,this.geometry=new o.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(p.nextGeometryId),p.nextGeometryId++,this.hasTransform=!1}var f,y,g;return f=p,(y=[{key:"transformVertices",value:function(_){var b=this;return this.hasTransform?_.map(function(w){return b.renderer.uModelMatrix.multiplyPoint(w)}):_}},{key:"transformNormals",value:function(_){var b=this;return this.hasTransform?_.map(function(w){return b.renderer.uNMatrix.multiplyVec3(w)}):_}},{key:"addGeometry",value:function(_){for(var b,w=this,T=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(A,E){return A===w.identityMatrix.mat4[E]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),O=((b=this.geometry.vertices).push.apply(b,v(this.transformVertices(_.vertices))),(b=this.geometry.vertexNormals).push.apply(b,v(this.transformNormals(_.vertexNormals))),(b=this.geometry.uvs).push.apply(b,v(_.uvs)),this.renderer._doFill&&(b=this.geometry.faces).push.apply(b,v(_.faces.map(function(A){return A.map(function(E){return E+T})}))),this.renderer._doStroke&&(b=this.geometry.edges).push.apply(b,v(_.edges.map(function(A){return A.map(function(E){return E+T})}))),v(_.vertexColors));O.length<4*_.vertices.length;)O.push.apply(O,v(this.renderer.curFillColor));(b=this.geometry.vertexColors).push.apply(b,v(O))}},{key:"addImmediate",value:function(){var _=this.renderer.immediateMode.geometry,b=this.renderer.immediateMode.shapeMode,w=[];if(this.renderer._doFill)if(b===u.TRIANGLE_STRIP||b===u.QUAD_STRIP)for(var T=2;T<_.vertices.length;T++)T%2==0?w.push([T,T-1,T-2]):w.push([T,T-2,T-1]);else if(b===u.TRIANGLE_FAN)for(var O=2;O<_.vertices.length;O++)w.push([0,O-1,O]);else for(var A=0;A<_.vertices.length;A+=3)w.push([A,A+1,A+2]);this.addGeometry(Object.assign({},_,{faces:w}))}},{key:"addRetained",value:function(_){this.addGeometry(_.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&c(f.prototype,y),g&&c(f,g),p}();d.nextGeometryId=0,l.default=d},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(t,a,l){"use strict";function n(c){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var s=(v=t("../core/main"))&&v.__esModule?v:{default:v},o=function(c){if(c&&c.__esModule)return c;if(c===null||m(c)!=="object"&&typeof c!="function")return{default:c};var d=u();if(d&&d.has(c))return d.get(c);var p,f={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in c){var g;Object.prototype.hasOwnProperty.call(c,p)&&((g=y?Object.getOwnPropertyDescriptor(c,p):null)&&(g.get||g.set)?Object.defineProperty(f,p,g):f[p]=c[p])}return f.default=c,d&&d.set(c,f),f}(t("../core/constants"));function u(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,u=function(){return c},c)}function m(c){return(m=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(d){return n(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":n(d)})(c)}s.default.prototype.orbitControl=function(c,d,p,T){var y=this,g=(this._assert3d("orbitControl"),s.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);c===void 0&&(c=1),d===void 0&&(d=c),p===void 0&&(p=1),m(T)!=="object"&&(T={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var A=T.disableTouchActions;this.touchActionsDisabled===!0||A!==void 0&&!A||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var _,b,w,A=T.freeRotation,T=A!==void 0&&A,O=[],A=(this.touches.forEach(function(H){y._renderer.prevTouches.forEach(function(z){H.id===z.id&&(z={x:H.x,y:H.y,px:z.x,py:z.y},O.push(z))})}),this._renderer.prevTouches=this.touches,0),E=0,C=0,I=0,L=0,R=this.height<this.width?this.height:this.width,D=!1;return 0<O.length?(D=0<O[0].x&&O[0].x<this.width&&0<O[0].y&&O[0].y<this.height,O.length===1?(E=-c*((_=O[0]).x-_.px)/R,C=d*(_.y-_.py)/R):(_=O[0],b=O[1],A=-(Math.hypot(_.x-b.x,_.y-b.y)-Math.hypot(_.px-b.px,_.py-b.py))*p*4e-4,I=.5*(_.x+b.x)-.5*(_.px+b.px),L=.5*(_.y+b.y)-.5*(_.py+b.py)),0<this.touches.length?D&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(D=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(A=Math.sign(this._mouseWheelDeltaY)*p,A*=.01,this._mouseWheelDeltaY=0,D&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(E=-c*this.movedX/R,C=d*this.movedY/R):this.mouseButton===this.RIGHT&&(I=this.movedX,L=this.movedY*g.yScale),D&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),A!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=A),.001<Math.abs(this._renderer.zoomVelocity)?(T?g._orbitFree(0,0,this._renderer.zoomVelocity):g._orbit(0,0,this._renderer.zoomVelocity),g.projMatrix.mat4[15]!==0&&(g.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),g.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=g.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=g.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,E===0&&C===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*E,.6*C),1e-6<this._renderer.rotateVelocity.magSq()?(T?g._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):g._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),I===0&&L===0||!this._renderer.executeRotateAndMove||(_=2*I/this.width,b=2*-L/this.height,this._renderer.moveVelocity.add(.15*_,.15*b)),1e-6<this._renderer.moveVelocity.magSq()?(p=g._getLocalAxes(),c=g.eyeX-g.centerX,d=g.eyeY-g.centerY,R=g.eyeZ-g.centerZ,D=Math.sqrt(c*c+d*d+R*R),A=new s.default.Vector(g.centerX,g.centerY,g.centerZ),A=g.cameraMatrix.multiplyPoint(A),(A=this._renderer.uPMatrix.multiplyAndNormalizePoint(A)).x-=this._renderer.moveVelocity.x,A.y-=this._renderer.moveVelocity.y,C=(E=this._renderer.uPMatrix.mat4)[15]===0?(w=(E[8]+A.x)/E[0]*D,(E[9]+A.y)/E[5]*D):(w=(A.x-E[12])/E[0],(A.y-E[13])/E[5]),g.setPosition(g.eyeX+w*p.x[0]+C*p.y[0],g.eyeY+w*p.x[1]+C*p.y[1],g.eyeZ+w*p.x[2]+C*p.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},s.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];s.default._validateParameters("debugMode",d);for(var f=this._registeredMethods.post.length-1;0<=f;f--)this._registeredMethods.post[f].toString()!==this._grid().toString()&&this._registeredMethods.post[f].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(f,1);d[0]===o.GRID?this.registerMethod("post",this._grid(d[1],d[2],d[3],d[4],d[5])):d[0]===o.AXES?this.registerMethod("post",this._axesIcon(d[1],d[2],d[3],d[4])):(this.registerMethod("post",this._grid(d[0],d[1],d[2],d[3],d[4])),this.registerMethod("post",this._axesIcon(d[5],d[6],d[7],d[8])))},s.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var c=this._registeredMethods.post.length-1;0<=c;c--)this._registeredMethods.post[c].toString()!==this._grid().toString()&&this._registeredMethods.post[c].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(c,1)},s.default.prototype._grid=function(c,d,p,f,y){c===void 0&&(c=this.width/2),d===void 0&&(d=Math.round(c/30)<4?4:Math.round(c/30)),p===void 0&&(p=0),f===void 0&&(f=0),y===void 0&&(y=0);var g=c/d,_=c/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var b=0;b<=d;b++)this.beginShape(this.LINES),this.vertex(-_+p,f,b*g-_+y),this.vertex(_+p,f,b*g-_+y),this.endShape();for(var w=0;w<=d;w++)this.beginShape(this.LINES),this.vertex(w*g-_+p,f,-_+y),this.vertex(w*g-_+p,f,_+y),this.endShape();this.pop()}},s.default.prototype._axesIcon=function(c,d,p,f){return c===void 0&&(c=40<this.width/20?this.width/20:40),d===void 0&&(d=-this.width/4),p===void 0&&(p=d),f===void 0&&(f=d),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(d,p,f),this.vertex(d+c,p,f),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(d,p,f),this.vertex(d,p+c,f),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(d,p,f),this.vertex(d,p,f+c),this.endShape(),this.pop()}};var v=s.default;l.default=v},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(t,a,l){"use strict";t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=(t=t("../core/main"))&&t.__esModule?t:{default:t};n.default.prototype.ambientLight=function(s,o,u,m){this._assert3d("ambientLight"),n.default._validateParameters("ambientLight",arguments);var v=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(v._array[0],v._array[1],v._array[2]),this._renderer._enableLighting=!0,this},n.default.prototype.specularColor=function(s,o,u){this._assert3d("specularColor"),n.default._validateParameters("specularColor",arguments);var m=this.color.apply(this,arguments);return this._renderer.specularColors=[m._array[0],m._array[1],m._array[2]],this},n.default.prototype.directionalLight=function(s,y,f,m,v,c){this._assert3d("directionalLight"),n.default._validateParameters("directionalLight",arguments),s=s instanceof n.default.Color?s:this.color(s,y,f);var d,p,y=arguments[arguments.length-1],f=typeof y=="number"?(d=arguments[arguments.length-3],p=arguments[arguments.length-2],arguments[arguments.length-1]):(d=y.x,p=y.y,y.z),y=Math.sqrt(d*d+p*p+f*f);return this._renderer.directionalLightDirections.push(d/y,p/y,f/y),this._renderer.directionalLightDiffuseColors.push(s._array[0],s._array[1],s._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},n.default.prototype.pointLight=function(s,f,y,m,v,c){this._assert3d("pointLight"),n.default._validateParameters("pointLight",arguments),s=s instanceof n.default.Color?s:this.color(s,f,y);var d,p,f=arguments[arguments.length-1],y=typeof f=="number"?(d=arguments[arguments.length-3],p=arguments[arguments.length-2],arguments[arguments.length-1]):(d=f.x,p=f.y,f.z);return this._renderer.pointLightPositions.push(d,p,y),this._renderer.pointLightDiffuseColors.push(s._array[0],s._array[1],s._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},n.default.prototype.imageLight=function(s){this._renderer.activeImageLight=s,this._renderer._enableLighting=!0},n.default.prototype.panorama=function(s){this.filter(this._renderer._getSphereMapping(s))},n.default.prototype.lights=function(){this._assert3d("lights");var s=this.color("rgb(128,128,128)");return this.ambientLight(s),this.directionalLight(s,0,0,-1),this},n.default.prototype.lightFalloff=function(s,o,u){return this._assert3d("lightFalloff"),n.default._validateParameters("lightFalloff",arguments),s<0&&(s=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),o<0&&(o=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),u<0&&(u=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),s===0&&o===0&&u===0&&(s=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=s,this._renderer.linearAttenuation=o,this._renderer.quadraticAttenuation=u,this},n.default.prototype.spotLight=function(s,o,u,m,v,c,d,p,f,y,g){this._assert3d("spotLight"),n.default._validateParameters("spotLight",arguments);var _,b,w,T=arguments.length;switch(T){case 11:case 10:_=this.color(s,o,u),b=new n.default.Vector(m,v,c),w=new n.default.Vector(d,p,f);break;case 9:s instanceof n.default.Color?(_=s,b=new n.default.Vector(o,u,m),w=new n.default.Vector(v,c,d),y=p,g=f):m instanceof n.default.Vector?(_=this.color(s,o,u),b=m,w=new n.default.Vector(v,c,d),y=p,g=f):d instanceof n.default.Vector?(_=this.color(s,o,u),b=new n.default.Vector(m,v,c),w=d,y=p,g=f):(_=this.color(s,o,u),b=new n.default.Vector(m,v,c),w=new n.default.Vector(d,p,f));break;case 8:y=(w=s instanceof n.default.Color?(_=s,b=new n.default.Vector(o,u,m),new n.default.Vector(v,c,d)):m instanceof n.default.Vector?(_=this.color(s,o,u),b=m,new n.default.Vector(v,c,d)):(_=this.color(s,o,u),b=new n.default.Vector(m,v,c),d),p);break;case 7:s instanceof n.default.Color&&o instanceof n.default.Vector?(_=s,b=o,w=new n.default.Vector(u,m,v),y=c,g=d):s instanceof n.default.Color&&v instanceof n.default.Vector?(_=s,b=new n.default.Vector(o,u,m),w=v,y=c,g=d):m instanceof n.default.Vector&&v instanceof n.default.Vector?(_=this.color(s,o,u),b=m,w=v,y=c,g=d):w=s instanceof n.default.Color?(_=s,b=new n.default.Vector(o,u,m),new n.default.Vector(v,c,d)):m instanceof n.default.Vector?(_=this.color(s,o,u),b=m,new n.default.Vector(v,c,d)):(_=this.color(s,o,u),b=new n.default.Vector(m,v,c),d);break;case 6:m instanceof n.default.Vector&&v instanceof n.default.Vector?(_=this.color(s,o,u),b=m,w=v,y=c):s instanceof n.default.Color&&v instanceof n.default.Vector?(_=s,b=new n.default.Vector(o,u,m),w=v,y=c):s instanceof n.default.Color&&o instanceof n.default.Vector&&(_=s,b=o,w=new n.default.Vector(u,m,v),y=c);break;case 5:s instanceof n.default.Color&&o instanceof n.default.Vector&&u instanceof n.default.Vector?(_=s,b=o,w=u,y=m,g=v):m instanceof n.default.Vector&&v instanceof n.default.Vector?(_=this.color(s,o,u),b=m,w=v):s instanceof n.default.Color&&v instanceof n.default.Vector?(_=s,b=new n.default.Vector(o,u,m),w=v):s instanceof n.default.Color&&o instanceof n.default.Vector&&(_=s,b=o,w=new n.default.Vector(u,m,v));break;case 4:_=s,b=o,w=u,y=m;break;case 3:_=s,b=o,w=u;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(T<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(_._array[0],_._array[1],_._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(b.x,b.y,b.z),w.normalize(),this._renderer.spotLightDirections.push(w.x,w.y,w.z),y===void 0&&(y=Math.PI/3),g!==void 0&&g<1?(g=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):g===void 0&&(g=100),y=this._renderer._pInst._toRadians(y),this._renderer.spotLightAngle.push(Math.cos(y)),this._renderer.spotLightConc.push(g),this._renderer._enableLighting=!0,this},n.default.prototype.noLights=function(){this._assert3d("noLights");for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];return n.default._validateParameters("noLights",o),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},t=n.default,l.default=t},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(t,a,l){"use strict";function n(d){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t("regenerator-runtime/runtime");var s=(c=t("../core/main"))&&c.__esModule?c:{default:c};function o(d){return function(p){if(Array.isArray(p)){for(var f=0,y=new Array(p.length);f<p.length;f++)y[f]=p[f];return y}}(d)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(d,p,f,y,g,_,b){try{var w=d[_](b),T=w.value}catch(O){return void f(O)}w.done?p(T):Promise.resolve(T).then(y,g)}function m(d){return function(){var p=this,f=arguments;return new Promise(function(y,g){var _=d.apply(p,f);function b(T){u(_,y,g,b,w,"next",T)}function w(T){u(_,y,g,b,w,"throw",T)}b(void 0)})}}function v(d){return(v=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(p){return n(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":n(p)})(d)}t("./p5.Geometry"),s.default.prototype.loadModel=function(d,p){s.default._validateParameters("loadModel",arguments);var f,y,g=!1,_=!1,b=!1,w=d.slice(-4),T=(p&&v(p)==="object"?(g=p.normalize||!1,f=p.successCallback,y=p.failureCallback,w=p.fileType||w,_=p.flipU||!1,b=p.flipV||!1):typeof p=="boolean"?(g=p,f=arguments[2],y=arguments[3],arguments[4]!==void 0&&(w=arguments[4])):(f=typeof p=="function"?p:void 0,y=arguments[2],arguments[3]!==void 0&&(w=arguments[3])),new s.default.Geometry),O=(T.gid="".concat(d,"|").concat(g),this);function A(){return(A=m(regeneratorRuntime.mark(function C(I){var L,R,D,H;return regeneratorRuntime.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:for(L=[],R=0;R<I.length;R++)(D=I[R].match(/^mtllib (.+)/))&&function(){var B="",J=D[1],ee=d.split("/");B=1<ee.length?(ee.pop(),ee.join("/")+"/"+J):J,L.push(function(){return E.apply(this,arguments)}(B).then(function(Z){return Z?(q=O,re=B,new Promise(function(ge,V){var j=null,G={};q.loadStrings(re,function(K){for(var ae=0;ae<K.length;++ae){var Q,oe=K[ae].trim().split(/\s+/);oe[0]==="newmtl"?(Q=oe[1],G[j=Q]={}):oe[0]==="Kd"?G[j].diffuseColor=[parseFloat(oe[1]),parseFloat(oe[2]),parseFloat(oe[3])]:oe[0]==="Ka"?G[j].ambientColor=[parseFloat(oe[1]),parseFloat(oe[2]),parseFloat(oe[3])]:oe[0]==="Ks"?G[j].specularColor=[parseFloat(oe[1]),parseFloat(oe[2]),parseFloat(oe[3])]:oe[0]==="map_Kd"&&(G[j].texturePath=oe[1])}ge(G)},V)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(B)),{});var q,re}).catch(function(Z){return console.warn("Error loading MTL file: ".concat(B),Z),{}}))}();return z.prev=2,z.next=5,Promise.all(L);case 5:return H=z.sent,H=Object.assign.apply(Object,[{}].concat(o(H))),z.abrupt("return",H);case 10:return z.prev=10,z.t0=z.catch(2),z.abrupt("return",{});case 13:case"end":return z.stop()}},C,null,[[2,10]])}))).apply(this,arguments)}function E(){return(E=m(regeneratorRuntime.mark(function C(I){var L;return regeneratorRuntime.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.prev=0,R.next=3,fetch(I,{method:"HEAD"});case 3:return L=R.sent,R.abrupt("return",L.ok);case 7:return R.prev=7,R.t0=R.catch(0),R.abrupt("return",!1);case 10:case"end":return R.stop()}},C,null,[[0,7]])}))).apply(this,arguments)}return w.match(/\.stl$/i)?this.httpDo(d,"GET","arrayBuffer",function(C){(function(I,L){if(function(R){for(var D=new DataView(R),H=[115,111,108,105,100],z=0;z<5;z++)if(function(B,J,ee){for(var Z=0,q=B.length;Z<q;Z++)if(B[Z]!==J.getUint8(ee+Z,!1))return;return 1}(H,D,z))return;return 1}(L))(function(R,D){for(var H,z,B,J,ee,Z,q,re=new DataView(D),ge=re.getUint32(80,!0),V=!1,j=0;j<70;j++)re.getUint32(j,!1)===1129270351&&re.getUint8(j+4)===82&&re.getUint8(j+5)===61&&(V=!0,J=[],ee=re.getUint8(j+6)/255,Z=re.getUint8(j+7)/255,q=re.getUint8(j+8)/255);for(var G=0;G<ge;G++){for(var K,ae=84+50*G,Q=re.getFloat32(ae,!0),oe=re.getFloat32(4+ae,!0),W=re.getFloat32(8+ae,!0),Y=(V&&(K=re.getUint16(48+ae,!0),B=32768&K?(H=ee,z=Z,q):(H=(31&K)/31,z=(K>>5&31)/31,(K>>10&31)/31)),new s.default.Vector(Q,oe,W)),ne=1;ne<=3;ne++){var ue=ae+12*ne,ue=new s.default.Vector(re.getFloat32(ue,!0),re.getFloat32(4+ue,!0),re.getFloat32(8+ue,!0));R.vertices.push(ue),R.vertexNormals.push(Y),V&&J.push(H,z,B)}R.faces.push([3*G,3*G+1,3*G+2]),R.uvs.push([0,0],[0,0],[0,0])}})(I,L);else{if(L=new DataView(L),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");L=new TextDecoder("utf-8").decode(L).split(`
`),function(R,D){for(var H,z,B="",J=[],ee=0;ee<D.length;++ee){for(var Z=D[ee].trim(),q=Z.split(" "),re=0;re<q.length;++re)q[re]===""&&q.splice(re,1);if(q.length!==0)switch(B){case"":if(q[0]!=="solid")return console.error(Z),console.error('Invalid state "'.concat(q[0],'", should be "solid"'));B="solid";break;case"solid":if(q[0]!=="facet"||q[1]!=="normal")return console.error(Z),console.error('Invalid state "'.concat(q[0],'", should be "facet normal"'));H=new s.default.Vector(parseFloat(q[2]),parseFloat(q[3]),parseFloat(q[4])),R.vertexNormals.push(H,H,H),B="facet normal";break;case"facet normal":if(q[0]!=="outer"||q[1]!=="loop")return console.error(Z),console.error('Invalid state "'.concat(q[0],'", should be "outer loop"'));B="vertex";break;case"vertex":if(q[0]==="vertex")z=new s.default.Vector(parseFloat(q[1]),parseFloat(q[2]),parseFloat(q[3])),R.vertices.push(z),R.uvs.push([0,0]),J.push(R.vertices.indexOf(z));else{if(q[0]!=="endloop")return console.error(Z),console.error('Invalid state "'.concat(q[0],'", should be "vertex" or "endloop"'));R.faces.push(J),J=[],B="endloop"}break;case"endloop":if(q[0]!=="endfacet")return console.error(Z),console.error('Invalid state "'.concat(q[0],'", should be "endfacet"'));B="endfacet";break;case"endfacet":if(q[0]!=="endsolid"){if(q[0]!=="facet"||q[1]!=="normal")return console.error(Z),console.error('Invalid state "'.concat(q[0],'", should be "endsolid" or "facet normal"'));H=new s.default.Vector(parseFloat(q[2]),parseFloat(q[3]),parseFloat(q[4])),R.vertexNormals.push(H,H,H),B="facet normal"}break;default:console.error('Invalid state "'.concat(B,'"'))}}}(I,L)}})(T,C),g&&T.normalize(),_&&T.flipU(),b&&T.flipV(),O._decrementPreload(),typeof f=="function"&&f(T)},y):w.match(/\.obj$/i)?this.loadStrings(d,function(){var C=m(regeneratorRuntime.mark(function I(L){var R;return regeneratorRuntime.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.prev=0,D.next=3,function(){return A.apply(this,arguments)}(L);case 3:R=D.sent,function(H,z){for(var B=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},J={v:[],vt:[],vn:[]},ee={},Z=null,q=new Set,re=!1,ge=!1,V=0;V<z.length;++V){var j=z[V].trim().split(/\b\s+/);if(0<j.length){if(j[0]==="usemtl")Z=j[1];else if(j[0]==="v"||j[0]==="vn"){var G=new s.default.Vector(parseFloat(j[1]),parseFloat(j[2]),parseFloat(j[3]));J[j[0]].push(G)}else if(j[0]==="vt")G=[parseFloat(j[1]),1-parseFloat(j[2])],J[j[0]].push(G);else if(j[0]==="f")for(var K=3;K<j.length;++K){for(var ae=[],Q=[1,K-1,K],oe=0;oe<Q.length;++oe){for(var W,Y=j[Q[oe]],ne=Y.split("/"),ue=0;ue<ne.length;ue++)ne[ue]=parseInt(ne[ue])-1;ee[Y]||(ee[Y]={}),ee[Y][Z]===void 0?(W=H.vertices.length,H.vertices.push(J.v[ne[0]].copy()),H.uvs.push(J.vt[ne[1]]?J.vt[ne[1]].slice():[0,0]),H.vertexNormals.push(J.vn[ne[2]]?J.vn[ne[2]].copy():new s.default.Vector),ee[Y][Z]=W,ae.push(W),Z&&B[Z]&&B[Z].diffuseColor&&q.add(J.v[ne[0]])):ae.push(ee[Y][Z])}if(ae[0]!==ae[1]&&ae[0]!==ae[2]&&ae[1]!==ae[2])if(H.faces.push(ae),Z&&B[Z]&&B[Z].diffuseColor){re=re=!0;for(var se=B[Z].diffuseColor,pe=0;pe<ae.length;pe++)H.vertexColors.push(se[0]),H.vertexColors.push(se[1]),H.vertexColors.push(se[2])}else ge=!0}}}if(H.vertexNormals.length===0&&H.computeNormals(),re===ge)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")}(T,L,R),D.next=11;break;case 7:return D.prev=7,D.t0=D.catch(0),y?y(D.t0):s.default._friendlyError("Error during parsing: "+D.t0.message),D.abrupt("return");case 11:return D.prev=11,g&&T.normalize(),_&&T.flipU(),b&&T.flipV(),O._decrementPreload(),typeof f=="function"&&f(T),D.finish(11);case 18:case"end":return D.stop()}},I,null,[[0,7,11,18]])}));return function(I){return C.apply(this,arguments)}}(),y):(s.default._friendlyFileLoadError(3,d),y?y():s.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),T},s.default.prototype.model=function(d){this._assert3d("model"),s.default._validateParameters("model",arguments),0<d.vertices.length&&(this._renderer.geometryInHash(d.gid)||(d.edges.length===0&&d._makeTriangleEdges(),d._edgesToVertices(),this._renderer.createBuffers(d.gid,d)),this._renderer.drawBuffers(d.gid))};var c=s.default;l.default=c},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(t,a,l){"use strict";function n(c){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function s(c){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(d){return n(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":n(d)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(v=t("../core/main"))&&v.__esModule?v:{default:v},u=function(c){if(c&&c.__esModule)return c;if(c===null||s(c)!=="object"&&typeof c!="function")return{default:c};var d=m();if(d&&d.has(c))return d.get(c);var p,f={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in c){var g;Object.prototype.hasOwnProperty.call(c,p)&&((g=y?Object.getOwnPropertyDescriptor(c,p):null)&&(g.get||g.set)?Object.defineProperty(f,p,g):f[p]=c[p])}return f.default=c,d&&d.set(c,f),f}(t("../core/constants"));function m(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,m=function(){return c},c)}t("./p5.Texture"),o.default.prototype.loadShader=function(c,d,p,f){o.default._validateParameters("loadShader",arguments),f=f||console.error;function y(){_._decrementPreload(),p&&p(g)}var g=new o.default.Shader,_=this,b=!1,w=!1;return this.loadStrings(c,function(T){g._vertSrc=T.join(`
`),w=!0,b&&y()},f),this.loadStrings(d,function(T){g._fragSrc=T.join(`
`),b=!0,w&&y()},f),g},o.default.prototype.createShader=function(c,d){return o.default._validateParameters("createShader",arguments),new o.default.Shader(this._renderer,c,d)},o.default.prototype.createFilterShader=function(c){o.default._validateParameters("createFilterShader",arguments);var d=c.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,d=new o.default.Shader(this._renderer,d,c);return this._renderer.GL?d.ensureCompiledOnContext(this):d.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),d},o.default.prototype.shader=function(c){return this._assert3d("shader"),o.default._validateParameters("shader",arguments),c.ensureCompiledOnContext(this),c.isStrokeShader()?this._renderer.userStrokeShader=c:(this._renderer.userFillShader=c,this._renderer._useNormalMaterial=!1),this},o.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},o.default.prototype.texture=function(c){return this._assert3d("texture"),o.default._validateParameters("texture",arguments),c.gifProperties&&c._animateGif(this),this._renderer.drawMode=u.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=c,this._renderer._setProperty("_doFill",!0),this},o.default.prototype.textureMode=function(c){c!==u.IMAGE&&c!==u.NORMAL?console.warn("You tried to set ".concat(c," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=c},o.default.prototype.textureWrap=function(c){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:c,p=(this._renderer.textureWrapX=c,this._renderer.textureWrapY=d,!0),f=!1,y=void 0;try{for(var g,_=this._renderer.textures.values()[Symbol.iterator]();!(p=(g=_.next()).done);p=!0)g.value.setWrapMode(c,d)}catch(b){f=!0,y=b}finally{try{p||_.return==null||_.return()}finally{if(f)throw y}}},o.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];return o.default._validateParameters("normalMaterial",d),this._renderer.drawMode=u.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},o.default.prototype.ambientMaterial=function(c,d,p){this._assert3d("ambientMaterial"),o.default._validateParameters("ambientMaterial",arguments);var f=o.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=f._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},o.default.prototype.emissiveMaterial=function(c,d,p,f){this._assert3d("emissiveMaterial"),o.default._validateParameters("emissiveMaterial",arguments);var y=o.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=y._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},o.default.prototype.specularMaterial=function(c,d,p,f){this._assert3d("specularMaterial"),o.default._validateParameters("specularMaterial",arguments);var y=o.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=y._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},o.default.prototype.shininess=function(c){return this._assert3d("shininess"),o.default._validateParameters("shininess",arguments),this._renderer._useShininess=c=c<1?1:c,this},o.default.prototype.metalness=function(c){return this._assert3d("metalness"),c=1-Math.exp(-c/100),this._renderer._useMetalness=c,this},o.default.RendererGL.prototype._applyColorBlend=function(c,y){var p=this.GL,f=this.drawMode===u.TEXTURE,y=y||this.userFillShader||this.userStrokeShader||this.userPointShader||f||this.curBlendMode!==u.BLEND||c[c.length-1]<1||this._isErasing;return y!==this._isBlending&&(y||this.curBlendMode!==u.BLEND&&this.curBlendMode!==u.ADD?p.enable(p.BLEND):p.disable(p.BLEND),p.depthMask(!0),this._isBlending=y),this._applyBlendMode(),c},o.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var c=this.GL;switch(this.curBlendMode){case u.BLEND:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case u.ADD:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ONE);break;case u.REMOVE:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ZERO,c.ONE_MINUS_SRC_ALPHA);break;case u.MULTIPLY:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.DST_COLOR,c.ONE_MINUS_SRC_ALPHA);break;case u.SCREEN:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_COLOR);break;case u.EXCLUSION:c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD),c.blendFuncSeparate(c.ONE_MINUS_DST_COLOR,c.ONE_MINUS_SRC_COLOR,c.ONE,c.ONE);break;case u.REPLACE:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ZERO);break;case u.SUBTRACT:c.blendEquationSeparate(c.FUNC_REVERSE_SUBTRACT,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case u.DARKEST:this.blendExt?(c.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case u.LIGHTEST:this.blendExt?(c.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var v=o.default;l.default=v},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(t,a,l){"use strict";t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(o,u){for(var m=0;m<u.length;m++){var v=u[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(o,v.key,v)}}n.default.prototype.camera=function(){var o;this._assert3d("camera");for(var u=arguments.length,m=new Array(u),v=0;v<u;v++)m[v]=arguments[v];return n.default._validateParameters("camera",m),(o=this._renderer._curCamera).camera.apply(o,m),this},n.default.prototype.perspective=function(){var o;this._assert3d("perspective");for(var u=arguments.length,m=new Array(u),v=0;v<u;v++)m[v]=arguments[v];return n.default._validateParameters("perspective",m),(o=this._renderer._curCamera).perspective.apply(o,m),this},n.default.prototype.linePerspective=function(o){if(n.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof n.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(o===void 0)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=o},n.default.prototype.ortho=function(){var o;this._assert3d("ortho");for(var u=arguments.length,m=new Array(u),v=0;v<u;v++)m[v]=arguments[v];return n.default._validateParameters("ortho",m),(o=this._renderer._curCamera).ortho.apply(o,m),this},n.default.prototype.frustum=function(){var o;this._assert3d("frustum");for(var u=arguments.length,m=new Array(u),v=0;v<u;v++)m[v]=arguments[v];return n.default._validateParameters("frustum",m),(o=this._renderer._curCamera).frustum.apply(o,m),this},n.default.prototype.createCamera=function(){this._assert3d("createCamera");var o=new n.default.Camera(this._renderer);return o._computeCameraDefaultSettings(),o._setDefaultCamera(),this._renderer._curCamera=o},n.default.Camera=function(){function o(c){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this._renderer=c,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new n.default.Matrix,this.projMatrix=new n.default.Matrix,this.yScale=1}var u,m,v;return u=o,(m=[{key:"perspective",value:function(y,d,p,f){this.cameraType=0<arguments.length?"custom":"default",y===void 0?(y=this.defaultCameraFOV,this.cameraFOV=y):this.cameraFOV=this._renderer._pInst._toRadians(y),d===void 0&&(d=this.defaultAspectRatio),p===void 0&&(p=this.defaultCameraNear),f===void 0&&(f=this.defaultCameraFar),p<=1e-4&&(p=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),f<p&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=d,this.cameraNear=p,this.cameraFar=f,this.projMatrix=n.default.Matrix.identity();var y=1/Math.tan(this.cameraFOV/2),g=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(y/d,0,0,0,0,-y*this.yScale,0,0,0,0,(f+p)*g,-1,0,0,2*f*p*g,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(E,A,p,f,y,g){var C=this.fbo||this._renderer,C=(E===void 0&&(E=-C.width/2),A===void 0&&(A=+C.width/2),p===void 0&&(p=-C.height/2),f===void 0&&(f=+C.height/2),y===void 0&&(y=0),g===void 0&&(g=Math.max(C.width,C.height)+800),this.cameraNear=y,A-E),_=f-p,b=(this.cameraFar=g)-y,w=2/C,T=2/_*this.yScale,O=-2/b,A=-(A+E)/C,E=-(f+p)/_,C=-(g+y)/b;this.projMatrix=n.default.Matrix.identity(),this.projMatrix.set(w,0,0,0,0,-T,0,0,0,0,O,0,A,E,C,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(E,A,p,f,y,g){E===void 0&&(E=.05*-this._renderer.width),A===void 0&&(A=.05*+this._renderer.width),p===void 0&&(p=.05*+this._renderer.height),f===void 0&&(f=.05*-this._renderer.height),y===void 0&&(y=this.defaultCameraNear),g===void 0&&(g=this.defaultCameraFar),this.cameraNear=y;var C=A-E,_=f-p,b=(this.cameraFar=g)-y,w=2*y/C,T=2*y/_*this.yScale,O=-2*g*y/b,A=(A+E)/C,E=(f+p)/_,C=-(g+y)/b;this.projMatrix=n.default.Matrix.identity(),this.projMatrix.set(w,0,0,0,0,-T,0,0,A,E,C,-1,0,0,O,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(w,d,p,f){var y=this.centerX,g=this.centerY,_=this.centerZ,b=(y-=this.eyeX,g-=this.eyeY,_-=this.eyeZ,n.default.Matrix.identity(this._renderer._pInst)),w=(b.rotate(this._renderer._pInst._toRadians(w),d,p,f),[y*b.mat4[0]+g*b.mat4[4]+_*b.mat4[8],y*b.mat4[1]+g*b.mat4[5]+_*b.mat4[9],y*b.mat4[2]+g*b.mat4[6]+_*b.mat4[10]]);w[0]+=this.eyeX,w[1]+=this.eyeY,w[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,w[0],w[1],w[2],this.upX,this.upY,this.upZ)}},{key:"roll",value:function(p){var d=this._getLocalAxes(),p=n.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(p),d.z[0],d.z[1],d.z[2]).rotateVector(new n.default.Vector(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,p.x,p.y,p.z)}},{key:"pan",value:function(c){var d=this._getLocalAxes();this._rotateView(c,d.y[0],d.y[1],d.y[2])}},{key:"tilt",value:function(c){var d=this._getLocalAxes();this._rotateView(c,d.x[0],d.x[1],d.x[2])}},{key:"lookAt",value:function(c,d,p){this.camera(this.eyeX,this.eyeY,this.eyeZ,c,d,p,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(c,d,p,f,y,g,_,b,w){return c===void 0&&(c=this.defaultEyeX,d=this.defaultEyeY,p=this.defaultEyeZ,f=c,y=d,b=1,w=_=g=0),this.eyeX=c,this.eyeY=d,this.eyeZ=p,f!==void 0&&(this.centerX=f,this.centerY=y,this.centerZ=g),_!==void 0&&(this.upX=_,this.upY=b,this.upZ=w),f=this._getLocalAxes(),this.cameraMatrix.set(f.x[0],f.y[0],f.z[0],0,f.x[1],f.y[1],f.z[1],0,f.x[2],f.y[2],f.z[2],0,0,0,0,1),y=-c,this.cameraMatrix.translate([y,-d,-p]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(f,y,p){var g=this._getLocalAxes(),f=[g.x[0]*f,g.x[1]*f,g.x[2]*f],y=[g.y[0]*y,g.y[1]*y,g.y[2]*y],g=[g.z[0]*p,g.z[1]*p,g.z[2]*p];this.camera(this.eyeX+f[0]+y[0]+g[0],this.eyeY+f[1]+y[1]+g[1],this.eyeZ+f[2]+y[2]+g[2],this.centerX+f[0]+y[0]+g[0],this.centerY+f[1]+y[1]+g[1],this.centerZ+f[2]+y[2]+g[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(c,d,p){var f=c-this.eyeX,y=d-this.eyeY,g=p-this.eyeZ;this.camera(c,d,p,this.centerX+f,this.centerY+y,this.centerZ+g,this.upX,this.upY,this.upZ)}},{key:"set",value:function(c){for(var d=0,p=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];d<p.length;d++){var f=p[d];this[f]=c[f]}this.cameraMatrix=c.cameraMatrix.copy(),this.projMatrix=c.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(c,d,p){var f,y,g,_,b,w,T,O,A,E,C,I,L,R,D,H,z,B;p===0?this.set(c):p===1?this.set(d):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=c.projMatrix.mat4[0]*Math.pow(d.projMatrix.mat4[0]/c.projMatrix.mat4[0],p),this.projMatrix.mat4[5]=c.projMatrix.mat4[5]*Math.pow(d.projMatrix.mat4[5]/c.projMatrix.mat4[5],p),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),_=new n.default.Vector(c.eyeX,c.eyeY,c.eyeZ),b=new n.default.Vector(d.eyeX,d.eyeY,d.eyeZ),H=new n.default.Vector(c.centerX,c.centerY,c.centerZ),B=new n.default.Vector(d.centerX,d.centerY,d.centerZ),g=n.default.Vector.dist(_,H),f=n.default.Vector.dist(b,B),f=g*Math.pow(f/g,p),g=n.default.Vector.sub(_,b),y=1,1e-6<(z=(R=_.copy().sub(b).sub(H).add(B)).magSq())&&(y=n.default.Vector.dot(g,R)/z,y=Math.max(0,Math.min(y,1))),g=n.default.Vector.lerp(n.default.Vector.lerp(_,H,y),n.default.Vector.lerp(b,B,y),p),R=c.cameraMatrix.createSubMatrix3x3(),z=d.cameraMatrix.createSubMatrix3x3(),_=R.row(2),H=z.row(2),b=R.row(1),B=z.row(1),c=new n.default.Vector,d=new n.default.Vector,w=new n.default.Vector,T=new n.default.Vector,1-(O=.5*((R=(z=z.mult3x3(R.copy().transpose3x3())).diagonal())[0]+R[1]+R[2]-1))<1e-7?(c.set(n.default.Vector.lerp(_,H,p)).normalize(),w.set(c).mult(y*f).add(g),T.set(c).mult((y-1)*f).add(g),d.set(n.default.Vector.lerp(b,B,p)).normalize()):(H=1/(1-O),B=Math.max(R[0],R[1],R[2]),I=z.mat3[1]+z.mat3[3],L=z.mat3[2]+z.mat3[6],D=z.mat3[5]+z.mat3[7],B=B===R[0]?(E=.5*I*(H/=A=Math.sqrt((R[0]-O)*H)),C=.5*L*H,.5*(z.mat3[7]-z.mat3[5])/A):B===R[1]?(C=.5*D*(H/=E=Math.sqrt((R[1]-O)*H)),A=.5*I*H,.5*(z.mat3[2]-z.mat3[6])/E):(A=.5*L*(H/=C=Math.sqrt((R[2]-O)*H)),E=.5*D*H,.5*(z.mat3[3]-z.mat3[1])/C),I=p*Math.atan2(B,O),L=Math.cos(I),R=Math.sin(I),(B=new n.default.Matrix("mat3",[L+(D=1-L)*A*A,D*(H=A*E)+R*C,D*(z=C*A)-R*E,D*H-R*C,L+D*E*E,D*(p=E*C)+R*A,D*z+R*E,D*p-R*A,L+D*C*C])).multiplyVec3(_,c),w.set(c).mult(y*f).add(g),T.set(c).mult((y-1)*f).add(g),B.multiplyVec3(b,d)),this.camera(w.x,w.y,w.z,T.x,T.y,T.z,d.x,d.y,d.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var c=new n.default.Camera(this._renderer);return c.cameraFOV=this.cameraFOV,c.aspectRatio=this.aspectRatio,c.eyeX=this.eyeX,c.eyeY=this.eyeY,c.eyeZ=this.eyeZ,c.centerX=this.centerX,c.centerY=this.centerY,c.centerZ=this.centerZ,c.upX=this.upX,c.upY=this.upY,c.upZ=this.upZ,c.cameraNear=this.cameraNear,c.cameraFar=this.cameraFar,c.cameraType=this.cameraType,c.cameraMatrix=this.cameraMatrix.copy(),c.projMatrix=this.projMatrix.copy(),c.yScale=this.yScale,c}},{key:"_getLocalAxes",value:function(){var c=this.eyeX-this.centerX,d=this.eyeY-this.centerY,p=this.eyeZ-this.centerZ,_=Math.sqrt(c*c+d*d+p*p),_=(_!==0&&(c/=_,d/=_,p/=_),this.upX),f=(b=this.upY)*p-(w=this.upZ)*d,y=-_*p+w*c,g=_*d-b*c,_=d*g-p*y,b=-c*g+p*f,w=c*y-d*f,T=Math.sqrt(f*f+y*y+g*g),T=(T!==0&&(f/=T,y/=T,g/=T),Math.sqrt(_*_+b*b+w*w));return T!==0&&(_/=T,b/=T,w/=T),{x:[f,y,g],y:[_,b,w],z:[c,d,p]}}},{key:"_orbit",value:function(c,T,w){var y=this.eyeX-this.centerX,g=this.eyeY-this.centerY,_=this.eyeZ-this.centerZ,f=Math.hypot(y,g,_),y=new n.default.Vector(y,g,_).normalize(),g=new n.default.Vector(this.upX,this.upY,this.upZ).normalize(),_=n.default.Vector.cross(g,y).normalize(),b=n.default.Vector.cross(_,g),w=((f=(f*=Math.pow(10,w))<this.cameraNear?this.cameraNear:f)>this.cameraFar&&(f=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,n.default.Vector.dot(y,g))))+T),T=c;(w<=0||w>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),g.mult(Math.cos(w)),b.mult(Math.cos(T)*Math.sin(w)),_.mult(Math.sin(T)*Math.sin(w)),y.set(g).add(b).add(_),this.eyeX=f*y.x+this.centerX,this.eyeY=f*y.y+this.centerY,this.eyeZ=f*y.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(w,T,A){var y=this.eyeX-this.centerX,g=this.eyeY-this.centerY,_=this.eyeZ-this.centerZ,f=Math.hypot(y,g,_),y=new n.default.Vector(y,g,_).normalize(),g=new n.default.Vector(this.upX,this.upY,this.upZ),_=n.default.Vector.cross(g,y).normalize(),b=n.default.Vector.cross(y,_),E=Math.atan2(T,w),E=(b.mult(Math.sin(E)),_.mult(Math.cos(E)).add(b),Math.sqrt(w*w+T*T)),b=n.default.Vector.cross(y,_),w=((f=(f*=Math.pow(10,A))<this.cameraNear?this.cameraNear:f)>this.cameraFar&&(f=this.cameraFar),Math.cos(E)),T=Math.sin(E),A=g.dot(y),E=g.dot(_),O=A*w+E*T,A=-A*T+E*w,E=g.dot(b);g.x=O*y.x+A*_.x+E*b.x,g.y=O*y.y+A*_.y+E*b.y,g.z=O*y.z+A*_.z+E*b.z,_.mult(-T),y.mult(w).add(_).mult(f),this.camera(y.x+this.centerX,y.y+this.centerY,y.z+this.centerZ,this.centerX,this.centerY,this.centerZ,g.x,g.y,g.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&s(u.prototype,m),v&&s(u,v),o}(),n.default.prototype.setCamera=function(o){this._renderer._curCamera=o,this._renderer.uPMatrix.set(o.projMatrix),this._renderer.uViewMatrix.set(o.cameraMatrix)},t=n.default.Camera,l.default=t},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(t,a,l){"use strict";t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function n(s,o){for(var u=0;u<o.length;u++){var m=o[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}t.default.DataArray=function(){function s(){var v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,c=this,d=s;if(!(c instanceof d))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(v),this.initialLength=v}var o,u,m;return o=s,(u=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var v;this.length<this.data.length/2&&(v=1<<Math.ceil(Math.log2(this.length)),(v=new Float32Array(v)).set(this.data.subarray(0,this.length),0),this.data=v)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var v=arguments.length,c=new Array(v),d=0;d<v;d++)c[d]=arguments[d];this.ensureLength(this.length+c.length),this.data.set(c,this.length),this.length+=c.length}},{key:"slice",value:function(v,c){return this.data.slice(v,Math.min(c,this.length))}},{key:"subArray",value:function(v,c){return this.data.subarray(v,Math.min(c,this.length))}},{key:"ensureLength",value:function(v){for(;this.data.length<v;){var c=new Float32Array(2*this.data.length);c.set(this.data,0),this.data=c}}}])&&n(o.prototype,u),m&&n(o,m),s}(),t=t.default.DataArray,l.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(C,a,l){"use strict";function n(I){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(I)}function s(I){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(L){return n(L)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":n(L)})(I)}C("core-js/modules/es.symbol"),C("core-js/modules/es.symbol.description"),C("core-js/modules/es.symbol.iterator"),C("core-js/modules/es.array.fill"),C("core-js/modules/es.array.includes"),C("core-js/modules/es.array.iterator"),C("core-js/modules/es.object.get-own-property-descriptor"),C("core-js/modules/es.object.get-prototype-of"),C("core-js/modules/es.object.to-string"),C("core-js/modules/es.reflect.construct"),C("core-js/modules/es.reflect.get"),C("core-js/modules/es.regexp.to-string"),C("core-js/modules/es.string.includes"),C("core-js/modules/es.string.iterator"),C("core-js/modules/es.typed-array.float32-array"),C("core-js/modules/es.typed-array.uint8-array"),C("core-js/modules/es.typed-array.uint8-clamped-array"),C("core-js/modules/es.typed-array.copy-within"),C("core-js/modules/es.typed-array.every"),C("core-js/modules/es.typed-array.fill"),C("core-js/modules/es.typed-array.filter"),C("core-js/modules/es.typed-array.find"),C("core-js/modules/es.typed-array.find-index"),C("core-js/modules/es.typed-array.for-each"),C("core-js/modules/es.typed-array.includes"),C("core-js/modules/es.typed-array.index-of"),C("core-js/modules/es.typed-array.iterator"),C("core-js/modules/es.typed-array.join"),C("core-js/modules/es.typed-array.last-index-of"),C("core-js/modules/es.typed-array.map"),C("core-js/modules/es.typed-array.reduce"),C("core-js/modules/es.typed-array.reduce-right"),C("core-js/modules/es.typed-array.reverse"),C("core-js/modules/es.typed-array.set"),C("core-js/modules/es.typed-array.slice"),C("core-js/modules/es.typed-array.some"),C("core-js/modules/es.typed-array.sort"),C("core-js/modules/es.typed-array.subarray"),C("core-js/modules/es.typed-array.to-locale-string"),C("core-js/modules/es.typed-array.to-string"),C("core-js/modules/es.weak-map"),C("core-js/modules/web.dom-collections.iterator"),C("core-js/modules/es.array.fill"),C("core-js/modules/es.array.includes"),C("core-js/modules/es.array.iterator"),C("core-js/modules/es.object.get-prototype-of"),C("core-js/modules/es.object.to-string"),C("core-js/modules/es.string.includes"),C("core-js/modules/es.typed-array.float32-array"),C("core-js/modules/es.typed-array.uint8-array"),C("core-js/modules/es.typed-array.uint8-clamped-array"),C("core-js/modules/es.typed-array.copy-within"),C("core-js/modules/es.typed-array.every"),C("core-js/modules/es.typed-array.fill"),C("core-js/modules/es.typed-array.filter"),C("core-js/modules/es.typed-array.find"),C("core-js/modules/es.typed-array.find-index"),C("core-js/modules/es.typed-array.for-each"),C("core-js/modules/es.typed-array.includes"),C("core-js/modules/es.typed-array.index-of"),C("core-js/modules/es.typed-array.iterator"),C("core-js/modules/es.typed-array.join"),C("core-js/modules/es.typed-array.last-index-of"),C("core-js/modules/es.typed-array.map"),C("core-js/modules/es.typed-array.reduce"),C("core-js/modules/es.typed-array.reduce-right"),C("core-js/modules/es.typed-array.reverse"),C("core-js/modules/es.typed-array.set"),C("core-js/modules/es.typed-array.slice"),C("core-js/modules/es.typed-array.some"),C("core-js/modules/es.typed-array.sort"),C("core-js/modules/es.typed-array.subarray"),C("core-js/modules/es.typed-array.to-locale-string"),C("core-js/modules/es.typed-array.to-string"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(E=C("../core/main"))&&E.__esModule?E:{default:E},u=function(I){if(I&&I.__esModule)return I;if(I===null||s(I)!=="object"&&typeof I!="function")return{default:I};var L=c();if(L&&L.has(I))return L.get(I);var R,D={},H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(R in I){var z;Object.prototype.hasOwnProperty.call(I,R)&&((z=H?Object.getOwnPropertyDescriptor(I,R):null)&&(z.get||z.set)?Object.defineProperty(D,R,z):D[R]=I[R])}return D.default=I,L&&L.set(I,D),D}(C("../core/constants")),m=C("./p5.Texture"),v=C("./p5.RendererGL");function c(){var I;return typeof WeakMap!="function"?null:(I=new WeakMap,c=function(){return I},I)}function d(I,L){return function(R){if(Array.isArray(R))return R}(I)||function(R,D){if(Symbol.iterator in Object(R)||Object.prototype.toString.call(R)==="[object Arguments]"){var H=[],z=!0,B=!1,J=void 0;try{for(var ee,Z=R[Symbol.iterator]();!(z=(ee=Z.next()).done)&&(H.push(ee.value),!D||H.length!==D);z=!0);}catch(q){B=!0,J=q}finally{try{z||Z.return==null||Z.return()}finally{if(B)throw J}}return H}}(I,L)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(I,L,R){return L in I?Object.defineProperty(I,L,{value:R,enumerable:!0,configurable:!0,writable:!0}):I[L]=R,I}function f(I,L){if(!(I instanceof L))throw new TypeError("Cannot call a class as a function")}function y(I,L){for(var R=0;R<L.length;R++){var D=L[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,D.key,D)}}function g(I,L,R){L&&y(I.prototype,L),R&&y(I,R)}function _(I,L,R){return(_=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(B,H,z){var B=function(J,ee){for(;!Object.prototype.hasOwnProperty.call(J,ee)&&(J=T(J))!==null;);return J}(B,H);if(B)return(B=Object.getOwnPropertyDescriptor(B,H)).get?B.get.call(z):B.value})(I,L,R||I)}function b(I,L){return(b=Object.setPrototypeOf||function(R,D){return R.__proto__=D,R})(I,L)}function w(I){return function(){var L,R=T(I),R=(L=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(L=T(this).constructor,Reflect.construct(R,arguments,L)):R.apply(this,arguments),this);if(!L||s(L)!=="object"&&typeof L!="function"){if(R!==void 0)return R;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return L}}function T(I){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(L){return L.__proto__||Object.getPrototypeOf(L)})(I)}var O=function(I){var L=D;if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(I&&I.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),I&&b(L,I);var R=w(D);function D(H){var z;return f(this,D),(z=R.call(this,H.target._renderer)).fbo=H,z.yScale=-1,z}return g(D,[{key:"_computeCameraDefaultSettings",value:function(){_(T(D.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),D}(o.default.Camera),A=(o.default.FramebufferCamera=O,function(){function I(L,R){f(this,I),this.framebuffer=L,this.property=R}return g(I,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),I}()),E=(o.default.FramebufferTexture=A,function(){function I(L){var R=this,D=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},H=(f(this,I),this.target=L,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=D.format||u.UNSIGNED_BYTE,this.channels=D.channels||(L._renderer._pInst._glAttributes.alpha?u.RGBA:u.RGB),this.useDepth=D.depth===void 0||D.depth,this.depthFormat=D.depthFormat||u.FLOAT,this.textureFiltering=D.textureFiltering||u.LINEAR,D.antialias===void 0?this.antialiasSamples=L._renderer._pInst._glAttributes.antialias?2:0:typeof D.antialias=="number"?this.antialiasSamples=D.antialias:this.antialiasSamples=D.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&L.webglVersion!==u.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=D.density||L.pixelDensity(),L._renderer.GL);if(this.gl=H,D.width&&D.height?(z=L._renderer._adjustDimensions(D.width,D.height),this.width=z.adjustedWidth,this.height=z.adjustedHeight,this._autoSized=!1):(D.width===void 0!=(D.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=L.width,this.height=L.height,this._autoSized=!0),this._checkIfFormatsAvailable(),D.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(D.stencil===void 0||D.stencil),this.framebuffer=H.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=H.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var z=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=z,this.draw(function(){return R.target.clear()})}return g(I,[{key:"resize",value:function(L,R){this._autoSized=!1;var D=this.target._renderer._adjustDimensions(L,R);L=D.adjustedWidth,R=D.adjustedHeight,this.width=L,this.height=R,this._handleResize()}},{key:"pixelDensity",value:function(L){if(!L)return this.density;this._autoSized=!1,this.density=L,this._handleResize()}},{key:"autoSized",value:function(L){if(L===void 0)return this._autoSized;this._autoSized=L,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var L=this.gl,L=(this.useDepth&&this.target.webglVersion===u.WEBGL&&!L.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===u.WEBGL&&this.depthFormat===u.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=u.UNSIGNED_INT),[u.UNSIGNED_BYTE,u.FLOAT,u.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=u.UNSIGNED_BYTE),this.useDepth&&![u.UNSIGNED_INT,u.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=u.FLOAT),(0,m.checkWebGLCapabilities)(this.target._renderer));L.float||this.format!==u.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=u.UNSIGNED_BYTE),this.useDepth&&!L.float&&this.depthFormat===u.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=u.UNSIGNED_INT),L.halfFloat||this.format!==u.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=u.UNSIGNED_BYTE),this.channels===u.RGB&&[u.FLOAT,u.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=u.RGBA)}},{key:"_recreateTextures",value:function(){var L=this.gl,R=(this._updateSize(),L.getParameter(L.TEXTURE_BINDING_2D)),D=L.getParameter(L.FRAMEBUFFER_BINDING),H=L.createTexture();if(!H)throw new Error("Unable to create color texture");L.bindTexture(L.TEXTURE_2D,H);var z=this._glColorFormat();if(L.texImage2D(L.TEXTURE_2D,0,z.internalFormat,this.width*this.density,this.height*this.density,0,z.format,z.type,null),this.colorTexture=H,L.bindFramebuffer(L.FRAMEBUFFER,this.framebuffer),L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,H,0),this.useDepth){var H=L.createTexture();if(!H)throw new Error("Unable to create depth texture");var B=this._glDepthFormat();L.bindTexture(L.TEXTURE_2D,H),L.texImage2D(L.TEXTURE_2D,0,B.internalFormat,this.width*this.density,this.height*this.density,0,B.format,B.type,null),L.framebufferTexture2D(L.FRAMEBUFFER,this.useStencil?L.DEPTH_STENCIL_ATTACHMENT:L.DEPTH_ATTACHMENT,L.TEXTURE_2D,H,0),this.depthTexture=H}this.antialias&&(this.colorRenderbuffer=L.createRenderbuffer(),L.bindRenderbuffer(L.RENDERBUFFER,this.colorRenderbuffer),L.renderbufferStorageMultisample(L.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,L.getParameter(L.MAX_SAMPLES))),z.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(B=this._glDepthFormat(),this.depthRenderbuffer=L.createRenderbuffer(),L.bindRenderbuffer(L.RENDERBUFFER,this.depthRenderbuffer),L.renderbufferStorageMultisample(L.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,L.getParameter(L.MAX_SAMPLES))),B.internalFormat,this.width*this.density,this.height*this.density)),L.bindFramebuffer(L.FRAMEBUFFER,this.aaFramebuffer),L.framebufferRenderbuffer(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&L.framebufferRenderbuffer(L.FRAMEBUFFER,this.useStencil?L.DEPTH_STENCIL_ATTACHMENT:L.DEPTH_ATTACHMENT,L.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new A(this,"depthTexture"),H=L.NEAREST,this.depthP5Texture=new o.default.Texture(this.target._renderer,this.depth,{minFilter:H,magFilter:H}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new A(this,"colorTexture"),z=this.textureFiltering===u.LINEAR?L.LINEAR:L.NEAREST,this.colorP5Texture=new o.default.Texture(this.target._renderer,this.color,{minFilter:z,magFilter:z}),this.target._renderer.textures.set(this.color,this.colorP5Texture),L.bindTexture(L.TEXTURE_2D,R),L.bindFramebuffer(L.FRAMEBUFFER,D)}},{key:"_glColorFormat",value:function(){var L,R,D=this.gl,H=this.format===u.FLOAT?D.FLOAT:this.format===u.HALF_FLOAT?this.target.webglVersion===u.WEBGL2?D.HALF_FLOAT:D.getExtension("OES_texture_half_float").HALF_FLOAT_OES:D.UNSIGNED_BYTE,z=this.channels===u.RGBA?D.RGBA:D.RGB;return{internalFormat:this.target.webglVersion===u.WEBGL2?(p(R={},D.FLOAT,p({},D.RGBA,D.RGBA32F)),p(R,D.HALF_FLOAT,p({},D.RGBA,D.RGBA16F)),p(R,D.UNSIGNED_BYTE,(p(L={},D.RGBA,D.RGBA8),p(L,D.RGB,D.RGB8),L)),R[H][z]):this.format===u.HALF_FLOAT?D.RGBA:z,format:z,type:H}}},{key:"_glDepthFormat",value:function(){var D=this.gl,L=this.useStencil?this.depthFormat===u.FLOAT?D.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===u.WEBGL2?D.UNSIGNED_INT_24_8:D.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===u.FLOAT?D.FLOAT:D.UNSIGNED_INT,R=this.useStencil?D.DEPTH_STENCIL:D.DEPTH_COMPONENT,D=this.useStencil?this.depthFormat===u.FLOAT?D.DEPTH32F_STENCIL8:this.target.webglVersion===u.WEBGL2?D.DEPTH24_STENCIL8:D.DEPTH_STENCIL:this.target.webglVersion===u.WEBGL2?this.depthFormat===u.FLOAT?D.DEPTH_COMPONENT32F:D.DEPTH_COMPONENT24:D.DEPTH_COMPONENT;return{internalFormat:D,format:R,type:L}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var H=this.color,L=this.depth,R=this.colorRenderbuffer,D=this.depthRenderbuffer,H=(this._deleteTexture(H),L&&this._deleteTexture(L),this.gl);R&&H.deleteRenderbuffer(R),D&&H.deleteRenderbuffer(D),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var L=new O(this);return L._computeCameraDefaultSettings(),L._setDefaultCamera(),this.target._renderer._curCamera=L}},{key:"_deleteTexture",value:function(L){this.gl.deleteTexture(L.rawTexture()),this.target._renderer.textures.delete(L)}},{key:"remove",value:function(){var L=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),L.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&L.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&L.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&L.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var L=this.gl;L.bindFramebuffer(L.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var L=this.gl,R=(L.bindFramebuffer(L.READ_FRAMEBUFFER,this.aaFramebuffer),L.bindFramebuffer(L.DRAW_FRAMEBUFFER,this.framebuffer),[[L.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&R.push([L.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var D=0,H=R;D<H.length;D++){var B=d(H[D],2),z=B[0],B=B[1];L.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,z,B)}}}},{key:"end",value:function(){var L=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(L.bindFramebuffer(L.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(L){this.begin(),L(),this.end()}},{key:"loadPixels",value:function(){var L=this.gl,R=this.target._renderer.activeFramebuffer(),D=(L.bindFramebuffer(L.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,v.readPixelsWebGL)(this.pixels,L,this.framebuffer,0,0,this.width*this.density,this.height*this.density,D.format,D.type),R?L.bindFramebuffer(L.FRAMEBUFFER,R._framebufferToBind()):L.bindFramebuffer(L.FRAMEBUFFER,null)}},{key:"get",value:function(L,R,D,H){o.default._validateParameters("p5.Framebuffer.get",arguments);var z=this._glColorFormat();if(L===void 0&&R===void 0)R=L=0,D=this.width,H=this.height;else if(D===void 0&&H===void 0)return(L<0||R<0||L>=this.width||R>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),L=this.target.constrain(L,0,this.width-1),R=this.target.constrain(R,0,this.height-1)),(0,v.readPixelWebGL)(this.gl,this.framebuffer,L*this.density,R*this.density,z.format,z.type);L=this.target.constrain(L,0,this.width-1),R=this.target.constrain(R,0,this.height-1),D=this.target.constrain(D,1,this.width-L),H=this.target.constrain(H,1,this.height-R);for(var B=(0,v.readPixelsWebGL)(void 0,this.gl,this.framebuffer,L*this.density,R*this.density,D*this.density,H*this.density,z.format,z.type),J=new Uint8ClampedArray(D*H*this.density*this.density*4),ee=(J.fill(255),z.type===this.gl.RGB?3:4),Z=0;Z<H*this.density;Z++)for(var q=0;q<D*this.density;q++)for(var re=0;re<4;re++){var ge,V=4*(Z*D*this.density+q)+re;re<ee&&(ge=ee==4?V:(Z*D*this.density+q)*ee+re,J[V]=B[ge])}return L=new o.default.Image(D*this.density,H*this.density),L.imageData=L.canvas.getContext("2d").createImageData(L.width,L.height),L.imageData.data.set(J),L.pixels=L.imageData.data,L.updatePixels(),this.density!==1&&L.resize(D,H),L}},{key:"updatePixels",value:function(){var L=this.gl,R=(this.colorP5Texture.bindTexture(),this._glColorFormat()),D=R.format===L.RGBA?4:3,D=this.width*this.height*this.density*this.density*D,H=R.type===L.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof H)||this.pixels.length!==D)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");L.texImage2D(L.TEXTURE_2D,0,R.internalFormat,this.width*this.density,this.height*this.density,0,R.format,R.type,this.pixels),this.colorP5Texture.unbindTexture(),H=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(L.clearDepth(1),L.clear(L.DEPTH_BUFFER_BIT)),this.end()):(L.bindFramebuffer(L.FRAMEBUFFER,this.framebuffer),this.useDepth&&(L.clearDepth(1),L.clear(L.DEPTH_BUFFER_BIT)),H?L.bindFramebuffer(L.FRAMEBUFFER,H._framebufferToBind()):L.bindFramebuffer(L.FRAMEBUFFER,null))}}]),I}()),C=o.default.Framebuffer=E;l.default=C},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(t,a,l){"use strict";function n(f){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(f)}function s(f){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(y){return n(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":n(y)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(p=t("../core/main"))&&p.__esModule?p:{default:p},u=function(f){if(f&&f.__esModule)return f;if(f===null||s(f)!=="object"&&typeof f!="function")return{default:f};var y=m();if(y&&y.has(f))return y.get(f);var g,_={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in f){var w;Object.prototype.hasOwnProperty.call(f,g)&&((w=b?Object.getOwnPropertyDescriptor(f,g):null)&&(w.get||w.set)?Object.defineProperty(_,g,w):_[g]=f[g])}return _.default=f,y&&y.set(f,_),_}(t("../core/constants"));function m(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,m=function(){return f},f)}function v(f){return function(y){if(Array.isArray(y)){for(var g=0,_=new Array(y.length);g<y.length;g++)_[g]=y[g];return _}}(f)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(f,y){return function(g){if(Array.isArray(g))return g}(f)||function(g,_){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]"){var b=[],w=!0,T=!1,O=void 0;try{for(var A,E=g[Symbol.iterator]();!(w=(A=E.next()).done)&&(b.push(A.value),!_||b.length!==_);w=!0);}catch(C){T=!0,O=C}finally{try{w||E.return==null||E.return()}finally{if(T)throw O}}return b}}(f,y)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(f,y){for(var g=0;g<y.length;g++){var _=y[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(f,_.key,_)}}o.default.Geometry=function(){function f(b,w,T){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new o.default.DataArray,this.lineTangentsIn=new o.default.DataArray,this.lineTangentsOut=new o.default.DataArray,this.lineSides=new o.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new o.default.DataArray,this.detailX=b!==void 0?b:1,this.detailY=w!==void 0?w:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,T instanceof Function&&T.call(this)}var y,g,_;return y=f,(g=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var b=new o.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),w=new o.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),T=0;T<this.vertices.length;T++){var O=this.vertices[T];b.x=Math.min(b.x,O.x),b.y=Math.min(b.y,O.y),b.z=Math.min(b.z,O.z),w.x=Math.max(w.x,O.x),w.y=Math.max(w.y,O.y),w.z=Math.max(w.z,O.z)}var A=new o.default.Vector(w.x-b.x,w.y-b.y,w.z-b.z),E=new o.default.Vector((b.x+w.x)/2,(b.y+w.y)/2,(b.z+w.z)/2);this.boundingBoxCache={min:b,max:w,size:A,offset:E}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(var b=0;b<this.vertexColors.length;b+=4)if(this.vertexColors[b+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(var b=0;b<this.lineVertexColors.length;b+=4)if(this.lineVertexColors[b+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var b=this,w=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.obj",T="";if(this.vertices.forEach(function(E){T+="v ".concat(E.x," ").concat(E.y," ").concat(E.z,`
`)}),this.uvs&&0<this.uvs.length)for(var O=0;O<this.uvs.length;O+=2)T+="vt ".concat(this.uvs[O]," ").concat(this.uvs[O+1],`
`);this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(E){T+="vn ".concat(E.x," ").concat(E.y," ").concat(E.z,`
`)}),this.faces.forEach(function(E){var C="f";E.forEach(function(I){C=C+" "+(I+1),(0<b.vertexNormals.length||0<b.uvs.length)&&(C+="/",0<b.uvs.length&&(C+=I+1),C+="/",0<b.vertexNormals.length&&(C+=I+1))}),T+=C+`
`});var A=new Blob([T],{type:"text/plain"});o.default.prototype.downloadFile(A,w,"obj")}},{key:"saveStl",value:function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.stl",w=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).binary,w=w!==void 0&&w,T=b.substring(0,b.lastIndexOf(".")),O=[],A=!0,E=!1,C=void 0;try{for(var I,L=this.faces[Symbol.iterator]();!(A=(I=L.next()).done);A=!0){var R=I.value,D=o.default.Vector.sub(this.vertices[R[1]],this.vertices[R[0]]),H=o.default.Vector.sub(this.vertices[R[2]],this.vertices[R[0]]),z=D.y*H.z-D.z*H.y,B=D.z*H.x-D.x*H.z,J=D.x*H.y-D.y*H.x;O.push(new o.default.Vector(z,B,J).normalize())}}catch(Te){E=!0,C=Te}finally{try{A||L.return==null||L.return()}finally{if(E)throw C}}if(w){var ee,Z=80,E=2*this.faces.length+3*this.faces.length*4*4+80+4,C=new ArrayBuffer(E);(ee=new DataView(C)).setUint32(Z,this.faces.length,!0),Z+=4;for(var q=0,re=Object.entries(this.faces);q<re.length;q++){var ge=c(re[q],2),j=ge[0],ge=ge[1],j=O[j],V=(ee.setFloat32(Z,j.x,!0),Z+=4,ee.setFloat32(Z,j.y,!0),Z+=4,ee.setFloat32(Z,j.z,!0),Z+=4,!0),j=!1,G=void 0;try{for(var K,ae=ge[Symbol.iterator]();!(V=(K=ae.next()).done);V=!0){var Q=K.value,oe=this.vertices[Q];ee.setFloat32(Z,oe.x,!0),Z+=4,ee.setFloat32(Z,oe.y,!0),Z+=4,ee.setFloat32(Z,oe.z,!0),Z+=4}}catch(Pe){j=!0,G=Pe}finally{try{V||ae.return==null||ae.return()}finally{if(j)throw G}}ee.setUint16(Z,0,!0),Z+=2}}else{ee="solid "+T+`
`;for(var W=0,Y=Object.entries(this.faces);W<Y.length;W++){var ne=c(Y[W],2),se=ne[0],ne=ne[1],se=O[se],ue=(ee=ee+(" facet norm "+se.x+" "+se.y+" "+se.z+`
`)+`  outer loop
`,!0),se=!1,pe=void 0;try{for(var ve,fe=ne[Symbol.iterator]();!(ue=(ve=fe.next()).done);ue=!0){var xe=ve.value,ke=this.vertices[xe];ee+="   vertex "+ke.x+" "+ke.y+" "+ke.z+`
`}}catch(Te){se=!0,pe=Te}finally{try{ue||fe.return==null||fe.return()}finally{if(se)throw pe}}ee=ee+`  endloop
 endfacet
`}ee+="endsolid "+T+`
`}w=new Blob([ee],{type:"text/plain"}),o.default.prototype.downloadFile(w,b,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(b,w){return w%2==0?1-b:b})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(b,w){return w%2==0?b:1-b})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var b,w,T,O=this.detailX+1,A=0;A<this.detailY;A++)for(var E=0;E<this.detailX;E++)w=(A+1)*O+E+1,this.faces.push([A*O+E,b=A*O+E+1,T=(A+1)*O+E]),this.faces.push([T,b,w]);return this}},{key:"_getFaceNormal",value:function(w){var w=this.faces[w],T=this.vertices[w[0]],A=this.vertices[w[1]],w=this.vertices[w[2]],A=o.default.Vector.sub(A,T),w=o.default.Vector.sub(w,T),T=o.default.Vector.cross(A,w),O=o.default.Vector.mag(T),A=O/(o.default.Vector.mag(A)*o.default.Vector.mag(w));return A===0||isNaN(A)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),T):(1<A&&(A=1),T.mult(Math.asin(A)/O))}},{key:"computeNormals",value:function(){var b,w=this,T=0<arguments.length&&arguments[0]!==void 0?arguments[0]:u.FLAT,O=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,A=this.vertexNormals,E=this.vertices,C=this.faces;if(T===u.SMOOTH){for(var I={},L=[],R=Math.pow(10,O===void 0?3:O),D=function(ee){return Math.round(ee*R)/R},H=function(ee){return"".concat(D(ee.x),",").concat(D(ee.y),",").concat(D(ee.z))},z=0;z<E.length;z++){var B=E[z],J=H(B);I[J]===void 0&&(I[J]=L.length,L.push(B))}C.forEach(function(ee){for(var Z=0;Z<3;++Z){var q=ee[Z],q=E[q],q=H(q);ee[Z]=I[q]}}),this.edges.forEach(function(ee){for(var Z=0;Z<2;++Z){var q=ee[Z],q=E[q],q=H(q);ee[Z]=I[q]}}),this.vertices=E=L}for(b=A.length=0;b<E.length;++b)A.push(new o.default.Vector);for(C.forEach(function(ee,Z){for(var q=w._getFaceNormal(Z),re=0;re<3;++re){var ge=ee[re];A[ge].add(q)}}),b=0;b<E.length;++b)A[b].normalize();return this}},{key:"averageNormals",value:function(){for(var b=0;b<=this.detailY;b++){var w=this.detailX+1,T=o.default.Vector.add(this.vertexNormals[b*w],this.vertexNormals[b*w+this.detailX]),T=o.default.Vector.div(T,2);this.vertexNormals[b*w]=T,this.vertexNormals[b*w+this.detailX]=T}return this}},{key:"averagePoleNormals",value:function(){for(var b=new o.default.Vector(0,0,0),w=0;w<this.detailX;w++)b.add(this.vertexNormals[w]);for(var b=o.default.Vector.div(b,this.detailX),T=0;T<this.detailX;T++)this.vertexNormals[T]=b;b=new o.default.Vector(0,0,0);for(var O=this.vertices.length-1;O>this.vertices.length-1-this.detailX;O--)b.add(this.vertexNormals[O]);b=o.default.Vector.div(b,this.detailX);for(var A=this.vertices.length-1;A>this.vertices.length-1-this.detailX;A--)this.vertexNormals[A]=b;return this}},{key:"_makeTriangleEdges",value:function(){for(var b=this.edges.length=0;b<this.faces.length;b++)this.edges.push([this.faces[b][0],this.faces[b][1]]),this.edges.push([this.faces[b][1],this.faces[b][2]]),this.edges.push([this.faces[b][2],this.faces[b][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var b,w=new Map,T=new Set,O=0;O<this.edges.length;O++){var A,E=this.edges[O-1],C=this.edges[O],I=this.vertices[C[0]],L=this.vertices[C[1]],R=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*C[0],4*(C[0]+1)):[0,0,0,0],D=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*C[1],4*(C[1]+1)):[0,0,0,0],H=L.copy().sub(I).normalize(),z=0<H.magSq();z&&this._addSegment(I,L,R,D,H),0<O&&E[1]===C[0]?T.has(C[0])||(T.add(C[0]),w.delete(C[0]),b&&z&&H.dot(b)<1-1e-8&&this._addJoin(I,b,H,R)):(z&&!T.has(C[0])&&((A=w.get(C[0]))?(this._addJoin(I,A.dir,H,R),w.delete(C[0]),T.add(C[0])):w.set(C[0],{point:I,dir:H.copy().mult(-1),color:R})),b&&!T.has(E[1])&&((A=w.get(E[1]))?(this._addJoin(this.vertices[E[1]],b,A.dir.copy().mult(-1),R),w.delete(E[1]),T.add(E[1])):w.set(E[1],{point:this.vertices[E[1]],dir:b,color:R}),b=void 0)),O!==this.edges.length-1||T.has(C[1])||((I=w.get(C[1]))?(this._addJoin(L,H,I.dir.copy().mult(-1),D),w.delete(C[1]),T.add(C[1])):w.set(C[1],{point:L,dir:H,color:D})),z&&(b=H)}var B=!0,J=!1,ee=void 0;try{for(var Z,q=w.values()[Symbol.iterator]();!(B=(Z=q.next()).done);B=!0){var re=Z.value,ge=re.point,V=re.dir,j=re.color;this._addCap(ge,V,j)}}catch(G){J=!0,ee=G}finally{try{B||q.return==null||q.return()}finally{if(J)throw ee}}return this}},{key:"_addSegment",value:function(E,C,T,O,A){var E=E.array(),C=C.array(),I=A.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var L=0,R=[this.lineTangentsIn,this.lineTangentsOut];L<R.length;L++)for(var D=R[L],H=0;H<6;H++)D.push.apply(D,v(I));return(A=this.lineVertices).push.apply(A,v(E).concat(v(C),v(E),v(C),v(C),v(E))),(A=this.lineVertexColors).push.apply(A,v(T).concat(v(O),v(T),v(O),v(O),v(T))),this}},{key:"_addCap",value:function(b,w,T){for(var O,A=b.array(),E=w.array(),C=[0,0,0],I=0;I<6;I++)(O=this.lineVertices).push.apply(O,v(A)),(O=this.lineTangentsIn).push.apply(O,v(E)),(O=this.lineTangentsOut).push.apply(O,C),(O=this.lineVertexColors).push.apply(O,v(T));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(b,w,T,O){for(var A,E=b.array(),C=w.array(),I=T.array(),L=0;L<12;L++)(A=this.lineVertices).push.apply(A,v(E)),(A=this.lineTangentsIn).push.apply(A,v(C)),(A=this.lineTangentsOut).push.apply(A,v(I)),(A=this.lineVertexColors).push.apply(A,v(O));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var b=this.vertices[0].copy(),w=this.vertices[0].copy(),T=0;T<this.vertices.length;T++)b.x=Math.max(b.x,this.vertices[T].x),w.x=Math.min(w.x,this.vertices[T].x),b.y=Math.max(b.y,this.vertices[T].y),w.y=Math.min(w.y,this.vertices[T].y),b.z=Math.max(b.z,this.vertices[T].z),w.z=Math.min(w.z,this.vertices[T].z);for(var O=o.default.Vector.lerp(b,w,.5),A=o.default.Vector.sub(b,w),E=200/Math.max(Math.max(A.x,A.y),A.z),C=0;C<this.vertices.length;C++)this.vertices[C].sub(O),this.vertices[C].mult(E)}return this}}])&&d(y.prototype,g),_&&d(y,_),f}();var p=o.default.Geometry;l.default=p},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(m,a,l){"use strict";m("core-js/modules/es.array.iterator"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.typed-array.float32-array"),m("core-js/modules/es.typed-array.copy-within"),m("core-js/modules/es.typed-array.every"),m("core-js/modules/es.typed-array.fill"),m("core-js/modules/es.typed-array.filter"),m("core-js/modules/es.typed-array.find"),m("core-js/modules/es.typed-array.find-index"),m("core-js/modules/es.typed-array.for-each"),m("core-js/modules/es.typed-array.includes"),m("core-js/modules/es.typed-array.index-of"),m("core-js/modules/es.typed-array.iterator"),m("core-js/modules/es.typed-array.join"),m("core-js/modules/es.typed-array.last-index-of"),m("core-js/modules/es.typed-array.map"),m("core-js/modules/es.typed-array.reduce"),m("core-js/modules/es.typed-array.reduce-right"),m("core-js/modules/es.typed-array.reverse"),m("core-js/modules/es.typed-array.set"),m("core-js/modules/es.typed-array.slice"),m("core-js/modules/es.typed-array.some"),m("core-js/modules/es.typed-array.sort"),m("core-js/modules/es.typed-array.subarray"),m("core-js/modules/es.typed-array.to-locale-string"),m("core-js/modules/es.typed-array.to-string"),m("core-js/modules/es.array.iterator"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.typed-array.float32-array"),m("core-js/modules/es.typed-array.copy-within"),m("core-js/modules/es.typed-array.every"),m("core-js/modules/es.typed-array.fill"),m("core-js/modules/es.typed-array.filter"),m("core-js/modules/es.typed-array.find"),m("core-js/modules/es.typed-array.find-index"),m("core-js/modules/es.typed-array.for-each"),m("core-js/modules/es.typed-array.includes"),m("core-js/modules/es.typed-array.index-of"),m("core-js/modules/es.typed-array.iterator"),m("core-js/modules/es.typed-array.join"),m("core-js/modules/es.typed-array.last-index-of"),m("core-js/modules/es.typed-array.map"),m("core-js/modules/es.typed-array.reduce"),m("core-js/modules/es.typed-array.reduce-right"),m("core-js/modules/es.typed-array.reverse"),m("core-js/modules/es.typed-array.set"),m("core-js/modules/es.typed-array.slice"),m("core-js/modules/es.typed-array.some"),m("core-js/modules/es.typed-array.sort"),m("core-js/modules/es.typed-array.subarray"),m("core-js/modules/es.typed-array.to-locale-string"),m("core-js/modules/es.typed-array.to-string"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=(m=m("../core/main"))&&m.__esModule?m:{default:m};function s(v,c){for(var d=0;d<c.length;d++){var p=c[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}var o=Array,u=function(v){return Array.isArray(v)},m=(typeof Float32Array<"u"&&(o=Float32Array,u=function(v){return Array.isArray(v)||v instanceof Float32Array}),n.default.Matrix=function(){function v(){var f=this,y=v;if(f instanceof y)return arguments.length&&((f=arguments.length-1)<0||arguments.length<=f?void 0:arguments[f])instanceof n.default&&(this.p5=(y=arguments.length-1)<0||arguments.length<=y?void 0:arguments[y]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new o([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new o([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var c,d,p;return c=v,p=[{key:"identity",value:function(f){return new n.default.Matrix(f)}}],(d=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(f){var y=arguments;if(f instanceof n.default.Matrix?y=f.mat4:u(f)&&(y=f),y.length!==16)n.default._friendlyError("Expected 16 values but received ".concat(y.length,"."),"p5.Matrix.set");else for(var g=0;g<16;g++)this.mat4[g]=y[g];return this}},{key:"get",value:function(){return new n.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var f;return this.mat3!==void 0?((f=new n.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],f.mat3[1]=this.mat3[1],f.mat3[2]=this.mat3[2],f.mat3[3]=this.mat3[3],f.mat3[4]=this.mat3[4],f.mat3[5]=this.mat3[5],f.mat3[6]=this.mat3[6],f.mat3[7]=this.mat3[7],f.mat3[8]=this.mat3[8]):((f=new n.default.Matrix(this.p5)).mat4[0]=this.mat4[0],f.mat4[1]=this.mat4[1],f.mat4[2]=this.mat4[2],f.mat4[3]=this.mat4[3],f.mat4[4]=this.mat4[4],f.mat4[5]=this.mat4[5],f.mat4[6]=this.mat4[6],f.mat4[7]=this.mat4[7],f.mat4[8]=this.mat4[8],f.mat4[9]=this.mat4[9],f.mat4[10]=this.mat4[10],f.mat4[11]=this.mat4[11],f.mat4[12]=this.mat4[12],f.mat4[13]=this.mat4[13],f.mat4[14]=this.mat4[14],f.mat4[15]=this.mat4[15]),f}},{key:"transpose",value:function(f){var y,g,_,b,w,T;return f instanceof n.default.Matrix?(y=f.mat4[1],g=f.mat4[2],_=f.mat4[3],b=f.mat4[6],w=f.mat4[7],T=f.mat4[11],this.mat4[0]=f.mat4[0],this.mat4[1]=f.mat4[4],this.mat4[2]=f.mat4[8],this.mat4[3]=f.mat4[12],this.mat4[4]=y,this.mat4[5]=f.mat4[5],this.mat4[6]=f.mat4[9],this.mat4[7]=f.mat4[13],this.mat4[8]=g,this.mat4[9]=b,this.mat4[10]=f.mat4[10],this.mat4[11]=f.mat4[14],this.mat4[12]=_,this.mat4[13]=w,this.mat4[14]=T,this.mat4[15]=f.mat4[15]):u(f)&&(y=f[1],g=f[2],_=f[3],b=f[6],w=f[7],T=f[11],this.mat4[0]=f[0],this.mat4[1]=f[4],this.mat4[2]=f[8],this.mat4[3]=f[12],this.mat4[4]=y,this.mat4[5]=f[5],this.mat4[6]=f[9],this.mat4[7]=f[13],this.mat4[8]=g,this.mat4[9]=b,this.mat4[10]=f[10],this.mat4[11]=f[14],this.mat4[12]=_,this.mat4[13]=w,this.mat4[14]=T,this.mat4[15]=f[15]),this}},{key:"invert",value:function(B){B instanceof n.default.Matrix?(y=B.mat4[0],g=B.mat4[1],_=B.mat4[2],b=B.mat4[3],w=B.mat4[4],T=B.mat4[5],O=B.mat4[6],A=B.mat4[7],E=B.mat4[8],C=B.mat4[9],I=B.mat4[10],L=B.mat4[11],R=B.mat4[12],D=B.mat4[13],H=B.mat4[14],z=B.mat4[15]):u(B)&&(y=B[0],g=B[1],_=B[2],b=B[3],w=B[4],T=B[5],O=B[6],A=B[7],E=B[8],C=B[9],I=B[10],L=B[11],R=B[12],D=B[13],H=B[14],z=B[15]);var y,g,_,b,w,T,O,A,E,C,I,L,R,D,H,z,B=y*T-g*w,J=y*O-_*w,ee=y*A-b*w,Z=g*O-_*T,q=g*A-b*T,re=_*A-b*O,ge=E*D-C*R,V=E*H-I*R,j=E*z-L*R,G=C*H-I*D,K=C*z-L*D,ae=I*z-L*H,Q=B*ae-J*K+ee*G+Z*j-q*V+re*ge;return Q?(this.mat4[0]=(T*ae-O*K+A*G)*(Q=1/Q),this.mat4[1]=(_*K-g*ae-b*G)*Q,this.mat4[2]=(D*re-H*q+z*Z)*Q,this.mat4[3]=(I*q-C*re-L*Z)*Q,this.mat4[4]=(O*j-w*ae-A*V)*Q,this.mat4[5]=(y*ae-_*j+b*V)*Q,this.mat4[6]=(H*ee-R*re-z*J)*Q,this.mat4[7]=(E*re-I*ee+L*J)*Q,this.mat4[8]=(w*K-T*j+A*ge)*Q,this.mat4[9]=(g*j-y*K-b*ge)*Q,this.mat4[10]=(R*q-D*ee+z*B)*Q,this.mat4[11]=(C*ee-E*q-L*B)*Q,this.mat4[12]=(T*V-w*G-O*ge)*Q,this.mat4[13]=(y*G-g*V+_*ge)*Q,this.mat4[14]=(D*J-R*Z-H*B)*Q,this.mat4[15]=(E*Z-C*J+I*B)*Q,this):null}},{key:"invert3x3",value:function(){var f=this.mat3[0],y=this.mat3[1],g=this.mat3[2],_=this.mat3[3],b=this.mat3[4],w=this.mat3[5],T=this.mat3[6],O=this.mat3[7],A=this.mat3[8],E=A*b-w*O,C=-A*_+w*T,I=O*_-b*T,L=f*E+y*C+g*I;return L?(this.mat3[0]=E*(L=1/L),this.mat3[1]=(-A*y+g*O)*L,this.mat3[2]=(w*y-g*b)*L,this.mat3[3]=C*L,this.mat3[4]=(A*f-g*T)*L,this.mat3[5]=(-w*f+g*_)*L,this.mat3[6]=I*L,this.mat3[7]=(-O*f+y*T)*L,this.mat3[8]=(b*f-y*_)*L,this):null}},{key:"transpose3x3",value:function(f){var y=(f=f===void 0?this.mat3:f)[1],g=f[2],_=f[5];return this.mat3[0]=f[0],this.mat3[1]=f[3],this.mat3[2]=f[6],this.mat3[3]=y,this.mat3[4]=f[4],this.mat3[5]=f[7],this.mat3[6]=g,this.mat3[7]=_,this.mat3[8]=f[8],this}},{key:"inverseTranspose",value:function(f){if(f=f.mat4,this.mat3===void 0?n.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=f[0],this.mat3[1]=f[1],this.mat3[2]=f[2],this.mat3[3]=f[4],this.mat3[4]=f[5],this.mat3[5]=f[6],this.mat3[6]=f[8],this.mat3[7]=f[9],this.mat3[8]=f[10]),f=this.invert3x3(),f)f.transpose3x3(this.mat3);else for(var y=0;y<9;y++)this.mat3[y]=0;return this}},{key:"determinant",value:function(){var f=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],y=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],g=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],_=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],b=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],w=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],T=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],O=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],A=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],E=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],C=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return f*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-y*C+g*E+_*A-b*O+w*T}},{key:"mult",value:function(g){var y;if(g===this||g===this.mat4)y=this.copy().mat4;else if(g instanceof n.default.Matrix)y=g.mat4;else if(u(g))y=g;else{if(arguments.length!==16)return;y=arguments}var g=this.mat4[0],_=this.mat4[1],b=this.mat4[2],w=this.mat4[3];return this.mat4[0]=g*y[0]+_*y[4]+b*y[8]+w*y[12],this.mat4[1]=g*y[1]+_*y[5]+b*y[9]+w*y[13],this.mat4[2]=g*y[2]+_*y[6]+b*y[10]+w*y[14],this.mat4[3]=g*y[3]+_*y[7]+b*y[11]+w*y[15],g=this.mat4[4],_=this.mat4[5],b=this.mat4[6],w=this.mat4[7],this.mat4[4]=g*y[0]+_*y[4]+b*y[8]+w*y[12],this.mat4[5]=g*y[1]+_*y[5]+b*y[9]+w*y[13],this.mat4[6]=g*y[2]+_*y[6]+b*y[10]+w*y[14],this.mat4[7]=g*y[3]+_*y[7]+b*y[11]+w*y[15],g=this.mat4[8],_=this.mat4[9],b=this.mat4[10],w=this.mat4[11],this.mat4[8]=g*y[0]+_*y[4]+b*y[8]+w*y[12],this.mat4[9]=g*y[1]+_*y[5]+b*y[9]+w*y[13],this.mat4[10]=g*y[2]+_*y[6]+b*y[10]+w*y[14],this.mat4[11]=g*y[3]+_*y[7]+b*y[11]+w*y[15],g=this.mat4[12],_=this.mat4[13],b=this.mat4[14],w=this.mat4[15],this.mat4[12]=g*y[0]+_*y[4]+b*y[8]+w*y[12],this.mat4[13]=g*y[1]+_*y[5]+b*y[9]+w*y[13],this.mat4[14]=g*y[2]+_*y[6]+b*y[10]+w*y[14],this.mat4[15]=g*y[3]+_*y[7]+b*y[11]+w*y[15],this}},{key:"apply",value:function(g){var y;if(g===this||g===this.mat4)y=this.copy().mat4;else if(g instanceof n.default.Matrix)y=g.mat4;else if(u(g))y=g;else{if(arguments.length!==16)return;y=arguments}var g=this.mat4,_=g[0],b=g[4],w=g[8],T=g[12],_=(g[0]=y[0]*_+y[1]*b+y[2]*w+y[3]*T,g[4]=y[4]*_+y[5]*b+y[6]*w+y[7]*T,g[8]=y[8]*_+y[9]*b+y[10]*w+y[11]*T,g[12]=y[12]*_+y[13]*b+y[14]*w+y[15]*T,g[1]),b=g[5],w=g[9],T=g[13],_=(g[1]=y[0]*_+y[1]*b+y[2]*w+y[3]*T,g[5]=y[4]*_+y[5]*b+y[6]*w+y[7]*T,g[9]=y[8]*_+y[9]*b+y[10]*w+y[11]*T,g[13]=y[12]*_+y[13]*b+y[14]*w+y[15]*T,g[2]),b=g[6],w=g[10],T=g[14],_=(g[2]=y[0]*_+y[1]*b+y[2]*w+y[3]*T,g[6]=y[4]*_+y[5]*b+y[6]*w+y[7]*T,g[10]=y[8]*_+y[9]*b+y[10]*w+y[11]*T,g[14]=y[12]*_+y[13]*b+y[14]*w+y[15]*T,g[3]),b=g[7],w=g[11],T=g[15];return g[3]=y[0]*_+y[1]*b+y[2]*w+y[3]*T,g[7]=y[4]*_+y[5]*b+y[6]*w+y[7]*T,g[11]=y[8]*_+y[9]*b+y[10]*w+y[11]*T,g[15]=y[12]*_+y[13]*b+y[14]*w+y[15]*T,this}},{key:"scale",value:function(f,y,g){return f instanceof n.default.Vector?(y=f.y,g=f.z,f=f.x):f instanceof Array&&(y=f[1],g=f[2],f=f[0]),this.mat4[0]*=f,this.mat4[1]*=f,this.mat4[2]*=f,this.mat4[3]*=f,this.mat4[4]*=y,this.mat4[5]*=y,this.mat4[6]*=y,this.mat4[7]*=y,this.mat4[8]*=g,this.mat4[9]*=g,this.mat4[10]*=g,this.mat4[11]*=g,this}},{key:"rotate",value:function(B,K,G,_){K instanceof n.default.Vector?(G=K.y,_=K.z,K=K.x):K instanceof Array&&(G=K[1],_=K[2],K=K[0]);var b=Math.sqrt(K*K+G*G+_*_),b=(K*=1/b,G*=1/b,_*=1/b,this.mat4[0]),w=this.mat4[1],T=this.mat4[2],O=this.mat4[3],A=this.mat4[4],E=this.mat4[5],C=this.mat4[6],I=this.mat4[7],L=this.mat4[8],R=this.mat4[9],D=this.mat4[10],H=this.mat4[11],z=Math.sin(B),B=Math.cos(B),J=1-B,ee=K*K*J+B,Z=G*K*J+_*z,q=_*K*J-G*z,re=K*G*J-_*z,ge=G*G*J+B,V=_*G*J+K*z,j=K*_*J+G*z,G=G*_*J-K*z,K=_*_*J+B;return this.mat4[0]=b*ee+A*Z+L*q,this.mat4[1]=w*ee+E*Z+R*q,this.mat4[2]=T*ee+C*Z+D*q,this.mat4[3]=O*ee+I*Z+H*q,this.mat4[4]=b*re+A*ge+L*V,this.mat4[5]=w*re+E*ge+R*V,this.mat4[6]=T*re+C*ge+D*V,this.mat4[7]=O*re+I*ge+H*V,this.mat4[8]=b*j+A*G+L*K,this.mat4[9]=w*j+E*G+R*K,this.mat4[10]=T*j+C*G+D*K,this.mat4[11]=O*j+I*G+H*K,this}},{key:"translate",value:function(_){var y=_[0],g=_[1],_=_[2]||0;this.mat4[12]+=this.mat4[0]*y+this.mat4[4]*g+this.mat4[8]*_,this.mat4[13]+=this.mat4[1]*y+this.mat4[5]*g+this.mat4[9]*_,this.mat4[14]+=this.mat4[2]*y+this.mat4[6]*g+this.mat4[10]*_,this.mat4[15]+=this.mat4[3]*y+this.mat4[7]*g+this.mat4[11]*_}},{key:"rotateX",value:function(f){this.rotate(f,1,0,0)}},{key:"rotateY",value:function(f){this.rotate(f,0,1,0)}},{key:"rotateZ",value:function(f){this.rotate(f,0,0,1)}},{key:"perspective",value:function(b,y,g,_){var b=1/Math.tan(b/2),w=1/(g-_);return this.mat4[0]=b/y,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=b,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(_+g)*w,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*_*g*w,this.mat4[15]=0,this}},{key:"ortho",value:function(f,y,g,_,b,w){var T=1/(f-y),O=1/(g-_),A=1/(b-w);return this.mat4[0]=-2*T,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*O,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*A,this.mat4[11]=0,this.mat4[12]=(f+y)*T,this.mat4[13]=(_+g)*O,this.mat4[14]=(w+b)*A,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(f,y,g,_){var b=new Array(4),w=this.mat4;return b[0]=w[0]*f+w[4]*y+w[8]*g+w[12]*_,b[1]=w[1]*f+w[5]*y+w[9]*g+w[13]*_,b[2]=w[2]*f+w[6]*y+w[10]*g+w[14]*_,b[3]=w[3]*f+w[7]*y+w[11]*g+w[15]*_,b}},{key:"multiplyPoint",value:function(g){var _=g.x,y=g.y,g=g.z,_=this.multiplyVec4(_,y,g,1);return new n.default.Vector(_[0],_[1],_[2])}},{key:"multiplyAndNormalizePoint",value:function(g){var _=g.x,y=g.y,g=g.z,_=this.multiplyVec4(_,y,g,1);return _[0]/=_[3],_[1]/=_[3],_[2]/=_[3],new n.default.Vector(_[0],_[1],_[2])}},{key:"multiplyDirection",value:function(g){var _=g.x,y=g.y,g=g.z,_=this.multiplyVec4(_,y,g,0);return new n.default.Vector(_[0],_[1],_[2])}},{key:"mult3x3",value:function(g){var y;if(g===this||g===this.mat3)y=this.copy().mat3;else if(g instanceof n.default.Matrix)y=g.mat3;else if(u(g))y=g;else{if(arguments.length!==9)return;y=arguments}var g=this.mat3[0],_=this.mat3[1],b=this.mat3[2];return this.mat3[0]=g*y[0]+_*y[3]+b*y[6],this.mat3[1]=g*y[1]+_*y[4]+b*y[7],this.mat3[2]=g*y[2]+_*y[5]+b*y[8],g=this.mat3[3],_=this.mat3[4],b=this.mat3[5],this.mat3[3]=g*y[0]+_*y[3]+b*y[6],this.mat3[4]=g*y[1]+_*y[4]+b*y[7],this.mat3[5]=g*y[2]+_*y[5]+b*y[8],g=this.mat3[6],_=this.mat3[7],b=this.mat3[8],this.mat3[6]=g*y[0]+_*y[3]+b*y[6],this.mat3[7]=g*y[1]+_*y[4]+b*y[7],this.mat3[8]=g*y[2]+_*y[5]+b*y[8],this}},{key:"column",value:function(f){return new n.default.Vector(this.mat3[3*f],this.mat3[3*f+1],this.mat3[3*f+2])}},{key:"row",value:function(f){return new n.default.Vector(this.mat3[f],this.mat3[f+3],this.mat3[f+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(f,y){return(y=y===void 0?f.copy():y).x=this.row(0).dot(f),y.y=this.row(1).dot(f),y.z=this.row(2).dot(f),y}},{key:"createSubMatrix3x3",value:function(){var f=new n.default.Matrix("mat3");return f.mat3[0]=this.mat4[0],f.mat3[1]=this.mat4[1],f.mat3[2]=this.mat4[2],f.mat3[3]=this.mat4[4],f.mat3[4]=this.mat4[5],f.mat3[5]=this.mat4[6],f.mat3[6]=this.mat4[8],f.mat3[7]=this.mat4[9],f.mat3[8]=this.mat4[10],f}}])&&s(c.prototype,d),p&&s(c,p),v}(),n.default.Matrix);l.default=m},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(t,a,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(o,u){for(var m=0;m<u.length;m++){var v=u[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(o,v.key,v)}}n.default.Quat=function(){function o(c,d,p,f){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.w=c,this.vec=new n.default.Vector(d,p,f)}var u,m,v;return u=o,v=[{key:"fromAxisAngle",value:function(c,g,p,f){var y=Math.cos(c/2),g=new n.default.Vector(g,p,f).normalize().mult(Math.sin(c/2));return new n.default.Quat(y,g.x,g.y,g.z)}}],(m=[{key:"conjugate",value:function(){return new n.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(c){return new n.default.Quat(this.w*c.w-this.vec.x*c.vec.x-this.vec.y*c.vec.y-this.vec.z-c.vec.z,this.w*c.vec.x+this.vec.x*c.w+this.vec.y*c.vec.z-this.vec.z*c.vec.y,this.w*c.vec.y-this.vec.x*c.vec.z+this.vec.y*c.w+this.vec.z*c.vec.x,this.w*c.vec.z+this.vec.x*c.vec.y-this.vec.y*c.vec.x+this.vec.z*c.w)}},{key:"rotateVector",value:function(c){return new n.default.Vector.mult(c,this.w*this.w-this.vec.dot(this.vec)).add(n.default.Vector.mult(this.vec,2*c.dot(this.vec))).add(n.default.Vector.mult(this.vec,2*this.w).cross(c)).clampToZero()}},{key:"rotateBy",value:function(c){return c.multiply(this).multiply(c.conjugate()).vec.clampToZero()}}])&&s(u.prototype,m),v&&s(u,v),o}(),t=n.default.Quat,l.default=t},{"../core/main":283}],338:[function(t,a,l){"use strict";t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function n(s,o){for(var u=0;u<o.length;u++){var m=o[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}t.default.RenderBuffer=function(){function s(v,c,d,p,f,y){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.size=v,this.src=c,this.dst=d,this.attr=p,this._renderer=f,this.map=y}var o,u,m;return o=s,(u=[{key:"_prepareBuffer",value:function(v,c){var d,p,f,_=c.attributes,y=this._renderer.GL,g=v.model||v,_=_[this.attr];_&&(d=v[this.dst],0<(p=g[this.src]).length?((f=!d)&&(v[this.dst]=d=y.createBuffer()),y.bindBuffer(y.ARRAY_BUFFER,d),!f&&g.dirtyFlags[this.src]===!1||(f=(v=this.map)?v(p):p,this._renderer._bindBuffer(d,y.ARRAY_BUFFER,f),g.dirtyFlags[this.src]=!1),c.enableAttrib(_,this.size)):(v=_.location)!==-1&&this._renderer.registerEnabled.has(v)&&(y.disableVertexAttribArray(v),this._renderer.registerEnabled.delete(v)))}}])&&n(o.prototype,u),m&&n(o,m),s}(),t=t.default.RenderBuffer,l.default=t},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(t,a,l){"use strict";function n(p){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function s(p){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(f){return n(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":n(f)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(d=t("../core/main"))&&d.__esModule?d:{default:d},u=function(p){if(p&&p.__esModule)return p;if(p===null||s(p)!=="object"&&typeof p!="function")return{default:p};var f=m();if(f&&f.has(p))return f.get(p);var y,g={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in p){var b;Object.prototype.hasOwnProperty.call(p,y)&&((b=_?Object.getOwnPropertyDescriptor(p,y):null)&&(b.get||b.set)?Object.defineProperty(g,y,b):g[y]=p[y])}return g.default=p,f&&f.set(p,g),g}(t("../core/constants"));function m(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,m=function(){return p},p)}function v(p){return function(f){if(Array.isArray(f)){for(var y=0,g=new Array(f.length);y<f.length;y++)g[y]=f[y];return g}}(p)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.RenderBuffer"),o.default.RendererGL.prototype.beginShape=function(p){return this.immediateMode.shapeMode=p!==void 0?p:u.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var c={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},d=(o.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==u.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},o.default.RendererGL.prototype.vertex=function(p,f){if(this.immediateMode.shapeMode===u.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var y in c){var g=c[y],y=this.immediateMode.geometry[y];y.push.apply(y,v(y.slice(y.length-3*g,y.length-2*g)).concat(v(y.slice(y.length-g,y.length))))}var _,b,w=_=b=0,T=(arguments.length===3?w=arguments[2]:arguments.length===4?(_=arguments[2],b=arguments[3]):arguments.length===5&&(w=arguments[2],_=arguments[3],b=arguments[4]),new o.default.Vector(p,f,w)),T=(this.immediateMode.geometry.vertices.push(T),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),T=(this.immediateMode.geometry.vertexColors.push(T[0],T[1],T[2],T[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(T[0],T[1],T[2],T[3]),this.textureMode!==u.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(_/=this._tex.width,b/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(_,b),this.immediateMode._bezierVertex[0]=p,this.immediateMode._bezierVertex[1]=f,this.immediateMode._bezierVertex[2]=w,this.immediateMode._quadraticVertex[0]=p,this.immediateMode._quadraticVertex[1]=f,this.immediateMode._quadraticVertex[2]=w,this},o.default.RendererGL.prototype.normal=function(p,f,y){return p instanceof o.default.Vector?this._currentNormal=p:this._currentNormal=new o.default.Vector(p,f,y),this},o.default.RendererGL.prototype.endShape=function(p,f,y,g,_,b){var w,T=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===u.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===u.TESS&&(this.immediateMode.shapeMode,u.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),w=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==u.LINE_STRIP&&this.immediateMode.shapeMode!==u.LINES||(this.immediateMode.shapeMode=u.TRIANGLE_FAN,w=!0),this.immediateMode.shapeMode===u.QUADS?this.immediateMode.shapeMode=u.TRIANGLES:this.immediateMode.shapeMode===u.QUAD_STRIP&&(this.immediateMode.shapeMode=u.TRIANGLE_STRIP),this._doFill&&!w&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(T),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},o.default.RendererGL.prototype._processVertices=function(p){var f;this.immediateMode.geometry.vertices.length!==0&&(f=this._doStroke,p=p===u.CLOSE,f&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,p),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),f=this.immediateMode.shapeMode===u.TESS,p=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||f||p)&&this.immediateMode.shapeMode!==u.LINES&&this._tesselateShape())},o.default.RendererGL.prototype._calculateEdges=function(p,f,y){var g=[],_=0,b=this.immediateMode.contourIndices.slice(),w=0;switch(p){case u.TRIANGLE_STRIP:for(_=0;_<f.length-2;_++)g.push([_,_+1]),g.push([_,_+2]);g.push([_,_+1]);break;case u.TRIANGLE_FAN:for(_=1;_<f.length-1;_++)g.push([0,_]),g.push([_,_+1]);g.push([0,f.length-1]);break;case u.TRIANGLES:for(_=0;_<f.length-2;_+=3)g.push([_,_+1]),g.push([_+1,_+2]),g.push([_+2,_]);break;case u.LINES:for(_=0;_<f.length-1;_+=2)g.push([_,_+1]);break;case u.QUADS:for(_=0;_<f.length-5;_+=6)g.push([_,_+1]),g.push([_+1,_+2]),g.push([_+3,_+5]),g.push([_+4,_+5]);break;case u.QUAD_STRIP:for(_=0;_<f.length-2;_+=2)g.push([_,_+1]),g.push([_,_+2]),g.push([_+1,_+3]);g.push([_,_+1]);break;default:for(_=0;_<f.length;_++)_+1<f.length&&_+1!==b[0]?g.push([_,_+1]):((y||w)&&g.push([_,w]),0<b.length&&(w=b.shift()))}return p!==u.TESS&&y&&g.push([f.length-1,0]),g},o.default.RendererGL.prototype._tesselateShape=function(){for(var p=this,f=(this.immediateMode.shapeMode=u.TRIANGLES,[[]]),y=0;y<this.immediateMode.geometry.vertices.length;y++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===y&&(this.immediateMode.contourIndices.shift(),f.push([])),f[f.length-1].push(this.immediateMode.geometry.vertices[y].x,this.immediateMode.geometry.vertices[y].y,this.immediateMode.geometry.vertices[y].z,this.immediateMode.geometry.uvs[2*y],this.immediateMode.geometry.uvs[2*y+1],this.immediateMode.geometry.vertexColors[4*y],this.immediateMode.geometry.vertexColors[4*y+1],this.immediateMode.geometry.vertexColors[4*y+2],this.immediateMode.geometry.vertexColors[4*y+3],this.immediateMode.geometry.vertexNormals[y].x,this.immediateMode.geometry.vertexNormals[y].y,this.immediateMode.geometry.vertexNormals[y].z);for(var g,_=this._triangulate(f),b=this.immediateMode.geometry.vertices,w=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),T=0,O=_.length;T<O;T+=o.default.RendererGL.prototype.tessyVertexSize)w.push.apply(w,v(_.slice(T+5,T+9))),this.normal.apply(this,v(_.slice(T+9,T+12))),this.vertex.apply(this,v(_.slice(T,T+5)));this.geometryBuilder&&(g=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(A){return A.map(function(E){if(!g.has(E)){var C=b[E],I=p.immediateMode.geometry.vertices.findIndex(function(J){return C.x===J.x&&C.y===J.y&&C.z===J.z});if(I===-1){for(var L=1/0,R=0,D=0;D<p.immediateMode.geometry.vertices.length;D++){var z=p.immediateMode.geometry.vertices[D],B=C.x-z.x,H=C.y-z.y,z=C.z-z.z,B=B*B+H*H+z*z;B<L&&(L=B,R=D)}I=R}g.set(E,I)}return g.get(E)})})),this.immediateMode.geometry.vertexColors=w},o.default.RendererGL.prototype._drawImmediateFill=function(){var p,f=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,y=this.GL,g=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,p=this._getImmediateFillShader(),this._setFillUniforms(p),!0),_=!1,b=void 0;try{for(var w,T=this.immediateMode.buffers.fill[Symbol.iterator]();!(g=(w=T.next()).done);g=!0)w.value._prepareBuffer(this.immediateMode.geometry,p)}catch(O){_=!0,b=O}finally{try{g||T.return==null||T.return()}finally{if(_)throw b}}if(p.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),f===1)y.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{y.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,f)}catch{console.log("\u{1F338} p5.js says: Instancing is only supported in WebGL2 mode")}p.unbindShader()},o.default.RendererGL.prototype._drawImmediateStroke=function(){var p=this.GL,f=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),y=(this._setStrokeUniforms(f),!0),g=!1,_=void 0;try{for(var b,w=this.immediateMode.buffers.stroke[Symbol.iterator]();!(y=(b=w.next()).done);y=!0)b.value._prepareBuffer(this.immediateMode.geometry,f)}catch(T){g=!0,_=T}finally{try{y||w.return==null||w.return()}finally{if(g)throw _}}f.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),p.drawArrays(p.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),f.unbindShader()},o.default.RendererGL);l.default=d},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(t,a,l){"use strict";function n(c){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function s(c){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(d){return n(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":n(d)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(v=t("../core/main"))&&v.__esModule?v:{default:v},u=(t("./p5.RendererGL"),t("./p5.RenderBuffer"),function(c){if(c&&c.__esModule)return c;if(c===null||s(c)!=="object"&&typeof c!="function")return{default:c};var d=m();if(d&&d.has(c))return d.get(c);var p,f={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in c){var g;Object.prototype.hasOwnProperty.call(c,p)&&((g=y?Object.getOwnPropertyDescriptor(c,p):null)&&(g.get||g.set)?Object.defineProperty(f,p,g):f[p]=c[p])}return f.default=c,d&&d.set(c,f),f}(t("../core/constants")));function m(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,m=function(){return c},c)}o.default.RendererGL.prototype.freeGeometry=function(c){c.gid?this._freeBuffers(c.gid):console.warn("The model you passed to freeGeometry does not have an id!")},o.default.RendererGL.prototype._initBufferDefaults=function(c){var d;return this._freeBuffers(c),1e3<Object.keys(this.retainedMode.geometry).length&&(d=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(d)),this.retainedMode.geometry[c]={}},o.default.RendererGL.prototype._freeBuffers=function(c){var d,p=this.retainedMode.geometry[c];function f(y){var g=!0,_=!1,b=void 0;try{for(var w,T=y[Symbol.iterator]();!(g=(w=T.next()).done);g=!0){var O=w.value;p[O.dst]&&(d.deleteBuffer(p[O.dst]),p[O.dst]=null)}}catch(A){_=!0,b=A}finally{try{g||T.return==null||T.return()}finally{if(_)throw b}}}p&&(delete this.retainedMode.geometry[c],d=this.GL,p.indexBuffer&&d.deleteBuffer(p.indexBuffer),f(this.retainedMode.buffers.stroke),f(this.retainedMode.buffers.fill))},o.default.RendererGL.prototype.createBuffers=function(_,d){var p,f,y,g=this.GL,_=this._initBufferDefaults(_),b=(_.model=d,_.indexBuffer);return d.faces.length?(b=b||(_.indexBuffer=g.createBuffer()),y=(f=(p=o.default.RendererGL.prototype._flatten(d.faces)).some(function(w){return 65535<w}))?Uint32Array:Uint16Array,this._bindBuffer(b,g.ELEMENT_ARRAY_BUFFER,p,y),_.indexBufferType=f?g.UNSIGNED_INT:g.UNSIGNED_SHORT,_.vertexCount=3*d.faces.length):(b&&(g.deleteBuffer(b),_.indexBuffer=null),_.vertexCount=d.vertices?d.vertices.length:0),_.lineVertexCount=d.lineVertices?d.lineVertices.length/3:0,_},o.default.RendererGL.prototype.drawBuffers=function(c){var d=this.GL,p=this.retainedMode.geometry[c];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[c].vertexCount){this._useVertexColor=0<p.model.vertexColors.length;var f=this._getRetainedFillShader(),y=(this._setFillUniforms(f),!0),g=!1,_=void 0;try{for(var b,w=this.retainedMode.buffers.fill[Symbol.iterator]();!(y=(b=w.next()).done);y=!0)b.value._prepareBuffer(p,f)}catch(C){g=!0,_=C}finally{try{y||w.return==null||w.return()}finally{if(g)throw _}}f.disableRemainingAttributes(),p.indexBuffer&&this._bindBuffer(p.indexBuffer,d.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,p.model.hasFillTransparency()),this._drawElements(d.TRIANGLES,c),f.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<p.lineVertexCount){this._useLineColor=0<p.model.vertexStrokeColors.length;var T=this._getRetainedStrokeShader(),O=(this._setStrokeUniforms(T),!0),g=!1,_=void 0;try{for(var A,E=this.retainedMode.buffers.stroke[Symbol.iterator]();!(O=(A=E.next()).done);O=!0)A.value._prepareBuffer(p,T)}catch(L){g=!0,_=L}finally{try{O||E.return==null||E.return()}finally{if(g)throw _}}T.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,p.model.hasStrokeTransparency()),this._drawArrays(d.TRIANGLES,c),T.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(p),this},o.default.RendererGL.prototype.drawBuffersScaled=function(c,d,p,f){var y=this.uModelMatrix.copy();try{this.uModelMatrix.scale(d,p,f),this.drawBuffers(c)}finally{this.uModelMatrix=y}},o.default.RendererGL.prototype._drawArrays=function(c,d){return this.GL.drawArrays(c,0,this.retainedMode.geometry[d].lineVertexCount),this},o.default.RendererGL.prototype._drawElements=function(c,p){var p=this.retainedMode.geometry[p],f=this.GL;if(p.indexBuffer){if(this._pInst.webglVersion!==u.WEBGL2&&p.indexBufferType===f.UNSIGNED_INT&&!f.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");f.drawElements(f.TRIANGLES,p.vertexCount,p.indexBufferType,0)}else f.drawArrays(c||f.TRIANGLES,0,p.vertexCount)},o.default.RendererGL.prototype._drawPoints=function(c,d){var p=this.GL,f=this._getImmediatePointShader();this._setPointUniforms(f),this._bindBuffer(d,p.ARRAY_BUFFER,this._vToNArray(c),Float32Array,p.STATIC_DRAW),f.enableAttrib(f.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),p.drawArrays(p.Points,0,c.length),f.unbindShader()};var v=o.default.RendererGL;l.default=v},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(D,a,l){"use strict";function n(Z){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q})(Z)}function s(Z){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(q){return n(q)}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":n(q)})(Z)}D("core-js/modules/es.symbol"),D("core-js/modules/es.symbol.description"),D("core-js/modules/es.symbol.iterator"),D("core-js/modules/es.array.concat"),D("core-js/modules/es.array.copy-within"),D("core-js/modules/es.array.every"),D("core-js/modules/es.array.fill"),D("core-js/modules/es.array.flat"),D("core-js/modules/es.array.flat-map"),D("core-js/modules/es.array.from"),D("core-js/modules/es.array.includes"),D("core-js/modules/es.array.iterator"),D("core-js/modules/es.array.map"),D("core-js/modules/es.array.slice"),D("core-js/modules/es.array.some"),D("core-js/modules/es.array.unscopables.flat"),D("core-js/modules/es.array.unscopables.flat-map"),D("core-js/modules/es.map"),D("core-js/modules/es.object.assign"),D("core-js/modules/es.object.get-own-property-descriptor"),D("core-js/modules/es.object.get-prototype-of"),D("core-js/modules/es.object.to-string"),D("core-js/modules/es.reflect.construct"),D("core-js/modules/es.reflect.get"),D("core-js/modules/es.regexp.to-string"),D("core-js/modules/es.set"),D("core-js/modules/es.string.includes"),D("core-js/modules/es.string.iterator"),D("core-js/modules/es.typed-array.float32-array"),D("core-js/modules/es.typed-array.float64-array"),D("core-js/modules/es.typed-array.int16-array"),D("core-js/modules/es.typed-array.uint8-array"),D("core-js/modules/es.typed-array.uint16-array"),D("core-js/modules/es.typed-array.uint32-array"),D("core-js/modules/es.typed-array.copy-within"),D("core-js/modules/es.typed-array.every"),D("core-js/modules/es.typed-array.fill"),D("core-js/modules/es.typed-array.filter"),D("core-js/modules/es.typed-array.find"),D("core-js/modules/es.typed-array.find-index"),D("core-js/modules/es.typed-array.for-each"),D("core-js/modules/es.typed-array.includes"),D("core-js/modules/es.typed-array.index-of"),D("core-js/modules/es.typed-array.iterator"),D("core-js/modules/es.typed-array.join"),D("core-js/modules/es.typed-array.last-index-of"),D("core-js/modules/es.typed-array.map"),D("core-js/modules/es.typed-array.reduce"),D("core-js/modules/es.typed-array.reduce-right"),D("core-js/modules/es.typed-array.reverse"),D("core-js/modules/es.typed-array.set"),D("core-js/modules/es.typed-array.slice"),D("core-js/modules/es.typed-array.some"),D("core-js/modules/es.typed-array.sort"),D("core-js/modules/es.typed-array.subarray"),D("core-js/modules/es.typed-array.to-locale-string"),D("core-js/modules/es.typed-array.to-string"),D("core-js/modules/es.weak-map"),D("core-js/modules/web.dom-collections.iterator"),D("core-js/modules/es.symbol"),D("core-js/modules/es.symbol.description"),D("core-js/modules/es.symbol.iterator"),D("core-js/modules/es.array.concat"),D("core-js/modules/es.array.copy-within"),D("core-js/modules/es.array.every"),D("core-js/modules/es.array.fill"),D("core-js/modules/es.array.flat"),D("core-js/modules/es.array.flat-map"),D("core-js/modules/es.array.from"),D("core-js/modules/es.array.includes"),D("core-js/modules/es.array.iterator"),D("core-js/modules/es.array.map"),D("core-js/modules/es.array.slice"),D("core-js/modules/es.array.some"),D("core-js/modules/es.array.unscopables.flat"),D("core-js/modules/es.array.unscopables.flat-map"),D("core-js/modules/es.map"),D("core-js/modules/es.object.assign"),D("core-js/modules/es.object.to-string"),D("core-js/modules/es.set"),D("core-js/modules/es.string.includes"),D("core-js/modules/es.string.iterator"),D("core-js/modules/es.typed-array.float32-array"),D("core-js/modules/es.typed-array.float64-array"),D("core-js/modules/es.typed-array.int16-array"),D("core-js/modules/es.typed-array.uint8-array"),D("core-js/modules/es.typed-array.uint16-array"),D("core-js/modules/es.typed-array.uint32-array"),D("core-js/modules/es.typed-array.copy-within"),D("core-js/modules/es.typed-array.every"),D("core-js/modules/es.typed-array.fill"),D("core-js/modules/es.typed-array.filter"),D("core-js/modules/es.typed-array.find"),D("core-js/modules/es.typed-array.find-index"),D("core-js/modules/es.typed-array.for-each"),D("core-js/modules/es.typed-array.includes"),D("core-js/modules/es.typed-array.index-of"),D("core-js/modules/es.typed-array.iterator"),D("core-js/modules/es.typed-array.join"),D("core-js/modules/es.typed-array.last-index-of"),D("core-js/modules/es.typed-array.map"),D("core-js/modules/es.typed-array.reduce"),D("core-js/modules/es.typed-array.reduce-right"),D("core-js/modules/es.typed-array.reverse"),D("core-js/modules/es.typed-array.set"),D("core-js/modules/es.typed-array.slice"),D("core-js/modules/es.typed-array.some"),D("core-js/modules/es.typed-array.sort"),D("core-js/modules/es.typed-array.subarray"),D("core-js/modules/es.typed-array.to-locale-string"),D("core-js/modules/es.typed-array.to-string"),D("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.readPixelsWebGL=J,l.readPixelWebGL=ee,l.default=void 0;var o=p(D("../core/main")),u=function(Z){if(Z&&Z.__esModule)return Z;if(Z===null||s(Z)!=="object"&&typeof Z!="function")return{default:Z};var q=d();if(q&&q.has(Z))return q.get(Z);var re,ge={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(re in Z){var j;Object.prototype.hasOwnProperty.call(Z,re)&&((j=V?Object.getOwnPropertyDescriptor(Z,re):null)&&(j.get||j.set)?Object.defineProperty(ge,re,j):ge[re]=Z[re])}return ge.default=Z,q&&q.set(Z,ge),ge}(D("../core/constants")),m=p(D("./GeometryBuilder")),v=p(D("libtess")),c=(D("./p5.Shader"),D("./p5.Camera"),D("../core/p5.Renderer"),D("./p5.Matrix"),D("./p5.Framebuffer"),D("path"),D("./p5.Texture"));function d(){var Z;return typeof WeakMap!="function"?null:(Z=new WeakMap,d=function(){return Z},Z)}function p(Z){return Z&&Z.__esModule?Z:{default:Z}}function f(Z){return function(q){if(Array.isArray(q)){for(var re=0,ge=new Array(q.length);re<q.length;re++)ge[re]=q[re];return ge}}(Z)||function(q){if(Symbol.iterator in Object(q)||Object.prototype.toString.call(q)==="[object Arguments]")return Array.from(q)}(Z)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(Z,q){for(var re=0;re<q.length;re++){var ge=q[re];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(Z,ge.key,ge)}}function g(Z,q,re){return(g=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(G,V,j){var G=function(K,ae){for(;!Object.prototype.hasOwnProperty.call(K,ae)&&(K=T(K))!==null;);return K}(G,V);if(G)return(G=Object.getOwnPropertyDescriptor(G,V)).get?G.get.call(j):G.value})(Z,q,re||Z)}function _(Z,q){return(_=Object.setPrototypeOf||function(re,ge){return re.__proto__=ge,re})(Z,q)}function b(Z){return function(){var q,re,ge=T(Z);return q=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(q=T(this).constructor,Reflect.construct(ge,arguments,q)):ge.apply(this,arguments),ge=this,!(re=q)||s(re)!=="object"&&typeof re!="function"?w(ge):re}}function w(Z){if(Z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z}function T(Z){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(q){return q.__proto__||Object.getPrototypeOf(q)})(Z)}function O(Z,q,re){q in Z?Object.defineProperty(Z,q,{value:re,enumerable:!0,configurable:!0,writable:!0}):Z[q]=re}function A(Z,q){R+="#define STROKE_CAP_".concat(Z," ").concat(q,`
`),I[u[Z]]=q}function E(Z,q){R+="#define STROKE_JOIN_".concat(Z," ").concat(q,`
`),L[u[Z]]=q}var C,I={},L={},R="",D=(A("ROUND",0),A("PROJECT",1),A("SQUARE",2),E("ROUND",0),E("MITER",1),E("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float metallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;
// roughness for use in calculateImageSpecular
uniform float levelOfDetail;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, uShininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){
  // make 2 seperate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition);
    totalSpecular += calculateImageSpecular(normal, modelPosition);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),H={sphereMappingFrag:`#define PI 3.141592

precision highp float;
  
uniform sampler2D uSampler;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    vec4 newTexColor = texture2D(uSampler, vTexCoord);
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    newTexColor = texture2D(uSampler, suv.xy);
    gl_FragColor = newTexColor;
}
`,immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  OUT_COLOR = vec4(vVertexNormal, 1.0);
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,lightVert:D+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,phongFrag:D+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec4 baseColor = isTexture
    // Textures come in with premultiplied alpha. To apply tint and still have
    // premultiplied alpha output, we need to multiply the RGB channels by the
    // tint RGB, and all channels by the tint alpha.
    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
    // Colors come in with unmultiplied alpha, so we need to multiply the RGB
    // channels by alpha to convert it to premultiplied alpha.
    : vec4(vColor.rgb * vColor.a, vColor.a);
  OUT_COLOR = vec4(diffuse * baseColor.rgb + 
                    vAmbientColor * (
                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb
                    ) + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb, baseColor.a);
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:R+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));
  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // This prevents popping effects due to half of
  // the line disappearing behind the geometry faces.
  
  float zOffset = mix(-0.00045, -1., facingCamera);
  posp.z -= zOffset;
  posqIn.z -= zOffset;
  posqOut.z -= zOffset;
  
  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = p.xy;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * uStrokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * uStrokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * uStrokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * uStrokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * uStrokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));
    } else {
      vMaxDist = uStrokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      uStrokeWeight * 0.5;
    vMaxDist = uStrokeWeight / 2.;
  }
  vPosition = vCenter + offset;

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);
}
`,lineFrag:R+`precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;
uniform float uStrokeWeight;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

void main() {
  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      dot(vPosition - vCenter, vTangent) > 0.
    ) {
      discard;
    }
    // Use full area for PROJECT
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-vTangent.y, vTangent.x);
      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {
        discard;
      }
    }
    // Use full area for MITER
  }
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(mask > 0.98){
    discard;
  }

  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`},z=H.sphereMappingFrag;for(C in H)H[C]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+H[C];O(D={},u.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),O(D,u.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),O(D,u.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),O(D,u.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),O(D,u.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),O(D,u.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),O(D,u.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),O(D,u.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var B=D;function J(Z,q,W,ge,V,j,G,K,ae,Q){var oe=q.getParameter(q.FRAMEBUFFER_BINDING),W=(q.bindFramebuffer(q.FRAMEBUFFER,W),K===q.RGBA?4:3),Y=j*G*W,ne=ae===q.UNSIGNED_BYTE?Uint8Array:Float32Array;if(Z instanceof ne&&Z.length===Y||(Z=new ne(Y)),q.readPixels(ge,Q?Q-V-G:V,j,G,K,ae,Z),q.bindFramebuffer(q.FRAMEBUFFER,oe),Q)for(var ue=Math.floor(G/2),se=new ne(j*W),pe=0;pe<ue;pe++){var ve=pe*j*4,fe=(G-pe-1)*j*4;se.set(Z.subarray(ve,ve+4*j)),Z.copyWithin(ve,fe,fe+4*j),Z.set(se,fe)}return Z}function ee(Z,ae,re,ge,V,j,G){var K=Z.getParameter(Z.FRAMEBUFFER_BINDING),ae=(Z.bindFramebuffer(Z.FRAMEBUFFER,ae),V===Z.RGBA?4:3),ae=new(j===Z.UNSIGNED_BYTE?Uint8Array:Float32Array)(ae);return Z.readPixels(re,G?G-ge-1:ge,1,1,V,j,ae),Z.bindFramebuffer(Z.FRAMEBUFFER,K),Array.from(ae)}o.default.prototype.setAttributes=function(Z,q){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var re=!0;if(q!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[Z]!==q&&(this._glAttributes[Z]=q,re=!1)):Z instanceof Object&&this._glAttributes!==Z&&(this._glAttributes=Z,re=!1),this._renderer.isP3D&&!re){if(!this._setupDone){for(var ge in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(ge))return void o.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},o.default.RendererGL=function(Z){var q=V;if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");q.prototype=Object.create(Z&&Z.prototype,{constructor:{value:q,writable:!0,configurable:!0}}),Z&&_(q,Z);var re,ge=b(V);function V(j,G,K,ae){if(this instanceof V)return(j=ge.call(this,j,G,K))._setAttributeDefaults(G),j._initContext(),j.isP3D=!0,j.geometryBuilder=void 0,j.GL=j.drawingContext,j._pInst._setProperty("drawingContext",j.drawingContext),j._isErasing=!1,j._clipDepths=[],j._isClipApplied=!1,j._stencilTestOn=!1,j._enableLighting=!1,j.ambientLightColors=[],j.mixedAmbientLight=[],j.mixedSpecularColor=[],j.specularColors=[1,1,1],j.directionalLightDirections=[],j.directionalLightDiffuseColors=[],j.directionalLightSpecularColors=[],j.pointLightPositions=[],j.pointLightDiffuseColors=[],j.pointLightSpecularColors=[],j.spotLightPositions=[],j.spotLightDirections=[],j.spotLightDiffuseColors=[],j.spotLightSpecularColors=[],j.spotLightAngle=[],j.spotLightConc=[],j.activeImageLight=null,j.diffusedTextures=new Map,j.specularTextures=new Map,j.drawMode=u.FILL,j.curFillColor=j._cachedFillStyle=[1,1,1,1],j.curAmbientColor=j._cachedFillStyle=[1,1,1,1],j.curSpecularColor=j._cachedFillStyle=[0,0,0,0],j.curEmissiveColor=j._cachedFillStyle=[0,0,0,0],j.curStrokeColor=j._cachedStrokeStyle=[0,0,0,1],j.curBlendMode=u.BLEND,j.preEraseBlend=void 0,j._cachedBlendMode=void 0,j.webglVersion===u.WEBGL2?j.blendExt=j.GL:j.blendExt=j.GL.getExtension("EXT_blend_minmax"),j._isBlending=!1,j._hasSetAmbient=!1,j._useSpecularMaterial=!1,j._useEmissiveMaterial=!1,j._useNormalMaterial=!1,j._useShininess=1,j._useMetalness=0,j._useLineColor=!1,j._useVertexColor=!1,j.registerEnabled=new Set,j._tint=[255,255,255,255],j.constantAttenuation=1,j.linearAttenuation=0,j.quadraticAttenuation=0,j.uModelMatrix=new o.default.Matrix,j.uViewMatrix=new o.default.Matrix,j.uMVMatrix=new o.default.Matrix,j.uPMatrix=new o.default.Matrix,j.uNMatrix=new o.default.Matrix("mat3"),j.curMatrix=new o.default.Matrix("mat3"),j._currentNormal=new o.default.Vector(0,0,1),j._curCamera=new o.default.Camera(w(j)),j._curCamera._computeCameraDefaultSettings(),j._curCamera._setDefaultCamera(),j.filterCamera=new o.default.Camera(w(j)),j.filterCamera._computeCameraDefaultSettings(),j.filterCamera._setDefaultCamera(),j.prevTouches=[],j.zoomVelocity=0,j.rotateVelocity=new o.default.Vector(0,0),j.moveVelocity=new o.default.Vector(0,0),j.executeZoom=!1,j.executeRotateAndMove=!1,j.specularShader=void 0,j.sphereMapping=void 0,j.diffusedShader=void 0,j._defaultLightShader=void 0,j._defaultImmediateModeShader=void 0,j._defaultNormalShader=void 0,j._defaultColorShader=void 0,j._defaultPointShader=void 0,j.userFillShader=void 0,j.userStrokeShader=void 0,j.userPointShader=void 0,j.retainedMode={geometry:{},buffers:{stroke:[new o.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",w(j)),new o.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",w(j)),new o.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",w(j)),new o.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",w(j)),new o.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",w(j))],fill:[new o.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",w(j),j._vToNArray),new o.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",w(j),j._vToNArray),new o.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",w(j)),new o.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",w(j)),new o.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",w(j),j._flatten)],text:[new o.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",w(j),j._vToNArray),new o.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",w(j),j._flatten)]}},j.immediateMode={geometry:new o.default.Geometry,shapeMode:u.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new o.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",w(j),j._vToNArray),new o.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",w(j),j._vToNArray),new o.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",w(j)),new o.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",w(j)),new o.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",w(j),j._flatten)],stroke:[new o.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",w(j)),new o.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",w(j)),new o.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",w(j)),new o.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",w(j)),new o.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",w(j))],point:j.GL.createBuffer()}},j.pointSize=5,j.curStrokeWeight=1,j.curStrokeCap=u.ROUND,j.curStrokeJoin=u.ROUND,j.textures=new Map,j.framebuffers=new Set,j.activeFramebuffers=[],j.filterShader=void 0,j.filterLayer=void 0,j.filterLayerTemp=void 0,j.defaultFilterShaders={},j.textureMode=u.IMAGE,j.textureWrapX=u.CLAMP,j.textureWrapY=u.CLAMP,j._tex=null,j._curveTightness=6,j._lookUpTableBezier=[],j._lookUpTableQuadratic=[],j._lutBezierDetail=0,j._lutQuadraticDetail=0,j.isProcessingVertices=!1,j._tessy=j._initTessy(),j.fontInfos={},j._curShader=void 0,j;throw new TypeError("Cannot call a class as a function")}return q=V,(Z=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new m.default(this)}},{key:"endGeometry",value:function(){var j;if(this.geometryBuilder)return j=this.geometryBuilder.finish(),this.geometryBuilder=void 0,j;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(j){return this.beginGeometry(),j(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(j){var G={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};j._glAttributes===null?j._glAttributes=G:j._glAttributes=Object.assign(G,j._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?u.WEBGL2:u.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var j=this.drawingContext;j.enable(j.DEPTH_TEST),j.depthFunc(j.LEQUAL),j.viewport(0,0,j.drawingBufferWidth,j.drawingBufferHeight),j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var j=this.drawingContext;return j.getParameter(j.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(j,G){this._maxTextureSize||(this._maxTextureSize=this._getParam());var ae=this._maxTextureSize,ae=(o.default.prototype._maxAllowedPixelDimensions,Math.floor(ae/this.pixelDensity())),K=Math.min(j,ae),ae=Math.min(G,ae);return K===j&&ae===G||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(K,", height: ").concat(ae,".")),{adjustedWidth:K,adjustedHeight:ae}}},{key:"_resetContext",value:function(j,G){var K,ae=this.width,Q=this.height,W=this.canvas.id,oe=this._pInst instanceof o.default.Graphics,W=(oe?((K=this._pInst).canvas.parentNode.removeChild(K.canvas),K.canvas=document.createElement("canvas"),(K._pInst._userNode||document.body).appendChild(K.canvas),o.default.Element.call(K,K.canvas,K._pInst),K.width=ae,K.height=Q):((K=this.canvas)&&K.parentNode.removeChild(K),(K=document.createElement("canvas")).id=W,(this._pInst._userNode||document.body).appendChild(K),this._pInst.canvas=K,this.canvas=K),new o.default.RendererGL(this._pInst.canvas,this._pInst,!oe));this._pInst._setProperty("_renderer",W),W.resize(ae,Q),W._applyDefaults(),oe||this._pInst._elements.push(W),typeof G=="function"&&setTimeout(function(){G.apply(window._renderer,j)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var ae=(ae=this._pInst).color.apply(ae,arguments),j=ae.levels[0]/255,G=ae.levels[1]/255,K=ae.levels[2]/255,ae=ae.levels[3]/255;this.clear(j,G,K,ae)}},{key:"fill",value:function(j,G,K,ae){var Q=o.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=Q._array,this.drawMode=u.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(j,G,K,ae){var Q=o.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=Q._array}},{key:"strokeCap",value:function(j){this.curStrokeCap=j}},{key:"strokeJoin",value:function(j){this.curStrokeJoin=j}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(j,G){j.width===G.width&&j.height===G.height||j.resize(G.width,G.height),j.pixelDensity()!==G.pixelDensity()&&j.pixelDensity(G.pixelDensity())}},{key:"filter",value:function(){var j,G,K=this,ae=this.getFilterLayer(),Q=void 0,oe=void 0,W=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(oe=arguments.length<=0?void 0:arguments[0],O(j={},u.BLUR,3),O(j,u.POSTERIZE,4),O(j,u.THRESHOLD,.5),Q=oe in(j=j)&&(arguments.length<=1?void 0:arguments[1])===void 0?j[oe]:arguments.length<=1?void 0:arguments[1],oe in this.defaultFilterShaders||(this.defaultFilterShaders[oe]=new o.default.Shader(ae._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,B[oe])),this.filterShader=this.defaultFilterShaders[oe]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),Y=(this.matchSize(ae,W),ae.draw(function(){return K._pInst.clear()}),[1/(W.width*W.pixelDensity()),1/(W.height*W.pixelDensity())]);oe===u.BLUR?(G=this.getFilterLayerTemp(),this.matchSize(G,W),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(u.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",Y),this.filterShader.setUniform("canvasSize",[W.width,W.height]),this.filterShader.setUniform("radius",Math.max(1,Q)),G.draw(function(){K.filterShader.setUniform("direction",[1,0]),K.filterShader.setUniform("tex0",W),K._pInst.clear(),K._pInst.shader(K.filterShader),K._pInst.noLights(),K._pInst.plane(W.width,W.height)}),ae.draw(function(){K.filterShader.setUniform("direction",[0,1]),K.filterShader.setUniform("tex0",G),K._pInst.clear(),K._pInst.shader(K.filterShader),K._pInst.noLights(),K._pInst.plane(W.width,W.height)}),this._pInst.pop()):ae.draw(function(){K._pInst.noStroke(),K._pInst.blendMode(u.BLEND),K._pInst.shader(K.filterShader),K.filterShader.setUniform("tex0",W),K.filterShader.setUniform("texelSize",Y),K.filterShader.setUniform("canvasSize",[W.width,W.height]),K.filterShader.setUniform("filterParameter",Q),K._pInst.noLights(),K._pInst.plane(W.width,W.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(u.CORNER),this._pInst.blendMode(u.BLEND),W.filterCamera._resize(),this._pInst.setCamera(W.filterCamera),this._pInst.resetMatrix(),this._pInst.image(ae,-W.width/2,-W.height/2,W.width,W.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(j){return j?this._pInst.pixelDensity(j):this._pInst.pixelDensity()}},{key:"blendMode",value:function(j){j===u.DARKEST||j===u.LIGHTEST||j===u.ADD||j===u.BLEND||j===u.SUBTRACT||j===u.SCREEN||j===u.EXCLUSION||j===u.REPLACE||j===u.MULTIPLY||j===u.REMOVE?this.curBlendMode=j:j!==u.BURN&&j!==u.OVERLAY&&j!==u.HARD_LIGHT&&j!==u.SOFT_LIGHT&&j!==u.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(j,G){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(u.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,j/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,G/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var j=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},j=(g(T(V.prototype),"beginClip",this).call(this,j),this.drawTarget()._isClipApplied=!0,this.GL);j.clearStencil(0),j.clear(j.STENCIL_BUFFER_BIT),j.enable(j.STENCIL_TEST),this._stencilTestOn=!0,j.stencilFunc(j.ALWAYS,1,255),j.stencilOp(j.KEEP,j.KEEP,j.REPLACE),j.disable(j.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var j=this.GL;j.stencilOp(j.KEEP,j.KEEP,j.KEEP),j.stencilFunc(this._clipInvert?j.EQUAL:j.NOTEQUAL,0,255),j.enable(j.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),g(T(V.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(j){this.curStrokeWeight!==j&&(this.pointSize=j,this.curStrokeWeight=j)}},{key:"_getPixel",value:function(j,G){var K=this.GL;return ee(K,null,j,G,K.RGBA,K.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var j,G,K=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(j=this._pInst._pixelDensity,G=this.GL,K._setProperty("pixels",J(K.pixels,G,null,0,0,this.width*j,this.height*j,G.RGBA,G.UNSIGNED_BYTE,this.height*j)))}},{key:"updatePixels",value:function(){var j=this._getTempFramebuffer();j.pixels=this._pixelsState.pixels,j.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(u.CENTER),this._pInst.image(j,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:u.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:u.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(j){return this.retainedMode.geometry[j]!==void 0}},{key:"viewport",value:function(j,G){this._viewport=[0,0,j,G],this.GL.viewport(0,0,j,G)}},{key:"resize",value:function(Q,ae){o.default.Renderer.prototype.resize.call(this,Q,ae),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var Q=this._pixelsState,K=(Q.pixels!==void 0&&Q._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),ae=!1,Q=void 0;try{for(var oe,W=this.framebuffers[Symbol.iterator]();!(K=(oe=W.next()).done);K=!0)oe.value._canvasSizeChanged()}catch(Y){ae=!0,Q=Y}finally{try{K||W.return==null||W.return()}finally{if(ae)throw Q}}}},{key:"clear",value:function(){var j=(arguments.length<=0?void 0:arguments[0])||0,G=(arguments.length<=1?void 0:arguments[1])||0,K=(arguments.length<=2?void 0:arguments[2])||0,ae=(arguments.length<=3?void 0:arguments[3])||0,Q=this.activeFramebuffer();Q&&Q.format===u.UNSIGNED_BYTE&&!Q.antialias&&ae===0&&(ae=1e-10),this.GL.clearColor(j*ae,G*ae,K*ae,ae),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&arguments[0]!==void 0?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(j,G,K,ae,Q,oe){arguments.length===16?o.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([j,G,0,0,K,ae,0,0,0,0,1,0,Q,oe,0,1])}},{key:"translate",value:function(j,G,K){return j instanceof o.default.Vector&&(K=j.z,G=j.y,j=j.x),this.uModelMatrix.translate([j,G,K]),this}},{key:"scale",value:function(j,G,K){return this.uModelMatrix.scale(j,G,K),this}},{key:"rotate",value:function(j,G){return G===void 0?this.rotateZ(j):(o.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(j){return this.rotate(j,1,0,0),this}},{key:"rotateY",value:function(j){return this.rotate(j,0,1,0),this}},{key:"rotateZ",value:function(j){return this.rotate(j,0,0,1),this}},{key:"push",value:function(){var j=o.default.Renderer.prototype.push.apply(this),G=j.properties;return G.uModelMatrix=this.uModelMatrix.copy(),G.uViewMatrix=this.uViewMatrix.copy(),G.uPMatrix=this.uPMatrix.copy(),G._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),G.ambientLightColors=this.ambientLightColors.slice(),G.specularColors=this.specularColors.slice(),G.directionalLightDirections=this.directionalLightDirections.slice(),G.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),G.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),G.pointLightPositions=this.pointLightPositions.slice(),G.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),G.pointLightSpecularColors=this.pointLightSpecularColors.slice(),G.spotLightPositions=this.spotLightPositions.slice(),G.spotLightDirections=this.spotLightDirections.slice(),G.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),G.spotLightSpecularColors=this.spotLightSpecularColors.slice(),G.spotLightAngle=this.spotLightAngle.slice(),G.spotLightConc=this.spotLightConc.slice(),G.userFillShader=this.userFillShader,G.userStrokeShader=this.userStrokeShader,G.userPointShader=this.userPointShader,G.pointSize=this.pointSize,G.curStrokeWeight=this.curStrokeWeight,G.curStrokeColor=this.curStrokeColor,G.curFillColor=this.curFillColor,G.curAmbientColor=this.curAmbientColor,G.curSpecularColor=this.curSpecularColor,G.curEmissiveColor=this.curEmissiveColor,G._hasSetAmbient=this._hasSetAmbient,G._useSpecularMaterial=this._useSpecularMaterial,G._useEmissiveMaterial=this._useEmissiveMaterial,G._useShininess=this._useShininess,G._useMetalness=this._useMetalness,G.constantAttenuation=this.constantAttenuation,G.linearAttenuation=this.linearAttenuation,G.quadraticAttenuation=this.quadraticAttenuation,G._enableLighting=this._enableLighting,G._useNormalMaterial=this._useNormalMaterial,G._tex=this._tex,G.drawMode=this.drawMode,G._currentNormal=this._currentNormal,G.curBlendMode=this.curBlendMode,G.activeImageLight=this.activeImageLight,j}},{key:"pop",value:function(){var j;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var G=arguments.length,K=new Array(G),ae=0;ae<G;ae++)K[ae]=arguments[ae];(j=g(T(V.prototype),"pop",this)).call.apply(j,[this].concat(K)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var j=this.drawTarget();j._isClipApplied!==this._stencilTestOn&&(j._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var j=this.userStrokeShader;return j&&j.isStrokeShader()?j:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(j){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(z)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",j),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var j=this.userFillShader;if(this._useNormalMaterial&&(!j||!j.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!j||!j.isLightShader())return this._getLightShader()}else if(this._tex){if(!j||!j.isTextureShader())return this._getLightShader()}else if(!j)return this._getImmediateModeShader();return j}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var j=this.userFillShader;if(this._enableLighting){if(!j||!j.isLightShader())return this._getLightShader()}else if(this._tex){if(!j||!j.isTextureShader())return this._getLightShader()}else if(!j)return this._getColorShader();return j}},{key:"_getImmediatePointShader",value:function(){var j=this.userPointShader;return j&&j.isPointShader()?j:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new o.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+H.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+H.phongFrag):this._defaultLightShader=new o.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+H.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+H.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new o.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+H.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+H.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new o.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+H.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+H.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new o.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+H.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+H.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new o.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+H.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+H.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new o.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+H.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+H.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===u.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new o.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+H.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+H.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(j,G){var K="";return this.webglVersion===u.WEBGL2&&(K+=`#version 300 es
#define WEBGL2
`),j==="vert"?K+=`#define VERTEX_SHADER
`:j==="frag"&&(K+=`#define FRAGMENT_SHADER
`),G&&(K+="precision ".concat(G,` float;
`)),K}},{key:"_getEmptyTexture",value:function(){var j;return this._emptyTexture||((j=new o.default.Image(1,1)).set(0,0,255),this._emptyTexture=new o.default.Texture(this,j)),this._emptyTexture}},{key:"getTexture",value:function(j){j instanceof o.default.Framebuffer&&(j=j.color);var G=this.textures.get(j);return G||(G=new o.default.Texture(this,j),this.textures.set(j,G),G)}},{key:"getDiffusedTexture",value:function(j){var G,K,ae=this;return this.diffusedTextures.get(j)!=null?this.diffusedTextures.get(j):(G=Math.floor(j.height/j.width*200),K=this._pInst.createFramebuffer({width:200,height:G,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(H.imageLightVert,H.imageLightDiffusedFrag)),K.draw(function(){ae._pInst.shader(ae.diffusedShader),ae.diffusedShader.setUniform("environmentMap",j),ae._pInst.noStroke(),ae._pInst.rectMode(u.CENTER),ae._pInst.noLights(),ae._pInst.rect(0,0,200,G)}),this.diffusedTextures.set(j,K),K)}},{key:"getSpecularTexture",value:function(j){var G=this;if(this.specularTextures.get(j)!=null)return this.specularTextures.get(j);for(var K,ae=[],Q=this._pInst.createFramebuffer({width:512,height:512,density:1}),oe=Math.log(512)/Math.log(2),W=(this.specularShader||(this.specularShader=this._pInst.createShader(H.imageLightVert,H.imageLightSpecularFrag)),512);1<=W;W/=2)(function(Y){Q.resize(Y,Y);var ne=1-Math.log(Y)/Math.log(2)/oe;Q.draw(function(){G._pInst.shader(G.specularShader),G._pInst.clear(),G.specularShader.setUniform("environmentMap",j),G.specularShader.setUniform("roughness",ne),G._pInst.noStroke(),G._pInst.noLights(),G._pInst.plane(Y,Y)}),ae.push(Q.get().drawingContext.getImageData(0,0,Y,Y))})(W);return Q.remove(),K=new c.MipmapTexture(this,ae,{}),this.specularTextures.set(j,K),K}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(j){return new o.default.Framebuffer(this,j)}},{key:"_setStrokeUniforms",value:function(j){j.bindShader(),j.setUniform("uUseLineColor",this._useLineColor),j.setUniform("uMaterialColor",this.curStrokeColor),j.setUniform("uStrokeWeight",this.curStrokeWeight),j.setUniform("uStrokeCap",I[this.curStrokeCap]),j.setUniform("uStrokeJoin",L[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(j){var G=this,K=(j.bindShader(),this.mixedSpecularColor=f(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(ae,Q){return G.curFillColor[Q]*G._useMetalness+ae*(1-G._useMetalness)})),j.setUniform("uUseVertexColor",this._useVertexColor),j.setUniform("uMaterialColor",this.curFillColor),j.setUniform("isTexture",!!this._tex),this._tex&&j.setUniform("uSampler",this._tex),j.setUniform("uTint",this._tint),j.setUniform("uHasSetAmbient",this._hasSetAmbient),j.setUniform("uAmbientMatColor",this.curAmbientColor),j.setUniform("uSpecularMatColor",this.mixedSpecularColor),j.setUniform("uEmissiveMatColor",this.curEmissiveColor),j.setUniform("uSpecular",this._useSpecularMaterial),j.setUniform("uEmissive",this._useEmissiveMaterial),j.setUniform("uShininess",this._useShininess),j.setUniform("metallic",this._useMetalness),this._setImageLightUniforms(j),j.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3),K=(j.setUniform("uPointLightCount",K),j.setUniform("uPointLightLocation",this.pointLightPositions),j.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),j.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),K=(j.setUniform("uDirectionalLightCount",K),j.setUniform("uLightingDirection",this.directionalLightDirections),j.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),j.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),K=(this.mixedAmbientLight=f(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(ae){return ae-=G._useMetalness,Math.max(0,ae)})),j.setUniform("uAmbientLightCount",K),j.setUniform("uAmbientColor",this.mixedAmbientLight),this.spotLightDiffuseColors.length/3);j.setUniform("uSpotLightCount",K),j.setUniform("uSpotLightAngle",this.spotLightAngle),j.setUniform("uSpotLightConc",this.spotLightConc),j.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),j.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),j.setUniform("uSpotLightLocation",this.spotLightPositions),j.setUniform("uSpotLightDirection",this.spotLightDirections),j.setUniform("uConstantAttenuation",this.constantAttenuation),j.setUniform("uLinearAttenuation",this.linearAttenuation),j.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),j.bindTextures()}},{key:"_setImageLightUniforms",value:function(j){var G,K;j.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(G=this.getDiffusedTexture(this.activeImageLight),j.setUniform("environmentMapDiffused",G),G=this.getSpecularTexture(this.activeImageLight),K=20/this._useShininess,j.setUniform("levelOfDetail",8*K),j.setUniform("environmentMapSpecular",G))}},{key:"_setPointUniforms",value:function(j){j.bindShader(),j.setUniform("uMaterialColor",this.curStrokeColor),j.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(j,G,K,ae,Q){G=G||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(G,j),K!==void 0&&((j=K)instanceof o.default.DataArray?j=K.dataArray():j instanceof(ae||Float32Array)||(j=new(ae||Float32Array)(j)),this.GL.bufferData(G,j,Q||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(j,G){return j.length===G.length&&j.every(function(K,ae){return K===G[ae]})}},{key:"_isTypedArray",value:function(j){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(G){return j instanceof G})}},{key:"_flatten",value:function(j){return j.flat()}},{key:"_vToNArray",value:function(j){return j.flatMap(function(G){return[G.x,G.y,G.z]})}},{key:"_bezierCoefficients",value:function(j){var G=j*j,K=1-j,ae=K*K;return[ae*K,3*ae*j,3*K*G,G*j]}},{key:"_quadraticCoefficients",value:function(j){var G=1-j;return[G*G,2*G*j,j*j]}},{key:"_bezierToCatmull",value:function(j){return[j[1],j[1]+(j[2]-j[0])/this._curveTightness,j[2]-(j[3]-j[1])/this._curveTightness,j[2]]}},{key:"_initTessy",value:function(){var j=new v.default.GluTesselator;return j.gluTessCallback(v.default.gluEnum.GLU_TESS_VERTEX_DATA,function(G,K){var ae=!0,Q=!1,oe=void 0;try{for(var W,Y=G[Symbol.iterator]();!(ae=(W=Y.next()).done);ae=!0){var ne=W.value;K.push(ne)}}catch(ue){Q=!0,oe=ue}finally{try{ae||Y.return==null||Y.return()}finally{if(Q)throw oe}}}),j.gluTessCallback(v.default.gluEnum.GLU_TESS_BEGIN,function(G){G!==v.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(G))}),j.gluTessCallback(v.default.gluEnum.GLU_TESS_ERROR,function(G){console.log("error callback"),console.log("error number: ".concat(G))}),j.gluTessCallback(v.default.gluEnum.GLU_TESS_COMBINE,function(G,K,ae){for(var Q=new Array(o.default.RendererGL.prototype.tessyVertexSize).fill(0),oe=0;oe<ae.length;oe++)for(var W=0;W<Q.length;W++)ae[oe]!==0&&K[oe]&&(Q[W]+=K[oe][W]*ae[oe]);return Q}),j.gluTessCallback(v.default.gluEnum.GLU_TESS_EDGE_FLAG,function(G){}),j.gluTessProperty(v.default.gluEnum.GLU_TESS_WINDING_RULE,v.default.windingRule.GLU_TESS_WINDING_NONZERO),j}},{key:"_triangulate",value:function(j){var G=j[0]?j[0][2]:void 0,K=!0,ae=!0,ne=!1,se=void 0;try{for(var Q,oe=j[Symbol.iterator]();!(ae=(Q=oe.next()).done);ae=!0)for(var W=Q.value,Y=0;Y<W.length;Y+=o.default.RendererGL.prototype.tessyVertexSize)if(W[Y+2]!==G){K=!1;break}}catch(Ae){ne=!0,se=Ae}finally{try{ae||oe.return==null||oe.return()}finally{if(ne)throw se}}K?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var ne=[],ue=(this._tessy.gluTessBeginPolygon(ne),!0),se=!1,pe=void 0;try{for(var ve,fe=j[Symbol.iterator]();!(ue=(ve=fe.next()).done);ue=!0){var xe=ve.value;this._tessy.gluTessBeginContour();for(var ke=0;ke<xe.length;ke+=o.default.RendererGL.prototype.tessyVertexSize){var Te=xe.slice(ke,ke+o.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(Te,Te)}this._tessy.gluTessEndContour()}}catch(Ae){se=!0,pe=Ae}finally{try{ue||fe.return==null||fe.return()}finally{if(se)throw pe}}return this._tessy.gluTessEndPolygon(),ne}}])&&y(q.prototype,Z),re&&y(q,re),V}(o.default.Renderer),o.default.prototype._assert3d=function(Z){if(!this._renderer.isP3D)throw new Error("".concat(Z,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},o.default.RendererGL.prototype.tessyVertexSize=12,D=o.default.RendererGL,l.default=D},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(t,a,l){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var n=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(o,u){for(var m=0;m<u.length;m++){var v=u[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(o,v.key,v)}}n.default.Shader=function(){function o(c,d,p){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this._renderer=c,this._vertSrc=d,this._fragSrc=p,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var u,m,v;return u=o,(m=[{key:"init",value:function(){if(this._glProgram===0){var c=this._renderer.GL;if(this._vertShader=c.createShader(c.VERTEX_SHADER),c.shaderSource(this._vertShader,this._vertSrc),c.compileShader(this._vertShader),!c.getShaderParameter(this._vertShader,c.COMPILE_STATUS))return n.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(c.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=c.createShader(c.FRAGMENT_SHADER),c.shaderSource(this._fragShader,this._fragSrc),c.compileShader(this._fragShader),!c.getShaderParameter(this._fragShader,c.COMPILE_STATUS))return n.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(c.getShaderInfoLog(this._fragShader))),null;this._glProgram=c.createProgram(),c.attachShader(this._glProgram,this._vertShader),c.attachShader(this._glProgram,this._fragShader),c.linkProgram(this._glProgram),c.getProgramParameter(this._glProgram,c.LINK_STATUS)||n.default._friendlyError("Snap! Error linking shader program: ".concat(c.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"copyToContext",value:function(c){var d=new n.default.Shader(c._renderer,this._vertSrc,this._fragSrc);return d.ensureCompiledOnContext(c),d}},{key:"ensureCompiledOnContext",value:function(c){if(this._glProgram!==0&&this._renderer!==c._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=c._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var c=this._renderer.GL,d=c.getProgramParameter(this._glProgram,c.ACTIVE_ATTRIBUTES),p=0;p<d;++p){var f=c.getActiveAttrib(this._glProgram,p),y=f.name,g=c.getAttribLocation(this._glProgram,y),_={};_.name=y,_.location=g,_.index=p,_.type=f.type,_.size=f.size,this.attributes[y]=_}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var c=this._renderer.GL,d=c.getProgramParameter(this._glProgram,c.ACTIVE_UNIFORMS),p=0,f=0;f<d;++f){var y=c.getActiveUniform(this._glProgram,f),g={},_=(g.location=c.getUniformLocation(this._glProgram,y.name),g.size=y.size,y.name);1<y.size&&(_=_.substring(0,_.indexOf("[0]"))),g.name=_,g.type=y.type,g._cachedData=void 0,g.type===c.SAMPLER_2D&&(g.samplerIndex=p,p++,this.samplers.push(g)),g.isArray=1<y.size||g.type===c.FLOAT_MAT3||g.type===c.FLOAT_MAT4||g.type===c.FLOAT_VEC2||g.type===c.FLOAT_VEC3||g.type===c.FLOAT_VEC4||g.type===c.INT_VEC2||g.type===c.INT_VEC4||g.type===c.INT_VEC3,this.uniforms[_]=g}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var c=this._renderer.GL,d=!0,p=!1,f=void 0;try{for(var y,g=this.samplers[Symbol.iterator]();!(d=(y=g.next()).done);d=!0){var _=y.value,b=_.texture;b===void 0&&(b=this._renderer._getEmptyTexture()),c.activeTexture(c.TEXTURE0+_.samplerIndex),b.bindTexture(),b.update(),c.uniform1i(_.location,_.samplerIndex)}}catch(w){p=!0,f=w}finally{try{d||g.return==null||g.return()}finally{if(p)throw f}}}},{key:"updateTextures",value:function(){var c=!0,d=!1,p=void 0;try{for(var f,y=this.samplers[Symbol.iterator]();!(c=(f=y.next()).done);c=!0){var g=f.value.texture;g&&g.update()}}catch(_){d=!0,p=_}finally{try{c||y.return==null||y.return()}finally{if(d)throw p}}}},{key:"unbindTextures",value:function(){var c=!0,d=!1,p=void 0;try{for(var f,y=this.samplers[Symbol.iterator]();!(c=(f=y.next()).done);c=!0){var g=f.value;this.setUniform(g.name,this._renderer._getEmptyTexture())}}catch(_){d=!0,p=_}finally{try{c||y.return==null||y.return()}finally{if(d)throw p}}}},{key:"_setMatrixUniforms",value:function(){var c=this._renderer.uModelMatrix,d=this._renderer.uViewMatrix,p=this._renderer.uPMatrix,f=c.copy().mult(d),y=(this._renderer.uMVMatrix=f).copy();y.mult(p),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",d.mat4),this.setUniform("uProjectionMatrix",p.mat4),this.setUniform("uModelMatrix",c.mat4),this.setUniform("uModelViewMatrix",f.mat4),this.setUniform("uModelViewProjectionMatrix",y.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){var c=this._renderer.GL;return this._renderer._curShader!==this&&(c.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(c,d){var p=this.uniforms[c];if(p){var f=this._renderer.GL;if(p.isArray){if(p._cachedData&&this._renderer._arraysEqual(p._cachedData,d))return;p._cachedData=d.slice(0)}else{if(p._cachedData&&p._cachedData===d)return;Array.isArray(d)?p._cachedData=d.slice(0):p._cachedData=d}var y=p.location;switch(this.useProgram(),p.type){case f.BOOL:d===!0?f.uniform1i(y,1):f.uniform1i(y,0);break;case f.INT:1<p.size?d.length&&f.uniform1iv(y,d):f.uniform1i(y,d);break;case f.FLOAT:1<p.size?d.length&&f.uniform1fv(y,d):f.uniform1f(y,d);break;case f.FLOAT_MAT3:f.uniformMatrix3fv(y,!1,d);break;case f.FLOAT_MAT4:f.uniformMatrix4fv(y,!1,d);break;case f.FLOAT_VEC2:1<p.size?d.length&&f.uniform2fv(y,d):f.uniform2f(y,d[0],d[1]);break;case f.FLOAT_VEC3:1<p.size?d.length&&f.uniform3fv(y,d):f.uniform3f(y,d[0],d[1],d[2]);break;case f.FLOAT_VEC4:1<p.size?d.length&&f.uniform4fv(y,d):f.uniform4f(y,d[0],d[1],d[2],d[3]);break;case f.INT_VEC2:1<p.size?d.length&&f.uniform2iv(y,d):f.uniform2i(y,d[0],d[1]);break;case f.INT_VEC3:1<p.size?d.length&&f.uniform3iv(y,d):f.uniform3i(y,d[0],d[1],d[2]);break;case f.INT_VEC4:1<p.size?d.length&&f.uniform4iv(y,d):f.uniform4i(y,d[0],d[1],d[2],d[3]);break;case f.SAMPLER_2D:f.activeTexture(f.TEXTURE0+p.samplerIndex),p.texture=d instanceof n.default.Texture?d:this._renderer.getTexture(d),f.uniform1i(y,p.samplerIndex),p.texture.src.gifProperties&&p.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(c){return c!==void 0})}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(c,d,p,f,y,g){var _;return c&&(c=c.location)!==-1&&(_=this._renderer.GL,this._renderer.registerEnabled.has(c)||(_.enableVertexAttribArray(c),this._renderer.registerEnabled.add(c)),this._renderer.GL.vertexAttribPointer(c,d,p||_.FLOAT,f||!1,y||0,g||0)),this}},{key:"disableRemainingAttributes",value:function(){var c=this,d=!0,p=!1,f=void 0;try{for(var y,g=this._renderer.registerEnabled.values()[Symbol.iterator]();!(d=(y=g.next()).done);d=!0)(function(){var _=y.value;Object.keys(c.attributes).some(function(b){return c.attributes[b].location===_})||(c._renderer.GL.disableVertexAttribArray(_),c._renderer.registerEnabled.delete(_))})()}catch(_){p=!0,f=_}finally{try{d||g.return==null||g.return()}finally{if(p)throw f}}}}])&&s(u.prototype,m),v&&s(u,v),o}(),t=n.default.Shader,l.default=t},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(t,a,l){"use strict";function n(b){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(b)}function s(b){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(w){return n(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":n(w)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(l,"__esModule",{value:!0}),l.checkWebGLCapabilities=_,l.default=l.MipmapTexture=void 0;var o=(g=t("../core/main"))&&g.__esModule?g:{default:g},u=function(b){if(b&&b.__esModule)return b;if(b===null||s(b)!=="object"&&typeof b!="function")return{default:b};var w=m();if(w&&w.has(b))return w.get(b);var T,O={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in b){var E;Object.prototype.hasOwnProperty.call(b,T)&&((E=A?Object.getOwnPropertyDescriptor(b,T):null)&&(E.get||E.set)?Object.defineProperty(O,T,E):O[T]=b[T])}return O.default=b,w&&w.set(b,O),O}(t("../core/constants"));function m(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,m=function(){return b},b)}function v(b,w){return(v=Object.setPrototypeOf||function(T,O){return T.__proto__=O,T})(b,w)}function c(b){return function(){var w,T=d(b),T=(w=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(w=d(this).constructor,Reflect.construct(T,arguments,w)):T.apply(this,arguments),this);if(!w||s(w)!=="object"&&typeof w!="function"){if(T!==void 0)return T;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return w}}function d(b){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)})(b)}function p(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function f(b,w){for(var T=0;T<w.length;T++){var O=w[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(b,O.key,O)}}function y(b,w,T){w&&f(b.prototype,w),T&&f(b,T)}o.default.Texture=function(){function b(C,T,E){p(this,b),this._renderer=C;var A=this._renderer.GL,E=(E=E||{},this.src=T,this.glTex=void 0,this.glTarget=A.TEXTURE_2D,this.glFormat=E.format||A.RGBA,this.mipmaps=!1,this.glMinFilter=E.minFilter||A.LINEAR,this.glMagFilter=E.magFilter||A.LINEAR,this.glWrapS=E.wrapS||A.CLAMP_TO_EDGE,this.glWrapT=E.wrapT||A.CLAMP_TO_EDGE,this.glDataType=E.dataType||A.UNSIGNED_BYTE,_(C)),C=(this.glFormat!==A.HALF_FLOAT||E.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=A.FLOAT),this.glFormat!==A.HALF_FLOAT||this.glMinFilter!==A.LINEAR&&this.glMagFilter!==A.LINEAR||E.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===A.LINEAR&&(this.glMinFilter=A.NEAREST),this.glMagFilter===A.LINEAR&&(this.glMagFilter=A.NEAREST)),this.glFormat!==A.FLOAT||E.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=A.UNSIGNED_BYTE),this.glFormat!==A.FLOAT||this.glMinFilter!==A.LINEAR&&this.glMagFilter!==A.LINEAR||E.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===A.LINEAR&&(this.glMinFilter=A.NEAREST),this.glMagFilter===A.LINEAR&&(this.glMagFilter=A.NEAREST)),this.isSrcMediaElement=o.default.MediaElement!==void 0&&T instanceof o.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=o.default.Element!==void 0&&T instanceof o.default.Element&&!(T instanceof o.default.Graphics)&&!(T instanceof o.default.Renderer),this.isSrcP5Image=T instanceof o.default.Image,this.isSrcP5Graphics=T instanceof o.default.Graphics,this.isSrcP5Renderer=T instanceof o.default.Renderer,this.isImageData=typeof ImageData<"u"&&T instanceof ImageData,this.isFramebufferTexture=T instanceof o.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=C.width,this.height=C.height,this.init(C),this}return y(b,[{key:"_getTextureDataFromSource",value:function(){var w;return this.isFramebufferTexture?w=this.src.rawTexture():this.isSrcP5Image?w=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?w=this.src.elt:this.isImageData&&(w=this.src),w}},{key:"init",value:function(w){var T,O=this._renderer.GL;this.isFramebufferTexture||(this.glTex=O.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,this.glMagFilter),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(T=new Uint8Array([1,1,1,1]),O.texImage2D(this.glTarget,0,O.RGBA,1,1,0,this.glFormat,this.glDataType,T)):O.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,w))}},{key:"update",value:function(){var w,T,O,A=this.src;return A.width!==0&&A.height!==0&&!this.isFramebufferTexture&&(w=this._getTextureDataFromSource(),T=!1,O=this._renderer.GL,w.width!==this.width||w.height!==this.height?(T=!0,this.width=w.width||A.width,this.height=w.height||A.height,this.isSrcP5Image?A.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&A.setModified(!0)):this.isSrcP5Image?A.isModified()&&A.setModified(!(T=!0)):this.isSrcMediaElement?A.isModified()?A.setModified(!(T=!0)):A.loadedmetadata&&this._videoPrevUpdateTime!==A.time()&&(this._videoPrevUpdateTime=A.time(),T=!0):this.isImageData?A._dirty&&(T=!(A._dirty=!1)):T=!0,T&&(this.bindTexture(),O.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,w)),T)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(w,T){var O=this._renderer.GL;this.glMinFilter=this.glFilter(w),this.glMagFilter=this.glFilter(T),this.bindTexture(),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,this.glMinFilter),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(w){var T=this._renderer.GL;return w===u.NEAREST?T.NEAREST:T.LINEAR}},{key:"setWrapMode",value:function(w,T){function O(I){return(I&I-1)==0}var A=this._renderer.GL,C=this._getTextureDataFromSource(),C=C.naturalWidth&&C.naturalHeight?(E=C.naturalWidth,C.naturalHeight):(E=this.width,this.height),E=O(E),C=O(C);w===u.REPEAT?this._renderer.webglVersion===u.WEBGL2||E&&C?this.glWrapS=A.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=A.CLAMP_TO_EDGE):w===u.MIRROR?this._renderer.webglVersion===u.WEBGL2||E&&C?this.glWrapS=A.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=A.CLAMP_TO_EDGE):this.glWrapS=A.CLAMP_TO_EDGE,T===u.REPEAT?this._renderer.webglVersion===u.WEBGL2||E&&C?this.glWrapT=A.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=A.CLAMP_TO_EDGE):T===u.MIRROR?this._renderer.webglVersion===u.WEBGL2||E&&C?this.glWrapT=A.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=A.CLAMP_TO_EDGE):this.glWrapT=A.CLAMP_TO_EDGE,this.bindTexture(),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,this.glWrapS),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),b}();var g=function(b){var w=O;if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),b&&v(w,b);var T=c(O);function O(A,E,C){return p(this,O),E=(A=T.call(this,A,E,C))._renderer.GL,A.glMinFilter===E.LINEAR&&(A.glMinFilter=E.LINEAR_MIPMAP_LINEAR),A}return y(O,[{key:"glFilter",value:function(A){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(A){var E=this._renderer.GL;this.glTex=E.createTexture(),this.bindTexture();for(var C=0;C<A.length;C++)E.texImage2D(this.glTarget,C,this.glFormat,this.glFormat,this.glDataType,A[C]);this.glMinFilter=E.LINEAR_MIPMAP_LINEAR,E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,this.glMagFilter),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),O}(o.default.Texture);function _(A){var w=A.GL,A=A.webglVersion,T=A===u.WEBGL2?w.getExtension("EXT_color_buffer_float")&&w.getExtension("EXT_float_blend"):w.getExtension("OES_texture_float"),O=T&&w.getExtension("OES_texture_float_linear"),A=A===u.WEBGL2?w.getExtension("EXT_color_buffer_float"):w.getExtension("OES_texture_half_float");return{float:T,floatLinear:O,halfFloat:A,halfFloatLinear:A&&w.getExtension("OES_texture_half_float_linear")}}l.MipmapTexture=g,t=o.default.Texture,l.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(t,a,l){"use strict";function n(b){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(b)}function s(b){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(w){return n(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":n(w)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var o,u=(o=t("../core/main"))&&o.__esModule?o:{default:o},m=function(b){if(b&&b.__esModule)return b;if(b===null||s(b)!=="object"&&typeof b!="function")return{default:b};var w=v();if(w&&w.has(b))return w.get(b);var T,O={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in b){var E;Object.prototype.hasOwnProperty.call(b,T)&&((E=A?Object.getOwnPropertyDescriptor(b,T):null)&&(E.get||E.set)?Object.defineProperty(O,T,E):O[T]=b[T])}return O.default=b,w&&w.set(b,O),O}(t("../core/constants"));function v(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,v=function(){return b},b)}function c(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function d(b,w){for(var T=0;T<w.length;T++){var O=w[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(b,O.key,O)}}function p(b,w,T){w&&d(b.prototype,w),T&&d(b,T)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),u.default.RendererGL.prototype._applyTextProperties=function(){},u.default.RendererGL.prototype.textWidth=function(b){return this._isOpenType()?this._textFont._textWidth(b,this._textSize):0};var f=function(){function b(w,T){c(this,b),this.width=w,this.height=T,this.infos=[]}return p(b,[{key:"findImage",value:function(w){var T,O,A=this.width*this.height;if(A<w)throw new Error("font is too complex to render in 3D");for(var E=this.infos.length-1;0<=E;--E){var C=this.infos[E];if(C.index+w<A){O=(T=C).imageData;break}}if(!T){try{O=new ImageData(this.width,this.height)}catch{var I=document.getElementsByTagName("canvas")[0],L=!I,R=(I||((I=document.createElement("canvas")).style.display="none",document.body.appendChild(I)),I.getContext("2d"));R&&(O=R.createImageData(this.width,this.height)),L&&document.body.removeChild(I)}this.infos.push(T={index:0,imageData:O})}return R=T.index,T.index+=w,O._dirty=!0,{imageData:O,index:R}}}]),b}();function y(C,w,T,O,A){var E=C.imageData.data,C=4*C.index++;E[C++]=w,E[C++]=T,E[C++]=O,E[+C]=A}var g=Math.sqrt(3),_=function(){function b(w){c(this,b),this.font=w,this.strokeImageInfos=new f(64,64),this.colDimImageInfos=new f(64,64),this.rowDimImageInfos=new f(64,64),this.colCellImageInfos=new f(64,64),this.rowCellImageInfos=new f(64,64),this.glyphInfos={}}return p(b,[{key:"getGlyphInfo",value:function(w){var T=this.glyphInfos[w.index];if(!T){var O=w.getBoundingBox(),A=O.x1,E=O.y1,C=O.x2-A,I=O.y2-E,L=w.path.commands;if(C==0||I==0||!L.length)return this.glyphInfos[w.index]={};for(var R=[],D=[],H=[],z=8;0<=z;--z)H.push([]);for(z=8;0<=z;--z)D.push([]);var B,J,ee,Z,q=function(){function Ke(Ze,tt,We,Ee){c(this,Ke),this.p0=Ze,this.c0=tt,this.c1=We,this.p1=Ee}return p(Ke,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return u.default.Vector.sub(u.default.Vector.sub(this.p1,this.p0),u.default.Vector.mult(u.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(Ue){var tt=u.default.Vector.lerp(this.p0,this.c0,Ue),Ee=u.default.Vector.lerp(this.c0,this.c1,Ue),We=u.default.Vector.lerp(tt,Ee,Ue),Ee=(this.c1=u.default.Vector.lerp(this.c1,this.p1,Ue),this.c0=u.default.Vector.lerp(Ee,this.c1,Ue),u.default.Vector.lerp(We,this.c0,Ue)),Ue=new Ke(this.p0,tt,We,Ee);return this.p0=Ee,Ue}},{key:"splitInflections",value:function(){var Ze=u.default.Vector.sub(this.c0,this.p0),tt=u.default.Vector.sub(u.default.Vector.sub(this.c1,this.c0),Ze),We=u.default.Vector.sub(u.default.Vector.sub(u.default.Vector.sub(this.p1,this.c1),Ze),u.default.Vector.mult(tt,2)),Ee=[],Ue=tt.x*We.y-tt.y*We.x;return Ue!==0&&0<=(Ze=(We=Ze.x*We.y-Ze.y*We.x)*We-4*Ue*(Ze.x*tt.y-Ze.y*tt.x))&&(Ue<0&&(Ue=-Ue,We=-We),Ze=(-We+(tt=Math.sqrt(Ze)))/(2*Ue),0<(We=(-We-tt)/(2*Ue))&&We<1&&(Ee.push(this.split(We)),Ze=1-(1-Ze)/(1-We)),0<Ze&&Ze<1&&Ee.push(this.split(Ze))),Ee.push(this),Ee}}]),Ke}(),re=!0,ge=!1,V=void 0;try{for(var j,G=L[Symbol.iterator]();!(re=(j=G.next()).done);re=!0){var K=j.value,ae=(K.x-A)/C,Q=(K.y-E)/I;if(!Pe(B,J,ae,Q)){switch(K.type){case"M":ee=ae,Z=Q;break;case"L":Ae(B,J,ae,Q);break;case"Q":var oe=(K.x1-A)/C,W=(K.y1-E)/I;ke([B,ae,oe],[J,Q,W],{x:B,y:J,cx:oe,cy:W});break;case"Z":Pe(B,J,ee,Z)?R.push({x:B,y:J}):(Ae(B,J,ee,Z),R.push({x:ee,y:Z}));break;case"C":for(var Y=function(de,Le,Be,We,Ee,Ue,Oe,ce){var de=new q(new u.default.Vector(de,Le),new u.default.Vector(Be,We),new u.default.Vector(Ee,Ue),new u.default.Vector(Oe,ce)).splitInflections(),le=[],ye=30/g,je=!0,Le=!1,Be=void 0;try{for(var Ye,Ge=de[Symbol.iterator]();!(je=(Ye=Ge.next()).done);je=!0){for(var Je=Ye.value,rt=[],_t=void 0;!(.125<=(_t=ye/Je.quadError()));){var ht=Math.pow(_t,.3333333333333333),lt=Je.split(ht),St=Je.split(1-ht/(1-ht));le.push(lt),rt.push(Je),Je=St}_t<1&&le.push(Je.split(.5)),le.push(Je),Array.prototype.push.apply(le,rt.reverse())}}catch(pt){Le=!0,Be=pt}finally{try{je||Ge.return==null||Ge.return()}finally{if(Le)throw Be}}return le}(B,J,(K.x1-A)/C,(K.y1-E)/I,(K.x2-A)/C,(K.y2-E)/I,ae,Q),ne=0;ne<Y.length;ne++){var ue=Y[ne].toQuadratic();ke([ue.x,ue.x1,ue.cx],[ue.y,ue.y1,ue.cy],ue)}break;default:throw new Error("unknown command type: ".concat(K.type))}B=ae,J=Q}}}catch(Ke){ge=!0,V=Ke}finally{try{re||G.return==null||G.return()}finally{if(ge)throw V}}for(var se=R.length,pe=this.strokeImageInfos.findImage(se),ve=pe.index,fe=0;fe<se;++fe){var xe=R[fe];y(pe,Te(xe.x),Te(xe.y),Te(xe.cx),Te(xe.cy))}(T=this.glyphInfos[w.index]={glyph:w,uGlyphRect:[O.x1,-O.y1,O.x2,-O.y2],strokeImageInfo:pe,strokes:R,colInfo:it(H,this.colDimImageInfos,this.colCellImageInfos),rowInfo:it(D,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[T.colInfo.dimOffset,T.rowInfo.dimOffset]}return T;function ke(Ke,Ze,tt){var We=R.length;function Ee(le,ye,je){for(var Le=le.length;0<Le--;){var Be=le[Le];Be<ye&&(ye=Be),je<Be&&(je=Be)}return{min:ye,max:je}}R.push(tt);for(var tt=Ee(Ke,1,0),Ke=Math.max(Math.floor(9*tt.min-.5),0),Ue=Math.min(Math.ceil(9*tt.max+.5),9),Oe=Ke;Oe<Ue;++Oe)H[Oe].push(We);for(var tt=Ee(Ze,1,0),Ke=Math.max(Math.floor(9*tt.min-.5),0),ce=Math.min(Math.ceil(9*tt.max+.5),9),de=Ke;de<ce;++de)D[de].push(We)}function Te(Ke){return(Ke=(tt=255)*Ke)<(Ze=0)?Ze:tt<Ke?tt:Ke;var Ze,tt}function Ae(Ke,Ze,tt,We){ke([Ke,tt],[Ze,We],{x:Ke,y:Ze,cx:(Ke+tt)/2,cy:(Ze+We)/2})}function Pe(Ke,Ze,tt,We){return Math.abs(tt-Ke)<1e-5&&Math.abs(We-Ze)<1e-5}function it(Ke,Ze,tt){for(var We=Ke.length,Ee=Ze.findImage(We),Ze=Ee.index,Ue=0,Oe=0;Oe<We;++Oe)Ue+=Ke[Oe].length;for(var ce=tt.findImage(Ue),de=0;de<We;++de){var le=Ke[de],ye=le.length,je=ce.index;y(Ee,je>>7,127&je,ye>>7,127&ye);for(var Le=0;Le<ye;++Le){var Be=le[Le]+ve;y(ce,Be>>7,127&Be,0,0)}}return{cellImageInfo:ce,dimOffset:Ze,dimImageInfo:Ee}}}}]),b}();u.default.RendererGL.prototype._renderText=function(b,w,T,O,A){if(this._textFont&&typeof this._textFont!="string"){if(!(A<=O)&&this._doFill){if(this._isOpenType()){b.push();var A=this._doStroke,E=this.drawMode,C=(this._doStroke=!1,this.drawMode=m.TEXTURE,this._textFont.font),I=(I=this._textFont._fontInfo)||(this._textFont._fontInfo=new _(C)),T=this._textFont._handleAlignment(this,w,T,O),O=this._textSize/C.unitsPerEm,L=(this.translate(T.x,T.y,0),this.scale(O,O,1),this.GL),T=!this._defaultFontShader,R=this._getFontShader(),D=(R.init(),R.bindShader(),T&&(R.setUniform("uGridImageSize",[64,64]),R.setUniform("uCellsImageSize",[64,64]),R.setUniform("uStrokeImageSize",[64,64]),R.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),H=(D||((O=this._textGeom=new u.default.Geometry(1,1,function(){for(var ne=0;ne<=1;ne++)for(var ue=0;ue<=1;ue++)this.vertices.push(new u.default.Vector(ue,ne,0)),this.uvs.push(ue,ne)})).computeFaces().computeNormals(),D=this.createBuffers("glyph",O)),!0),T=!1,O=void 0;try{for(var z,B=this.retainedMode.buffers.text[Symbol.iterator]();!(H=(z=B.next()).done);H=!0)z.value._prepareBuffer(D,R)}catch(ne){T=!0,O=ne}finally{try{H||B.return==null||B.return()}finally{if(T)throw O}}this._bindBuffer(D.indexBuffer,L.ELEMENT_ARRAY_BUFFER),R.setUniform("uMaterialColor",this.curFillColor),L.pixelStorei(L.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var J=0,ee=null,Z=C.stringToGlyphs(w),q=!0,re=!1,ge=void 0;try{for(var V,j=Z[Symbol.iterator]();!(q=(V=j.next()).done);q=!0){var G,K,ae=V.value,Q=(ee&&(J+=C.getKerningValue(ee,ae)),I.getGlyphInfo(ae));Q.uGlyphRect&&(G=Q.rowInfo,K=Q.colInfo,R.setUniform("uSamplerStrokes",Q.strokeImageInfo.imageData),R.setUniform("uSamplerRowStrokes",G.cellImageInfo.imageData),R.setUniform("uSamplerRows",G.dimImageInfo.imageData),R.setUniform("uSamplerColStrokes",K.cellImageInfo.imageData),R.setUniform("uSamplerCols",K.dimImageInfo.imageData),R.setUniform("uGridOffset",Q.uGridOffset),R.setUniform("uGlyphRect",Q.uGlyphRect),R.setUniform("uGlyphOffset",J),R.bindTextures(),L.drawElements(L.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),J+=ae.advanceWidth,ee=ae}}catch(ne){re=!0,ge=ne}finally{try{q||j.return==null||j.return()}finally{if(re)throw ge}}}finally{R.unbindShader(),this._doStroke=A,this.drawMode=E,L.pixelStorei(L.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),b.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return b}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)})});var pO=q4((hu,jp)=>{var di=function h(i,r,t){i===null&&(i=Function.prototype);var a=Object.getOwnPropertyDescriptor(i,r);if(a===void 0){var l=Object.getPrototypeOf(i);return l===null?void 0:h(l,r,t)}else{if("value"in a)return a.value;var n=a.get;return n===void 0?void 0:n.call(t)}},Xr=function(){function h(i,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}}return function(i,r,t){return r&&h(i.prototype,r),t&&h(i,t),i}}();function ii(h,i){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:h}function hi(h,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);h.prototype=Object.create(i&&i.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(h,i):h.__proto__=i)}function Yr(h,i){if(!(h instanceof i))throw new TypeError("Cannot call a class as a function")}(function(h){window.cash=h()})(function(){var h=document,i=window,r=Array.prototype,t=r.slice,a=r.filter,l=r.push,n=function(){},s=function(W){return typeof W==typeof n&&W.call},o=function(W){return typeof W=="string"},u=/^#[\w-]*$/,m=/^\.[\w-]*$/,v=/<.+>/,c=/^\w+$/;function d(W,Y){Y=Y||h;var ne=m.test(W)?Y.getElementsByClassName(W.slice(1)):c.test(W)?Y.getElementsByTagName(W):Y.querySelectorAll(W);return ne}var p;function f(W){if(!p){p=h.implementation.createHTMLDocument(null);var Y=p.createElement("base");Y.href=h.location.href,p.head.appendChild(Y)}return p.body.innerHTML=W,p.body.childNodes}function y(W){h.readyState!=="loading"?W():h.addEventListener("DOMContentLoaded",W)}function g(W,Y){if(!W)return this;if(W.cash&&W!==i)return W;var ne=W,ue=0,se;if(o(W))ne=u.test(W)?h.getElementById(W.slice(1)):v.test(W)?f(W):d(W,Y);else if(s(W))return y(W),this;if(!ne)return this;if(ne.nodeType||ne===i)this[0]=ne,this.length=1;else for(se=this.length=ne.length;ue<se;ue++)this[ue]=ne[ue];return this}function _(W,Y){return new g(W,Y)}var b=_.fn=_.prototype=g.prototype={cash:!0,length:0,push:l,splice:r.splice,map:r.map,init:g};Object.defineProperty(b,"constructor",{value:_}),_.parseHTML=f,_.noop=n,_.isFunction=s,_.isString=o,_.extend=b.extend=function(W){W=W||{};var Y=t.call(arguments),ne=Y.length,ue=1;for(Y.length===1&&(W=this,ue=0);ue<ne;ue++)if(Y[ue])for(var se in Y[ue])Y[ue].hasOwnProperty(se)&&(W[se]=Y[ue][se]);return W};function w(W,Y){for(var ne=W.length,ue=0;ue<ne&&Y.call(W[ue],W[ue],ue,W)!==!1;ue++);}function T(W,Y){var ne=W&&(W.matches||W.webkitMatchesSelector||W.mozMatchesSelector||W.msMatchesSelector||W.oMatchesSelector);return!!ne&&ne.call(W,Y)}function O(W){return o(W)?T:W.cash?function(Y){return W.is(Y)}:function(Y,ne){return Y===ne}}function A(W){return _(t.call(W).filter(function(Y,ne,ue){return ue.indexOf(Y)===ne}))}_.extend({merge:function(W,Y){for(var ne=+Y.length,ue=W.length,se=0;se<ne;ue++,se++)W[ue]=Y[se];return W.length=ue,W},each:w,matches:T,unique:A,isArray:Array.isArray,isNumeric:function(W){return!isNaN(parseFloat(W))&&isFinite(W)}});var E=_.uid="_cash"+Date.now();function C(W){return W[E]=W[E]||{}}function I(W,Y,ne){return C(W)[Y]=ne}function L(W,Y){var ne=C(W);return ne[Y]===void 0&&(ne[Y]=W.dataset?W.dataset[Y]:_(W).attr("data-"+Y)),ne[Y]}function R(W,Y){var ne=C(W);ne?delete ne[Y]:W.dataset?delete W.dataset[Y]:_(W).removeAttr("data-"+name)}b.extend({data:function(W,Y){if(o(W))return Y===void 0?L(this[0],W):this.each(function(ue){return I(ue,W,Y)});for(var ne in W)this.data(ne,W[ne]);return this},removeData:function(W){return this.each(function(Y){return R(Y,W)})}});var D=/\S+/g;function H(W){return o(W)&&W.match(D)}function z(W,Y){return W.classList?W.classList.contains(Y):new RegExp("(^| )"+Y+"( |$)","gi").test(W.className)}function B(W,Y,ne){W.classList?W.classList.add(Y):ne.indexOf(" "+Y+" ")&&(W.className+=" "+Y)}function J(W,Y){W.classList?W.classList.remove(Y):W.className=W.className.replace(Y,"")}b.extend({addClass:function(W){var Y=H(W);return Y?this.each(function(ne){var ue=" "+ne.className+" ";w(Y,function(se){B(ne,se,ue)})}):this},attr:function(W,Y){if(W){if(o(W))return Y===void 0?this[0]?this[0].getAttribute?this[0].getAttribute(W):this[0][W]:void 0:this.each(function(ue){ue.setAttribute?ue.setAttribute(W,Y):ue[W]=Y});for(var ne in W)this.attr(ne,W[ne]);return this}},hasClass:function(W){var Y=!1,ne=H(W);return ne&&ne.length&&this.each(function(ue){return Y=z(ue,ne[0]),!Y}),Y},prop:function(W,Y){if(o(W))return Y===void 0?this[0][W]:this.each(function(ue){ue[W]=Y});for(var ne in W)this.prop(ne,W[ne]);return this},removeAttr:function(W){return this.each(function(Y){Y.removeAttribute?Y.removeAttribute(W):delete Y[W]})},removeClass:function(W){if(!arguments.length)return this.attr("class","");var Y=H(W);return Y?this.each(function(ne){w(Y,function(ue){J(ne,ue)})}):this},removeProp:function(W){return this.each(function(Y){delete Y[W]})},toggleClass:function(W,Y){if(Y!==void 0)return this[Y?"addClass":"removeClass"](W);var ne=H(W);return ne?this.each(function(ue){var se=" "+ue.className+" ";w(ne,function(pe){z(ue,pe)?J(ue,pe):B(ue,pe,se)})}):this}}),b.extend({add:function(W,Y){return A(_.merge(this,_(W,Y)))},each:function(W){return w(this,W),this},eq:function(W){return _(this.get(W))},filter:function(W){if(!W)return this;var Y=s(W)?W:O(W);return _(a.call(this,function(ne){return Y(ne,W)}))},first:function(){return this.eq(0)},get:function(W){return W===void 0?t.call(this):W<0?this[W+this.length]:this[W]},index:function(W){var Y=W?_(W)[0]:this[0],ne=W?this:_(Y).parent().children();return t.call(ne).indexOf(Y)},last:function(){return this.eq(-1)}});var ee=function(){var W=/(?:^\w|[A-Z]|\b\w)/g,Y=/[\s-_]+/g;return function(ne){return ne.replace(W,function(ue,se){return ue[se===0?"toLowerCase":"toUpperCase"]()}).replace(Y,"")}}(),Z=function(){var W={},Y=document,ne=Y.createElement("div"),ue=ne.style;return function(se){if(se=ee(se),W[se])return W[se];var pe=se.charAt(0).toUpperCase()+se.slice(1),ve=["webkit","moz","ms","o"],fe=(se+" "+ve.join(pe+" ")+pe).split(" ");return w(fe,function(xe){if(xe in ue)return W[xe]=se=W[se]=xe,!1}),W[se]}}();_.prefixedProp=Z,_.camelCase=ee,b.extend({css:function(W,Y){if(o(W))return W=Z(W),arguments.length>1?this.each(function(ue){return ue.style[W]=Y}):i.getComputedStyle(this[0])[W];for(var ne in W)this.css(ne,W[ne]);return this}});function q(W,Y){return parseInt(i.getComputedStyle(W[0],null)[Y],10)||0}w(["Width","Height"],function(W){var Y=W.toLowerCase();b[Y]=function(){return this[0].getBoundingClientRect()[Y]},b["inner"+W]=function(){return this[0]["client"+W]},b["outer"+W]=function(ne){return this[0]["offset"+W]+(ne?q(this,"margin"+(W==="Width"?"Left":"Top"))+q(this,"margin"+(W==="Width"?"Right":"Bottom")):0)}});function re(W,Y,ne){var ue=L(W,"_cashEvents")||I(W,"_cashEvents",{});ue[Y]=ue[Y]||[],ue[Y].push(ne),W.addEventListener(Y,ne)}function ge(W,Y,ne){var ue=L(W,"_cashEvents"),se=ue&&ue[Y],pe;se&&(ne?(W.removeEventListener(Y,ne),pe=se.indexOf(ne),pe>=0&&se.splice(pe,1)):(w(se,function(ve){W.removeEventListener(Y,ve)}),se=[]))}b.extend({off:function(W,Y){return this.each(function(ne){return ge(ne,W,Y)})},on:function(W,Y,ne,ue){var se;if(!o(W)){for(var pe in W)this.on(pe,Y,W[pe]);return this}return s(Y)&&(ne=Y,Y=null),W==="ready"?(y(ne),this):(Y&&(se=ne,ne=function(ve){for(var fe=ve.target;!T(fe,Y);){if(fe===this||fe===null)return fe=!1;fe=fe.parentNode}fe&&se.call(fe,ve)}),this.each(function(ve){var fe=ne;ue&&(fe=function(){ne.apply(this,arguments),ge(ve,W,fe)}),re(ve,W,fe)}))},one:function(W,Y,ne){return this.on(W,Y,ne,!0)},ready:y,trigger:function(W,Y){if(document.createEvent){var ne=document.createEvent("HTMLEvents");return ne.initEvent(W,!0,!1),ne=this.extend(ne,Y),this.each(function(ue){return ue.dispatchEvent(ne)})}}});function V(W,Y){return"&"+encodeURIComponent(W)+"="+encodeURIComponent(Y).replace(/%20/g,"+")}function j(W){var Y=[];return w(W.options,function(ne){ne.selected&&Y.push(ne.value)}),Y.length?Y:null}function G(W){var Y=W.selectedIndex;return Y>=0?W.options[Y].value:null}function K(W){var Y=W.type;if(!Y)return null;switch(Y.toLowerCase()){case"select-one":return G(W);case"select-multiple":return j(W);case"radio":return W.checked?W.value:null;case"checkbox":return W.checked?W.value:null;default:return W.value?W.value:null}}b.extend({serialize:function(){var W="";return w(this[0].elements||this,function(Y){if(!(Y.disabled||Y.tagName==="FIELDSET")){var ne=Y.name;switch(Y.type.toLowerCase()){case"file":case"reset":case"submit":case"button":break;case"select-multiple":var ue=K(Y);ue!==null&&w(ue,function(pe){W+=V(ne,pe)});break;default:var se=K(Y);se!==null&&(W+=V(ne,se))}}}),W.substr(1)},val:function(W){return W===void 0?K(this[0]):this.each(function(Y){return Y.value=W})}});function ae(W,Y,ne){if(ne){var ue=W.childNodes[0];W.insertBefore(Y,ue)}else W.appendChild(Y)}function Q(W,Y,ne){var ue=o(Y);if(!ue&&Y.length){w(Y,function(se){return Q(W,se,ne)});return}w(W,ue?function(se){return se.insertAdjacentHTML(ne?"afterbegin":"beforeend",Y)}:function(se,pe){return ae(se,pe===0?Y:Y.cloneNode(!0),ne)})}b.extend({after:function(W){return _(W).insertAfter(this),this},append:function(W){return Q(this,W),this},appendTo:function(W){return Q(_(W),this),this},before:function(W){return _(W).insertBefore(this),this},clone:function(){return _(this.map(function(W){return W.cloneNode(!0)}))},empty:function(){return this.html(""),this},html:function(W){if(W===void 0)return this[0].innerHTML;var Y=W.nodeType?W[0].outerHTML:W;return this.each(function(ne){return ne.innerHTML=Y})},insertAfter:function(W){var Y=this;return _(W).each(function(ne,ue){var se=ne.parentNode,pe=ne.nextSibling;Y.each(function(ve){se.insertBefore(ue===0?ve:ve.cloneNode(!0),pe)})}),this},insertBefore:function(W){var Y=this;return _(W).each(function(ne,ue){var se=ne.parentNode;Y.each(function(pe){se.insertBefore(ue===0?pe:pe.cloneNode(!0),ne)})}),this},prepend:function(W){return Q(this,W,!0),this},prependTo:function(W){return Q(_(W),this,!0),this},remove:function(){return this.each(function(W){if(W.parentNode)return W.parentNode.removeChild(W)})},text:function(W){return W===void 0?this[0].textContent:this.each(function(Y){return Y.textContent=W})}});var oe=h.documentElement;return b.extend({position:function(){var W=this[0];return{left:W.offsetLeft,top:W.offsetTop}},offset:function(){var W=this[0].getBoundingClientRect();return{top:W.top+i.pageYOffset-oe.clientTop,left:W.left+i.pageXOffset-oe.clientLeft}},offsetParent:function(){return _(this[0].offsetParent)}}),b.extend({children:function(W){var Y=[];return this.each(function(ne){l.apply(Y,ne.children)}),Y=A(Y),W?Y.filter(function(ne){return T(ne,W)}):Y},closest:function(W){return!W||this.length<1?_():this.is(W)?this.filter(W):this.parent().closest(W)},is:function(W){if(!W)return!1;var Y=!1,ne=O(W);return this.each(function(ue){return Y=ne(ue,W),!Y}),Y},find:function(W){if(!W||W.nodeType)return _(W&&this.has(W).length?W:null);var Y=[];return this.each(function(ne){l.apply(Y,d(W,ne))}),A(Y)},has:function(W){var Y=o(W)?function(ne){return d(W,ne).length!==0}:function(ne){return ne.contains(W)};return this.filter(Y)},next:function(){return _(this[0].nextElementSibling)},not:function(W){if(!W)return this;var Y=O(W);return this.filter(function(ne){return!Y(ne,W)})},parent:function(){var W=[];return this.each(function(Y){Y&&Y.parentNode&&W.push(Y.parentNode)}),A(W)},parents:function(W){var Y,ne=[];return this.each(function(ue){for(Y=ue;Y&&Y.parentNode&&Y!==h.body.parentNode;)Y=Y.parentNode,(!W||W&&T(Y,W))&&ne.push(Y)}),A(ne)},prev:function(){return _(this[0].previousElementSibling)},siblings:function(W){var Y=this.parent().children(W),ne=this[0];return Y.filter(function(ue){return ue!==ne})}}),_});var fi=function(){function h(i,r,t){Yr(this,h),r instanceof Element||console.error(Error(r+" is not an HTML Element"));var a=i.getInstance(r);a&&a.destroy(),this.el=r,this.$el=cash(r)}return Xr(h,null,[{key:"init",value:function(r,t,a){var l=null;if(t instanceof Element)l=new r(t,a);else if(t&&(t.jquery||t.cash||t instanceof NodeList)){for(var n=[],s=0;s<t.length;s++)n.push(new r(t[s],a));l=n}return l}}]),h}();(function(h){h.Package?M={}:h.M={},M.jQueryLoaded=!!h.jQuery})(window);typeof define=="function"&&define.amd?define("M",[],function(){return M}):typeof hu<"u"&&!hu.nodeType&&(typeof jp<"u"&&!jp.nodeType&&jp.exports&&(hu=jp.exports=M),hu.default=M);M.keys={TAB:9,ENTER:13,ESC:27,ARROW_UP:38,ARROW_DOWN:40};M.tabPressed=!1;M.keyDown=!1;var VU=function(h){M.keyDown=!0,(h.which===M.keys.TAB||h.which===M.keys.ARROW_DOWN||h.which===M.keys.ARROW_UP)&&(M.tabPressed=!0)},$U=function(h){M.keyDown=!1,(h.which===M.keys.TAB||h.which===M.keys.ARROW_DOWN||h.which===M.keys.ARROW_UP)&&(M.tabPressed=!1)},GU=function(h){M.keyDown&&document.body.classList.add("keyboard-focused")},HU=function(h){document.body.classList.remove("keyboard-focused")};document.addEventListener("keydown",VU,!0);document.addEventListener("keyup",$U,!0);document.addEventListener("focus",GU,!0);document.addEventListener("blur",HU,!0);M.initializeJqueryWrapper=function(h,i,r){jQuery.fn[i]=function(t){if(h.prototype[t]){var a=Array.prototype.slice.call(arguments,1);if(t.slice(0,3)==="get"){var l=this.first()[0][r];return l[t].apply(l,a)}return this.each(function(){var n=this[r];n[t].apply(n,a)})}else if(typeof t=="object"||!t)return h.init(this,arguments[0]),this;jQuery.error("Method "+t+" does not exist on jQuery."+i)}};M.AutoInit=function(h){var i=h||document.body,r={Autocomplete:i.querySelectorAll(".autocomplete:not(.no-autoinit)"),Carousel:i.querySelectorAll(".carousel:not(.no-autoinit)"),Chips:i.querySelectorAll(".chips:not(.no-autoinit)"),Collapsible:i.querySelectorAll(".collapsible:not(.no-autoinit)"),Datepicker:i.querySelectorAll(".datepicker:not(.no-autoinit)"),Dropdown:i.querySelectorAll(".dropdown-trigger:not(.no-autoinit)"),Materialbox:i.querySelectorAll(".materialboxed:not(.no-autoinit)"),Modal:i.querySelectorAll(".modal:not(.no-autoinit)"),Parallax:i.querySelectorAll(".parallax:not(.no-autoinit)"),Pushpin:i.querySelectorAll(".pushpin:not(.no-autoinit)"),ScrollSpy:i.querySelectorAll(".scrollspy:not(.no-autoinit)"),FormSelect:i.querySelectorAll("select:not(.no-autoinit)"),Sidenav:i.querySelectorAll(".sidenav:not(.no-autoinit)"),Tabs:i.querySelectorAll(".tabs:not(.no-autoinit)"),TapTarget:i.querySelectorAll(".tap-target:not(.no-autoinit)"),Timepicker:i.querySelectorAll(".timepicker:not(.no-autoinit)"),Tooltip:i.querySelectorAll(".tooltipped:not(.no-autoinit)"),FloatingActionButton:i.querySelectorAll(".fixed-action-btn:not(.no-autoinit)")};for(var t in r){var a=M[t];a.init(r[t])}};M.objectSelectorString=function(h){var i=h.prop("tagName")||"",r=h.attr("id")||"",t=h.attr("class")||"";return(i+r+t).replace(/\s/g,"")};M.guid=function(){function h(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return function(){return h()+h()+"-"+h()+"-"+h()+"-"+h()+"-"+h()+h()+h()}}();M.escapeHash=function(h){return h.replace(/(:|\.|\[|\]|,|=|\/)/g,"\\$1")};M.elementOrParentIsFixed=function(h){var i=$(h),r=i.add(i.parents()),t=!1;return r.each(function(){if($(this).css("position")==="fixed")return t=!0,!1}),t};M.checkWithinContainer=function(h,i,r){var t={top:!1,right:!1,bottom:!1,left:!1},a=h.getBoundingClientRect(),l=h===document.body?Math.max(a.bottom,window.innerHeight):a.bottom,n=h.scrollLeft,s=h.scrollTop,o=i.left-n,u=i.top-s;return(o<a.left+r||o<r)&&(t.left=!0),(o+i.width>a.right-r||o+i.width>window.innerWidth-r)&&(t.right=!0),(u<a.top+r||u<r)&&(t.top=!0),(u+i.height>l-r||u+i.height>window.innerHeight-r)&&(t.bottom=!0),t};M.checkPossibleAlignments=function(h,i,r,t){var a={top:!0,right:!0,bottom:!0,left:!0,spaceOnTop:null,spaceOnRight:null,spaceOnBottom:null,spaceOnLeft:null},l=getComputedStyle(i).overflow==="visible",n=i.getBoundingClientRect(),s=Math.min(n.height,window.innerHeight),o=Math.min(n.width,window.innerWidth),u=h.getBoundingClientRect(),m=i.scrollLeft,v=i.scrollTop,c=r.left-m,d=r.top-v,p=r.top+u.height-v;return a.spaceOnRight=l?window.innerWidth-(u.left+r.width):o-(c+r.width),a.spaceOnRight<0&&(a.left=!1),a.spaceOnLeft=l?u.right-r.width:c-r.width+u.width,a.spaceOnLeft<0&&(a.right=!1),a.spaceOnBottom=l?window.innerHeight-(u.top+r.height+t):s-(d+r.height+t),a.spaceOnBottom<0&&(a.top=!1),a.spaceOnTop=l?u.bottom-(r.height+t):p-(r.height-t),a.spaceOnTop<0&&(a.bottom=!1),a};M.getOverflowParent=function(h){return h==null?null:h===document.body||getComputedStyle(h).overflow!=="visible"?h:M.getOverflowParent(h.parentElement)};M.getIdFromTrigger=function(h){var i=h.getAttribute("data-target");return i||(i=h.getAttribute("href"),i?i=i.slice(1):i=""),i};M.getDocumentScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0};M.getDocumentScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};var fO=Date.now||function(){return new Date().getTime()};M.throttle=function(h,i,r){var t=void 0,a=void 0,l=void 0,n=null,s=0;r||(r={});var o=function(){s=r.leading===!1?0:fO(),n=null,l=h.apply(t,a),t=a=null};return function(){var u=fO();!s&&r.leading===!1&&(s=u);var m=i-(u-s);return t=this,a=arguments,m<=0?(clearTimeout(n),n=null,s=u,l=h.apply(t,a),t=a=null):!n&&r.trailing!==!1&&(n=setTimeout(o,m)),l}};var Wt={scope:{}};Wt.defineProperty=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,i,r){if(r.get||r.set)throw new TypeError("ES3 does not support getters and setters.");h!=Array.prototype&&h!=Object.prototype&&(h[i]=r.value)};Wt.getGlobal=function(h){return typeof window<"u"&&window===h?h:typeof global<"u"&&global!=null?global:h};Wt.global=Wt.getGlobal(hu);Wt.SYMBOL_PREFIX="jscomp_symbol_";Wt.initSymbol=function(){Wt.initSymbol=function(){},Wt.global.Symbol||(Wt.global.Symbol=Wt.Symbol)};Wt.symbolCounter_=0;Wt.Symbol=function(h){return Wt.SYMBOL_PREFIX+(h||"")+Wt.symbolCounter_++};Wt.initSymbolIterator=function(){Wt.initSymbol();var h=Wt.global.Symbol.iterator;h||(h=Wt.global.Symbol.iterator=Wt.global.Symbol("iterator")),typeof Array.prototype[h]!="function"&&Wt.defineProperty(Array.prototype,h,{configurable:!0,writable:!0,value:function(){return Wt.arrayIterator(this)}}),Wt.initSymbolIterator=function(){}};Wt.arrayIterator=function(h){var i=0;return Wt.iteratorPrototype(function(){return i<h.length?{done:!1,value:h[i++]}:{done:!0}})};Wt.iteratorPrototype=function(h){return Wt.initSymbolIterator(),h={next:h},h[Wt.global.Symbol.iterator]=function(){return this},h};Wt.array=Wt.array||{};Wt.iteratorFromArray=function(h,i){Wt.initSymbolIterator(),h instanceof String&&(h+="");var r=0,t={next:function(){if(r<h.length){var a=r++;return{value:i(a,h[a]),done:!1}}return t.next=function(){return{done:!0,value:void 0}},t.next()}};return t[Symbol.iterator]=function(){return t},t};Wt.polyfill=function(h,i,r,t){if(i){for(r=Wt.global,h=h.split("."),t=0;t<h.length-1;t++){var a=h[t];a in r||(r[a]={}),r=r[a]}h=h[h.length-1],t=r[h],i=i(t),i!=t&&i!=null&&Wt.defineProperty(r,h,{configurable:!0,writable:!0,value:i})}};Wt.polyfill("Array.prototype.keys",function(h){return h||function(){return Wt.iteratorFromArray(this,function(i){return i})}},"es6-impl","es3");var zU=hu;(function(h){M.anime=h()})(function(){function h(Q){if(!re.col(Q))try{return document.querySelectorAll(Q)}catch{}}function i(Q,oe){for(var W=Q.length,Y=2<=arguments.length?arguments[1]:void 0,ne=[],ue=0;ue<W;ue++)if(ue in Q){var se=Q[ue];oe.call(Y,se,ue,Q)&&ne.push(se)}return ne}function r(Q){return Q.reduce(function(oe,W){return oe.concat(re.arr(W)?r(W):W)},[])}function t(Q){return re.arr(Q)?Q:(re.str(Q)&&(Q=h(Q)||Q),Q instanceof NodeList||Q instanceof HTMLCollection?[].slice.call(Q):[Q])}function a(Q,oe){return Q.some(function(W){return W===oe})}function l(Q){var oe={},W;for(W in Q)oe[W]=Q[W];return oe}function n(Q,oe){var W=l(Q),Y;for(Y in Q)W[Y]=oe.hasOwnProperty(Y)?oe[Y]:Q[Y];return W}function s(Q,oe){var W=l(Q),Y;for(Y in oe)W[Y]=re.und(Q[Y])?oe[Y]:Q[Y];return W}function o(Q){Q=Q.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(Y,ne,ue,se){return ne+ne+ue+ue+se+se});var W=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(Q);Q=parseInt(W[1],16);var oe=parseInt(W[2],16),W=parseInt(W[3],16);return"rgba("+Q+","+oe+","+W+",1)"}function u(Q){function oe(pe,ve,fe){return 0>fe&&(fe+=1),1<fe&&--fe,fe<1/6?pe+6*(ve-pe)*fe:.5>fe?ve:fe<2/3?pe+(ve-pe)*(2/3-fe)*6:pe}var ne=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(Q)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(Q);Q=parseInt(ne[1])/360;var W=parseInt(ne[2])/100,Y=parseInt(ne[3])/100,ne=ne[4]||1;if(W==0)Y=W=Q=Y;else{var ue=.5>Y?Y*(1+W):Y+W-Y*W,se=2*Y-ue,Y=oe(se,ue,Q+1/3),W=oe(se,ue,Q);Q=oe(se,ue,Q-1/3)}return"rgba("+255*Y+","+255*W+","+255*Q+","+ne+")"}function m(Q){if(Q=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(Q))return Q[2]}function v(Q){if(-1<Q.indexOf("translate")||Q==="perspective")return"px";if(-1<Q.indexOf("rotate")||-1<Q.indexOf("skew"))return"deg"}function c(Q,oe){return re.fnc(Q)?Q(oe.target,oe.id,oe.total):Q}function d(Q,oe){if(oe in Q.style)return getComputedStyle(Q).getPropertyValue(oe.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function p(Q,oe){if(re.dom(Q)&&a(Z,oe))return"transform";if(re.dom(Q)&&(Q.getAttribute(oe)||re.svg(Q)&&Q[oe]))return"attribute";if(re.dom(Q)&&oe!=="transform"&&d(Q,oe))return"css";if(Q[oe]!=null)return"object"}function f(Q,oe){var W=v(oe),W=-1<oe.indexOf("scale")?1:0+W;if(Q=Q.style.transform,!Q)return W;for(var Y=[],ne=[],ue=[],se=/(\w+)\((.+?)\)/g;Y=se.exec(Q);)ne.push(Y[1]),ue.push(Y[2]);return Q=i(ue,function(pe,ve){return ne[ve]===oe}),Q.length?Q[0]:W}function y(Q,oe){switch(p(Q,oe)){case"transform":return f(Q,oe);case"css":return d(Q,oe);case"attribute":return Q.getAttribute(oe)}return Q[oe]||0}function g(Q,oe){var W=/^(\*=|\+=|-=)/.exec(Q);if(!W)return Q;var Y=m(Q)||0;switch(oe=parseFloat(oe),Q=parseFloat(Q.replace(W[0],"")),W[0][0]){case"+":return oe+Q+Y;case"-":return oe-Q+Y;case"*":return oe*Q+Y}}function _(Q,oe){return Math.sqrt(Math.pow(oe.x-Q.x,2)+Math.pow(oe.y-Q.y,2))}function b(Q){Q=Q.points;for(var oe=0,W,Y=0;Y<Q.numberOfItems;Y++){var ne=Q.getItem(Y);0<Y&&(oe+=_(W,ne)),W=ne}return oe}function w(Q){if(Q.getTotalLength)return Q.getTotalLength();switch(Q.tagName.toLowerCase()){case"circle":return 2*Math.PI*Q.getAttribute("r");case"rect":return 2*Q.getAttribute("width")+2*Q.getAttribute("height");case"line":return _({x:Q.getAttribute("x1"),y:Q.getAttribute("y1")},{x:Q.getAttribute("x2"),y:Q.getAttribute("y2")});case"polyline":return b(Q);case"polygon":var oe=Q.points;return b(Q)+_(oe.getItem(oe.numberOfItems-1),oe.getItem(0))}}function T(Q,oe){function W(se){return se=se===void 0?0:se,Q.el.getPointAtLength(1<=oe+se?oe+se:0)}var Y=W(),ne=W(-1),ue=W(1);switch(Q.property){case"x":return Y.x;case"y":return Y.y;case"angle":return 180*Math.atan2(ue.y-ne.y,ue.x-ne.x)/Math.PI}}function O(Q,oe){var W=/-?\d*\.?\d+/g,Y;if(Y=re.pth(Q)?Q.totalLength:Q,re.col(Y))if(re.rgb(Y)){var ne=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(Y);Y=ne?"rgba("+ne[1]+",1)":Y}else Y=re.hex(Y)?o(Y):re.hsl(Y)?u(Y):void 0;else ne=(ne=m(Y))?Y.substr(0,Y.length-ne.length):Y,Y=oe&&!/\s/g.test(Y)?ne+oe:ne;return Y+="",{original:Y,numbers:Y.match(W)?Y.match(W).map(Number):[0],strings:re.str(Q)||oe?Y.split(W):[]}}function A(Q){return Q=Q?r(re.arr(Q)?Q.map(t):t(Q)):[],i(Q,function(oe,W,Y){return Y.indexOf(oe)===W})}function E(Q){var oe=A(Q);return oe.map(function(W,Y){return{target:W,id:Y,total:oe.length}})}function C(Q,oe){var W=l(oe);if(re.arr(Q)){var Y=Q.length;Y!==2||re.obj(Q[0])?re.fnc(oe.duration)||(W.duration=oe.duration/Y):Q={value:Q}}return t(Q).map(function(ne,ue){return ue=ue?0:oe.delay,ne=re.obj(ne)&&!re.pth(ne)?ne:{value:ne},re.und(ne.delay)&&(ne.delay=ue),ne}).map(function(ne){return s(ne,W)})}function I(Q,oe){var W={},Y;for(Y in Q){var ne=c(Q[Y],oe);re.arr(ne)&&(ne=ne.map(function(ue){return c(ue,oe)}),ne.length===1&&(ne=ne[0])),W[Y]=ne}return W.duration=parseFloat(W.duration),W.delay=parseFloat(W.delay),W}function L(Q){return re.arr(Q)?ge.apply(this,Q):V[Q]}function R(Q,oe){var W;return Q.tweens.map(function(Y){Y=I(Y,oe);var ne=Y.value,pe=y(oe.target,Q.name),ue=W?W.to.original:pe,ue=re.arr(ne)?ne[0]:ue,se=g(re.arr(ne)?ne[1]:ne,ue),pe=m(se)||m(ue)||m(pe);return Y.from=O(ue,pe),Y.to=O(se,pe),Y.start=W?W.end:Q.offset,Y.end=Y.start+Y.delay+Y.duration,Y.easing=L(Y.easing),Y.elasticity=(1e3-Math.min(Math.max(Y.elasticity,1),999))/1e3,Y.isPath=re.pth(ne),Y.isColor=re.col(Y.from.original),Y.isColor&&(Y.round=1),W=Y})}function D(Q,oe){return i(r(Q.map(function(W){return oe.map(function(Y){var ne=p(W.target,Y.name);if(ne){var ue=R(Y,W);Y={type:ne,property:Y.name,animatable:W,tweens:ue,duration:ue[ue.length-1].end,delay:ue[0].delay}}else Y=void 0;return Y})})),function(W){return!re.und(W)})}function H(Q,oe,W,Y){var ne=Q==="delay";return oe.length?(ne?Math.min:Math.max).apply(Math,oe.map(function(ue){return ue[Q]})):ne?Y.delay:W.offset+Y.delay+Y.duration}function z(Q){var oe=n(J,Q),W=n(ee,Q),Y=E(Q.targets),ne=[],ue=s(oe,W),se;for(se in Q)ue.hasOwnProperty(se)||se==="targets"||ne.push({name:se,offset:ue.offset,tweens:C(Q[se],W)});return Q=D(Y,ne),s(oe,{children:[],animatables:Y,animations:Q,duration:H("duration",Q,oe,W),delay:H("delay",Q,oe,W)})}function B(Q){function oe(){return window.Promise&&new Promise(function(Ae){return xe=Ae})}function W(Ae){return Te.reversed?Te.duration-Ae:Ae}function Y(Ae){for(var Pe=0,it={},Ke=Te.animations,Ze=Ke.length;Pe<Ze;){var tt=Ke[Pe],We=tt.animatable,Ee=tt.tweens,Ue=Ee.length-1,Oe=Ee[Ue];Ue&&(Oe=i(Ee,function(Be){return Ae<Be.end})[0]||Oe);for(var Ee=Math.min(Math.max(Ae-Oe.start-Oe.delay,0),Oe.duration)/Oe.duration,ce=isNaN(Ee)?1:Oe.easing(Ee,Oe.elasticity),Ee=Oe.to.strings,de=Oe.round,Ue=[],le=void 0,le=Oe.to.numbers.length,ye=0;ye<le;ye++){var Le=void 0,Le=Oe.to.numbers[ye],je=Oe.from.numbers[ye],Le=Oe.isPath?T(Oe.value,ce*Le):je+ce*(Le-je);de&&(Oe.isColor&&2<ye||(Le=Math.round(Le*de)/de)),Ue.push(Le)}if(Oe=Ee.length)for(le=Ee[0],ce=0;ce<Oe;ce++)de=Ee[ce+1],ye=Ue[ce],isNaN(ye)||(le=de?le+(ye+de):le+(ye+" "));else le=Ue[0];j[tt.type](We.target,tt.property,le,it,We.id),tt.currentValue=le,Pe++}if(Pe=Object.keys(it).length)for(Ke=0;Ke<Pe;Ke++)q||(q=d(document.body,"transform")?"transform":"-webkit-transform"),Te.animatables[Ke].target.style[q]=it[Ke].join(" ");Te.currentTime=Ae,Te.progress=Ae/Te.duration*100}function ne(Ae){Te[Ae]&&Te[Ae](Te)}function ue(){Te.remaining&&Te.remaining!==!0&&Te.remaining--}function se(Ae){var Pe=Te.duration,it=Te.offset,Ke=it+Te.delay,Ze=Te.currentTime,tt=Te.reversed,We=W(Ae);if(Te.children.length){var Ee=Te.children,Ue=Ee.length;if(We>=Te.currentTime)for(var Oe=0;Oe<Ue;Oe++)Ee[Oe].seek(We);else for(;Ue--;)Ee[Ue].seek(We)}(We>=Ke||!Pe)&&(Te.began||(Te.began=!0,ne("begin")),ne("run")),We>it&&We<Pe?Y(We):(We<=it&&Ze!==0&&(Y(0),tt&&ue()),(We>=Pe&&Ze!==Pe||!Pe)&&(Y(Pe),tt||ue())),ne("update"),Ae>=Pe&&(Te.remaining?(ve=pe,Te.direction==="alternate"&&(Te.reversed=!Te.reversed)):(Te.pause(),Te.completed||(Te.completed=!0,ne("complete"),"Promise"in window&&(xe(),ke=oe()))),fe=0)}Q=Q===void 0?{}:Q;var pe,ve,fe=0,xe=null,ke=oe(),Te=z(Q);return Te.reset=function(){var Ae=Te.direction,Pe=Te.loop;for(Te.currentTime=0,Te.progress=0,Te.paused=!0,Te.began=!1,Te.completed=!1,Te.reversed=Ae==="reverse",Te.remaining=Ae==="alternate"&&Pe===1?2:Pe,Y(0),Ae=Te.children.length;Ae--;)Te.children[Ae].reset()},Te.tick=function(Ae){pe=Ae,ve||(ve=pe),se((fe+pe-ve)*B.speed)},Te.seek=function(Ae){se(W(Ae))},Te.pause=function(){var Ae=G.indexOf(Te);-1<Ae&&G.splice(Ae,1),Te.paused=!0},Te.play=function(){Te.paused&&(Te.paused=!1,ve=0,fe=W(Te.currentTime),G.push(Te),K||ae())},Te.reverse=function(){Te.reversed=!Te.reversed,ve=0,fe=W(Te.currentTime)},Te.restart=function(){Te.pause(),Te.reset(),Te.play()},Te.finished=ke,Te.reset(),Te.autoplay&&Te.play(),Te}var J={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},ee={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},Z="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),q,re={arr:function(Q){return Array.isArray(Q)},obj:function(Q){return-1<Object.prototype.toString.call(Q).indexOf("Object")},pth:function(Q){return re.obj(Q)&&Q.hasOwnProperty("totalLength")},svg:function(Q){return Q instanceof SVGElement},dom:function(Q){return Q.nodeType||re.svg(Q)},str:function(Q){return typeof Q=="string"},fnc:function(Q){return typeof Q=="function"},und:function(Q){return typeof Q>"u"},hex:function(Q){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(Q)},rgb:function(Q){return/^rgb/.test(Q)},hsl:function(Q){return/^hsl/.test(Q)},col:function(Q){return re.hex(Q)||re.rgb(Q)||re.hsl(Q)}},ge=function(){function Q(oe,W,Y){return(((1-3*Y+3*W)*oe+(3*Y-6*W))*oe+3*W)*oe}return function(oe,W,Y,ne){if(0<=oe&&1>=oe&&0<=Y&&1>=Y){var ue=new Float32Array(11);if(oe!==W||Y!==ne)for(var se=0;11>se;++se)ue[se]=Q(.1*se,oe,Y);return function(pe){if(oe===W&&Y===ne)return pe;if(pe===0)return 0;if(pe===1)return 1;for(var ve=0,fe=1;fe!==10&&ue[fe]<=pe;++fe)ve+=.1;--fe;var fe=ve+(pe-ue[fe])/(ue[fe+1]-ue[fe])*.1,xe=3*(1-3*Y+3*oe)*fe*fe+2*(3*Y-6*oe)*fe+3*oe;if(.001<=xe){for(ve=0;4>ve&&(xe=3*(1-3*Y+3*oe)*fe*fe+2*(3*Y-6*oe)*fe+3*oe,xe!==0);++ve)var ke=Q(fe,oe,Y)-pe,fe=fe-ke/xe;pe=fe}else if(xe===0)pe=fe;else{var fe=ve,ve=ve+.1,Te=0;do ke=fe+(ve-fe)/2,xe=Q(ke,oe,Y)-pe,0<xe?ve=ke:fe=ke;while(1e-7<Math.abs(xe)&&10>++Te);pe=ke}return Q(pe,W,ne)}}}}(),V=function(){function Q(se,pe){return se===0||se===1?se:-Math.pow(2,10*(se-1))*Math.sin(2*(se-1-pe/(2*Math.PI)*Math.asin(1))*Math.PI/pe)}var oe="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),W={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],Q],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(se,pe){return 1-Q(1-se,pe)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(se,pe){return .5>se?Q(2*se,pe)/2:1-Q(-2*se+2,pe)/2}]},Y={linear:ge(.25,.25,.75,.75)},ne={},ue;for(ue in W)ne.type=ue,W[ne.type].forEach(function(se){return function(pe,ve){Y["ease"+se.type+oe[ve]]=re.fnc(pe)?pe:ge.apply(zU,pe)}}(ne)),ne={type:ne.type};return Y}(),j={css:function(Q,oe,W){return Q.style[oe]=W},attribute:function(Q,oe,W){return Q.setAttribute(oe,W)},object:function(Q,oe,W){return Q[oe]=W},transform:function(Q,oe,W,Y,ne){Y[ne]||(Y[ne]=[]),Y[ne].push(oe+"("+W+")")}},G=[],K=0,ae=function(){function Q(){K=requestAnimationFrame(oe)}function oe(W){var Y=G.length;if(Y){for(var ne=0;ne<Y;)G[ne]&&G[ne].tick(W),ne++;Q()}else cancelAnimationFrame(K),K=0}return Q}();return B.version="2.2.0",B.speed=1,B.running=G,B.remove=function(Q){Q=A(Q);for(var oe=G.length;oe--;)for(var W=G[oe],Y=W.animations,ne=Y.length;ne--;)a(Q,Y[ne].animatable.target)&&(Y.splice(ne,1),Y.length||W.pause())},B.getValue=y,B.path=function(Q,oe){var W=re.str(Q)?h(Q)[0]:Q,Y=oe||100;return function(ne){return{el:W,property:ne,totalLength:w(W)*(Y/100)}}},B.setDashoffset=function(Q){var oe=w(Q);return Q.setAttribute("stroke-dasharray",oe),oe},B.bezier=ge,B.easings=V,B.timeline=function(Q){var oe=B(Q);return oe.pause(),oe.duration=0,oe.add=function(W){return oe.children.forEach(function(Y){Y.began=!0,Y.completed=!0}),t(W).forEach(function(Y){var ne=s(Y,n(ee,Q||{}));ne.targets=ne.targets||Q.targets,Y=oe.duration;var ue=ne.offset;ne.autoplay=!1,ne.direction=oe.direction,ne.offset=re.und(ue)?Y:g(ue,Y),oe.began=!0,oe.completed=!0,oe.seek(ne.offset),ne=B(ne),ne.began=!0,ne.completed=!0,ne.duration>Y&&(oe.duration=ne.duration),oe.children.push(ne)}),oe.seek(0),oe.reset(),oe.autoplay&&oe.restart(),oe},oe},B.random=function(Q,oe){return Math.floor(Math.random()*(oe-Q+1))+Q},B});(function(h,i){"use strict";var r={accordion:!0,onOpenStart:void 0,onOpenEnd:void 0,onCloseStart:void 0,onCloseEnd:void 0,inDuration:300,outDuration:300},t=function(a){hi(l,a);function l(n,s){Yr(this,l);var o=ii(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,n,s));o.el.M_Collapsible=o,o.options=h.extend({},l.defaults,s),o.$headers=o.$el.children("li").children(".collapsible-header"),o.$headers.attr("tabindex",0),o._setupEventHandlers();var u=o.$el.children("li.active").children(".collapsible-body");return o.options.accordion?u.first().css("display","block"):u.css("display","block"),o}return Xr(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Collapsible=void 0}},{key:"_setupEventHandlers",value:function(){var s=this;this._handleCollapsibleClickBound=this._handleCollapsibleClick.bind(this),this._handleCollapsibleKeydownBound=this._handleCollapsibleKeydown.bind(this),this.el.addEventListener("click",this._handleCollapsibleClickBound),this.$headers.each(function(o){o.addEventListener("keydown",s._handleCollapsibleKeydownBound)})}},{key:"_removeEventHandlers",value:function(){var s=this;this.el.removeEventListener("click",this._handleCollapsibleClickBound),this.$headers.each(function(o){o.removeEventListener("keydown",s._handleCollapsibleKeydownBound)})}},{key:"_handleCollapsibleClick",value:function(s){var o=h(s.target).closest(".collapsible-header");if(s.target&&o.length){var u=o.closest(".collapsible");if(u[0]===this.el){var m=o.closest("li"),v=u.children("li"),c=m[0].classList.contains("active"),d=v.index(m);c?this.close(d):this.open(d)}}}},{key:"_handleCollapsibleKeydown",value:function(s){s.keyCode===13&&this._handleCollapsibleClickBound(s)}},{key:"_animateIn",value:function(s){var o=this,u=this.$el.children("li").eq(s);if(u.length){var m=u.children(".collapsible-body");i.remove(m[0]),m.css({display:"block",overflow:"hidden",height:0,paddingTop:"",paddingBottom:""});var v=m.css("padding-top"),c=m.css("padding-bottom"),d=m[0].scrollHeight;m.css({paddingTop:0,paddingBottom:0}),i({targets:m[0],height:d,paddingTop:v,paddingBottom:c,duration:this.options.inDuration,easing:"easeInOutCubic",complete:function(p){m.css({overflow:"",paddingTop:"",paddingBottom:"",height:""}),typeof o.options.onOpenEnd=="function"&&o.options.onOpenEnd.call(o,u[0])}})}}},{key:"_animateOut",value:function(s){var o=this,u=this.$el.children("li").eq(s);if(u.length){var m=u.children(".collapsible-body");i.remove(m[0]),m.css("overflow","hidden"),i({targets:m[0],height:0,paddingTop:0,paddingBottom:0,duration:this.options.outDuration,easing:"easeInOutCubic",complete:function(){m.css({height:"",overflow:"",padding:"",display:""}),typeof o.options.onCloseEnd=="function"&&o.options.onCloseEnd.call(o,u[0])}})}}},{key:"open",value:function(s){var o=this,u=this.$el.children("li").eq(s);if(u.length&&!u[0].classList.contains("active")){if(typeof this.options.onOpenStart=="function"&&this.options.onOpenStart.call(this,u[0]),this.options.accordion){var m=this.$el.children("li"),v=this.$el.children("li.active");v.each(function(c){var d=m.index(h(c));o.close(d)})}u[0].classList.add("active"),this._animateIn(s)}}},{key:"close",value:function(s){var o=this.$el.children("li").eq(s);o.length&&o[0].classList.contains("active")&&(typeof this.options.onCloseStart=="function"&&this.options.onCloseStart.call(this,o[0]),o[0].classList.remove("active"),this._animateOut(s))}}],[{key:"init",value:function(s,o){return di(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,s,o)}},{key:"getInstance",value:function(s){var o=s.jquery?s[0]:s;return o.M_Collapsible}},{key:"defaults",get:function(){return r}}]),l}(fi);M.Collapsible=t,M.jQueryLoaded&&M.initializeJqueryWrapper(t,"collapsible","M_Collapsible")})(cash,M.anime);(function(h,i){"use strict";var r={alignment:"left",autoFocus:!0,constrainWidth:!0,container:null,coverTrigger:!0,closeOnClick:!0,hover:!1,inDuration:150,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onItemClick:null},t=function(a){hi(l,a);function l(n,s){Yr(this,l);var o=ii(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,n,s));return o.el.M_Dropdown=o,l._dropdowns.push(o),o.id=M.getIdFromTrigger(n),o.dropdownEl=document.getElementById(o.id),o.$dropdownEl=h(o.dropdownEl),o.options=h.extend({},l.defaults,s),o.isOpen=!1,o.isScrollable=!1,o.isTouchMoving=!1,o.focusedIndex=-1,o.filterQuery=[],o.options.container?h(o.options.container).append(o.dropdownEl):o.$el.after(o.dropdownEl),o._makeDropdownFocusable(),o._resetFilterQueryBound=o._resetFilterQuery.bind(o),o._handleDocumentClickBound=o._handleDocumentClick.bind(o),o._handleDocumentTouchmoveBound=o._handleDocumentTouchmove.bind(o),o._handleDropdownClickBound=o._handleDropdownClick.bind(o),o._handleDropdownKeydownBound=o._handleDropdownKeydown.bind(o),o._handleTriggerKeydownBound=o._handleTriggerKeydown.bind(o),o._setupEventHandlers(),o}return Xr(l,[{key:"destroy",value:function(){this._resetDropdownStyles(),this._removeEventHandlers(),l._dropdowns.splice(l._dropdowns.indexOf(this),1),this.el.M_Dropdown=void 0}},{key:"_setupEventHandlers",value:function(){this.el.addEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.addEventListener("click",this._handleDropdownClickBound),this.options.hover?(this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.addEventListener("mouseleave",this._handleMouseLeaveBound)):(this._handleClickBound=this._handleClick.bind(this),this.el.addEventListener("click",this._handleClickBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.removeEventListener("click",this._handleDropdownClickBound),this.options.hover?(this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.removeEventListener("mouseleave",this._handleMouseLeaveBound)):this.el.removeEventListener("click",this._handleClickBound)}},{key:"_setupTemporaryEventHandlers",value:function(){document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound),document.body.addEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.addEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_removeTemporaryEventHandlers",value:function(){document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound),document.body.removeEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.removeEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_handleClick",value:function(s){s.preventDefault(),this.open()}},{key:"_handleMouseEnter",value:function(){this.open()}},{key:"_handleMouseLeave",value:function(s){var o=s.toElement||s.relatedTarget,u=!!h(o).closest(".dropdown-content").length,m=!1,v=h(o).closest(".dropdown-trigger");v.length&&v[0].M_Dropdown&&v[0].M_Dropdown.isOpen&&(m=!0),!m&&!u&&this.close()}},{key:"_handleDocumentClick",value:function(s){var o=this,u=h(s.target);this.options.closeOnClick&&u.closest(".dropdown-content").length&&!this.isTouchMoving?setTimeout(function(){o.close()},0):(u.closest(".dropdown-trigger").length||!u.closest(".dropdown-content").length)&&setTimeout(function(){o.close()},0),this.isTouchMoving=!1}},{key:"_handleTriggerKeydown",value:function(s){(s.which===M.keys.ARROW_DOWN||s.which===M.keys.ENTER)&&!this.isOpen&&(s.preventDefault(),this.open())}},{key:"_handleDocumentTouchmove",value:function(s){var o=h(s.target);o.closest(".dropdown-content").length&&(this.isTouchMoving=!0)}},{key:"_handleDropdownClick",value:function(s){if(typeof this.options.onItemClick=="function"){var o=h(s.target).closest("li")[0];this.options.onItemClick.call(this,o)}}},{key:"_handleDropdownKeydown",value:function(s){if(s.which===M.keys.TAB)s.preventDefault(),this.close();else if((s.which===M.keys.ARROW_DOWN||s.which===M.keys.ARROW_UP)&&this.isOpen){s.preventDefault();var o=s.which===M.keys.ARROW_DOWN?1:-1,u=this.focusedIndex,m=!1;do if(u=u+o,this.dropdownEl.children[u]&&this.dropdownEl.children[u].tabIndex!==-1){m=!0;break}while(u<this.dropdownEl.children.length&&u>=0);m&&(this.focusedIndex=u,this._focusFocusedItem())}else if(s.which===M.keys.ENTER&&this.isOpen){var v=this.dropdownEl.children[this.focusedIndex],c=h(v).find("a, button").first();c.length?c[0].click():v.click()}else s.which===M.keys.ESC&&this.isOpen&&(s.preventDefault(),this.close());var d=String.fromCharCode(s.which).toLowerCase(),p=[9,13,27,38,40];if(d&&p.indexOf(s.which)===-1){this.filterQuery.push(d);var f=this.filterQuery.join(""),y=h(this.dropdownEl).find("li").filter(function(g){return h(g).text().toLowerCase().indexOf(f)===0})[0];y&&(this.focusedIndex=h(y).index(),this._focusFocusedItem())}this.filterTimeout=setTimeout(this._resetFilterQueryBound,1e3)}},{key:"_resetFilterQuery",value:function(){this.filterQuery=[]}},{key:"_resetDropdownStyles",value:function(){this.$dropdownEl.css({display:"",width:"",height:"",left:"",top:"","transform-origin":"",transform:"",opacity:""})}},{key:"_makeDropdownFocusable",value:function(){this.dropdownEl.tabIndex=0,h(this.dropdownEl).children().each(function(s){s.getAttribute("tabindex")||s.setAttribute("tabindex",0)})}},{key:"_focusFocusedItem",value:function(){this.focusedIndex>=0&&this.focusedIndex<this.dropdownEl.children.length&&this.options.autoFocus&&this.dropdownEl.children[this.focusedIndex].focus()}},{key:"_getDropdownPosition",value:function(){var s=this.el.offsetParent.getBoundingClientRect(),o=this.el.getBoundingClientRect(),u=this.dropdownEl.getBoundingClientRect(),m=u.height,v=u.width,c=o.left-u.left,d=o.top-u.top,p={left:c,top:d,height:m,width:v},f=this.dropdownEl.offsetParent?this.dropdownEl.offsetParent:this.dropdownEl.parentNode,y=M.checkPossibleAlignments(this.el,f,p,this.options.coverTrigger?0:o.height),g="top",_=this.options.alignment;if(d+=this.options.coverTrigger?0:o.height,this.isScrollable=!1,y.top||(y.bottom?g="bottom":(this.isScrollable=!0,y.spaceOnTop>y.spaceOnBottom?(g="bottom",m+=y.spaceOnTop,d-=y.spaceOnTop):m+=y.spaceOnBottom)),!y[_]){var b=_==="left"?"right":"left";y[b]?_=b:y.spaceOnLeft>y.spaceOnRight?(_="right",v+=y.spaceOnLeft,c-=y.spaceOnLeft):(_="left",v+=y.spaceOnRight)}return g==="bottom"&&(d=d-u.height+(this.options.coverTrigger?o.height:0)),_==="right"&&(c=c-u.width+o.width),{x:c,y:d,verticalAlignment:g,horizontalAlignment:_,height:m,width:v}}},{key:"_animateIn",value:function(){var s=this;i.remove(this.dropdownEl),i({targets:this.dropdownEl,opacity:{value:[0,1],easing:"easeOutQuad"},scaleX:[.3,1],scaleY:[.3,1],duration:this.options.inDuration,easing:"easeOutQuint",complete:function(o){if(s.options.autoFocus&&s.dropdownEl.focus(),typeof s.options.onOpenEnd=="function"){var u=o.animatables[0].target;s.options.onOpenEnd.call(u,s.el)}}})}},{key:"_animateOut",value:function(){var s=this;i.remove(this.dropdownEl),i({targets:this.dropdownEl,opacity:{value:0,easing:"easeOutQuint"},scaleX:.3,scaleY:.3,duration:this.options.outDuration,easing:"easeOutQuint",complete:function(o){if(s._resetDropdownStyles(),typeof s.options.onCloseEnd=="function"){var u=o.animatables[0].target;s.options.onCloseEnd.call(s,s.el)}}})}},{key:"_placeDropdown",value:function(){var s=this.options.constrainWidth?this.el.getBoundingClientRect().width:this.dropdownEl.getBoundingClientRect().width;this.dropdownEl.style.width=s+"px";var o=this._getDropdownPosition();this.dropdownEl.style.left=o.x+"px",this.dropdownEl.style.top=o.y+"px",this.dropdownEl.style.height=o.height+"px",this.dropdownEl.style.width=o.width+"px",this.dropdownEl.style.transformOrigin=(o.horizontalAlignment==="left"?"0":"100%")+" "+(o.verticalAlignment==="top"?"0":"100%")}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,typeof this.options.onOpenStart=="function"&&this.options.onOpenStart.call(this,this.el),this._resetDropdownStyles(),this.dropdownEl.style.display="block",this._placeDropdown(),this._animateIn(),this._setupTemporaryEventHandlers())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.focusedIndex=-1,typeof this.options.onCloseStart=="function"&&this.options.onCloseStart.call(this,this.el),this._animateOut(),this._removeTemporaryEventHandlers(),this.options.autoFocus&&this.el.focus())}},{key:"recalculateDimensions",value:function(){this.isOpen&&(this.$dropdownEl.css({width:"",height:"",left:"",top:"","transform-origin":""}),this._placeDropdown())}}],[{key:"init",value:function(s,o){return di(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,s,o)}},{key:"getInstance",value:function(s){var o=s.jquery?s[0]:s;return o.M_Dropdown}},{key:"defaults",get:function(){return r}}]),l}(fi);t._dropdowns=[],window.M.Dropdown=t,M.jQueryLoaded&&M.initializeJqueryWrapper(t,"dropdown","M_Dropdown")})(cash,M.anime);(function(h,i){"use strict";var r={opacity:.5,inDuration:250,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0,dismissible:!0,startingTop:"4%",endingTop:"10%"},t=function(a){hi(l,a);function l(n,s){Yr(this,l);var o=ii(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,n,s));return o.el.M_Modal=o,o.options=h.extend({},l.defaults,s),o.isOpen=!1,o.id=o.$el.attr("id"),o._openingTrigger=void 0,o.$overlay=h('<div class="modal-overlay"></div>'),o.el.tabIndex=0,o._nthModalOpened=0,l._count++,o._setupEventHandlers(),o}return Xr(l,[{key:"destroy",value:function(){l._count--,this._removeEventHandlers(),this.el.removeAttribute("style"),this.$overlay.remove(),this.el.M_Modal=void 0}},{key:"_setupEventHandlers",value:function(){this._handleOverlayClickBound=this._handleOverlayClick.bind(this),this._handleModalCloseClickBound=this._handleModalCloseClick.bind(this),l._count===1&&document.body.addEventListener("click",this._handleTriggerClick),this.$overlay[0].addEventListener("click",this._handleOverlayClickBound),this.el.addEventListener("click",this._handleModalCloseClickBound)}},{key:"_removeEventHandlers",value:function(){l._count===0&&document.body.removeEventListener("click",this._handleTriggerClick),this.$overlay[0].removeEventListener("click",this._handleOverlayClickBound),this.el.removeEventListener("click",this._handleModalCloseClickBound)}},{key:"_handleTriggerClick",value:function(s){var o=h(s.target).closest(".modal-trigger");if(o.length){var u=M.getIdFromTrigger(o[0]),m=document.getElementById(u).M_Modal;m&&m.open(o),s.preventDefault()}}},{key:"_handleOverlayClick",value:function(){this.options.dismissible&&this.close()}},{key:"_handleModalCloseClick",value:function(s){var o=h(s.target).closest(".modal-close");o.length&&this.close()}},{key:"_handleKeydown",value:function(s){s.keyCode===27&&this.options.dismissible&&this.close()}},{key:"_handleFocus",value:function(s){!this.el.contains(s.target)&&this._nthModalOpened===l._modalsOpen&&this.el.focus()}},{key:"_animateIn",value:function(){var s=this;h.extend(this.el.style,{display:"block",opacity:0}),h.extend(this.$overlay[0].style,{display:"block",opacity:0}),i({targets:this.$overlay[0],opacity:this.options.opacity,duration:this.options.inDuration,easing:"easeOutQuad"});var o={targets:this.el,duration:this.options.inDuration,easing:"easeOutCubic",complete:function(){typeof s.options.onOpenEnd=="function"&&s.options.onOpenEnd.call(s,s.el,s._openingTrigger)}};this.el.classList.contains("bottom-sheet")?(h.extend(o,{bottom:0,opacity:1}),i(o)):(h.extend(o,{top:[this.options.startingTop,this.options.endingTop],opacity:1,scaleX:[.8,1],scaleY:[.8,1]}),i(o))}},{key:"_animateOut",value:function(){var s=this;i({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuart"});var o={targets:this.el,duration:this.options.outDuration,easing:"easeOutCubic",complete:function(){s.el.style.display="none",s.$overlay.remove(),typeof s.options.onCloseEnd=="function"&&s.options.onCloseEnd.call(s,s.el)}};this.el.classList.contains("bottom-sheet")?(h.extend(o,{bottom:"-100%",opacity:0}),i(o)):(h.extend(o,{top:[this.options.endingTop,this.options.startingTop],opacity:0,scaleX:.8,scaleY:.8}),i(o))}},{key:"open",value:function(s){if(!this.isOpen)return this.isOpen=!0,l._modalsOpen++,this._nthModalOpened=l._modalsOpen,this.$overlay[0].style.zIndex=1e3+l._modalsOpen*2,this.el.style.zIndex=1e3+l._modalsOpen*2+1,this._openingTrigger=s?s[0]:void 0,typeof this.options.onOpenStart=="function"&&this.options.onOpenStart.call(this,this.el,this._openingTrigger),this.options.preventScrolling&&(document.body.style.overflow="hidden"),this.el.classList.add("open"),this.el.insertAdjacentElement("afterend",this.$overlay[0]),this.options.dismissible&&(this._handleKeydownBound=this._handleKeydown.bind(this),this._handleFocusBound=this._handleFocus.bind(this),document.addEventListener("keydown",this._handleKeydownBound),document.addEventListener("focus",this._handleFocusBound,!0)),i.remove(this.el),i.remove(this.$overlay[0]),this._animateIn(),this.el.focus(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,l._modalsOpen--,this._nthModalOpened=0,typeof this.options.onCloseStart=="function"&&this.options.onCloseStart.call(this,this.el),this.el.classList.remove("open"),l._modalsOpen===0&&(document.body.style.overflow=""),this.options.dismissible&&(document.removeEventListener("keydown",this._handleKeydownBound),document.removeEventListener("focus",this._handleFocusBound,!0)),i.remove(this.el),i.remove(this.$overlay[0]),this._animateOut(),this}}],[{key:"init",value:function(s,o){return di(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,s,o)}},{key:"getInstance",value:function(s){var o=s.jquery?s[0]:s;return o.M_Modal}},{key:"defaults",get:function(){return r}}]),l}(fi);t._modalsOpen=0,t._count=0,M.Modal=t,M.jQueryLoaded&&M.initializeJqueryWrapper(t,"modal","M_Modal")})(cash,M.anime);(function(h,i){"use strict";var r={inDuration:275,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null},t=function(a){hi(l,a);function l(n,s){Yr(this,l);var o=ii(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,n,s));return o.el.M_Materialbox=o,o.options=h.extend({},l.defaults,s),o.overlayActive=!1,o.doneAnimating=!0,o.placeholder=h("<div></div>").addClass("material-placeholder"),o.originalWidth=0,o.originalHeight=0,o.originInlineStyles=o.$el.attr("style"),o.caption=o.el.getAttribute("data-caption")||"",o.$el.before(o.placeholder),o.placeholder.append(o.$el),o._setupEventHandlers(),o}return Xr(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Materialbox=void 0,h(this.placeholder).after(this.el).remove(),this.$el.removeAttr("style")}},{key:"_setupEventHandlers",value:function(){this._handleMaterialboxClickBound=this._handleMaterialboxClick.bind(this),this.el.addEventListener("click",this._handleMaterialboxClickBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleMaterialboxClickBound)}},{key:"_handleMaterialboxClick",value:function(s){this.doneAnimating===!1||this.overlayActive&&this.doneAnimating?this.close():this.open()}},{key:"_handleWindowScroll",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowResize",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowEscape",value:function(s){s.keyCode===27&&this.doneAnimating&&this.overlayActive&&this.close()}},{key:"_makeAncestorsOverflowVisible",value:function(){this.ancestorsChanged=h();for(var s=this.placeholder[0].parentNode;s!==null&&!h(s).is(document);){var o=h(s);o.css("overflow")!=="visible"&&(o.css("overflow","visible"),this.ancestorsChanged===void 0?this.ancestorsChanged=o:this.ancestorsChanged=this.ancestorsChanged.add(o)),s=s.parentNode}}},{key:"_animateImageIn",value:function(){var s=this,o={targets:this.el,height:[this.originalHeight,this.newHeight],width:[this.originalWidth,this.newWidth],left:M.getDocumentScrollLeft()+this.windowWidth/2-this.placeholder.offset().left-this.newWidth/2,top:M.getDocumentScrollTop()+this.windowHeight/2-this.placeholder.offset().top-this.newHeight/2,duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){s.doneAnimating=!0,typeof s.options.onOpenEnd=="function"&&s.options.onOpenEnd.call(s,s.el)}};this.maxWidth=this.$el.css("max-width"),this.maxHeight=this.$el.css("max-height"),this.maxWidth!=="none"&&(o.maxWidth=this.newWidth),this.maxHeight!=="none"&&(o.maxHeight=this.newHeight),i(o)}},{key:"_animateImageOut",value:function(){var s=this,o={targets:this.el,width:this.originalWidth,height:this.originalHeight,left:0,top:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){s.placeholder.css({height:"",width:"",position:"",top:"",left:""}),s.attrWidth&&s.$el.attr("width",s.attrWidth),s.attrHeight&&s.$el.attr("height",s.attrHeight),s.$el.removeAttr("style"),s.originInlineStyles&&s.$el.attr("style",s.originInlineStyles),s.$el.removeClass("active"),s.doneAnimating=!0,s.ancestorsChanged.length&&s.ancestorsChanged.css("overflow",""),typeof s.options.onCloseEnd=="function"&&s.options.onCloseEnd.call(s,s.el)}};i(o)}},{key:"_updateVars",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.caption=this.el.getAttribute("data-caption")||""}},{key:"open",value:function(){var s=this;this._updateVars(),this.originalWidth=this.el.getBoundingClientRect().width,this.originalHeight=this.el.getBoundingClientRect().height,this.doneAnimating=!1,this.$el.addClass("active"),this.overlayActive=!0,typeof this.options.onOpenStart=="function"&&this.options.onOpenStart.call(this,this.el),this.placeholder.css({width:this.placeholder[0].getBoundingClientRect().width+"px",height:this.placeholder[0].getBoundingClientRect().height+"px",position:"relative",top:0,left:0}),this._makeAncestorsOverflowVisible(),this.$el.css({position:"absolute","z-index":1e3,"will-change":"left, top, width, height"}),this.attrWidth=this.$el.attr("width"),this.attrHeight=this.$el.attr("height"),this.attrWidth&&(this.$el.css("width",this.attrWidth+"px"),this.$el.removeAttr("width")),this.attrHeight&&(this.$el.css("width",this.attrHeight+"px"),this.$el.removeAttr("height")),this.$overlay=h('<div id="materialbox-overlay"></div>').css({opacity:0}).one("click",function(){s.doneAnimating&&s.close()}),this.$el.before(this.$overlay);var o=this.$overlay[0].getBoundingClientRect();this.$overlay.css({width:this.windowWidth+"px",height:this.windowHeight+"px",left:-1*o.left+"px",top:-1*o.top+"px"}),i.remove(this.el),i.remove(this.$overlay[0]),i({targets:this.$overlay[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}),this.caption!==""&&(this.$photocaption&&i.remove(this.$photoCaption[0]),this.$photoCaption=h('<div class="materialbox-caption"></div>'),this.$photoCaption.text(this.caption),h("body").append(this.$photoCaption),this.$photoCaption.css({display:"inline"}),i({targets:this.$photoCaption[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}));var u=0,m=this.originalWidth/this.windowWidth,v=this.originalHeight/this.windowHeight;this.newWidth=0,this.newHeight=0,m>v?(u=this.originalHeight/this.originalWidth,this.newWidth=this.windowWidth*.9,this.newHeight=this.windowWidth*.9*u):(u=this.originalWidth/this.originalHeight,this.newWidth=this.windowHeight*.9*u,this.newHeight=this.windowHeight*.9),this._animateImageIn(),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),this._handleWindowResizeBound=this._handleWindowResize.bind(this),this._handleWindowEscapeBound=this._handleWindowEscape.bind(this),window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleWindowResizeBound),window.addEventListener("keyup",this._handleWindowEscapeBound)}},{key:"close",value:function(){var s=this;this._updateVars(),this.doneAnimating=!1,typeof this.options.onCloseStart=="function"&&this.options.onCloseStart.call(this,this.el),i.remove(this.el),i.remove(this.$overlay[0]),this.caption!==""&&i.remove(this.$photoCaption[0]),window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleWindowResizeBound),window.removeEventListener("keyup",this._handleWindowEscapeBound),i({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){s.overlayActive=!1,s.$overlay.remove()}}),this._animateImageOut(),this.caption!==""&&i({targets:this.$photoCaption[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){s.$photoCaption.remove()}})}}],[{key:"init",value:function(s,o){return di(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,s,o)}},{key:"getInstance",value:function(s){var o=s.jquery?s[0]:s;return o.M_Materialbox}},{key:"defaults",get:function(){return r}}]),l}(fi);M.Materialbox=t,M.jQueryLoaded&&M.initializeJqueryWrapper(t,"materialbox","M_Materialbox")})(cash,M.anime);(function(h){"use strict";var i={responsiveThreshold:0},r=function(t){hi(a,t);function a(l,n){Yr(this,a);var s=ii(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,a,l,n));return s.el.M_Parallax=s,s.options=h.extend({},a.defaults,n),s._enabled=window.innerWidth>s.options.responsiveThreshold,s.$img=s.$el.find("img").first(),s.$img.each(function(){var o=this;o.complete&&h(o).trigger("load")}),s._updateParallax(),s._setupEventHandlers(),s._setupStyles(),a._parallaxes.push(s),s}return Xr(a,[{key:"destroy",value:function(){a._parallaxes.splice(a._parallaxes.indexOf(this),1),this.$img[0].style.transform="",this._removeEventHandlers(),this.$el[0].M_Parallax=void 0}},{key:"_setupEventHandlers",value:function(){this._handleImageLoadBound=this._handleImageLoad.bind(this),this.$img[0].addEventListener("load",this._handleImageLoadBound),a._parallaxes.length===0&&(a._handleScrollThrottled=M.throttle(a._handleScroll,5),window.addEventListener("scroll",a._handleScrollThrottled),a._handleWindowResizeThrottled=M.throttle(a._handleWindowResize,5),window.addEventListener("resize",a._handleWindowResizeThrottled))}},{key:"_removeEventHandlers",value:function(){this.$img[0].removeEventListener("load",this._handleImageLoadBound),a._parallaxes.length===0&&(window.removeEventListener("scroll",a._handleScrollThrottled),window.removeEventListener("resize",a._handleWindowResizeThrottled))}},{key:"_setupStyles",value:function(){this.$img[0].style.opacity=1}},{key:"_handleImageLoad",value:function(){this._updateParallax()}},{key:"_updateParallax",value:function(){var n=this.$el.height()>0?this.el.parentNode.offsetHeight:500,s=this.$img[0].offsetHeight,o=s-n,u=this.$el.offset().top+n,m=this.$el.offset().top,v=M.getDocumentScrollTop(),c=window.innerHeight,d=v+c,p=(d-m)/(n+c),f=o*p;this._enabled?u>v&&m<v+c&&(this.$img[0].style.transform="translate3D(-50%, "+f+"px, 0)"):this.$img[0].style.transform=""}}],[{key:"init",value:function(n,s){return di(a.__proto__||Object.getPrototypeOf(a),"init",this).call(this,this,n,s)}},{key:"getInstance",value:function(n){var s=n.jquery?n[0]:n;return s.M_Parallax}},{key:"_handleScroll",value:function(){for(var n=0;n<a._parallaxes.length;n++){var s=a._parallaxes[n];s._updateParallax.call(s)}}},{key:"_handleWindowResize",value:function(){for(var n=0;n<a._parallaxes.length;n++){var s=a._parallaxes[n];s._enabled=window.innerWidth>s.options.responsiveThreshold}}},{key:"defaults",get:function(){return i}}]),a}(fi);r._parallaxes=[],M.Parallax=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"parallax","M_Parallax")})(cash);(function(h,i){"use strict";var r={duration:300,onShow:null,swipeable:!1,responsiveThreshold:1/0},t=function(a){hi(l,a);function l(n,s){Yr(this,l);var o=ii(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,n,s));return o.el.M_Tabs=o,o.options=h.extend({},l.defaults,s),o.$tabLinks=o.$el.children("li.tab").children("a"),o.index=0,o._setupActiveTabLink(),o.options.swipeable?o._setupSwipeableTabs():o._setupNormalTabs(),o._setTabsAndTabWidth(),o._createIndicator(),o._setupEventHandlers(),o}return Xr(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this._indicator.parentNode.removeChild(this._indicator),this.options.swipeable?this._teardownSwipeableTabs():this._teardownNormalTabs(),this.$el[0].M_Tabs=void 0}},{key:"_setupEventHandlers",value:function(){this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound),this._handleTabClickBound=this._handleTabClick.bind(this),this.el.addEventListener("click",this._handleTabClickBound)}},{key:"_removeEventHandlers",value:function(){window.removeEventListener("resize",this._handleWindowResizeBound),this.el.removeEventListener("click",this._handleTabClickBound)}},{key:"_handleWindowResize",value:function(){this._setTabsAndTabWidth(),this.tabWidth!==0&&this.tabsWidth!==0&&(this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+"px",this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+"px")}},{key:"_handleTabClick",value:function(s){var o=this,u=h(s.target).closest("li.tab"),m=h(s.target).closest("a");if(!(!m.length||!m.parent().hasClass("tab"))){if(u.hasClass("disabled")){s.preventDefault();return}if(!m.attr("target")){this.$activeTabLink.removeClass("active");var v=this.$content;this.$activeTabLink=m,this.$content=h(M.escapeHash(m[0].hash)),this.$tabLinks=this.$el.children("li.tab").children("a"),this.$activeTabLink.addClass("active");var c=this.index;this.index=Math.max(this.$tabLinks.index(m),0),this.options.swipeable?this._tabsCarousel&&this._tabsCarousel.set(this.index,function(){typeof o.options.onShow=="function"&&o.options.onShow.call(o,o.$content[0])}):this.$content.length&&(this.$content[0].style.display="block",this.$content.addClass("active"),typeof this.options.onShow=="function"&&this.options.onShow.call(this,this.$content[0]),v.length&&!v.is(this.$content)&&(v[0].style.display="none",v.removeClass("active"))),this._setTabsAndTabWidth(),this._animateIndicator(c),s.preventDefault()}}}},{key:"_createIndicator",value:function(){var s=this,o=document.createElement("li");o.classList.add("indicator"),this.el.appendChild(o),this._indicator=o,setTimeout(function(){s._indicator.style.left=s._calcLeftPos(s.$activeTabLink)+"px",s._indicator.style.right=s._calcRightPos(s.$activeTabLink)+"px"},0)}},{key:"_setupActiveTabLink",value:function(){this.$activeTabLink=h(this.$tabLinks.filter('[href="'+location.hash+'"]')),this.$activeTabLink.length===0&&(this.$activeTabLink=this.$el.children("li.tab").children("a.active").first()),this.$activeTabLink.length===0&&(this.$activeTabLink=this.$el.children("li.tab").children("a").first()),this.$tabLinks.removeClass("active"),this.$activeTabLink[0].classList.add("active"),this.index=Math.max(this.$tabLinks.index(this.$activeTabLink),0),this.$activeTabLink.length&&(this.$content=h(M.escapeHash(this.$activeTabLink[0].hash)),this.$content.addClass("active"))}},{key:"_setupSwipeableTabs",value:function(){var s=this;window.innerWidth>this.options.responsiveThreshold&&(this.options.swipeable=!1);var o=h();this.$tabLinks.each(function(v){var c=h(M.escapeHash(v.hash));c.addClass("carousel-item"),o=o.add(c)});var u=h('<div class="tabs-content carousel carousel-slider"></div>');o.first().before(u),u.append(o),o[0].style.display="";var m=this.$activeTabLink.closest(".tab").index();this._tabsCarousel=M.Carousel.init(u[0],{fullWidth:!0,noWrap:!0,onCycleTo:function(v){var c=s.index;s.index=h(v).index(),s.$activeTabLink.removeClass("active"),s.$activeTabLink=s.$tabLinks.eq(s.index),s.$activeTabLink.addClass("active"),s._animateIndicator(c),typeof s.options.onShow=="function"&&s.options.onShow.call(s,s.$content[0])}}),this._tabsCarousel.set(m)}},{key:"_teardownSwipeableTabs",value:function(){var s=this._tabsCarousel.$el;this._tabsCarousel.destroy(),s.after(s.children()),s.remove()}},{key:"_setupNormalTabs",value:function(){this.$tabLinks.not(this.$activeTabLink).each(function(s){if(s.hash){var o=h(M.escapeHash(s.hash));o.length&&(o[0].style.display="none")}})}},{key:"_teardownNormalTabs",value:function(){this.$tabLinks.each(function(s){if(s.hash){var o=h(M.escapeHash(s.hash));o.length&&(o[0].style.display="")}})}},{key:"_setTabsAndTabWidth",value:function(){this.tabsWidth=this.$el.width(),this.tabWidth=Math.max(this.tabsWidth,this.el.scrollWidth)/this.$tabLinks.length}},{key:"_calcRightPos",value:function(s){return Math.ceil(this.tabsWidth-s.position().left-s[0].getBoundingClientRect().width)}},{key:"_calcLeftPos",value:function(s){return Math.floor(s.position().left)}},{key:"updateTabIndicator",value:function(){this._setTabsAndTabWidth(),this._animateIndicator(this.index)}},{key:"_animateIndicator",value:function(s){var o=0,u=0;this.index-s>=0?o=90:u=90;var m={targets:this._indicator,left:{value:this._calcLeftPos(this.$activeTabLink),delay:o},right:{value:this._calcRightPos(this.$activeTabLink),delay:u},duration:this.options.duration,easing:"easeOutQuad"};i.remove(this._indicator),i(m)}},{key:"select",value:function(s){var o=this.$tabLinks.filter('[href="#'+s+'"]');o.length&&o.trigger("click")}}],[{key:"init",value:function(s,o){return di(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,s,o)}},{key:"getInstance",value:function(s){var o=s.jquery?s[0]:s;return o.M_Tabs}},{key:"defaults",get:function(){return r}}]),l}(fi);window.M.Tabs=t,M.jQueryLoaded&&M.initializeJqueryWrapper(t,"tabs","M_Tabs")})(cash,M.anime);(function(h,i){"use strict";var r={exitDelay:200,enterDelay:0,html:null,margin:5,inDuration:250,outDuration:200,position:"bottom",transitionMovement:10},t=function(a){hi(l,a);function l(n,s){Yr(this,l);var o=ii(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,n,s));return o.el.M_Tooltip=o,o.options=h.extend({},l.defaults,s),o.isOpen=!1,o.isHovered=!1,o.isFocused=!1,o._appendTooltipEl(),o._setupEventHandlers(),o}return Xr(l,[{key:"destroy",value:function(){h(this.tooltipEl).remove(),this._removeEventHandlers(),this.el.M_Tooltip=void 0}},{key:"_appendTooltipEl",value:function(){var s=document.createElement("div");s.classList.add("material-tooltip"),this.tooltipEl=s;var o=document.createElement("div");o.classList.add("tooltip-content"),o.innerHTML=this.options.html,s.appendChild(o),document.body.appendChild(s)}},{key:"_updateTooltipContent",value:function(){this.tooltipEl.querySelector(".tooltip-content").innerHTML=this.options.html}},{key:"_setupEventHandlers",value:function(){this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this._handleFocusBound=this._handleFocus.bind(this),this._handleBlurBound=this._handleBlur.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.el.addEventListener("focus",this._handleFocusBound,!0),this.el.addEventListener("blur",this._handleBlurBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.el.removeEventListener("focus",this._handleFocusBound,!0),this.el.removeEventListener("blur",this._handleBlurBound,!0)}},{key:"open",value:function(s){this.isOpen||(s=s===void 0?!0:void 0,this.isOpen=!0,this.options=h.extend({},this.options,this._getAttributeOptions()),this._updateTooltipContent(),this._setEnterDelayTimeout(s))}},{key:"close",value:function(){this.isOpen&&(this.isHovered=!1,this.isFocused=!1,this.isOpen=!1,this._setExitDelayTimeout())}},{key:"_setExitDelayTimeout",value:function(){var s=this;clearTimeout(this._exitDelayTimeout),this._exitDelayTimeout=setTimeout(function(){s.isHovered||s.isFocused||s._animateOut()},this.options.exitDelay)}},{key:"_setEnterDelayTimeout",value:function(s){var o=this;clearTimeout(this._enterDelayTimeout),this._enterDelayTimeout=setTimeout(function(){!o.isHovered&&!o.isFocused&&!s||o._animateIn()},this.options.enterDelay)}},{key:"_positionTooltip",value:function(){var s=this.el,o=this.tooltipEl,u=s.offsetHeight,m=s.offsetWidth,v=o.offsetHeight,c=o.offsetWidth,d=void 0,p=this.options.margin,f=void 0,y=void 0;this.xMovement=0,this.yMovement=0,f=s.getBoundingClientRect().top+M.getDocumentScrollTop(),y=s.getBoundingClientRect().left+M.getDocumentScrollLeft(),this.options.position==="top"?(f+=-v-p,y+=m/2-c/2,this.yMovement=-this.options.transitionMovement):this.options.position==="right"?(f+=u/2-v/2,y+=m+p,this.xMovement=this.options.transitionMovement):this.options.position==="left"?(f+=u/2-v/2,y+=-c-p,this.xMovement=-this.options.transitionMovement):(f+=u+p,y+=m/2-c/2,this.yMovement=this.options.transitionMovement),d=this._repositionWithinScreen(y,f,c,v),h(o).css({top:d.y+"px",left:d.x+"px"})}},{key:"_repositionWithinScreen",value:function(s,o,u,m){var v=M.getDocumentScrollLeft(),c=M.getDocumentScrollTop(),d=s-v,p=o-c,f={left:d,top:p,width:u,height:m},y=this.options.margin+this.options.transitionMovement,g=M.checkWithinContainer(document.body,f,y);return g.left?d=y:g.right&&(d-=d+u-window.innerWidth),g.top?p=y:g.bottom&&(p-=p+m-window.innerHeight),{x:d+v,y:p+c}}},{key:"_animateIn",value:function(){this._positionTooltip(),this.tooltipEl.style.visibility="visible",i.remove(this.tooltipEl),i({targets:this.tooltipEl,opacity:1,translateX:this.xMovement,translateY:this.yMovement,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_animateOut",value:function(){i.remove(this.tooltipEl),i({targets:this.tooltipEl,opacity:0,translateX:0,translateY:0,duration:this.options.outDuration,easing:"easeOutCubic"})}},{key:"_handleMouseEnter",value:function(){this.isHovered=!0,this.isFocused=!1,this.open(!1)}},{key:"_handleMouseLeave",value:function(){this.isHovered=!1,this.isFocused=!1,this.close()}},{key:"_handleFocus",value:function(){M.tabPressed&&(this.isFocused=!0,this.open(!1))}},{key:"_handleBlur",value:function(){this.isFocused=!1,this.close()}},{key:"_getAttributeOptions",value:function(){var s={},o=this.el.getAttribute("data-tooltip"),u=this.el.getAttribute("data-position");return o&&(s.html=o),u&&(s.position=u),s}}],[{key:"init",value:function(s,o){return di(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,s,o)}},{key:"getInstance",value:function(s){var o=s.jquery?s[0]:s;return o.M_Tooltip}},{key:"defaults",get:function(){return r}}]),l}(fi);M.Tooltip=t,M.jQueryLoaded&&M.initializeJqueryWrapper(t,"tooltip","M_Tooltip")})(cash,M.anime);(function(h){"use strict";var i=i||{},r=document.querySelectorAll.bind(document);function t(v){return v!==null&&v===v.window}function a(v){return t(v)?v:v.nodeType===9&&v.defaultView}function l(v){var c,d,p={top:0,left:0},f=v&&v.ownerDocument;return c=f.documentElement,typeof v.getBoundingClientRect<"u"&&(p=v.getBoundingClientRect()),d=a(f),{top:p.top+d.pageYOffset-c.clientTop,left:p.left+d.pageXOffset-c.clientLeft}}function n(v){var c="";for(var d in v)v.hasOwnProperty(d)&&(c+=d+":"+v[d]+";");return c}var s={duration:750,show:function(v,c){if(v.button===2)return!1;var d=c||this,p=document.createElement("div");p.className="waves-ripple",d.appendChild(p);var f=l(d),y=v.pageY-f.top,g=v.pageX-f.left,_="scale("+d.clientWidth/100*10+")";"touches"in v&&(y=v.touches[0].pageY-f.top,g=v.touches[0].pageX-f.left),p.setAttribute("data-hold",Date.now()),p.setAttribute("data-scale",_),p.setAttribute("data-x",g),p.setAttribute("data-y",y);var b={top:y+"px",left:g+"px"};p.className=p.className+" waves-notransition",p.setAttribute("style",n(b)),p.className=p.className.replace("waves-notransition",""),b["-webkit-transform"]=_,b["-moz-transform"]=_,b["-ms-transform"]=_,b["-o-transform"]=_,b.transform=_,b.opacity="1",b["-webkit-transition-duration"]=s.duration+"ms",b["-moz-transition-duration"]=s.duration+"ms",b["-o-transition-duration"]=s.duration+"ms",b["transition-duration"]=s.duration+"ms",b["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",b["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",b["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",b["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",p.setAttribute("style",n(b))},hide:function(v){o.touchup(v);var c=this,d=c.clientWidth*1.4,p=null,f=c.getElementsByClassName("waves-ripple");if(f.length>0)p=f[f.length-1];else return!1;var y=p.getAttribute("data-x"),g=p.getAttribute("data-y"),_=p.getAttribute("data-scale"),b=Date.now()-Number(p.getAttribute("data-hold")),w=350-b;w<0&&(w=0),setTimeout(function(){var T={top:g+"px",left:y+"px",opacity:"0","-webkit-transition-duration":s.duration+"ms","-moz-transition-duration":s.duration+"ms","-o-transition-duration":s.duration+"ms","transition-duration":s.duration+"ms","-webkit-transform":_,"-moz-transform":_,"-ms-transform":_,"-o-transform":_,transform:_};p.setAttribute("style",n(T)),setTimeout(function(){try{c.removeChild(p)}catch{return!1}},s.duration)},w)},wrapInput:function(v){for(var c=0;c<v.length;c++){var d=v[c];if(d.tagName.toLowerCase()==="input"){var p=d.parentNode;if(p.tagName.toLowerCase()==="i"&&p.className.indexOf("waves-effect")!==-1)continue;var f=document.createElement("i");f.className=d.className+" waves-input-wrapper";var y=d.getAttribute("style");y||(y=""),f.setAttribute("style",y),d.className="waves-button-input",d.removeAttribute("style"),p.replaceChild(f,d),f.appendChild(d)}}}},o={touches:0,allowEvent:function(v){var c=!0;return v.type==="touchstart"?o.touches+=1:v.type==="touchend"||v.type==="touchcancel"?setTimeout(function(){o.touches>0&&(o.touches-=1)},500):v.type==="mousedown"&&o.touches>0&&(c=!1),c},touchup:function(v){o.allowEvent(v)}};function u(v){if(o.allowEvent(v)===!1)return null;for(var c=null,d=v.target||v.srcElement;d.parentNode!==null;){if(!(d instanceof SVGElement)&&d.className.indexOf("waves-effect")!==-1){c=d;break}d=d.parentNode}return c}function m(v){var c=u(v);c!==null&&(s.show(v,c),"ontouchstart"in h&&(c.addEventListener("touchend",s.hide,!1),c.addEventListener("touchcancel",s.hide,!1)),c.addEventListener("mouseup",s.hide,!1),c.addEventListener("mouseleave",s.hide,!1),c.addEventListener("dragend",s.hide,!1))}i.displayEffect=function(v){v=v||{},"duration"in v&&(s.duration=v.duration),s.wrapInput(r(".waves-effect")),"ontouchstart"in h&&document.body.addEventListener("touchstart",m,!1),document.body.addEventListener("mousedown",m,!1)},i.attach=function(v){v.tagName.toLowerCase()==="input"&&(s.wrapInput([v]),v=v.parentNode),"ontouchstart"in h&&v.addEventListener("touchstart",m,!1),v.addEventListener("mousedown",m,!1)},h.Waves=i,document.addEventListener("DOMContentLoaded",function(){i.displayEffect()},!1)})(window);(function(h,i){"use strict";var r={html:"",displayLength:4e3,inDuration:300,outDuration:375,classes:"",completeCallback:null,activationPercent:.8},t=function(){function a(l){Yr(this,a),this.options=h.extend({},a.defaults,l),this.message=this.options.html,this.panning=!1,this.timeRemaining=this.options.displayLength,a._toasts.length===0&&a._createContainer(),a._toasts.push(this);var n=this._createToast();n.M_Toast=this,this.el=n,this.$el=h(n),this._animateIn(),this._setTimer()}return Xr(a,[{key:"_createToast",value:function(){var n=document.createElement("div");return n.classList.add("toast"),this.options.classes.length&&h(n).addClass(this.options.classes),(typeof HTMLElement=="object"?this.message instanceof HTMLElement:this.message&&typeof this.message=="object"&&this.message!==null&&this.message.nodeType===1&&typeof this.message.nodeName=="string")?n.appendChild(this.message):this.message.jquery?h(n).append(this.message[0]):n.innerHTML=this.message,a._container.appendChild(n),n}},{key:"_animateIn",value:function(){i({targets:this.el,top:0,opacity:1,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_setTimer",value:function(){var n=this;this.timeRemaining!==1/0&&(this.counterInterval=setInterval(function(){n.panning||(n.timeRemaining-=20),n.timeRemaining<=0&&n.dismiss()},20))}},{key:"dismiss",value:function(){var n=this;window.clearInterval(this.counterInterval);var s=this.el.offsetWidth*this.options.activationPercent;this.wasSwiped&&(this.el.style.transition="transform .05s, opacity .05s",this.el.style.transform="translateX("+s+"px)",this.el.style.opacity=0),i({targets:this.el,opacity:0,marginTop:-40,duration:this.options.outDuration,easing:"easeOutExpo",complete:function(){typeof n.options.completeCallback=="function"&&n.options.completeCallback(),n.$el.remove(),a._toasts.splice(a._toasts.indexOf(n),1),a._toasts.length===0&&a._removeContainer()}})}}],[{key:"getInstance",value:function(n){var s=n.jquery?n[0]:n;return s.M_Toast}},{key:"_createContainer",value:function(){var n=document.createElement("div");n.setAttribute("id","toast-container"),n.addEventListener("touchstart",a._onDragStart),n.addEventListener("touchmove",a._onDragMove),n.addEventListener("touchend",a._onDragEnd),n.addEventListener("mousedown",a._onDragStart),document.addEventListener("mousemove",a._onDragMove),document.addEventListener("mouseup",a._onDragEnd),document.body.appendChild(n),a._container=n}},{key:"_removeContainer",value:function(){document.removeEventListener("mousemove",a._onDragMove),document.removeEventListener("mouseup",a._onDragEnd),h(a._container).remove(),a._container=null}},{key:"_onDragStart",value:function(n){if(n.target&&h(n.target).closest(".toast").length){var s=h(n.target).closest(".toast"),o=s[0].M_Toast;o.panning=!0,a._draggedToast=o,o.el.classList.add("panning"),o.el.style.transition="",o.startingXPos=a._xPos(n),o.time=Date.now(),o.xPos=a._xPos(n)}}},{key:"_onDragMove",value:function(n){if(a._draggedToast){n.preventDefault();var s=a._draggedToast;s.deltaX=Math.abs(s.xPos-a._xPos(n)),s.xPos=a._xPos(n),s.velocityX=s.deltaX/(Date.now()-s.time),s.time=Date.now();var o=s.xPos-s.startingXPos,u=s.el.offsetWidth*s.options.activationPercent;s.el.style.transform="translateX("+o+"px)",s.el.style.opacity=1-Math.abs(o/u)}}},{key:"_onDragEnd",value:function(){if(a._draggedToast){var n=a._draggedToast;n.panning=!1,n.el.classList.remove("panning");var s=n.xPos-n.startingXPos,o=n.el.offsetWidth*n.options.activationPercent,u=Math.abs(s)>o||n.velocityX>1;u?(n.wasSwiped=!0,n.dismiss()):(n.el.style.transition="transform .2s, opacity .2s",n.el.style.transform="",n.el.style.opacity=""),a._draggedToast=null}}},{key:"_xPos",value:function(n){return n.targetTouches&&n.targetTouches.length>=1?n.targetTouches[0].clientX:n.clientX}},{key:"dismissAll",value:function(){for(var n in a._toasts)a._toasts[n].dismiss()}},{key:"defaults",get:function(){return r}}]),a}();t._toasts=[],t._container=null,t._draggedToast=null,M.Toast=t,M.toast=function(a){return new t(a)}})(cash,M.anime);(function(h,i){"use strict";var r={edge:"left",draggable:!0,inDuration:250,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0},t=function(a){hi(l,a);function l(n,s){Yr(this,l);var o=ii(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,n,s));return o.el.M_Sidenav=o,o.id=o.$el.attr("id"),o.options=h.extend({},l.defaults,s),o.isOpen=!1,o.isFixed=o.el.classList.contains("sidenav-fixed"),o.isDragged=!1,o.lastWindowWidth=window.innerWidth,o.lastWindowHeight=window.innerHeight,o._createOverlay(),o._createDragTarget(),o._setupEventHandlers(),o._setupClasses(),o._setupFixed(),l._sidenavs.push(o),o}return Xr(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this._enableBodyScrolling(),this._overlay.parentNode.removeChild(this._overlay),this.dragTarget.parentNode.removeChild(this.dragTarget),this.el.M_Sidenav=void 0,this.el.style.transform="";var s=l._sidenavs.indexOf(this);s>=0&&l._sidenavs.splice(s,1)}},{key:"_createOverlay",value:function(){var s=document.createElement("div");this._closeBound=this.close.bind(this),s.classList.add("sidenav-overlay"),s.addEventListener("click",this._closeBound),document.body.appendChild(s),this._overlay=s}},{key:"_setupEventHandlers",value:function(){l._sidenavs.length===0&&document.body.addEventListener("click",this._handleTriggerClick),this._handleDragTargetDragBound=this._handleDragTargetDrag.bind(this),this._handleDragTargetReleaseBound=this._handleDragTargetRelease.bind(this),this._handleCloseDragBound=this._handleCloseDrag.bind(this),this._handleCloseReleaseBound=this._handleCloseRelease.bind(this),this._handleCloseTriggerClickBound=this._handleCloseTriggerClick.bind(this),this.dragTarget.addEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.addEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.addEventListener("touchmove",this._handleCloseDragBound),this._overlay.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("touchmove",this._handleCloseDragBound),this.el.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&(this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound))}},{key:"_removeEventHandlers",value:function(){l._sidenavs.length===1&&document.body.removeEventListener("click",this._handleTriggerClick),this.dragTarget.removeEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.removeEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.removeEventListener("touchmove",this._handleCloseDragBound),this._overlay.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("touchmove",this._handleCloseDragBound),this.el.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&window.removeEventListener("resize",this._handleWindowResizeBound)}},{key:"_handleTriggerClick",value:function(s){var o=h(s.target).closest(".sidenav-trigger");if(s.target&&o.length){var u=M.getIdFromTrigger(o[0]),m=document.getElementById(u).M_Sidenav;m&&m.open(o),s.preventDefault()}}},{key:"_startDrag",value:function(s){var o=s.targetTouches[0].clientX;this.isDragged=!0,this._startingXpos=o,this._xPos=this._startingXpos,this._time=Date.now(),this._width=this.el.getBoundingClientRect().width,this._overlay.style.display="block",this._initialScrollTop=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop(),this._verticallyScrolling=!1,i.remove(this.el),i.remove(this._overlay)}},{key:"_dragMoveUpdate",value:function(s){var o=s.targetTouches[0].clientX,u=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop();this.deltaX=Math.abs(this._xPos-o),this._xPos=o,this.velocityX=this.deltaX/(Date.now()-this._time),this._time=Date.now(),this._initialScrollTop!==u&&(this._verticallyScrolling=!0)}},{key:"_handleDragTargetDrag",value:function(s){if(!(!this.options.draggable||this._isCurrentlyFixed()||this._verticallyScrolling)){this.isDragged||this._startDrag(s),this._dragMoveUpdate(s);var o=this._xPos-this._startingXpos,u=o>0?"right":"left";o=Math.min(this._width,Math.abs(o)),this.options.edge===u&&(o=0);var m=o,v="translateX(-100%)";this.options.edge==="right"&&(v="translateX(100%)",m=-m),this.percentOpen=Math.min(1,o/this._width),this.el.style.transform=v+" translateX("+m+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleDragTargetRelease",value:function(){this.isDragged&&(this.percentOpen>.2?this.open():this._animateOut(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseDrag",value:function(s){if(this.isOpen){if(!this.options.draggable||this._isCurrentlyFixed()||this._verticallyScrolling)return;this.isDragged||this._startDrag(s),this._dragMoveUpdate(s);var o=this._xPos-this._startingXpos,u=o>0?"right":"left";o=Math.min(this._width,Math.abs(o)),this.options.edge!==u&&(o=0);var m=-o;this.options.edge==="right"&&(m=-m),this.percentOpen=Math.min(1,1-o/this._width),this.el.style.transform="translateX("+m+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleCloseRelease",value:function(){this.isOpen&&this.isDragged&&(this.percentOpen>.8?this._animateIn():this.close(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseTriggerClick",value:function(s){var o=h(s.target).closest(".sidenav-close");o.length&&!this._isCurrentlyFixed()&&this.close()}},{key:"_handleWindowResize",value:function(){this.lastWindowWidth!==window.innerWidth&&(window.innerWidth>992?this.open():this.close()),this.lastWindowWidth=window.innerWidth,this.lastWindowHeight=window.innerHeight}},{key:"_setupClasses",value:function(){this.options.edge==="right"&&(this.el.classList.add("right-aligned"),this.dragTarget.classList.add("right-aligned"))}},{key:"_removeClasses",value:function(){this.el.classList.remove("right-aligned"),this.dragTarget.classList.remove("right-aligned")}},{key:"_setupFixed",value:function(){this._isCurrentlyFixed()&&this.open()}},{key:"_isCurrentlyFixed",value:function(){return this.isFixed&&window.innerWidth>992}},{key:"_createDragTarget",value:function(){var s=document.createElement("div");s.classList.add("drag-target"),document.body.appendChild(s),this.dragTarget=s}},{key:"_preventBodyScrolling",value:function(){var s=document.body;s.style.overflow="hidden"}},{key:"_enableBodyScrolling",value:function(){var s=document.body;s.style.overflow=""}},{key:"open",value:function(){this.isOpen!==!0&&(this.isOpen=!0,typeof this.options.onOpenStart=="function"&&this.options.onOpenStart.call(this,this.el),this._isCurrentlyFixed()?(i.remove(this.el),i({targets:this.el,translateX:0,duration:0,easing:"easeOutQuad"}),this._enableBodyScrolling(),this._overlay.style.display="none"):(this.options.preventScrolling&&this._preventBodyScrolling(),(!this.isDragged||this.percentOpen!=1)&&this._animateIn()))}},{key:"close",value:function(){if(this.isOpen!==!1)if(this.isOpen=!1,typeof this.options.onCloseStart=="function"&&this.options.onCloseStart.call(this,this.el),this._isCurrentlyFixed()){var s=this.options.edge==="left"?"-105%":"105%";this.el.style.transform="translateX("+s+")"}else this._enableBodyScrolling(),!this.isDragged||this.percentOpen!=0?this._animateOut():this._overlay.style.display="none"}},{key:"_animateIn",value:function(){this._animateSidenavIn(),this._animateOverlayIn()}},{key:"_animateSidenavIn",value:function(){var s=this,o=this.options.edge==="left"?-1:1;this.isDragged&&(o=this.options.edge==="left"?o+this.percentOpen:o-this.percentOpen),i.remove(this.el),i({targets:this.el,translateX:[o*100+"%",0],duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){typeof s.options.onOpenEnd=="function"&&s.options.onOpenEnd.call(s,s.el)}})}},{key:"_animateOverlayIn",value:function(){var s=0;this.isDragged?s=this.percentOpen:h(this._overlay).css({display:"block"}),i.remove(this._overlay),i({targets:this._overlay,opacity:[s,1],duration:this.options.inDuration,easing:"easeOutQuad"})}},{key:"_animateOut",value:function(){this._animateSidenavOut(),this._animateOverlayOut()}},{key:"_animateSidenavOut",value:function(){var s=this,o=this.options.edge==="left"?-1:1,u=0;this.isDragged&&(u=this.options.edge==="left"?o+this.percentOpen:o-this.percentOpen),i.remove(this.el),i({targets:this.el,translateX:[u*100+"%",o*105+"%"],duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){typeof s.options.onCloseEnd=="function"&&s.options.onCloseEnd.call(s,s.el)}})}},{key:"_animateOverlayOut",value:function(){var s=this;i.remove(this._overlay),i({targets:this._overlay,opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){h(s._overlay).css("display","none")}})}}],[{key:"init",value:function(s,o){return di(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,s,o)}},{key:"getInstance",value:function(s){var o=s.jquery?s[0]:s;return o.M_Sidenav}},{key:"defaults",get:function(){return r}}]),l}(fi);t._sidenavs=[],window.M.Sidenav=t,M.jQueryLoaded&&M.initializeJqueryWrapper(t,"sidenav","M_Sidenav")})(cash,M.anime);(function(h,i){"use strict";var r={throttle:100,scrollOffset:200,activeClass:"active",getActiveElement:function(a){return'a[href="#'+a+'"]'}},t=function(a){hi(l,a);function l(n,s){Yr(this,l);var o=ii(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,n,s));return o.el.M_ScrollSpy=o,o.options=h.extend({},l.defaults,s),l._elements.push(o),l._count++,l._increment++,o.tickId=-1,o.id=l._increment,o._setupEventHandlers(),o._handleWindowScroll(),o}return Xr(l,[{key:"destroy",value:function(){l._elements.splice(l._elements.indexOf(this),1),l._elementsInView.splice(l._elementsInView.indexOf(this),1),l._visibleElements.splice(l._visibleElements.indexOf(this.$el),1),l._count--,this._removeEventHandlers(),h(this.options.getActiveElement(this.$el.attr("id"))).removeClass(this.options.activeClass),this.el.M_ScrollSpy=void 0}},{key:"_setupEventHandlers",value:function(){var s=M.throttle(this._handleWindowScroll,200);this._handleThrottledResizeBound=s.bind(this),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),l._count===1&&(window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleThrottledResizeBound),document.body.addEventListener("click",this._handleTriggerClick))}},{key:"_removeEventHandlers",value:function(){l._count===0&&(window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleThrottledResizeBound),document.body.removeEventListener("click",this._handleTriggerClick))}},{key:"_handleTriggerClick",value:function(s){for(var o=h(s.target),u=l._elements.length-1;u>=0;u--){var m=l._elements[u];if(o.is('a[href="#'+m.$el.attr("id")+'"]')){s.preventDefault();var v=m.$el.offset().top+1;i({targets:[document.documentElement,document.body],scrollTop:v-m.options.scrollOffset,duration:400,easing:"easeOutCubic"});break}}}},{key:"_handleWindowScroll",value:function(){l._ticks++;for(var s=M.getDocumentScrollTop(),o=M.getDocumentScrollLeft(),u=o+window.innerWidth,m=s+window.innerHeight,v=l._findElements(s,u,m,o),c=0;c<v.length;c++){var d=v[c],p=d.tickId;p<0&&d._enter(),d.tickId=l._ticks}for(var f=0;f<l._elementsInView.length;f++){var y=l._elementsInView[f],g=y.tickId;g>=0&&g!==l._ticks&&(y._exit(),y.tickId=-1)}l._elementsInView=v}},{key:"_enter",value:function(){l._visibleElements=l._visibleElements.filter(function(s){return s.height()!=0}),l._visibleElements[0]?(h(this.options.getActiveElement(l._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),l._visibleElements[0][0].M_ScrollSpy&&this.id<l._visibleElements[0][0].M_ScrollSpy.id?l._visibleElements.unshift(this.$el):l._visibleElements.push(this.$el)):l._visibleElements.push(this.$el),h(this.options.getActiveElement(l._visibleElements[0].attr("id"))).addClass(this.options.activeClass)}},{key:"_exit",value:function(){var s=this;l._visibleElements=l._visibleElements.filter(function(o){return o.height()!=0}),l._visibleElements[0]&&(h(this.options.getActiveElement(l._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),l._visibleElements=l._visibleElements.filter(function(o){return o.attr("id")!=s.$el.attr("id")}),l._visibleElements[0]&&h(this.options.getActiveElement(l._visibleElements[0].attr("id"))).addClass(this.options.activeClass))}}],[{key:"init",value:function(s,o){return di(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,s,o)}},{key:"getInstance",value:function(s){var o=s.jquery?s[0]:s;return o.M_ScrollSpy}},{key:"_findElements",value:function(s,o,u,m){for(var v=[],c=0;c<l._elements.length;c++){var d=l._elements[c],p=s+d.options.scrollOffset||200;if(d.$el.height()>0){var f=d.$el.offset().top,y=d.$el.offset().left,g=y+d.$el.width(),_=f+d.$el.height(),b=!(y>o||g<m||f>u||_<p);b&&v.push(d)}}return v}},{key:"defaults",get:function(){return r}}]),l}(fi);t._elements=[],t._elementsInView=[],t._visibleElements=[],t._count=0,t._increment=0,t._ticks=0,M.ScrollSpy=t,M.jQueryLoaded&&M.initializeJqueryWrapper(t,"scrollSpy","M_ScrollSpy")})(cash,M.anime);(function(h){"use strict";var i={data:{},limit:1/0,onAutocomplete:null,minLength:1,sortFunction:function(t,a,l){return t.indexOf(l)-a.indexOf(l)}},r=function(t){hi(a,t);function a(l,n){Yr(this,a);var s=ii(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,a,l,n));return s.el.M_Autocomplete=s,s.options=h.extend({},a.defaults,n),s.isOpen=!1,s.count=0,s.activeIndex=-1,s.oldVal,s.$inputField=s.$el.closest(".input-field"),s.$active=h(),s._mousedown=!1,s._setupDropdown(),s._setupEventHandlers(),s}return Xr(a,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_Autocomplete=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputBlurBound=this._handleInputBlur.bind(this),this._handleInputKeyupAndFocusBound=this._handleInputKeyupAndFocus.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleContainerMousedownAndTouchstartBound=this._handleContainerMousedownAndTouchstart.bind(this),this._handleContainerMouseupAndTouchendBound=this._handleContainerMouseupAndTouchend.bind(this),this.el.addEventListener("blur",this._handleInputBlurBound),this.el.addEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.addEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("click",this._handleInputClickBound),this.container.addEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),typeof window.ontouchstart<"u"&&(this.container.addEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("blur",this._handleInputBlurBound),this.el.removeEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("click",this._handleInputClickBound),this.container.removeEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),typeof window.ontouchstart<"u"&&(this.container.removeEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_setupDropdown",value:function(){var n=this;this.container=document.createElement("ul"),this.container.id="autocomplete-options-"+M.guid(),h(this.container).addClass("autocomplete-content dropdown-content"),this.$inputField.append(this.container),this.el.setAttribute("data-target",this.container.id),this.dropdown=M.Dropdown.init(this.el,{autoFocus:!1,closeOnClick:!1,coverTrigger:!1,onItemClick:function(s){n.selectOption(h(s))}}),this.el.removeEventListener("click",this.dropdown._handleClickBound)}},{key:"_removeDropdown",value:function(){this.container.parentNode.removeChild(this.container)}},{key:"_handleInputBlur",value:function(){this._mousedown||(this.close(),this._resetAutocomplete())}},{key:"_handleInputKeyupAndFocus",value:function(n){n.type==="keyup"&&(a._keydown=!1),this.count=0;var s=this.el.value.toLowerCase();n.keyCode===13||n.keyCode===38||n.keyCode===40||(this.oldVal!==s&&(M.tabPressed||n.type!=="focus")&&this.open(),this.oldVal=s)}},{key:"_handleInputKeydown",value:function(n){a._keydown=!0;var s=n.keyCode,o=void 0,u=h(this.container).children("li").length;if(s===M.keys.ENTER&&this.activeIndex>=0){o=h(this.container).children("li").eq(this.activeIndex),o.length&&(this.selectOption(o),n.preventDefault());return}(s===M.keys.ARROW_UP||s===M.keys.ARROW_DOWN)&&(n.preventDefault(),s===M.keys.ARROW_UP&&this.activeIndex>0&&this.activeIndex--,s===M.keys.ARROW_DOWN&&this.activeIndex<u-1&&this.activeIndex++,this.$active.removeClass("active"),this.activeIndex>=0&&(this.$active=h(this.container).children("li").eq(this.activeIndex),this.$active.addClass("active")))}},{key:"_handleInputClick",value:function(n){this.open()}},{key:"_handleContainerMousedownAndTouchstart",value:function(n){this._mousedown=!0}},{key:"_handleContainerMouseupAndTouchend",value:function(n){this._mousedown=!1}},{key:"_highlight",value:function(n,s){var o=s.find("img"),u=s.text().toLowerCase().indexOf(""+n.toLowerCase()),m=u+n.length-1,v=s.text().slice(0,u),c=s.text().slice(u,m+1),d=s.text().slice(m+1);s.html("<span>"+v+"<span class='highlight'>"+c+"</span>"+d+"</span>"),o.length&&s.prepend(o)}},{key:"_resetCurrentElement",value:function(){this.activeIndex=-1,this.$active.removeClass("active")}},{key:"_resetAutocomplete",value:function(){h(this.container).empty(),this._resetCurrentElement(),this.oldVal=null,this.isOpen=!1,this._mousedown=!1}},{key:"selectOption",value:function(n){var s=n.text().trim();this.el.value=s,this.$el.trigger("change"),this._resetAutocomplete(),this.close(),typeof this.options.onAutocomplete=="function"&&this.options.onAutocomplete.call(this,s)}},{key:"_renderDropdown",value:function(n,s){var o=this;this._resetAutocomplete();var u=[];for(var m in n)if(n.hasOwnProperty(m)&&m.toLowerCase().indexOf(s)!==-1){if(this.count>=this.options.limit)break;var v={data:n[m],key:m};u.push(v),this.count++}if(this.options.sortFunction){var c=function(y,g){return o.options.sortFunction(y.key.toLowerCase(),g.key.toLowerCase(),s.toLowerCase())};u.sort(c)}for(var d=0;d<u.length;d++){var p=u[d],f=h("<li></li>");p.data?f.append('<img src="'+p.data+'" class="right circle"><span>'+p.key+"</span>"):f.append("<span>"+p.key+"</span>"),h(this.container).append(f),this._highlight(s,f)}}},{key:"open",value:function(){var n=this.el.value.toLowerCase();this._resetAutocomplete(),n.length>=this.options.minLength&&(this.isOpen=!0,this._renderDropdown(this.options.data,n)),this.dropdown.isOpen?this.dropdown.recalculateDimensions():this.dropdown.open()}},{key:"close",value:function(){this.dropdown.close()}},{key:"updateData",value:function(n){var s=this.el.value.toLowerCase();this.options.data=n,this.isOpen&&this._renderDropdown(n,s)}}],[{key:"init",value:function(n,s){return di(a.__proto__||Object.getPrototypeOf(a),"init",this).call(this,this,n,s)}},{key:"getInstance",value:function(n){var s=n.jquery?n[0]:n;return s.M_Autocomplete}},{key:"defaults",get:function(){return i}}]),a}(fi);r._keydown=!1,M.Autocomplete=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"autocomplete","M_Autocomplete")})(cash);(function(h){M.updateTextFields=function(){var i="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea";h(i).each(function(r,t){var a=h(this);r.value.length>0||h(r).is(":focus")||r.autofocus||a.attr("placeholder")!==null?a.siblings("label").addClass("active"):r.validity?a.siblings("label").toggleClass("active",r.validity.badInput===!0):a.siblings("label").removeClass("active")})},M.validate_field=function(i){var r=i.attr("data-length")!==null,t=parseInt(i.attr("data-length")),a=i[0].value.length;a===0&&i[0].validity.badInput===!1&&!i.is(":required")?i.hasClass("validate")&&(i.removeClass("valid"),i.removeClass("invalid")):i.hasClass("validate")&&(i.is(":valid")&&r&&a<=t||i.is(":valid")&&!r?(i.removeClass("invalid"),i.addClass("valid")):(i.removeClass("valid"),i.addClass("invalid")))},M.textareaAutoResize=function(i){if(i instanceof Element&&(i=h(i)),!i.length){console.error("No textarea element found");return}var r=h(".hiddendiv").first();r.length||(r=h('<div class="hiddendiv common"></div>'),h("body").append(r));var t=i.css("font-family"),a=i.css("font-size"),l=i.css("line-height"),n=i.css("padding-top"),s=i.css("padding-right"),o=i.css("padding-bottom"),u=i.css("padding-left");a&&r.css("font-size",a),t&&r.css("font-family",t),l&&r.css("line-height",l),n&&r.css("padding-top",n),s&&r.css("padding-right",s),o&&r.css("padding-bottom",o),u&&r.css("padding-left",u),i.data("original-height")||i.data("original-height",i.height()),i.attr("wrap")==="off"&&r.css("overflow-wrap","normal").css("white-space","pre"),r.text(i[0].value+`
`);var m=r.html().replace(/\n/g,"<br>");r.html(m),i[0].offsetWidth>0&&i[0].offsetHeight>0?r.css("width",i.width()+"px"):r.css("width",window.innerWidth/2+"px"),i.data("original-height")<=r.innerHeight()?i.css("height",r.innerHeight()+"px"):i[0].value.length<i.data("previous-length")&&i.css("height",i.data("original-height")+"px"),i.data("previous-length",i[0].value.length)},h(document).ready(function(){var i="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea";h(document).on("change",i,function(){(this.value.length!==0||h(this).attr("placeholder")!==null)&&h(this).siblings("label").addClass("active"),M.validate_field(h(this))}),h(document).ready(function(){M.updateTextFields()}),h(document).on("reset",function(a){var l=h(a.target);l.is("form")&&(l.find(i).removeClass("valid").removeClass("invalid"),l.find(i).each(function(n){this.value.length&&h(this).siblings("label").removeClass("active")}),setTimeout(function(){l.find("select").each(function(){this.M_FormSelect&&h(this).trigger("change")})},0))}),document.addEventListener("focus",function(a){h(a.target).is(i)&&h(a.target).siblings("label, .prefix").addClass("active")},!0),document.addEventListener("blur",function(a){var l=h(a.target);if(l.is(i)){var n=".prefix";l[0].value.length===0&&l[0].validity.badInput!==!0&&l.attr("placeholder")===null&&(n+=", label"),l.siblings(n).removeClass("active"),M.validate_field(l)}},!0);var r="input[type=radio], input[type=checkbox]";h(document).on("keyup",r,function(a){if(a.which===M.keys.TAB){h(this).addClass("tabbed");var l=h(this);l.one("blur",function(n){h(this).removeClass("tabbed")});return}});var t=".materialize-textarea";h(t).each(function(){var a=h(this);a.data("original-height",a.height()),a.data("previous-length",this.value.length),M.textareaAutoResize(a)}),h(document).on("keyup",t,function(){M.textareaAutoResize(h(this))}),h(document).on("keydown",t,function(){M.textareaAutoResize(h(this))}),h(document).on("change",'.file-field input[type="file"]',function(){for(var a=h(this).closest(".file-field"),l=a.find("input.file-path"),n=h(this)[0].files,s=[],o=0;o<n.length;o++)s.push(n[o].name);l[0].value=s.join(", "),l.trigger("change")})})})(cash);(function(h,i){"use strict";var r={indicators:!0,height:400,duration:500,interval:6e3},t=function(a){hi(l,a);function l(n,s){Yr(this,l);var o=ii(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,n,s));return o.el.M_Slider=o,o.options=h.extend({},l.defaults,s),o.$slider=o.$el.find(".slides"),o.$slides=o.$slider.children("li"),o.activeIndex=o.$slides.filter(function(u){return h(u).hasClass("active")}).first().index(),o.activeIndex!=-1&&(o.$active=o.$slides.eq(o.activeIndex)),o._setSliderHeight(),o.$slides.find(".caption").each(function(u){o._animateCaptionIn(u,0)}),o.$slides.find("img").each(function(u){var m="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";h(u).attr("src")!==m&&(h(u).css("background-image",'url("'+h(u).attr("src")+'")'),h(u).attr("src",m))}),o._setupIndicators(),o.$active?o.$active.css("display","block"):(o.$slides.first().addClass("active"),i({targets:o.$slides.first()[0],opacity:1,duration:o.options.duration,easing:"easeOutQuad"}),o.activeIndex=0,o.$active=o.$slides.eq(o.activeIndex),o.options.indicators&&o.$indicators.eq(o.activeIndex).addClass("active")),o.$active.find("img").each(function(u){i({targets:o.$active.find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:o.options.duration,easing:"easeOutQuad"})}),o._setupEventHandlers(),o.start(),o}return Xr(l,[{key:"destroy",value:function(){this.pause(),this._removeIndicators(),this._removeEventHandlers(),this.el.M_Slider=void 0}},{key:"_setupEventHandlers",value:function(){var s=this;this._handleIntervalBound=this._handleInterval.bind(this),this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.options.indicators&&this.$indicators.each(function(o){o.addEventListener("click",s._handleIndicatorClickBound)})}},{key:"_removeEventHandlers",value:function(){var s=this;this.options.indicators&&this.$indicators.each(function(o){o.removeEventListener("click",s._handleIndicatorClickBound)})}},{key:"_handleIndicatorClick",value:function(s){var o=h(s.target).index();this.set(o)}},{key:"_handleInterval",value:function(){var s=this.$slider.find(".active").index();this.$slides.length===s+1?s=0:s+=1,this.set(s)}},{key:"_animateCaptionIn",value:function(s,o){var u={targets:s,opacity:0,duration:o,easing:"easeOutQuad"};h(s).hasClass("center-align")?u.translateY=-100:h(s).hasClass("right-align")?u.translateX=100:h(s).hasClass("left-align")&&(u.translateX=-100),i(u)}},{key:"_setSliderHeight",value:function(){this.$el.hasClass("fullscreen")||(this.options.indicators?this.$el.css("height",this.options.height+40+"px"):this.$el.css("height",this.options.height+"px"),this.$slider.css("height",this.options.height+"px"))}},{key:"_setupIndicators",value:function(){var s=this;this.options.indicators&&(this.$indicators=h('<ul class="indicators"></ul>'),this.$slides.each(function(o,u){var m=h('<li class="indicator-item"></li>');s.$indicators.append(m[0])}),this.$el.append(this.$indicators[0]),this.$indicators=this.$indicators.children("li.indicator-item"))}},{key:"_removeIndicators",value:function(){this.$el.find("ul.indicators").remove()}},{key:"set",value:function(s){var o=this;if(s>=this.$slides.length?s=0:s<0&&(s=this.$slides.length-1),this.activeIndex!=s){this.$active=this.$slides.eq(this.activeIndex);var u=this.$active.find(".caption");this.$active.removeClass("active"),i({targets:this.$active[0],opacity:0,duration:this.options.duration,easing:"easeOutQuad",complete:function(){o.$slides.not(".active").each(function(m){i({targets:m,opacity:0,translateX:0,translateY:0,duration:0,easing:"easeOutQuad"})})}}),this._animateCaptionIn(u[0],this.options.duration),this.options.indicators&&(this.$indicators.eq(this.activeIndex).removeClass("active"),this.$indicators.eq(s).addClass("active")),i({targets:this.$slides.eq(s)[0],opacity:1,duration:this.options.duration,easing:"easeOutQuad"}),i({targets:this.$slides.eq(s).find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:this.options.duration,delay:this.options.duration,easing:"easeOutQuad"}),this.$slides.eq(s).addClass("active"),this.activeIndex=s,this.start()}}},{key:"pause",value:function(){clearInterval(this.interval)}},{key:"start",value:function(){clearInterval(this.interval),this.interval=setInterval(this._handleIntervalBound,this.options.duration+this.options.interval)}},{key:"next",value:function(){var s=this.activeIndex+1;s>=this.$slides.length?s=0:s<0&&(s=this.$slides.length-1),this.set(s)}},{key:"prev",value:function(){var s=this.activeIndex-1;s>=this.$slides.length?s=0:s<0&&(s=this.$slides.length-1),this.set(s)}}],[{key:"init",value:function(s,o){return di(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,s,o)}},{key:"getInstance",value:function(s){var o=s.jquery?s[0]:s;return o.M_Slider}},{key:"defaults",get:function(){return r}}]),l}(fi);M.Slider=t,M.jQueryLoaded&&M.initializeJqueryWrapper(t,"slider","M_Slider")})(cash,M.anime);(function(h,i){h(document).on("click",".card",function(r){if(h(this).children(".card-reveal").length){var t=h(r.target).closest(".card");t.data("initialOverflow")===void 0&&t.data("initialOverflow",t.css("overflow")===void 0?"":t.css("overflow"));var a=h(this).find(".card-reveal");h(r.target).is(h(".card-reveal .card-title"))||h(r.target).is(h(".card-reveal .card-title i"))?i({targets:a[0],translateY:0,duration:225,easing:"easeInOutQuad",complete:function(l){var n=l.animatables[0].target;h(n).css({display:"none"}),t.css("overflow",t.data("initialOverflow"))}}):(h(r.target).is(h(".card .activator"))||h(r.target).is(h(".card .activator i")))&&(t.css("overflow","hidden"),a.css({display:"block"}),i({targets:a[0],translateY:"-100%",duration:300,easing:"easeInOutQuad"}))}})})(cash,M.anime);(function(h){"use strict";var i={data:[],placeholder:"",secondaryPlaceholder:"",autocompleteOptions:{},limit:1/0,onChipAdd:null,onChipSelect:null,onChipDelete:null},r=function(t){hi(a,t);function a(l,n){Yr(this,a);var s=ii(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,a,l,n));return s.el.M_Chips=s,s.options=h.extend({},a.defaults,n),s.$el.addClass("chips input-field"),s.chipsData=[],s.$chips=h(),s._setupInput(),s.hasAutocomplete=Object.keys(s.options.autocompleteOptions).length>0,s.$input.attr("id")||s.$input.attr("id",M.guid()),s.options.data.length&&(s.chipsData=s.options.data,s._renderChips(s.chipsData)),s.hasAutocomplete&&s._setupAutocomplete(),s._setPlaceholder(),s._setupLabel(),s._setupEventHandlers(),s}return Xr(a,[{key:"getData",value:function(){return this.chipsData}},{key:"destroy",value:function(){this._removeEventHandlers(),this.$chips.remove(),this.el.M_Chips=void 0}},{key:"_setupEventHandlers",value:function(){this._handleChipClickBound=this._handleChipClick.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputFocusBound=this._handleInputFocus.bind(this),this._handleInputBlurBound=this._handleInputBlur.bind(this),this.el.addEventListener("click",this._handleChipClickBound),document.addEventListener("keydown",a._handleChipsKeydown),document.addEventListener("keyup",a._handleChipsKeyup),this.el.addEventListener("blur",a._handleChipsBlur,!0),this.$input[0].addEventListener("focus",this._handleInputFocusBound),this.$input[0].addEventListener("blur",this._handleInputBlurBound),this.$input[0].addEventListener("keydown",this._handleInputKeydownBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleChipClickBound),document.removeEventListener("keydown",a._handleChipsKeydown),document.removeEventListener("keyup",a._handleChipsKeyup),this.el.removeEventListener("blur",a._handleChipsBlur,!0),this.$input[0].removeEventListener("focus",this._handleInputFocusBound),this.$input[0].removeEventListener("blur",this._handleInputBlurBound),this.$input[0].removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleChipClick",value:function(n){var s=h(n.target).closest(".chip"),o=h(n.target).is(".close");if(s.length){var u=s.index();o?(this.deleteChip(u),this.$input[0].focus()):this.selectChip(u)}else this.$input[0].focus()}},{key:"_handleInputFocus",value:function(){this.$el.addClass("focus")}},{key:"_handleInputBlur",value:function(){this.$el.removeClass("focus")}},{key:"_handleInputKeydown",value:function(n){if(a._keydown=!0,n.keyCode===13){if(this.hasAutocomplete&&this.autocomplete&&this.autocomplete.isOpen)return;n.preventDefault(),this.addChip({tag:this.$input[0].value}),this.$input[0].value=""}else(n.keyCode===8||n.keyCode===37)&&this.$input[0].value===""&&this.chipsData.length&&(n.preventDefault(),this.selectChip(this.chipsData.length-1))}},{key:"_renderChip",value:function(n){if(n.tag){var s=document.createElement("div"),o=document.createElement("i");if(s.classList.add("chip"),s.textContent=n.tag,s.setAttribute("tabindex",0),h(o).addClass("material-icons close"),o.textContent="close",n.image){var u=document.createElement("img");u.setAttribute("src",n.image),s.insertBefore(u,s.firstChild)}return s.appendChild(o),s}}},{key:"_renderChips",value:function(){this.$chips.remove();for(var n=0;n<this.chipsData.length;n++){var s=this._renderChip(this.chipsData[n]);this.$el.append(s),this.$chips.add(s)}this.$el.append(this.$input[0])}},{key:"_setupAutocomplete",value:function(){var n=this;this.options.autocompleteOptions.onAutocomplete=function(s){n.addChip({tag:s}),n.$input[0].value="",n.$input[0].focus()},this.autocomplete=M.Autocomplete.init(this.$input[0],this.options.autocompleteOptions)}},{key:"_setupInput",value:function(){this.$input=this.$el.find("input"),this.$input.length||(this.$input=h("<input></input>"),this.$el.append(this.$input)),this.$input.addClass("input")}},{key:"_setupLabel",value:function(){this.$label=this.$el.find("label"),this.$label.length&&this.$label.setAttribute("for",this.$input.attr("id"))}},{key:"_setPlaceholder",value:function(){this.chipsData!==void 0&&!this.chipsData.length&&this.options.placeholder?h(this.$input).prop("placeholder",this.options.placeholder):(this.chipsData===void 0||this.chipsData.length)&&this.options.secondaryPlaceholder&&h(this.$input).prop("placeholder",this.options.secondaryPlaceholder)}},{key:"_isValid",value:function(n){if(n.hasOwnProperty("tag")&&n.tag!==""){for(var s=!1,o=0;o<this.chipsData.length;o++)if(this.chipsData[o].tag===n.tag){s=!0;break}return!s}return!1}},{key:"addChip",value:function(n){if(!(!this._isValid(n)||this.chipsData.length>=this.options.limit)){var s=this._renderChip(n);this.$chips.add(s),this.chipsData.push(n),h(this.$input).before(s),this._setPlaceholder(),typeof this.options.onChipAdd=="function"&&this.options.onChipAdd.call(this,this.$el,s)}}},{key:"deleteChip",value:function(n){var s=this.$chips.eq(n);this.$chips.eq(n).remove(),this.$chips=this.$chips.filter(function(o){return h(o).index()>=0}),this.chipsData.splice(n,1),this._setPlaceholder(),typeof this.options.onChipDelete=="function"&&this.options.onChipDelete.call(this,this.$el,s[0])}},{key:"selectChip",value:function(n){var s=this.$chips.eq(n);this._selectedChip=s,s[0].focus(),typeof this.options.onChipSelect=="function"&&this.options.onChipSelect.call(this,this.$el,s[0])}}],[{key:"init",value:function(n,s){return di(a.__proto__||Object.getPrototypeOf(a),"init",this).call(this,this,n,s)}},{key:"getInstance",value:function(n){var s=n.jquery?n[0]:n;return s.M_Chips}},{key:"_handleChipsKeydown",value:function(n){a._keydown=!0;var s=h(n.target).closest(".chips"),o=n.target&&s.length;if(!(h(n.target).is("input, textarea")||!o)){var u=s[0].M_Chips;if(n.keyCode===8||n.keyCode===46){n.preventDefault();var m=u.chipsData.length;if(u._selectedChip){var v=u._selectedChip.index();u.deleteChip(v),u._selectedChip=null,m=Math.max(v-1,0)}u.chipsData.length&&u.selectChip(m)}else if(n.keyCode===37){if(u._selectedChip){var c=u._selectedChip.index()-1;if(c<0)return;u.selectChip(c)}}else if(n.keyCode===39&&u._selectedChip){var d=u._selectedChip.index()+1;d>=u.chipsData.length?u.$input[0].focus():u.selectChip(d)}}}},{key:"_handleChipsKeyup",value:function(n){a._keydown=!1}},{key:"_handleChipsBlur",value:function(n){if(!a._keydown){var s=h(n.target).closest(".chips"),o=s[0].M_Chips;o._selectedChip=null}}},{key:"defaults",get:function(){return i}}]),a}(fi);r._keydown=!1,M.Chips=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"chips","M_Chips"),h(document).ready(function(){h(document.body).on("click",".chip .close",function(){var t=h(this).closest(".chips");t.length&&t[0].M_Chips||h(this).closest(".chip").remove()})})})(cash);(function(h){"use strict";var i={top:0,bottom:1/0,offset:0,onPositionChange:null},r=function(t){hi(a,t);function a(l,n){Yr(this,a);var s=ii(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,a,l,n));return s.el.M_Pushpin=s,s.options=h.extend({},a.defaults,n),s.originalOffset=s.el.offsetTop,a._pushpins.push(s),s._setupEventHandlers(),s._updatePosition(),s}return Xr(a,[{key:"destroy",value:function(){this.el.style.top=null,this._removePinClasses(),this._removeEventHandlers();var n=a._pushpins.indexOf(this);a._pushpins.splice(n,1)}},{key:"_setupEventHandlers",value:function(){document.addEventListener("scroll",a._updateElements)}},{key:"_removeEventHandlers",value:function(){document.removeEventListener("scroll",a._updateElements)}},{key:"_updatePosition",value:function(){var n=M.getDocumentScrollTop()+this.options.offset;this.options.top<=n&&this.options.bottom>=n&&!this.el.classList.contains("pinned")&&(this._removePinClasses(),this.el.style.top=this.options.offset+"px",this.el.classList.add("pinned"),typeof this.options.onPositionChange=="function"&&this.options.onPositionChange.call(this,"pinned")),n<this.options.top&&!this.el.classList.contains("pin-top")&&(this._removePinClasses(),this.el.style.top=0,this.el.classList.add("pin-top"),typeof this.options.onPositionChange=="function"&&this.options.onPositionChange.call(this,"pin-top")),n>this.options.bottom&&!this.el.classList.contains("pin-bottom")&&(this._removePinClasses(),this.el.classList.add("pin-bottom"),this.el.style.top=this.options.bottom-this.originalOffset+"px",typeof this.options.onPositionChange=="function"&&this.options.onPositionChange.call(this,"pin-bottom"))}},{key:"_removePinClasses",value:function(){this.el.classList.remove("pin-top"),this.el.classList.remove("pinned"),this.el.classList.remove("pin-bottom")}}],[{key:"init",value:function(n,s){return di(a.__proto__||Object.getPrototypeOf(a),"init",this).call(this,this,n,s)}},{key:"getInstance",value:function(n){var s=n.jquery?n[0]:n;return s.M_Pushpin}},{key:"_updateElements",value:function(){for(var n in a._pushpins){var s=a._pushpins[n];s._updatePosition()}}},{key:"defaults",get:function(){return i}}]),a}(fi);r._pushpins=[],M.Pushpin=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"pushpin","M_Pushpin")})(cash);(function(h,i){"use strict";var r={direction:"top",hoverEnabled:!0,toolbarEnabled:!1};h.fn.reverse=[].reverse;var t=function(a){hi(l,a);function l(n,s){Yr(this,l);var o=ii(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,n,s));return o.el.M_FloatingActionButton=o,o.options=h.extend({},l.defaults,s),o.isOpen=!1,o.$anchor=o.$el.children("a").first(),o.$menu=o.$el.children("ul").first(),o.$floatingBtns=o.$el.find("ul .btn-floating"),o.$floatingBtnsReverse=o.$el.find("ul .btn-floating").reverse(),o.offsetY=0,o.offsetX=0,o.$el.addClass("direction-"+o.options.direction),o.options.direction==="top"?o.offsetY=40:o.options.direction==="right"?o.offsetX=-40:o.options.direction==="bottom"?o.offsetY=-40:o.offsetX=40,o._setupEventHandlers(),o}return Xr(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_FloatingActionButton=void 0}},{key:"_setupEventHandlers",value:function(){this._handleFABClickBound=this._handleFABClick.bind(this),this._handleOpenBound=this.open.bind(this),this._handleCloseBound=this.close.bind(this),this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.addEventListener("mouseenter",this._handleOpenBound),this.el.addEventListener("mouseleave",this._handleCloseBound)):this.el.addEventListener("click",this._handleFABClickBound)}},{key:"_removeEventHandlers",value:function(){this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.removeEventListener("mouseenter",this._handleOpenBound),this.el.removeEventListener("mouseleave",this._handleCloseBound)):this.el.removeEventListener("click",this._handleFABClickBound)}},{key:"_handleFABClick",value:function(){this.isOpen?this.close():this.open()}},{key:"_handleDocumentClick",value:function(s){h(s.target).closest(this.$menu).length||this.close()}},{key:"open",value:function(){this.isOpen||(this.options.toolbarEnabled?this._animateInToolbar():this._animateInFAB(),this.isOpen=!0)}},{key:"close",value:function(){this.isOpen&&(this.options.toolbarEnabled?(window.removeEventListener("scroll",this._handleCloseBound,!0),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),this._animateOutToolbar()):this._animateOutFAB(),this.isOpen=!1)}},{key:"_animateInFAB",value:function(){var s=this;this.$el.addClass("active");var o=0;this.$floatingBtnsReverse.each(function(u){i({targets:u,opacity:1,scale:[.4,1],translateY:[s.offsetY,0],translateX:[s.offsetX,0],duration:275,delay:o,easing:"easeInOutQuad"}),o+=40})}},{key:"_animateOutFAB",value:function(){var s=this;this.$floatingBtnsReverse.each(function(o){i.remove(o),i({targets:o,opacity:0,scale:.4,translateY:s.offsetY,translateX:s.offsetX,duration:175,easing:"easeOutQuad",complete:function(){s.$el.removeClass("active")}})})}},{key:"_animateInToolbar",value:function(){var s=this,o=void 0,u=window.innerWidth,m=window.innerHeight,v=this.el.getBoundingClientRect(),c=h('<div class="fab-backdrop"></div>'),d=this.$anchor.css("background-color");this.$anchor.append(c),this.offsetX=v.left-u/2+v.width/2,this.offsetY=m-v.bottom,o=u/c[0].clientWidth,this.btnBottom=v.bottom,this.btnLeft=v.left,this.btnWidth=v.width,this.$el.addClass("active"),this.$el.css({"text-align":"center",width:"100%",bottom:0,left:0,transform:"translateX("+this.offsetX+"px)",transition:"none"}),this.$anchor.css({transform:"translateY("+-this.offsetY+"px)",transition:"none"}),c.css({"background-color":d}),setTimeout(function(){s.$el.css({transform:"",transition:"transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s"}),s.$anchor.css({overflow:"visible",transform:"",transition:"transform .2s"}),setTimeout(function(){s.$el.css({overflow:"hidden","background-color":d}),c.css({transform:"scale("+o+")",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"}),s.$menu.children("li").children("a").css({opacity:1}),s._handleDocumentClickBound=s._handleDocumentClick.bind(s),window.addEventListener("scroll",s._handleCloseBound,!0),document.body.addEventListener("click",s._handleDocumentClickBound,!0)},100)},0)}},{key:"_animateOutToolbar",value:function(){var s=this,o=window.innerWidth,u=window.innerHeight,m=this.$el.find(".fab-backdrop"),v=this.$anchor.css("background-color");this.offsetX=this.btnLeft-o/2+this.btnWidth/2,this.offsetY=u-this.btnBottom,this.$el.removeClass("active"),this.$el.css({"background-color":"transparent",transition:"none"}),this.$anchor.css({transition:"none"}),m.css({transform:"scale(0)","background-color":v}),this.$menu.children("li").children("a").css({opacity:""}),setTimeout(function(){m.remove(),s.$el.css({"text-align":"",width:"",bottom:"",left:"",overflow:"","background-color":"",transform:"translate3d("+-s.offsetX+"px,0,0)"}),s.$anchor.css({overflow:"",transform:"translate3d(0,"+s.offsetY+"px,0)"}),setTimeout(function(){s.$el.css({transform:"translate3d(0,0,0)",transition:"transform .2s"}),s.$anchor.css({transform:"translate3d(0,0,0)",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"})},20)},200)}}],[{key:"init",value:function(s,o){return di(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,s,o)}},{key:"getInstance",value:function(s){var o=s.jquery?s[0]:s;return o.M_FloatingActionButton}},{key:"defaults",get:function(){return r}}]),l}(fi);M.FloatingActionButton=t,M.jQueryLoaded&&M.initializeJqueryWrapper(t,"floatingActionButton","M_FloatingActionButton")})(cash,M.anime);(function(h){"use strict";var i={autoClose:!1,format:"mmm dd, yyyy",parse:null,defaultDate:null,setDefaultDate:!1,disableWeekends:!1,disableDayFn:null,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,container:null,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok",previousMonth:"\u2039",nextMonth:"\u203A",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysAbbrev:["S","M","T","W","T","F","S"]},events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},r=function(t){hi(a,t);function a(l,n){Yr(this,a);var s=ii(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,a,l,n));s.el.M_Datepicker=s,s.options=h.extend({},a.defaults,n),n&&n.hasOwnProperty("i18n")&&typeof n.i18n=="object"&&(s.options.i18n=h.extend({},a.defaults.i18n,n.i18n)),s.options.minDate&&s.options.minDate.setHours(0,0,0,0),s.options.maxDate&&s.options.maxDate.setHours(0,0,0,0),s.id=M.guid(),s._setupVariables(),s._insertHTMLIntoDOM(),s._setupModal(),s._setupEventHandlers(),s.options.defaultDate||(s.options.defaultDate=new Date(Date.parse(s.el.value)));var o=s.options.defaultDate;return a._isDate(o)?s.options.setDefaultDate?(s.setDate(o,!0),s.setInputValue()):s.gotoDate(o):s.gotoDate(new Date),s.isOpen=!1,s}return Xr(a,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),h(this.modalEl).remove(),this.destroySelects(),this.el.M_Datepicker=void 0}},{key:"destroySelects",value:function(){var n=this.calendarEl.querySelector(".orig-select-year");n&&M.FormSelect.getInstance(n).destroy();var s=this.calendarEl.querySelector(".orig-select-month");s&&M.FormSelect.getInstance(s).destroy()}},{key:"_insertHTMLIntoDOM",value:function(){this.options.showClearBtn&&(h(this.clearBtn).css({visibility:""}),this.clearBtn.innerHTML=this.options.i18n.clear),this.doneBtn.innerHTML=this.options.i18n.done,this.cancelBtn.innerHTML=this.options.i18n.cancel,this.options.container?this.$modalEl.appendTo(this.options.container):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var n=this;this.modalEl.id="modal-"+this.id,this.modal=M.Modal.init(this.modalEl,{onCloseEnd:function(){n.isOpen=!1}})}},{key:"toString",value:function(n){var s=this;if(n=n||this.options.format,!a._isDate(this.date))return"";var o=n.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g),u=o.map(function(m){return s.formats[m]?s.formats[m]():m}).join("");return u}},{key:"setDate",value:function(n,s){if(!n)return this.date=null,this._renderDateDisplay(),this.draw();if(typeof n=="string"&&(n=new Date(Date.parse(n))),!!a._isDate(n)){var o=this.options.minDate,u=this.options.maxDate;a._isDate(o)&&n<o?n=o:a._isDate(u)&&n>u&&(n=u),this.date=new Date(n.getTime()),this._renderDateDisplay(),a._setToStartOfDay(this.date),this.gotoDate(this.date),!s&&typeof this.options.onSelect=="function"&&this.options.onSelect.call(this,this.date)}}},{key:"setInputValue",value:function(){this.el.value=this.toString(),this.$el.trigger("change",{firedBy:this})}},{key:"_renderDateDisplay",value:function(){var n=a._isDate(this.date)?this.date:new Date,s=this.options.i18n,o=s.weekdaysShort[n.getDay()],u=s.monthsShort[n.getMonth()],m=n.getDate();this.yearTextEl.innerHTML=n.getFullYear(),this.dateTextEl.innerHTML=o+", "+u+" "+m}},{key:"gotoDate",value:function(n){var s=!0;if(a._isDate(n)){if(this.calendars){var o=new Date(this.calendars[0].year,this.calendars[0].month,1),u=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),m=n.getTime();u.setMonth(u.getMonth()+1),u.setDate(u.getDate()-1),s=m<o.getTime()||u.getTime()<m}s&&(this.calendars=[{month:n.getMonth(),year:n.getFullYear()}]),this.adjustCalendars()}}},{key:"adjustCalendars",value:function(){this.calendars[0]=this.adjustCalendar(this.calendars[0]),this.draw()}},{key:"adjustCalendar",value:function(n){return n.month<0&&(n.year-=Math.ceil(Math.abs(n.month)/12),n.month+=12),n.month>11&&(n.year+=Math.floor(Math.abs(n.month)/12),n.month-=12),n}},{key:"nextMonth",value:function(){this.calendars[0].month++,this.adjustCalendars()}},{key:"prevMonth",value:function(){this.calendars[0].month--,this.adjustCalendars()}},{key:"render",value:function(n,s,o){var u=this.options,m=new Date,v=a._getDaysInMonth(n,s),c=new Date(n,s,1).getDay(),d=[],p=[];a._setToStartOfDay(m),u.firstDay>0&&(c-=u.firstDay,c<0&&(c+=7));for(var f=s===0?11:s-1,y=s===11?0:s+1,g=s===0?n-1:n,_=s===11?n+1:n,b=a._getDaysInMonth(g,f),w=v+c,T=w;T>7;)T-=7;w+=7-T;for(var O=!1,A=0,E=0;A<w;A++){var C=new Date(n,s,1+(A-c)),I=a._isDate(this.date)?a._compareDates(C,this.date):!1,L=a._compareDates(C,m),R=u.events.indexOf(C.toDateString())!==-1,D=A<c||A>=v+c,H=1+(A-c),z=s,B=n,J=u.startRange&&a._compareDates(u.startRange,C),ee=u.endRange&&a._compareDates(u.endRange,C),Z=u.startRange&&u.endRange&&u.startRange<C&&C<u.endRange,q=u.minDate&&C<u.minDate||u.maxDate&&C>u.maxDate||u.disableWeekends&&a._isWeekend(C)||u.disableDayFn&&u.disableDayFn(C);D&&(A<c?(H=b+H,z=f,B=g):(H=H-v,z=y,B=_));var re={day:H,month:z,year:B,hasEvent:R,isSelected:I,isToday:L,isDisabled:q,isEmpty:D,isStartRange:J,isEndRange:ee,isInRange:Z,showDaysInNextAndPreviousMonths:u.showDaysInNextAndPreviousMonths};p.push(this.renderDay(re)),++E===7&&(d.push(this.renderRow(p,u.isRTL,O)),p=[],E=0,O=!1)}return this.renderTable(u,d,o)}},{key:"renderDay",value:function(n){var s=[],o="false";if(n.isEmpty)if(n.showDaysInNextAndPreviousMonths)s.push("is-outside-current-month"),s.push("is-selection-disabled");else return'<td class="is-empty"></td>';return n.isDisabled&&s.push("is-disabled"),n.isToday&&s.push("is-today"),n.isSelected&&(s.push("is-selected"),o="true"),n.hasEvent&&s.push("has-event"),n.isInRange&&s.push("is-inrange"),n.isStartRange&&s.push("is-startrange"),n.isEndRange&&s.push("is-endrange"),'<td data-day="'+n.day+'" class="'+s.join(" ")+'" aria-selected="'+o+'">'+('<button class="datepicker-day-button" type="button" data-year="'+n.year+'" data-month="'+n.month+'" data-day="'+n.day+'">'+n.day+"</button>")+"</td>"}},{key:"renderRow",value:function(n,s,o){return'<tr class="datepicker-row'+(o?" is-selected":"")+'">'+(s?n.reverse():n).join("")+"</tr>"}},{key:"renderTable",value:function(n,s,o){return'<div class="datepicker-table-wrapper"><table cellpadding="0" cellspacing="0" class="datepicker-table" role="grid" aria-labelledby="'+o+'">'+this.renderHead(n)+this.renderBody(s)+"</table></div>"}},{key:"renderHead",value:function(n){var s=void 0,o=[];for(s=0;s<7;s++)o.push('<th scope="col"><abbr title="'+this.renderDayName(n,s)+'">'+this.renderDayName(n,s,!0)+"</abbr></th>");return"<thead><tr>"+(n.isRTL?o.reverse():o).join("")+"</tr></thead>"}},{key:"renderBody",value:function(n){return"<tbody>"+n.join("")+"</tbody>"}},{key:"renderTitle",value:function(n,s,o,u,m,v){var c=void 0,d=void 0,p=void 0,f=this.options,y=o===f.minYear,g=o===f.maxYear,_='<div id="'+v+'" class="datepicker-controls" role="heading" aria-live="assertive">',b=void 0,w=void 0,T=!0,O=!0;for(p=[],c=0;c<12;c++)p.push('<option value="'+(o===m?c-s:12+c-s)+'"'+(c===u?' selected="selected"':"")+(y&&c<f.minMonth||g&&c>f.maxMonth?'disabled="disabled"':"")+">"+f.i18n.months[c]+"</option>");for(b='<select class="datepicker-select orig-select-month" tabindex="-1">'+p.join("")+"</select>",h.isArray(f.yearRange)?(c=f.yearRange[0],d=f.yearRange[1]+1):(c=o-f.yearRange,d=1+o+f.yearRange),p=[];c<d&&c<=f.maxYear;c++)c>=f.minYear&&p.push('<option value="'+c+'" '+(c===o?'selected="selected"':"")+">"+c+"</option>");w='<select class="datepicker-select orig-select-year" tabindex="-1">'+p.join("")+"</select>";var A='<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/></svg>';_+='<button class="month-prev'+(T?"":" is-disabled")+'" type="button">'+A+"</button>",_+='<div class="selects-container">',f.showMonthAfterYear?_+=w+b:_+=b+w,_+="</div>",y&&(u===0||f.minMonth>=u)&&(T=!1),g&&(u===11||f.maxMonth<=u)&&(O=!1);var E='<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/></svg>';return _+='<button class="month-next'+(O?"":" is-disabled")+'" type="button">'+E+"</button>",_+="</div>"}},{key:"draw",value:function(n){if(!(!this.isOpen&&!n)){var s=this.options,o=s.minYear,u=s.maxYear,m=s.minMonth,v=s.maxMonth,c="",d=void 0;this._y<=o&&(this._y=o,!isNaN(m)&&this._m<m&&(this._m=m)),this._y>=u&&(this._y=u,!isNaN(v)&&this._m>v&&(this._m=v)),d="datepicker-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var p=0;p<1;p++)this._renderDateDisplay(),c+=this.renderTitle(this,p,this.calendars[p].year,this.calendars[p].month,this.calendars[0].year,d)+this.render(this.calendars[p].year,this.calendars[p].month,d);this.destroySelects(),this.calendarEl.innerHTML=c;var f=this.calendarEl.querySelector(".orig-select-year"),y=this.calendarEl.querySelector(".orig-select-month");M.FormSelect.init(f,{classes:"select-year",dropdownOptions:{container:document.body,constrainWidth:!1}}),M.FormSelect.init(y,{classes:"select-month",dropdownOptions:{container:document.body,constrainWidth:!1}}),f.addEventListener("change",this._handleYearChange.bind(this)),y.addEventListener("change",this._handleMonthChange.bind(this)),typeof this.options.onDraw=="function"&&this.options.onDraw(this)}}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleInputChangeBound=this._handleInputChange.bind(this),this._handleCalendarClickBound=this._handleCalendarClick.bind(this),this._finishSelectionBound=this._finishSelection.bind(this),this._handleMonthChange=this._handleMonthChange.bind(this),this._closeBound=this.close.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("change",this._handleInputChangeBound),this.calendarEl.addEventListener("click",this._handleCalendarClickBound),this.doneBtn.addEventListener("click",this._finishSelectionBound),this.cancelBtn.addEventListener("click",this._closeBound),this.options.showClearBtn&&(this._handleClearClickBound=this._handleClearClick.bind(this),this.clearBtn.addEventListener("click",this._handleClearClickBound))}},{key:"_setupVariables",value:function(){var n=this;this.$modalEl=h(a._template),this.modalEl=this.$modalEl[0],this.calendarEl=this.modalEl.querySelector(".datepicker-calendar"),this.yearTextEl=this.modalEl.querySelector(".year-text"),this.dateTextEl=this.modalEl.querySelector(".date-text"),this.options.showClearBtn&&(this.clearBtn=this.modalEl.querySelector(".datepicker-clear")),this.doneBtn=this.modalEl.querySelector(".datepicker-done"),this.cancelBtn=this.modalEl.querySelector(".datepicker-cancel"),this.formats={d:function(){return n.date.getDate()},dd:function(){var s=n.date.getDate();return(s<10?"0":"")+s},ddd:function(){return n.options.i18n.weekdaysShort[n.date.getDay()]},dddd:function(){return n.options.i18n.weekdays[n.date.getDay()]},m:function(){return n.date.getMonth()+1},mm:function(){var s=n.date.getMonth()+1;return(s<10?"0":"")+s},mmm:function(){return n.options.i18n.monthsShort[n.date.getMonth()]},mmmm:function(){return n.options.i18n.months[n.date.getMonth()]},yy:function(){return(""+n.date.getFullYear()).slice(2)},yyyy:function(){return n.date.getFullYear()}}}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("change",this._handleInputChangeBound),this.calendarEl.removeEventListener("click",this._handleCalendarClickBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(n){n.which===M.keys.ENTER&&(n.preventDefault(),this.open())}},{key:"_handleCalendarClick",value:function(n){if(this.isOpen){var s=h(n.target);s.hasClass("is-disabled")||(s.hasClass("datepicker-day-button")&&!s.hasClass("is-empty")&&!s.parent().hasClass("is-disabled")?(this.setDate(new Date(n.target.getAttribute("data-year"),n.target.getAttribute("data-month"),n.target.getAttribute("data-day"))),this.options.autoClose&&this._finishSelection()):s.closest(".month-prev").length?this.prevMonth():s.closest(".month-next").length&&this.nextMonth())}}},{key:"_handleClearClick",value:function(){this.date=null,this.setInputValue(),this.close()}},{key:"_handleMonthChange",value:function(n){this.gotoMonth(n.target.value)}},{key:"_handleYearChange",value:function(n){this.gotoYear(n.target.value)}},{key:"gotoMonth",value:function(n){isNaN(n)||(this.calendars[0].month=parseInt(n,10),this.adjustCalendars())}},{key:"gotoYear",value:function(n){isNaN(n)||(this.calendars[0].year=parseInt(n,10),this.adjustCalendars())}},{key:"_handleInputChange",value:function(n){var s=void 0;n.firedBy!==this&&(this.options.parse?s=this.options.parse(this.el.value,this.options.format):s=new Date(Date.parse(this.el.value)),a._isDate(s)&&this.setDate(s))}},{key:"renderDayName",value:function(n,s,o){for(s+=n.firstDay;s>=7;)s-=7;return o?n.i18n.weekdaysAbbrev[s]:n.i18n.weekdays[s]}},{key:"_finishSelection",value:function(){this.setInputValue(),this.close()}},{key:"open",value:function(){if(!this.isOpen)return this.isOpen=!0,typeof this.options.onOpen=="function"&&this.options.onOpen.call(this),this.draw(),this.modal.open(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,typeof this.options.onClose=="function"&&this.options.onClose.call(this),this.modal.close(),this}}],[{key:"init",value:function(n,s){return di(a.__proto__||Object.getPrototypeOf(a),"init",this).call(this,this,n,s)}},{key:"_isDate",value:function(n){return/Date/.test(Object.prototype.toString.call(n))&&!isNaN(n.getTime())}},{key:"_isWeekend",value:function(n){var s=n.getDay();return s===0||s===6}},{key:"_setToStartOfDay",value:function(n){a._isDate(n)&&n.setHours(0,0,0,0)}},{key:"_getDaysInMonth",value:function(n,s){return[31,a._isLeapYear(n)?29:28,31,30,31,30,31,31,30,31,30,31][s]}},{key:"_isLeapYear",value:function(n){return n%4===0&&n%100!==0||n%400===0}},{key:"_compareDates",value:function(n,s){return n.getTime()===s.getTime()}},{key:"_setToStartOfDay",value:function(n){a._isDate(n)&&n.setHours(0,0,0,0)}},{key:"getInstance",value:function(n){var s=n.jquery?n[0]:n;return s.M_Datepicker}},{key:"defaults",get:function(){return i}}]),a}(fi);r._template=['<div class= "modal datepicker-modal">','<div class="modal-content datepicker-container">','<div class="datepicker-date-display">','<span class="year-text"></span>','<span class="date-text"></span>',"</div>",'<div class="datepicker-calendar-container">','<div class="datepicker-calendar"></div>','<div class="datepicker-footer">','<button class="btn-flat datepicker-clear waves-effect" style="visibility: hidden;" type="button"></button>','<div class="confirmation-btns">','<button class="btn-flat datepicker-cancel waves-effect" type="button"></button>','<button class="btn-flat datepicker-done waves-effect" type="button"></button>',"</div>","</div>","</div>","</div>","</div>"].join(""),M.Datepicker=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"datepicker","M_Datepicker")})(cash);(function(h){"use strict";var i={dialRadius:135,outerRadius:105,innerRadius:70,tickRadius:20,duration:350,container:null,defaultTime:"now",fromNow:0,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok"},autoClose:!1,twelveHour:!0,vibrate:!0,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onSelect:null},r=function(t){hi(a,t);function a(l,n){Yr(this,a);var s=ii(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,a,l,n));return s.el.M_Timepicker=s,s.options=h.extend({},a.defaults,n),s.id=M.guid(),s._insertHTMLIntoDOM(),s._setupModal(),s._setupVariables(),s._setupEventHandlers(),s._clockSetup(),s._pickerSetup(),s}return Xr(a,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),h(this.modalEl).remove(),this.el.M_Timepicker=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleClockClickStartBound=this._handleClockClickStart.bind(this),this._handleDocumentClickMoveBound=this._handleDocumentClickMove.bind(this),this._handleDocumentClickEndBound=this._handleDocumentClickEnd.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.plate.addEventListener("mousedown",this._handleClockClickStartBound),this.plate.addEventListener("touchstart",this._handleClockClickStartBound),h(this.spanHours).on("click",this.showView.bind(this,"hours")),h(this.spanMinutes).on("click",this.showView.bind(this,"minutes"))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(n){n.which===M.keys.ENTER&&(n.preventDefault(),this.open())}},{key:"_handleClockClickStart",value:function(n){n.preventDefault();var s=this.plate.getBoundingClientRect(),o={x:s.left,y:s.top};this.x0=o.x+this.options.dialRadius,this.y0=o.y+this.options.dialRadius,this.moved=!1;var u=a._Pos(n);this.dx=u.x-this.x0,this.dy=u.y-this.y0,this.setHand(this.dx,this.dy,!1),document.addEventListener("mousemove",this._handleDocumentClickMoveBound),document.addEventListener("touchmove",this._handleDocumentClickMoveBound),document.addEventListener("mouseup",this._handleDocumentClickEndBound),document.addEventListener("touchend",this._handleDocumentClickEndBound)}},{key:"_handleDocumentClickMove",value:function(n){n.preventDefault();var s=a._Pos(n),o=s.x-this.x0,u=s.y-this.y0;this.moved=!0,this.setHand(o,u,!1,!0)}},{key:"_handleDocumentClickEnd",value:function(n){var s=this;n.preventDefault(),document.removeEventListener("mouseup",this._handleDocumentClickEndBound),document.removeEventListener("touchend",this._handleDocumentClickEndBound);var o=a._Pos(n),u=o.x-this.x0,m=o.y-this.y0;this.moved&&u===this.dx&&m===this.dy&&this.setHand(u,m),this.currentView==="hours"?this.showView("minutes",this.options.duration/2):this.options.autoClose&&(h(this.minutesView).addClass("timepicker-dial-out"),setTimeout(function(){s.done()},this.options.duration/2)),typeof this.options.onSelect=="function"&&this.options.onSelect.call(this,this.hours,this.minutes),document.removeEventListener("mousemove",this._handleDocumentClickMoveBound),document.removeEventListener("touchmove",this._handleDocumentClickMoveBound)}},{key:"_insertHTMLIntoDOM",value:function(){this.$modalEl=h(a._template),this.modalEl=this.$modalEl[0],this.modalEl.id="modal-"+this.id;var n=document.querySelector(this.options.container);this.options.container&&n?this.$modalEl.appendTo(n):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var n=this;this.modal=M.Modal.init(this.modalEl,{onOpenStart:this.options.onOpenStart,onOpenEnd:this.options.onOpenEnd,onCloseStart:this.options.onCloseStart,onCloseEnd:function(){typeof n.options.onCloseEnd=="function"&&n.options.onCloseEnd.call(n),n.isOpen=!1}})}},{key:"_setupVariables",value:function(){this.currentView="hours",this.vibrate=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,this._canvas=this.modalEl.querySelector(".timepicker-canvas"),this.plate=this.modalEl.querySelector(".timepicker-plate"),this.hoursView=this.modalEl.querySelector(".timepicker-hours"),this.minutesView=this.modalEl.querySelector(".timepicker-minutes"),this.spanHours=this.modalEl.querySelector(".timepicker-span-hours"),this.spanMinutes=this.modalEl.querySelector(".timepicker-span-minutes"),this.spanAmPm=this.modalEl.querySelector(".timepicker-span-am-pm"),this.footer=this.modalEl.querySelector(".timepicker-footer"),this.amOrPm="PM"}},{key:"_pickerSetup",value:function(){var n=h('<button class="btn-flat timepicker-clear waves-effect" style="visibility: hidden;" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.clear+"</button>").appendTo(this.footer).on("click",this.clear.bind(this));this.options.showClearBtn&&n.css({visibility:""});var s=h('<div class="confirmation-btns"></div>');h('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.cancel+"</button>").appendTo(s).on("click",this.close.bind(this)),h('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.done+"</button>").appendTo(s).on("click",this.done.bind(this)),s.appendTo(this.footer)}},{key:"_clockSetup",value:function(){this.options.twelveHour&&(this.$amBtn=h('<div class="am-btn">AM</div>'),this.$pmBtn=h('<div class="pm-btn">PM</div>'),this.$amBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm),this.$pmBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm)),this._buildHoursView(),this._buildMinutesView(),this._buildSVGClock()}},{key:"_buildSVGClock",value:function(){var n=this.options.dialRadius,s=this.options.tickRadius,o=n*2,u=a._createSVGEl("svg");u.setAttribute("class","timepicker-svg"),u.setAttribute("width",o),u.setAttribute("height",o);var m=a._createSVGEl("g");m.setAttribute("transform","translate("+n+","+n+")");var v=a._createSVGEl("circle");v.setAttribute("class","timepicker-canvas-bearing"),v.setAttribute("cx",0),v.setAttribute("cy",0),v.setAttribute("r",4);var c=a._createSVGEl("line");c.setAttribute("x1",0),c.setAttribute("y1",0);var d=a._createSVGEl("circle");d.setAttribute("class","timepicker-canvas-bg"),d.setAttribute("r",s),m.appendChild(c),m.appendChild(d),m.appendChild(v),u.appendChild(m),this._canvas.appendChild(u),this.hand=c,this.bg=d,this.bearing=v,this.g=m}},{key:"_buildHoursView",value:function(){var n=h('<div class="timepicker-tick"></div>');if(this.options.twelveHour)for(var s=1;s<13;s+=1){var o=n.clone(),u=s/6*Math.PI,m=this.options.outerRadius;o.css({left:this.options.dialRadius+Math.sin(u)*m-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(u)*m-this.options.tickRadius+"px"}),o.html(s===0?"00":s),this.hoursView.appendChild(o[0])}else for(var v=0;v<24;v+=1){var c=n.clone(),d=v/6*Math.PI,p=v>0&&v<13,f=p?this.options.innerRadius:this.options.outerRadius;c.css({left:this.options.dialRadius+Math.sin(d)*f-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(d)*f-this.options.tickRadius+"px"}),c.html(v===0?"00":v),this.hoursView.appendChild(c[0])}}},{key:"_buildMinutesView",value:function(){for(var n=h('<div class="timepicker-tick"></div>'),s=0;s<60;s+=5){var o=n.clone(),u=s/30*Math.PI;o.css({left:this.options.dialRadius+Math.sin(u)*this.options.outerRadius-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(u)*this.options.outerRadius-this.options.tickRadius+"px"}),o.html(a._addLeadingZero(s)),this.minutesView.appendChild(o[0])}}},{key:"_handleAmPmClick",value:function(n){var s=h(n.target);this.amOrPm=s.hasClass("am-btn")?"AM":"PM",this._updateAmPmView()}},{key:"_updateAmPmView",value:function(){this.options.twelveHour&&(this.$amBtn.toggleClass("text-primary",this.amOrPm==="AM"),this.$pmBtn.toggleClass("text-primary",this.amOrPm==="PM"))}},{key:"_updateTimeFromInput",value:function(){var n=((this.el.value||this.options.defaultTime||"")+"").split(":");if(this.options.twelveHour&&!(typeof n[1]>"u")&&(n[1].toUpperCase().indexOf("AM")>0?this.amOrPm="AM":this.amOrPm="PM",n[1]=n[1].replace("AM","").replace("PM","")),n[0]==="now"){var s=new Date(+new Date+this.options.fromNow);n=[s.getHours(),s.getMinutes()],this.options.twelveHour&&(this.amOrPm=n[0]>=12&&n[0]<24?"PM":"AM")}this.hours=+n[0]||0,this.minutes=+n[1]||0,this.spanHours.innerHTML=this.hours,this.spanMinutes.innerHTML=a._addLeadingZero(this.minutes),this._updateAmPmView()}},{key:"showView",value:function(n,s){n==="minutes"&&h(this.hoursView).css("visibility");var o=n==="hours",u=o?this.hoursView:this.minutesView,m=o?this.minutesView:this.hoursView;this.currentView=n,h(this.spanHours).toggleClass("text-primary",o),h(this.spanMinutes).toggleClass("text-primary",!o),m.classList.add("timepicker-dial-out"),h(u).css("visibility","visible").removeClass("timepicker-dial-out"),this.resetClock(s),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout(function(){h(m).css("visibility","hidden")},this.options.duration)}},{key:"resetClock",value:function(n){var s=this.currentView,o=this[s],u=s==="hours",m=Math.PI/(u?6:30),v=o*m,c=u&&o>0&&o<13?this.options.innerRadius:this.options.outerRadius,d=Math.sin(v)*c,p=-Math.cos(v)*c,f=this;n?(h(this.canvas).addClass("timepicker-canvas-out"),setTimeout(function(){h(f.canvas).removeClass("timepicker-canvas-out"),f.setHand(d,p)},n)):this.setHand(d,p)}},{key:"setHand",value:function(n,s,o){var u=this,m=Math.atan2(n,-s),v=this.currentView==="hours",c=Math.PI/(v||o?6:30),d=Math.sqrt(n*n+s*s),p=v&&d<(this.options.outerRadius+this.options.innerRadius)/2,f=p?this.options.innerRadius:this.options.outerRadius;this.options.twelveHour&&(f=this.options.outerRadius),m<0&&(m=Math.PI*2+m);var y=Math.round(m/c);m=y*c,this.options.twelveHour?v?y===0&&(y=12):(o&&(y*=5),y===60&&(y=0)):v?(y===12&&(y=0),y=p?y===0?12:y:y===0?0:y+12):(o&&(y*=5),y===60&&(y=0)),this[this.currentView]!==y&&this.vibrate&&this.options.vibrate&&(this.vibrateTimer||(navigator[this.vibrate](10),this.vibrateTimer=setTimeout(function(){u.vibrateTimer=null},100))),this[this.currentView]=y,v?this.spanHours.innerHTML=y:this.spanMinutes.innerHTML=a._addLeadingZero(y);var g=Math.sin(m)*(f-this.options.tickRadius),_=-Math.cos(m)*(f-this.options.tickRadius),b=Math.sin(m)*f,w=-Math.cos(m)*f;this.hand.setAttribute("x2",g),this.hand.setAttribute("y2",_),this.bg.setAttribute("cx",b),this.bg.setAttribute("cy",w)}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this._updateTimeFromInput(),this.showView("hours"),this.modal.open())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.modal.close())}},{key:"done",value:function(n,s){var o=this.el.value,u=s?"":a._addLeadingZero(this.hours)+":"+a._addLeadingZero(this.minutes);this.time=u,!s&&this.options.twelveHour&&(u=u+" "+this.amOrPm),this.el.value=u,u!==o&&this.$el.trigger("change"),this.close(),this.el.focus()}},{key:"clear",value:function(){this.done(null,!0)}}],[{key:"init",value:function(n,s){return di(a.__proto__||Object.getPrototypeOf(a),"init",this).call(this,this,n,s)}},{key:"_addLeadingZero",value:function(n){return(n<10?"0":"")+n}},{key:"_createSVGEl",value:function(n){var s="http://www.w3.org/2000/svg";return document.createElementNS(s,n)}},{key:"_Pos",value:function(n){return n.targetTouches&&n.targetTouches.length>=1?{x:n.targetTouches[0].clientX,y:n.targetTouches[0].clientY}:{x:n.clientX,y:n.clientY}}},{key:"getInstance",value:function(n){var s=n.jquery?n[0]:n;return s.M_Timepicker}},{key:"defaults",get:function(){return i}}]),a}(fi);r._template=['<div class= "modal timepicker-modal">','<div class="modal-content timepicker-container">','<div class="timepicker-digital-display">','<div class="timepicker-text-container">','<div class="timepicker-display-column">','<span class="timepicker-span-hours text-primary"></span>',":",'<span class="timepicker-span-minutes"></span>',"</div>",'<div class="timepicker-display-column timepicker-display-am-pm">','<div class="timepicker-span-am-pm"></div>',"</div>","</div>","</div>",'<div class="timepicker-analog-display">','<div class="timepicker-plate">','<div class="timepicker-canvas"></div>','<div class="timepicker-dial timepicker-hours"></div>','<div class="timepicker-dial timepicker-minutes timepicker-dial-out"></div>',"</div>",'<div class="timepicker-footer"></div>',"</div>","</div>","</div>"].join(""),M.Timepicker=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"timepicker","M_Timepicker")})(cash);(function(h){"use strict";var i={},r=function(t){hi(a,t);function a(l,n){Yr(this,a);var s=ii(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,a,l,n));return s.el.M_CharacterCounter=s,s.options=h.extend({},a.defaults,n),s.isInvalid=!1,s.isValidLength=!1,s._setupCounter(),s._setupEventHandlers(),s}return Xr(a,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.CharacterCounter=void 0,this._removeCounter()}},{key:"_setupEventHandlers",value:function(){this._handleUpdateCounterBound=this.updateCounter.bind(this),this.el.addEventListener("focus",this._handleUpdateCounterBound,!0),this.el.addEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("focus",this._handleUpdateCounterBound,!0),this.el.removeEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_setupCounter",value:function(){this.counterEl=document.createElement("span"),h(this.counterEl).addClass("character-counter").css({float:"right","font-size":"12px",height:1}),this.$el.parent().append(this.counterEl)}},{key:"_removeCounter",value:function(){h(this.counterEl).remove()}},{key:"updateCounter",value:function(){var n=+this.$el.attr("data-length"),s=this.el.value.length;this.isValidLength=s<=n;var o=s;n&&(o+="/"+n,this._validateInput()),h(this.counterEl).html(o)}},{key:"_validateInput",value:function(){this.isValidLength&&this.isInvalid?(this.isInvalid=!1,this.$el.removeClass("invalid")):!this.isValidLength&&!this.isInvalid&&(this.isInvalid=!0,this.$el.removeClass("valid"),this.$el.addClass("invalid"))}}],[{key:"init",value:function(n,s){return di(a.__proto__||Object.getPrototypeOf(a),"init",this).call(this,this,n,s)}},{key:"getInstance",value:function(n){var s=n.jquery?n[0]:n;return s.M_CharacterCounter}},{key:"defaults",get:function(){return i}}]),a}(fi);M.CharacterCounter=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"characterCounter","M_CharacterCounter")})(cash);(function(h){"use strict";var i={duration:200,dist:-100,shift:0,padding:0,numVisible:5,fullWidth:!1,indicators:!1,noWrap:!1,onCycleTo:null},r=function(t){hi(a,t);function a(l,n){Yr(this,a);var s=ii(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,a,l,n));return s.el.M_Carousel=s,s.options=h.extend({},a.defaults,n),s.hasMultipleSlides=s.$el.find(".carousel-item").length>1,s.showIndicators=s.options.indicators&&s.hasMultipleSlides,s.noWrap=s.options.noWrap||!s.hasMultipleSlides,s.pressed=!1,s.dragged=!1,s.offset=s.target=0,s.images=[],s.itemWidth=s.$el.find(".carousel-item").first().innerWidth(),s.itemHeight=s.$el.find(".carousel-item").first().innerHeight(),s.dim=s.itemWidth*2+s.options.padding||1,s._autoScrollBound=s._autoScroll.bind(s),s._trackBound=s._track.bind(s),s.options.fullWidth&&(s.options.dist=0,s._setCarouselHeight(),s.showIndicators&&s.$el.find(".carousel-fixed-item").addClass("with-indicators")),s.$indicators=h('<ul class="indicators"></ul>'),s.$el.find(".carousel-item").each(function(o,u){if(s.images.push(o),s.showIndicators){var m=h('<li class="indicator-item"></li>');u===0&&m[0].classList.add("active"),s.$indicators.append(m)}}),s.showIndicators&&s.$el.append(s.$indicators),s.count=s.images.length,s.options.numVisible=Math.min(s.count,s.options.numVisible),s.xform="transform",["webkit","Moz","O","ms"].every(function(o){var u=o+"Transform";return typeof document.body.style[u]<"u"?(s.xform=u,!1):!0}),s._setupEventHandlers(),s._scroll(s.offset),s}return Xr(a,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Carousel=void 0}},{key:"_setupEventHandlers",value:function(){var n=this;this._handleCarouselTapBound=this._handleCarouselTap.bind(this),this._handleCarouselDragBound=this._handleCarouselDrag.bind(this),this._handleCarouselReleaseBound=this._handleCarouselRelease.bind(this),this._handleCarouselClickBound=this._handleCarouselClick.bind(this),typeof window.ontouchstart<"u"&&(this.el.addEventListener("touchstart",this._handleCarouselTapBound),this.el.addEventListener("touchmove",this._handleCarouselDragBound),this.el.addEventListener("touchend",this._handleCarouselReleaseBound)),this.el.addEventListener("mousedown",this._handleCarouselTapBound),this.el.addEventListener("mousemove",this._handleCarouselDragBound),this.el.addEventListener("mouseup",this._handleCarouselReleaseBound),this.el.addEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.addEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&(this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.$indicators.find(".indicator-item").each(function(o,u){o.addEventListener("click",n._handleIndicatorClickBound)}));var s=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=s.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){var n=this;typeof window.ontouchstart<"u"&&(this.el.removeEventListener("touchstart",this._handleCarouselTapBound),this.el.removeEventListener("touchmove",this._handleCarouselDragBound),this.el.removeEventListener("touchend",this._handleCarouselReleaseBound)),this.el.removeEventListener("mousedown",this._handleCarouselTapBound),this.el.removeEventListener("mousemove",this._handleCarouselDragBound),this.el.removeEventListener("mouseup",this._handleCarouselReleaseBound),this.el.removeEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.removeEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&this.$indicators.find(".indicator-item").each(function(s,o){s.removeEventListener("click",n._handleIndicatorClickBound)}),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleCarouselTap",value:function(n){n.type==="mousedown"&&h(n.target).is("img")&&n.preventDefault(),this.pressed=!0,this.dragged=!1,this.verticalDragged=!1,this.reference=this._xpos(n),this.referenceY=this._ypos(n),this.velocity=this.amplitude=0,this.frame=this.offset,this.timestamp=Date.now(),clearInterval(this.ticker),this.ticker=setInterval(this._trackBound,100)}},{key:"_handleCarouselDrag",value:function(n){var s=void 0,o=void 0,u=void 0,m=void 0;if(this.pressed)if(s=this._xpos(n),o=this._ypos(n),u=this.reference-s,m=Math.abs(this.referenceY-o),m<30&&!this.verticalDragged)(u>2||u<-2)&&(this.dragged=!0,this.reference=s,this._scroll(this.offset+u));else{if(this.dragged)return n.preventDefault(),n.stopPropagation(),!1;this.verticalDragged=!0}if(this.dragged)return n.preventDefault(),n.stopPropagation(),!1}},{key:"_handleCarouselRelease",value:function(n){if(this.pressed)this.pressed=!1;else return;return clearInterval(this.ticker),this.target=this.offset,(this.velocity>10||this.velocity<-10)&&(this.amplitude=.9*this.velocity,this.target=this.offset+this.amplitude),this.target=Math.round(this.target/this.dim)*this.dim,this.noWrap&&(this.target>=this.dim*(this.count-1)?this.target=this.dim*(this.count-1):this.target<0&&(this.target=0)),this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound),this.dragged&&(n.preventDefault(),n.stopPropagation()),!1}},{key:"_handleCarouselClick",value:function(n){if(this.dragged)return n.preventDefault(),n.stopPropagation(),!1;if(!this.options.fullWidth){var s=h(n.target).closest(".carousel-item").index(),o=this._wrap(this.center)-s;o!==0&&(n.preventDefault(),n.stopPropagation()),this._cycleTo(s)}}},{key:"_handleIndicatorClick",value:function(n){n.stopPropagation();var s=h(n.target).closest(".indicator-item");s.length&&this._cycleTo(s.index())}},{key:"_handleResize",value:function(n){this.options.fullWidth?(this.itemWidth=this.$el.find(".carousel-item").first().innerWidth(),this.imageHeight=this.$el.find(".carousel-item.active").height(),this.dim=this.itemWidth*2+this.options.padding,this.offset=this.center*2*this.itemWidth,this.target=this.offset,this._setCarouselHeight(!0)):this._scroll()}},{key:"_setCarouselHeight",value:function(n){var s=this,o=this.$el.find(".carousel-item.active").length?this.$el.find(".carousel-item.active").first():this.$el.find(".carousel-item").first(),u=o.find("img").first();if(u.length)if(u[0].complete){var m=u.height();if(m>0)this.$el.css("height",m+"px");else{var v=u[0].naturalWidth,c=u[0].naturalHeight,d=this.$el.width()/v*c;this.$el.css("height",d+"px")}}else u.one("load",function(f,y){s.$el.css("height",f.offsetHeight+"px")});else if(!n){var p=o.height();this.$el.css("height",p+"px")}}},{key:"_xpos",value:function(n){return n.targetTouches&&n.targetTouches.length>=1?n.targetTouches[0].clientX:n.clientX}},{key:"_ypos",value:function(n){return n.targetTouches&&n.targetTouches.length>=1?n.targetTouches[0].clientY:n.clientY}},{key:"_wrap",value:function(n){return n>=this.count?n%this.count:n<0?this._wrap(this.count+n%this.count):n}},{key:"_track",value:function(){var n=void 0,s=void 0,o=void 0,u=void 0;n=Date.now(),s=n-this.timestamp,this.timestamp=n,o=this.offset-this.frame,this.frame=this.offset,u=1e3*o/(1+s),this.velocity=.8*u+.2*this.velocity}},{key:"_autoScroll",value:function(){var n=void 0,s=void 0;this.amplitude&&(n=Date.now()-this.timestamp,s=this.amplitude*Math.exp(-n/this.options.duration),s>2||s<-2?(this._scroll(this.target-s),requestAnimationFrame(this._autoScrollBound)):this._scroll(this.target))}},{key:"_scroll",value:function(n){var s=this;this.$el.hasClass("scrolling")||this.el.classList.add("scrolling"),this.scrollingTimeout!=null&&window.clearTimeout(this.scrollingTimeout),this.scrollingTimeout=window.setTimeout(function(){s.$el.removeClass("scrolling")},this.options.duration);var o=void 0,u=void 0,m=void 0,v=void 0,c=void 0,d=void 0,p=void 0,f=void 0,y=void 0,g=void 0,_=this.center,b=1/this.options.numVisible;if(this.offset=typeof n=="number"?n:this.offset,this.center=Math.floor((this.offset+this.dim/2)/this.dim),m=this.offset-this.center*this.dim,v=m<0?1:-1,c=-v*m*2/this.dim,u=this.count>>1,this.options.fullWidth?(p="translateX(0)",g=1):(p="translateX("+(this.el.clientWidth-this.itemWidth)/2+"px) ",p+="translateY("+(this.el.clientHeight-this.itemHeight)/2+"px)",g=1-b*c),this.showIndicators){var w=this.center%this.count,T=this.$indicators.find(".indicator-item.active");T.index()!==w&&(T.removeClass("active"),this.$indicators.find(".indicator-item").eq(w)[0].classList.add("active"))}if(!this.noWrap||this.center>=0&&this.center<this.count){d=this.images[this._wrap(this.center)],h(d).hasClass("active")||(this.$el.find(".carousel-item").removeClass("active"),d.classList.add("active"));var O=p+" translateX("+-m/2+"px) translateX("+v*this.options.shift*c*o+"px) translateZ("+this.options.dist*c+"px)";this._updateItemStyle(d,g,0,O)}for(o=1;o<=u;++o){if(this.options.fullWidth?(f=this.options.dist,y=o===u&&m<0?1-c:1):(f=this.options.dist*(o*2+c*v),y=1-b*(o*2+c*v)),!this.noWrap||this.center+o<this.count){d=this.images[this._wrap(this.center+o)];var A=p+" translateX("+(this.options.shift+(this.dim*o-m)/2)+"px) translateZ("+f+"px)";this._updateItemStyle(d,y,-o,A)}if(this.options.fullWidth?(f=this.options.dist,y=o===u&&m>0?1-c:1):(f=this.options.dist*(o*2-c*v),y=1-b*(o*2-c*v)),!this.noWrap||this.center-o>=0){d=this.images[this._wrap(this.center-o)];var E=p+" translateX("+(-this.options.shift+(-this.dim*o-m)/2)+"px) translateZ("+f+"px)";this._updateItemStyle(d,y,-o,E)}}if(!this.noWrap||this.center>=0&&this.center<this.count){d=this.images[this._wrap(this.center)];var C=p+" translateX("+-m/2+"px) translateX("+v*this.options.shift*c+"px) translateZ("+this.options.dist*c+"px)";this._updateItemStyle(d,g,0,C)}var I=this.$el.find(".carousel-item").eq(this._wrap(this.center));_!==this.center&&typeof this.options.onCycleTo=="function"&&this.options.onCycleTo.call(this,I[0],this.dragged),typeof this.oneTimeCallback=="function"&&(this.oneTimeCallback.call(this,I[0],this.dragged),this.oneTimeCallback=null)}},{key:"_updateItemStyle",value:function(n,s,o,u){n.style[this.xform]=u,n.style.zIndex=o,n.style.opacity=s,n.style.visibility="visible"}},{key:"_cycleTo",value:function(n,s){var o=this.center%this.count-n;this.noWrap||(o<0?Math.abs(o+this.count)<Math.abs(o)&&(o+=this.count):o>0&&Math.abs(o-this.count)<o&&(o-=this.count)),this.target=this.dim*Math.round(this.offset/this.dim),o<0?this.target+=this.dim*Math.abs(o):o>0&&(this.target-=this.dim*o),typeof s=="function"&&(this.oneTimeCallback=s),this.offset!==this.target&&(this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound))}},{key:"next",value:function(n){(n===void 0||isNaN(n))&&(n=1);var s=this.center+n;if(s>=this.count||s<0){if(this.noWrap)return;s=this._wrap(s)}this._cycleTo(s)}},{key:"prev",value:function(n){(n===void 0||isNaN(n))&&(n=1);var s=this.center-n;if(s>=this.count||s<0){if(this.noWrap)return;s=this._wrap(s)}this._cycleTo(s)}},{key:"set",value:function(n,s){if((n===void 0||isNaN(n))&&(n=0),n>this.count||n<0){if(this.noWrap)return;n=this._wrap(n)}this._cycleTo(n,s)}}],[{key:"init",value:function(n,s){return di(a.__proto__||Object.getPrototypeOf(a),"init",this).call(this,this,n,s)}},{key:"getInstance",value:function(n){var s=n.jquery?n[0]:n;return s.M_Carousel}},{key:"defaults",get:function(){return i}}]),a}(fi);M.Carousel=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"carousel","M_Carousel")})(cash);(function(h){"use strict";var i={onOpen:void 0,onClose:void 0},r=function(t){hi(a,t);function a(l,n){Yr(this,a);var s=ii(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,a,l,n));return s.el.M_TapTarget=s,s.options=h.extend({},a.defaults,n),s.isOpen=!1,s.$origin=h("#"+s.$el.attr("data-target")),s._setup(),s._calculatePositioning(),s._setupEventHandlers(),s}return Xr(a,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.TapTarget=void 0}},{key:"_setupEventHandlers",value:function(){this._handleDocumentClickBound=this._handleDocumentClick.bind(this),this._handleTargetClickBound=this._handleTargetClick.bind(this),this._handleOriginClickBound=this._handleOriginClick.bind(this),this.el.addEventListener("click",this._handleTargetClickBound),this.originEl.addEventListener("click",this._handleOriginClickBound);var n=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=n.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleTargetClickBound),this.originEl.removeEventListener("click",this._handleOriginClickBound),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleTargetClick",value:function(n){this.open()}},{key:"_handleOriginClick",value:function(n){this.close()}},{key:"_handleResize",value:function(n){this._calculatePositioning()}},{key:"_handleDocumentClick",value:function(n){h(n.target).closest(".tap-target-wrapper").length||(this.close(),n.preventDefault(),n.stopPropagation())}},{key:"_setup",value:function(){this.wrapper=this.$el.parent()[0],this.waveEl=h(this.wrapper).find(".tap-target-wave")[0],this.originEl=h(this.wrapper).find(".tap-target-origin")[0],this.contentEl=this.$el.find(".tap-target-content")[0],h(this.wrapper).hasClass(".tap-target-wrapper")||(this.wrapper=document.createElement("div"),this.wrapper.classList.add("tap-target-wrapper"),this.$el.before(h(this.wrapper)),this.wrapper.append(this.el)),this.contentEl||(this.contentEl=document.createElement("div"),this.contentEl.classList.add("tap-target-content"),this.$el.append(this.contentEl)),this.waveEl||(this.waveEl=document.createElement("div"),this.waveEl.classList.add("tap-target-wave"),this.originEl||(this.originEl=this.$origin.clone(!0,!0),this.originEl.addClass("tap-target-origin"),this.originEl.removeAttr("id"),this.originEl.removeAttr("style"),this.originEl=this.originEl[0],this.waveEl.append(this.originEl)),this.wrapper.append(this.waveEl))}},{key:"_calculatePositioning",value:function(){var n=this.$origin.css("position")==="fixed";if(!n)for(var s=this.$origin.parents(),o=0;o<s.length&&(n=h(s[o]).css("position")=="fixed",!n);o++);var u=this.$origin.outerWidth(),m=this.$origin.outerHeight(),v=n?this.$origin.offset().top-M.getDocumentScrollTop():this.$origin.offset().top,c=n?this.$origin.offset().left-M.getDocumentScrollLeft():this.$origin.offset().left,d=window.innerWidth,p=window.innerHeight,f=d/2,y=p/2,g=c<=f,_=c>f,b=v<=y,w=v>y,T=c>=d*.25&&c<=d*.75,O=this.$el.outerWidth(),A=this.$el.outerHeight(),E=v+m/2-A/2,C=c+u/2-O/2,I=n?"fixed":"absolute",L=T?O:O/2+u,R=A/2,D=b?A/2:0,H=0,z=g&&!T?O/2-u:0,B=0,J=u,ee=w?"bottom":"top",Z=(u>m,u*2),q=Z,re=A/2-q/2,ge=O/2-Z/2,V={};V.top=b?E+"px":"",V.right=_?d-C-O+"px":"",V.bottom=w?p-E-A+"px":"",V.left=g?C+"px":"",V.position=I,h(this.wrapper).css(V),h(this.contentEl).css({width:L+"px",height:R+"px",top:D+"px",right:B+"px",bottom:H+"px",left:z+"px",padding:J+"px",verticalAlign:ee}),h(this.waveEl).css({top:re+"px",left:ge+"px",width:Z+"px",height:q+"px"})}},{key:"open",value:function(){this.isOpen||(typeof this.options.onOpen=="function"&&this.options.onOpen.call(this,this.$origin[0]),this.isOpen=!0,this.wrapper.classList.add("open"),document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound))}},{key:"close",value:function(){this.isOpen&&(typeof this.options.onClose=="function"&&this.options.onClose.call(this,this.$origin[0]),this.isOpen=!1,this.wrapper.classList.remove("open"),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound))}}],[{key:"init",value:function(n,s){return di(a.__proto__||Object.getPrototypeOf(a),"init",this).call(this,this,n,s)}},{key:"getInstance",value:function(n){var s=n.jquery?n[0]:n;return s.M_TapTarget}},{key:"defaults",get:function(){return i}}]),a}(fi);M.TapTarget=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"tapTarget","M_TapTarget")})(cash);(function(h){"use strict";var i={classes:"",dropdownOptions:{}},r=function(t){hi(a,t);function a(l,n){Yr(this,a);var s=ii(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,a,l,n));return s.$el.hasClass("browser-default")?ii(s):(s.el.M_FormSelect=s,s.options=h.extend({},a.defaults,n),s.isMultiple=s.$el.prop("multiple"),s.el.tabIndex=-1,s._keysSelected={},s._valueDict={},s._setupDropdown(),s._setupEventHandlers(),s)}return Xr(a,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_FormSelect=void 0}},{key:"_setupEventHandlers",value:function(){var n=this;this._handleSelectChangeBound=this._handleSelectChange.bind(this),this._handleOptionClickBound=this._handleOptionClick.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),h(this.dropdownOptions).find("li:not(.optgroup)").each(function(s){s.addEventListener("click",n._handleOptionClickBound)}),this.el.addEventListener("change",this._handleSelectChangeBound),this.input.addEventListener("click",this._handleInputClickBound)}},{key:"_removeEventHandlers",value:function(){var n=this;h(this.dropdownOptions).find("li:not(.optgroup)").each(function(s){s.removeEventListener("click",n._handleOptionClickBound)}),this.el.removeEventListener("change",this._handleSelectChangeBound),this.input.removeEventListener("click",this._handleInputClickBound)}},{key:"_handleSelectChange",value:function(n){this._setValueToInput()}},{key:"_handleOptionClick",value:function(n){n.preventDefault();var s=h(n.target).closest("li")[0],o=s.id;if(!h(s).hasClass("disabled")&&!h(s).hasClass("optgroup")&&o.length){var u=!0;if(this.isMultiple){var m=h(this.dropdownOptions).find("li.disabled.selected");m.length&&(m.removeClass("selected"),m.find('input[type="checkbox"]').prop("checked",!1),this._toggleEntryFromArray(m[0].id)),u=this._toggleEntryFromArray(o)}else h(this.dropdownOptions).find("li").removeClass("selected"),h(s).toggleClass("selected",u);var v=h(this._valueDict[o].el).prop("selected");v!==u&&(h(this._valueDict[o].el).prop("selected",u),this.$el.trigger("change"))}n.stopPropagation()}},{key:"_handleInputClick",value:function(){this.dropdown&&this.dropdown.isOpen&&(this._setValueToInput(),this._setSelectedStates())}},{key:"_setupDropdown",value:function(){var n=this;this.wrapper=document.createElement("div"),h(this.wrapper).addClass("select-wrapper "+this.options.classes),this.$el.before(h(this.wrapper)),this.wrapper.appendChild(this.el),this.el.disabled&&this.wrapper.classList.add("disabled"),this.$selectOptions=this.$el.children("option, optgroup"),this.dropdownOptions=document.createElement("ul"),this.dropdownOptions.id="select-options-"+M.guid(),h(this.dropdownOptions).addClass("dropdown-content select-dropdown "+(this.isMultiple?"multiple-select-dropdown":"")),this.$selectOptions.length&&this.$selectOptions.each(function(u){if(h(u).is("option")){var m=void 0;n.isMultiple?m=n._appendOptionWithIcon(n.$el,u,"multiple"):m=n._appendOptionWithIcon(n.$el,u),n._addOptionToValueDict(u,m)}else if(h(u).is("optgroup")){var v=h(u).children("option");h(n.dropdownOptions).append(h('<li class="optgroup"><span>'+u.getAttribute("label")+"</span></li>")[0]),v.each(function(c){var d=n._appendOptionWithIcon(n.$el,c,"optgroup-option");n._addOptionToValueDict(c,d)})}}),this.$el.after(this.dropdownOptions),this.input=document.createElement("input"),h(this.input).addClass("select-dropdown dropdown-trigger"),this.input.setAttribute("type","text"),this.input.setAttribute("readonly","true"),this.input.setAttribute("data-target",this.dropdownOptions.id),this.el.disabled&&h(this.input).prop("disabled","true"),this.$el.before(this.input),this._setValueToInput();var s=h('<svg class="caret" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');if(this.$el.before(s[0]),!this.el.disabled){var o=h.extend({},this.options.dropdownOptions);o.onOpenEnd=function(u){var m=h(n.dropdownOptions).find(".selected").first();if(n.dropdown.isScrollable&&m.length){var v=m[0].getBoundingClientRect().top-n.dropdownOptions.getBoundingClientRect().top;v-=n.dropdownOptions.clientHeight/2,n.dropdownOptions.scrollTop=v}},this.isMultiple&&(o.closeOnClick=!1),this.dropdown=M.Dropdown.init(this.input,o)}this._setSelectedStates()}},{key:"_addOptionToValueDict",value:function(n,s){var o=Object.keys(this._valueDict).length,u=this.dropdownOptions.id+o,m={};s.id=u,m.el=n,m.optionEl=s,this._valueDict[u]=m}},{key:"_removeDropdown",value:function(){h(this.wrapper).find(".caret").remove(),h(this.input).remove(),h(this.dropdownOptions).remove(),h(this.wrapper).before(this.$el),h(this.wrapper).remove()}},{key:"_appendOptionWithIcon",value:function(n,s,o){var u=s.disabled?"disabled ":"",m=o==="optgroup-option"?"optgroup-option ":"",v=this.isMultiple?'<label><input type="checkbox"'+u+'"/><span>'+s.innerHTML+"</span></label>":s.innerHTML,c=h("<li></li>"),d=h("<span></span>");d.html(v),c.addClass(u+" "+m),c.append(d);var p=s.getAttribute("data-icon");if(p){var f=h('<img alt="" src="'+p+'">');c.prepend(f)}return h(this.dropdownOptions).append(c[0]),c[0]}},{key:"_toggleEntryFromArray",value:function(n){var s=!this._keysSelected.hasOwnProperty(n),o=h(this._valueDict[n].optionEl);return s?this._keysSelected[n]=!0:delete this._keysSelected[n],o.toggleClass("selected",s),o.find('input[type="checkbox"]').prop("checked",s),o.prop("selected",s),s}},{key:"_setValueToInput",value:function(){var n=[],s=this.$el.find("option");if(s.each(function(u){if(h(u).prop("selected")){var m=h(u).text();n.push(m)}}),!n.length){var o=this.$el.find("option:disabled").eq(0);o.length&&o[0].value===""&&n.push(o.text())}this.input.value=n.join(", ")}},{key:"_setSelectedStates",value:function(){this._keysSelected={};for(var n in this._valueDict){var s=this._valueDict[n],o=h(s.el).prop("selected");h(s.optionEl).find('input[type="checkbox"]').prop("checked",o),o?(this._activateOption(h(this.dropdownOptions),h(s.optionEl)),this._keysSelected[n]=!0):h(s.optionEl).removeClass("selected")}}},{key:"_activateOption",value:function(n,s){if(s){this.isMultiple||n.find("li.selected").removeClass("selected");var o=h(s);o.addClass("selected")}}},{key:"getSelectedValues",value:function(){var n=[];for(var s in this._keysSelected)n.push(this._valueDict[s].el.value);return n}}],[{key:"init",value:function(n,s){return di(a.__proto__||Object.getPrototypeOf(a),"init",this).call(this,this,n,s)}},{key:"getInstance",value:function(n){var s=n.jquery?n[0]:n;return s.M_FormSelect}},{key:"defaults",get:function(){return i}}]),a}(fi);M.FormSelect=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"formSelect","M_FormSelect")})(cash);(function(h,i){"use strict";var r={},t=function(a){hi(l,a);function l(n,s){Yr(this,l);var o=ii(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,n,s));return o.el.M_Range=o,o.options=h.extend({},l.defaults,s),o._mousedown=!1,o._setupThumb(),o._setupEventHandlers(),o}return Xr(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeThumb(),this.el.M_Range=void 0}},{key:"_setupEventHandlers",value:function(){this._handleRangeChangeBound=this._handleRangeChange.bind(this),this._handleRangeMousedownTouchstartBound=this._handleRangeMousedownTouchstart.bind(this),this._handleRangeInputMousemoveTouchmoveBound=this._handleRangeInputMousemoveTouchmove.bind(this),this._handleRangeMouseupTouchendBound=this._handleRangeMouseupTouchend.bind(this),this._handleRangeBlurMouseoutTouchleaveBound=this._handleRangeBlurMouseoutTouchleave.bind(this),this.el.addEventListener("change",this._handleRangeChangeBound),this.el.addEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.addEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.addEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("change",this._handleRangeChangeBound),this.el.removeEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_handleRangeChange",value:function(){h(this.value).html(this.$el.val()),h(this.thumb).hasClass("active")||this._showRangeBubble();var s=this._calcRangeOffset();h(this.thumb).addClass("active").css("left",s+"px")}},{key:"_handleRangeMousedownTouchstart",value:function(s){if(h(this.value).html(this.$el.val()),this._mousedown=!0,this.$el.addClass("active"),h(this.thumb).hasClass("active")||this._showRangeBubble(),s.type!=="input"){var o=this._calcRangeOffset();h(this.thumb).addClass("active").css("left",o+"px")}}},{key:"_handleRangeInputMousemoveTouchmove",value:function(){if(this._mousedown){h(this.thumb).hasClass("active")||this._showRangeBubble();var s=this._calcRangeOffset();h(this.thumb).addClass("active").css("left",s+"px"),h(this.value).html(this.$el.val())}}},{key:"_handleRangeMouseupTouchend",value:function(){this._mousedown=!1,this.$el.removeClass("active")}},{key:"_handleRangeBlurMouseoutTouchleave",value:function(){if(!this._mousedown){var s=parseInt(this.$el.css("padding-left")),o=7+s+"px";h(this.thumb).hasClass("active")&&(i.remove(this.thumb),i({targets:this.thumb,height:0,width:0,top:10,easing:"easeOutQuad",marginLeft:o,duration:100})),h(this.thumb).removeClass("active")}}},{key:"_setupThumb",value:function(){this.thumb=document.createElement("span"),this.value=document.createElement("span"),h(this.thumb).addClass("thumb"),h(this.value).addClass("value"),h(this.thumb).append(this.value),this.$el.after(this.thumb)}},{key:"_removeThumb",value:function(){h(this.thumb).remove()}},{key:"_showRangeBubble",value:function(){var s=parseInt(h(this.thumb).parent().css("padding-left")),o=-7+s+"px";i.remove(this.thumb),i({targets:this.thumb,height:30,width:30,top:-30,marginLeft:o,duration:300,easing:"easeOutQuint"})}},{key:"_calcRangeOffset",value:function(){var s=this.$el.width()-15,o=parseFloat(this.$el.attr("max"))||100,u=parseFloat(this.$el.attr("min"))||0,m=(parseFloat(this.$el.val())-u)/(o-u);return m*s}}],[{key:"init",value:function(s,o){return di(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,s,o)}},{key:"getInstance",value:function(s){var o=s.jquery?s[0]:s;return o.M_Range}},{key:"defaults",get:function(){return r}}]),l}(fi);M.Range=t,M.jQueryLoaded&&M.initializeJqueryWrapper(t,"range","M_Range"),t.init(h("input[type=range]"))})(cash,M.anime)});function WU(){E0=!0,queueMicrotask(SO)}function SO(){if(!Sd.length){E0=!1;return}jC=!0;for(let h=0;h<Sd.length;h++)Sd[h].$st!==Pd&&XU(Sd[h]);Sd=[],E0=!1,jC=!1}function XU(h){let i=[h];for(;h=h[Xs];)h.$e&&h.$st!==Pd&&i.push(h);for(let r=i.length-1;r>=0;r--)FC(i[r])}function YU(h){let i=bs();return Op(i,h.length?h.bind(null,Od.bind(i)):h,null)}function ot(h){return Op(vs,h,null)}function Na(h){return Op(null,h,null)}function Ys(){jC||SO()}function Dd(){return vs}function Si(h,i){try{return Op(i,h,null)}catch(r){LC(i,r);return}}function TO(h,i=vs){return i?.$cx[h]}function ZU(h,i,r=vs){r&&(r.$cx={...r.$cx,[h]:i})}function Ft(h){if(!h||!vs)return h||qU;let i=vs;return i.$d?Array.isArray(i.$d)?i.$d.push(h):i.$d=[i.$d,h]:i.$d=h,function(){i.$st!==D0&&(h.call(null),I0(i.$d)?i.$d=null:Array.isArray(i.$d)&&i.$d.splice(i.$d.indexOf(h),1))}}function Od(h=!0){if(this.$st!==D0){if(this.$h)if(Array.isArray(this.$h))for(let i=this.$h.length-1;i>=0;i--)Od.call(this.$h[i]);else Od.call(this.$h);if(h){let i=this[Xs];i&&(Array.isArray(i.$h)?i.$h.splice(i.$h.indexOf(this),1):i.$h=null),KU(this)}}}function KU(h){h.$st=D0,h.$d&&CO(h),h.$s&&EC(h,0),h[Xs]=null,h.$s=null,h.$o=null,h.$h=null,h.$cx=OC,h.$eh=null}function CO(h){try{if(Array.isArray(h.$d))for(let i=h.$d.length-1;i>=0;i--){let r=h.$d[i];r.call(r)}else h.$d.call(h.$d);h.$d=null}catch(i){LC(h,i)}}function Op(h,i,r){let t=vs,a=Td;vs=h,Td=r;try{return i.call(h)}finally{vs=t,Td=a}}function LC(h,i){if(!h||!h.$eh)throw i;let r=0,t=h.$eh.length,a=i;for(r=0;r<t;r++)try{h.$eh[r](a);break}catch(l){a=l}if(r===t)throw a}function PC(){return this.$st===D0?this.$v:(Td&&!this.$e&&(!Kn&&Td.$s&&Td.$s[Fn]==this?Fn++:Kn?Kn.push(this):Kn=[this]),this.$c&&FC(this),this.$v)}function kO(h){let i=I0(h)?h(this.$v):h;if(this.$ch(this.$v,i)&&(this.$v=i,this.$o))for(let r=0;r<this.$o.length;r++)MO(this.$o[r],M0);return this.$v}function bs(){return new DC}function RC(h,i,r){return new jO(h,i,r)}function QU(h,i){return h!==i}function I0(h){return typeof h=="function"}function FC(h){if(h.$st===xO)for(let i=0;i<h.$s.length&&(FC(h.$s[i]),h.$st!==M0);i++);h.$st===M0?EO(h):h.$st=Pd}function JU(h){h.$h&&Od.call(h,!1),h.$d&&CO(h),h.$eh=h[Xs]?h[Xs].$eh:null}function EO(h){let i=Kn,r=Fn;Kn=null,Fn=0;try{JU(h);let t=Op(h,h.$c,h);yO(h),!h.$e&&h.$i?kO.call(h,t):(h.$v=t,h.$i=!0)}catch(t){yO(h),LC(h,t)}finally{Kn=i,Fn=r,h.$st=Pd}}function yO(h){if(Kn){if(h.$s&&EC(h,Fn),h.$s&&Fn>0){h.$s.length=Fn+Kn.length;for(let r=0;r<Kn.length;r++)h.$s[Fn+r]=Kn[r]}else h.$s=Kn;let i;for(let r=Fn;r<h.$s.length;r++)i=h.$s[r],i.$o?i.$o.push(h):i.$o=[h]}else h.$s&&Fn<h.$s.length&&(EC(h,Fn),h.$s.length=Fn)}function MO(h,i){if(!(h.$st>=i)&&(h.$e&&h.$st===Pd&&(Sd.push(h),E0||WU()),h.$st=i,h.$o))for(let r=0;r<h.$o.length;r++)MO(h.$o[r],xO)}function EC(h,i){let r,t;for(let a=i;a<h.$s.length;a++)r=h.$s[a],r.$o&&(t=r.$o.indexOf(h),r.$o[t]=r.$o[r.$o.length-1],r.$o.pop())}function Lp(...h){}function Zs(h){return h===null}function Zr(h){return typeof h>"u"}function AO(h){return Zs(h)||Zr(h)}function R0(h){return h?.constructor===Object}function Ur(h){return typeof h=="number"&&!Number.isNaN(h)}function dt(h){return typeof h=="string"}function BC(h){return typeof h=="boolean"}function dn(h){return typeof h=="function"}function ni(h){return Array.isArray(h)}function tV(h){return!!h?.[OO]}function Vt(h,i,r,t){return h.addEventListener(i,r,t),Ft(()=>h.removeEventListener(i,r,t))}function rV(...h){let i=new AbortController,r={signal:i.signal};function t(a){i.abort(a.target.reason)}for(let a of h){if(a.aborted){i.abort(a.reason);break}a.addEventListener("abort",t,r)}return i.signal}function LO(h){return!!h?.type.startsWith("touch")}function Id(h){return!!h?.type.startsWith("key")}function PO(h){return Id(h)&&h.key==="Enter"}function F0(h){return Id(h)&&(h.key==="Enter"||h.key===" ")}function DO(h){return h instanceof Node}function Mt(h,i,r){if(h)if(!r&&r!==""&&r!==0)h.removeAttribute(i);else{let t=r===!0?"":r+"";h.getAttribute(i)!==t&&h.setAttribute(i,t)}else return}function Qn(h,i,r){if(h)!r&&r!==0?h.style.removeProperty(i):h.style.setProperty(i,r+"");else return}function Dt(h,i){let r=RC(h,null,i),t=PC.bind(r);return t[Xs]=!0,t.set=kO.bind(r),t}function iV(h){return I0(h)&&Xs in h}function _s(h,i){let r=RC(i?.initial,h,i),t=PC.bind(r);return t[Xs]=!0,t}function nV(h,i){let r=RC(null,function(){let a=h();return I0(a)&&Ft(a),null},void 0);return r.$e=!0,EO(r),Od.bind(r,!0)}function IO(h){return iV(h)&&"set"in h}function Io(h){return{id:Symbol(),provide:h}}function Jn(h,i,r=Dd()){let t=!Zr(i);ZU(h.id,t?i:h.provide?.(),r)}function Ri(h){return TO(h.id)}function ws(h){return!Zr(TO(h.id))}function sV(h){let i={};for(let r of Object.keys(h)){let t=h[r];i[r]=Dt(t,t)}return i}function oV(h,i){return YU(()=>{Ap.$$=new AC(h,Dd(),i);let r=new h;return Ap.$$.component=r,Ap.$$=null,r})}function lr(h,i,r){h[Ep]||(h[Ep]=new Set),h[Ep].add(i)}function si(h,i,r){h[Mp]||(h[Mp]=new Set),h[Mp].add(i)}function B0(h){return Ri(h)}function aV(h,i){for(let r of h)r(i)}function gu(h){return h.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function VO(h){return h.charAt(0).toUpperCase()+h.slice(1)}function Pp(h){return h?"true":"false"}function NC(h){return Object.keys(h)}function Ks(){let h,i;return{promise:new Promise((t,a)=>{h=t,i=a}),resolve:h,reject:i}}function $O(h){return new Promise(i=>setTimeout(i,h))}function Ua(h){let i=-1,r;function t(...a){r=a,!(i>=0)&&(i=window.requestAnimationFrame(()=>{h.apply(this,r),i=-1,r=void 0}))}return t}function GO(h,i){return new Promise(r=>{lV(t=>{h?.(t),r()},i)})}function uV(h,i,r){var t=null,a=null,l=r&&r.leading,n=r&&r.trailing;l==null&&(l=!0),n==null&&(n=!l),l==!0&&(n=!1);var s=function(){t&&(clearTimeout(t),t=null)},o=function(){var m=a;s(),m&&m()},u=function(){var m=l&&!t,v=this,c=arguments;if(a=function(){return h.apply(v,c)},t||(t=setTimeout(function(){if(t=null,n)return a()},i)),m)return m=!1,a()};return u.cancel=s,u.flush=o,u}function cV(h,i,r){var t=null,a=null,l=function(){t&&(clearTimeout(t),a=null,t=null)},n=function(){var o=a;l(),o&&o()},s=function(){if(!i)return h.apply(this,arguments);var o=this,u=arguments,m=r&&!t;if(l(),a=function(){h.apply(o,u)},t=setTimeout(function(){if(t=null,!m){var v=a;return a=null,v()}},i),m)return a()};return s.cancel=l,s.flush=n,s}function gV(h){if(h===null)return hV;switch(typeof h){case"undefined":return kC;case"string":return kC;case"boolean":return VC;case"number":return fV;case"function":return pV;case"object":return ni(h)?mV:yV;default:return kC}}function jr(h,i){var t,a,l;class r extends h{constructor(...o){super(...o);Ce(this,"$");Ce(this,a,Po.Idle);Ce(this,l,null);Ce(this,"keepAlive",!1);Ce(this,"forwardKeepAlive",!0);if(this.$=Si(()=>oV(i),null),this.$.$$.addHooks(this),i.props){let u=this.$props,m=Object.getOwnPropertyDescriptors(this);for(let v of Object.keys(m))v in i.props&&(u[v].set(this[v]),delete this[v])}}static get observedAttributes(){if(!this[Ba]&&i.props){let o=new Map;for(let u of Object.keys(i.props)){let m=this.attrs?.[u],v=dt(m)?m:m&&m?.attr;v!==!1&&(v||(v=gu(u)),o.set(v,{prop:u,converter:m&&!dt(m)&&m?.converter||gV(i.props[u])}))}this[Ba]=o}return this[Ba]?Array.from(this[Ba].keys()):[]}get scope(){return this.$.$$.scope}get attachScope(){return this.$.$$.attachScope}get connectScope(){return this.$.$$.connectScope}get $props(){return this.$.$$.props}get $state(){return this.$.$$.$state}get state(){return this.$.state}attributeChangedCallback(o,u,m){let v=this.constructor;if(!v[Ba]){super.attributeChangedCallback?.(o,u,m);return}let c=v[Ba].get(o);c&&(this[c.prop]=c.converter(m))}connectedCallback(){let o=this.$?.$$;if(!o||o.destroyed)return;if(this[mu]!==Po.Ready){bV.call(this);return}if(!this.isConnected)return;this.hasAttribute("keep-alive")&&(this.keepAlive=!0),o.connect(),ni(this[fu])&&aV(this[fu],this),this[fu]=null;let u=super.connectedCallback;u&&Si(()=>u.call(this),this.connectScope)}disconnectedCallback(){let o=this.$?.$$;if(!o||o.destroyed)return;o.disconnect();let u=super.disconnectedCallback;u&&u.call(this),!this.keepAlive&&!this.hasAttribute("keep-alive")&&setTimeout(()=>{requestAnimationFrame(()=>{this.isConnected||o.destroy()})},0)}[(t=Ba,a=mu,l=fu,zO)](){let o=this.$.$$,u=this.constructor;if(o.destroyed)return;let m=u[Ba];if(m)for(let v of this.attributes){let c=m.get(v.name);c&&c.converter&&o.props[c.prop].set(c.converter(this.getAttribute(v.name)))}o.setup(),o.attach(this),this[mu]=Po.Ready,this.connectedCallback()}subscribe(o){return this.$.subscribe(o)}destroy(){this.disconnectedCallback(),this.$.destroy()}}return Ce(r,"attrs"),Ce(r,t,null),vV(r,i),r}function vV(h,i){let r=h.prototype,t=i.prototype;if(i.props)for(let a of Object.keys(i.props))Object.defineProperty(r,a,{enumerable:!0,configurable:!0,get(){return this.$props[a]()},set(l){this.$props[a].set(l)}});if(t[Ep])for(let a of t[Ep])Object.defineProperty(r,a,{enumerable:!0,configurable:!0,get(){return this.$[a]},set(l){this.$[a]=l}});if(t[Mp])for(let a of t[Mp])r[a]=function(...l){return this.$[a](...l)}}function bV(){if(this[mu]!==Po.Idle)return;this[mu]=Po.Pending;let h=wV(this),i=h&&window.customElements.get(h.localName),r=h&&h[mu]===Po.Ready;if(h&&(!i||!r)){_V.call(this,h);return}qO.call(this,h)}async function _V(h){await window.customElements.whenDefined(h.localName),h[mu]!==Po.Ready&&await new Promise(i=>(h[fu]??(h[fu]=[])).push(i)),qO.call(this,h)}function qO(h){if(this.isConnected){if(h){h.keepAlive&&h.forwardKeepAlive&&(this.keepAlive=!0,this.setAttribute("keep-alive",""));let i=this.$.$$.scope;i&&h.$.$$.attachScope.append(i)}this[zO]()}}function wV(h){let i=h.parentNode,r=h.localName.split("-",1)[0]+"-";for(;i;){if(i.nodeType===1&&i.localName.startsWith(r))return i;i=i.parentNode}return null}function Rd(h,i=!1){(i||!window.customElements.get(h.tagName))&&window.customElements.define(h.tagName,h)}var Xs,E0,jC,vs,Td,Kn,Fn,Sd,OC,qU,Pd,xO,M0,D0,DC,yu,jO,IC,eV,OO,xV,Lt,MC,Ld,Cd,kd,Qt,He,Ep,Mp,RO,TC,SV,jd,Ed,pu,Md,A0,FO,O0,BO,L0,NO,P0,UO,AC,Ap,Ii,hr,Ad,Do,lV,Rn,gO,vO,bO,Sn,Zn,Va,vu,UC,_O,wO,CC,j0,dV,HO,kC,hV,fV,VC,pV,mV,yV,Ba,zO,mu,fu,Po,WO,fr=Ot(()=>{Xs=Symbol(0),E0=!1,jC=!1,vs=null,Td=null,Kn=null,Fn=0,Sd=[],OC={},qU=()=>{},Pd=0,xO=1,M0=2,D0=3;DC=function(){this[Xs]=null,this.$h=null,vs&&vs.append(this)},yu=DC.prototype;yu.$cx=OC;yu.$eh=null;yu.$c=null;yu.$d=null;yu.append=function(h){h[Xs]=this,this.$h?Array.isArray(this.$h)?this.$h.push(h):this.$h=[this.$h,h]:this.$h=h,h.$cx=h.$cx===OC?this.$cx:{...this.$cx,...h.$cx},this.$eh&&(h.$eh=h.$eh?[...h.$eh,...this.$eh]:this.$eh)};yu.dispose=function(){Od.call(this)};jO=function(i,r,t){DC.call(this),this.$st=r?M0:Pd,this.$i=!1,this.$e=!1,this.$s=null,this.$o=null,this.$v=i,r&&(this.$c=r),t&&t.dirty&&(this.$ch=t.dirty)},IC=jO.prototype;Object.setPrototypeOf(IC,yu);IC.$ch=QU;IC.call=PC;eV=Event,OO=Symbol("DOM_EVENT"),Lt=class extends eV{constructor(r,...t){super(r,t[0]);Ce(this,xV,!0);Ce(this,"detail");Ce(this,"triggers",new MC);this.detail=t[0]?.detail;let a=t[0]?.trigger;a&&this.triggers.add(a)}get trigger(){return this.triggers.source}get originEvent(){return this.triggers.origin}get isOriginTrusted(){return this.triggers.origin?.isTrusted??!1}};xV=OO;MC=class{constructor(){Ce(this,"chain",[])}get source(){return this.chain[0]}get origin(){return this.chain[this.chain.length-1]}add(i){this.chain.push(i),tV(i)&&this.chain.push(...i.triggers)}remove(i){return this.chain.splice(this.chain.indexOf(i),1)[0]}has(i){return this.chain.some(r=>r===i)}hasType(i){return!!this.findType(i)}findType(i){return this.chain.find(r=>r.type===i)}walk(i){for(let r of this.chain){let t=i(r);if(t)return[r,t]}}[Symbol.iterator](){return this.chain.values()}};Ld=class extends EventTarget{constructor(){super(...arguments);Ce(this,"$ts__events")}addEventListener(r,t,a){return super.addEventListener(r,t,a)}removeEventListener(r,t,a){return super.removeEventListener(r,t,a)}};Qt=class{constructor(i){N(this,Cd,void 0);N(this,kd,void 0);me(this,Cd,i),me(this,kd,new AbortController),Ft(this.abort.bind(this))}get signal(){return S(this,kd).signal}add(i,r,t){if(this.signal.aborted)throw Error("aborted");return S(this,Cd).addEventListener(i,r,{...t,signal:t?.signal?rV(this.signal,t.signal):this.signal}),this}remove(i,r){return S(this,Cd).removeEventListener(i,r),this}abort(i){S(this,kd).abort(i)}};Cd=new WeakMap,kd=new WeakMap;He=nV;Ep=Symbol(0),Mp=Symbol(0),RO=Symbol(0),TC={},AC=class{constructor(i,r,t){N(this,A0);N(this,O0);N(this,L0);N(this,P0);Ce(this,"$ts__events");Ce(this,"$ts__vars");Ce(this,SV,null);Ce(this,"$el",Dt(null));Ce(this,"el",null);Ce(this,"scope",null);Ce(this,"attachScope",null);Ce(this,"connectScope",null);Ce(this,"component",null);Ce(this,"destroyed",!1);Ce(this,"props",TC);Ce(this,"attrs",null);Ce(this,"styles",null);Ce(this,"state");Ce(this,"$state");N(this,jd,[]);N(this,Ed,[]);N(this,pu,[]);N(this,Md,[]);this.scope=r,t?.scope&&t.scope.append(r);let a=i.state,l=i.props;if(a&&(this.$state=a.create(),this.state=new Proxy(this.$state,{get:(n,s)=>this.$state[s]()}),Jn(a,this.$state)),l&&(this.props=sV(l),t?.props))for(let n of Object.keys(t.props))this.props[n]?.set(t.props[n]);Ft(this.destroy.bind(this))}setup(){Si(()=>{for(let i of S(this,jd))i()},this.scope)}attach(i){this.el||(this.el=i,this.$el.set(i),Si(()=>{this.attachScope=bs(),Si(()=>{for(let r of S(this,Ed))r(this.el);U(this,A0,FO).call(this),U(this,O0,BO).call(this)},this.attachScope)},this.scope),i.dispatchEvent(new Event("attached")))}detach(){this.attachScope?.dispose(),this.attachScope=null,this.connectScope=null,this.el=null,this.$el.set(null)}connect(){!this.el||!this.attachScope||!S(this,pu).length||Si(()=>{this.connectScope=bs(),Si(()=>{for(let i of S(this,pu))i(this.el)},this.connectScope)},this.attachScope)}disconnect(){this.connectScope?.dispose(),this.connectScope=null}destroy(){if(this.destroyed)return;this.destroyed=!0,Si(()=>{for(let r of S(this,Md))r(this.el)},this.scope);let i=this.el;this.detach(),this.scope.dispose(),S(this,jd).length=0,S(this,Ed).length=0,S(this,pu).length=0,S(this,Md).length=0,this.component=null,this.attrs=null,this.styles=null,this.props=TC,this.scope=null,this.state=TC,this.$state=null,i&&delete i.$}addHooks(i){i.onSetup&&S(this,jd).push(i.onSetup.bind(i)),i.onAttach&&S(this,Ed).push(i.onAttach.bind(i)),i.onConnect&&S(this,pu).push(i.onConnect.bind(i)),i.onDestroy&&S(this,Md).push(i.onDestroy.bind(i))}};SV=RO,jd=new WeakMap,Ed=new WeakMap,pu=new WeakMap,Md=new WeakMap,A0=new WeakSet,FO=function(){if(this.attrs)for(let i of Object.keys(this.attrs))dn(this.attrs[i])?He(U(this,L0,NO).bind(this,i)):Mt(this.el,i,this.attrs[i])},O0=new WeakSet,BO=function(){if(this.styles)for(let i of Object.keys(this.styles))dn(this.styles[i])?He(U(this,P0,UO).bind(this,i)):Qn(this.el,i,this.styles[i])},L0=new WeakSet,NO=function(i){Mt(this.el,i,this.attrs[i].call(this.component))},P0=new WeakSet,UO=function(i){Qn(this.el,i,this.styles[i].call(this.component))};Ap={$$:null};Ii=class extends EventTarget{constructor(){super();Ce(this,"$$");Ap.$$&&this.attach(Ap)}get el(){return this.$$.el}get $el(){return this.$$.$el()}get scope(){return this.$$.scope}get attachScope(){return this.$$.attachScope}get connectScope(){return this.$$.connectScope}get $props(){return this.$$.props}get $state(){return this.$$.$state}get state(){return this.$$.state}attach({$$:r}){return this.$$=r,r.addHooks(this),this}addEventListener(r,t,a){this.listen(r,t,a)}removeEventListener(r,t,a){this.el?.removeEventListener(r,t,a)}setAttributes(r){this.$$.attrs||(this.$$.attrs={}),Object.assign(this.$$.attrs,r)}setStyles(r){this.$$.styles||(this.$$.styles={}),Object.assign(this.$$.styles,r)}setCSSVars(r){this.setStyles(r)}createEvent(r,...t){return new Lt(r,t[0])}dispatch(r,...t){if(!this.el)return!1;let a=r instanceof Event?r:new Lt(r,t[0]);return Object.defineProperty(a,"target",{get:()=>this.$$.component}),Na(()=>(this.$$[RO]?.(a),this.el.dispatchEvent(a)))}dispatchEvent(r){return this.dispatch(r)}listen(r,t,a){return this.el?Vt(this.el,r,t,a):Lp}},hr=class extends Ii{subscribe(i){return Si(()=>He(()=>i(this.state)),this.$$.scope)}destroy(){this.$$.destroy()}};Do=class{constructor(i){Ce(this,"id",Symbol(0));Ce(this,"record");N(this,Ad,void 0);this.record=i,me(this,Ad,Object.getOwnPropertyDescriptors(i))}create(){let i={},r=new Proxy(i,{get:(t,a)=>i[a]()});for(let t of Object.keys(this.record)){let a=S(this,Ad)[t].get;i[t]=a?_s(a.bind(r)):Dt(this.record[t])}return i}reset(i,r){for(let t of Object.keys(i))!S(this,Ad)[t].get&&(!r||r(t))&&i[t].set(this.record[t])}};Ad=new WeakMap;lV=typeof window<"u"?"requestIdleCallback"in window?window.requestIdleCallback:h=>window.setTimeout(h,1):Lp;Rn={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},gO=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],vO=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],bO=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],Sn=typeof window<"u"&&typeof window.document<"u"?window.document:{},Zn="fullscreenEnabled"in Sn&&Object.keys(Rn)||gO[0]in Sn&&gO||vO[0]in Sn&&vO||bO[0]in Sn&&bO||[],Va={requestFullscreen:function(h){return h[Zn[Rn.requestFullscreen]]()},requestFullscreenFunction:function(h){return h[Zn[Rn.requestFullscreen]]},get exitFullscreen(){return Sn[Zn[Rn.exitFullscreen]].bind(Sn)},get fullscreenPseudoClass(){return":"+Zn[Rn.fullscreen]},addEventListener:function(h,i,r){return Sn.addEventListener(Zn[Rn[h]],i,r)},removeEventListener:function(h,i,r){return Sn.removeEventListener(Zn[Rn[h]],i,r)},get fullscreenEnabled(){return!!Sn[Zn[Rn.fullscreenEnabled]]},set fullscreenEnabled(h){},get fullscreenElement(){return Sn[Zn[Rn.fullscreenElement]]},set fullscreenElement(h){},get onfullscreenchange(){return Sn[("on"+Zn[Rn.fullscreenchange]).toLowerCase()]},set onfullscreenchange(h){return Sn[("on"+Zn[Rn.fullscreenchange]).toLowerCase()]=h},get onfullscreenerror(){return Sn[("on"+Zn[Rn.fullscreenerror]).toLowerCase()]},set onfullscreenerror(h){return Sn[("on"+Zn[Rn.fullscreenerror]).toLowerCase()]=h}},vu=uV;UC=cV;_O=h=>typeof h=="object"&&h!=null&&h.nodeType===1,wO=(h,i)=>(!i||h!=="hidden")&&h!=="visible"&&h!=="clip",CC=(h,i)=>{if(h.clientHeight<h.scrollHeight||h.clientWidth<h.scrollWidth){let r=getComputedStyle(h,null);return wO(r.overflowY,i)||wO(r.overflowX,i)||(t=>{let a=(l=>{if(!l.ownerDocument||!l.ownerDocument.defaultView)return null;try{return l.ownerDocument.defaultView.frameElement}catch{return null}})(t);return!!a&&(a.clientHeight<t.scrollHeight||a.clientWidth<t.scrollWidth)})(h)}return!1},j0=(h,i,r,t,a,l,n,s)=>l<h&&n>i||l>h&&n<i?0:l<=h&&s<=r||n>=i&&s>=r?l-h-t:n>i&&s<r||l<h&&s>r?n-i+a:0,dV=h=>{let i=h.parentElement;return i??(h.getRootNode().host||null)},HO=(h,i)=>{var r,t,a,l;if(typeof document>"u")return[];let{scrollMode:n,block:s,inline:o,boundary:u,skipOverflowHiddenElements:m}=i,v=typeof u=="function"?u:B=>B!==u;if(!_O(h))throw new TypeError("Invalid target");let c=document.scrollingElement||document.documentElement,d=[],p=h;for(;_O(p)&&v(p);){if(p=dV(p),p===c){d.push(p);break}p!=null&&p===document.body&&CC(p)&&!CC(document.documentElement)||p!=null&&CC(p,m)&&d.push(p)}let f=(t=(r=window.visualViewport)==null?void 0:r.width)!=null?t:innerWidth,y=(l=(a=window.visualViewport)==null?void 0:a.height)!=null?l:innerHeight,{scrollX:g,scrollY:_}=window,{height:b,width:w,top:T,right:O,bottom:A,left:E}=h.getBoundingClientRect(),{top:C,right:I,bottom:L,left:R}=(B=>{let J=window.getComputedStyle(B);return{top:parseFloat(J.scrollMarginTop)||0,right:parseFloat(J.scrollMarginRight)||0,bottom:parseFloat(J.scrollMarginBottom)||0,left:parseFloat(J.scrollMarginLeft)||0}})(h),D=s==="start"||s==="nearest"?T-C:s==="end"?A+L:T+b/2-C+L,H=o==="center"?E+w/2-R+I:o==="end"?O+I:E-R,z=[];for(let B=0;B<d.length;B++){let J=d[B],{height:ee,width:Z,top:q,right:re,bottom:ge,left:V}=J.getBoundingClientRect();if(n==="if-needed"&&T>=0&&E>=0&&A<=y&&O<=f&&T>=q&&A<=ge&&E>=V&&O<=re)return z;let j=getComputedStyle(J),G=parseInt(j.borderLeftWidth,10),K=parseInt(j.borderTopWidth,10),ae=parseInt(j.borderRightWidth,10),Q=parseInt(j.borderBottomWidth,10),oe=0,W=0,Y="offsetWidth"in J?J.offsetWidth-J.clientWidth-G-ae:0,ne="offsetHeight"in J?J.offsetHeight-J.clientHeight-K-Q:0,ue="offsetWidth"in J?J.offsetWidth===0?0:Z/J.offsetWidth:0,se="offsetHeight"in J?J.offsetHeight===0?0:ee/J.offsetHeight:0;if(c===J)oe=s==="start"?D:s==="end"?D-y:s==="nearest"?j0(_,_+y,y,K,Q,_+D,_+D+b,b):D-y/2,W=o==="start"?H:o==="center"?H-f/2:o==="end"?H-f:j0(g,g+f,f,G,ae,g+H,g+H+w,w),oe=Math.max(0,oe+_),W=Math.max(0,W+g);else{oe=s==="start"?D-q-K:s==="end"?D-ge+Q+ne:s==="nearest"?j0(q,ge,ee,K,Q+ne,D,D+b,b):D-(q+ee/2)+ne/2,W=o==="start"?H-V-G:o==="center"?H-(V+Z/2)+Y/2:o==="end"?H-re+ae+Y:j0(V,re,Z,G,ae+Y,H,H+w,w);let{scrollLeft:pe,scrollTop:ve}=J;oe=se===0?0:Math.max(0,Math.min(ve+oe/se,J.scrollHeight-ee/se+ne)),W=ue===0?0:Math.max(0,Math.min(pe+W/ue,J.scrollWidth-Z/ue+Y)),D+=ve-oe,H+=pe-W}z.push({el:J,top:oe,left:W})}return z},kC=h=>h===null?"":h+"",hV=h=>h===null?null:h+"",fV=h=>h===null?0:Number(h),VC=h=>h!==null,pV=()=>null,mV=h=>h===null?[]:JSON.parse(h),yV=h=>h===null?{}:JSON.parse(h);Ba=Symbol(0),zO=Symbol(0),mu=Symbol(0),fu=Symbol(0);(function(h){h[h.Idle=0]="Idle";let r=1;h[h.Pending=r]="Pending";let t=2;h[h.Ready=t]="Ready"})(Po||(Po={}));WO='<path fill-rule="evenodd" clip-rule="evenodd" d="M6 7C5.63181 7 5.33333 7.29848 5.33333 7.66667V14.8667C5.33333 14.9403 5.39361 14.9999 5.46724 15.0009C10.8844 15.0719 15.2614 19.449 15.3325 24.8661C15.3334 24.9397 15.393 25 15.4667 25H26C26.3682 25 26.6667 24.7015 26.6667 24.3333V7.66667C26.6667 7.29848 26.3682 7 26 7H6ZM17.0119 22.2294C17.0263 22.29 17.0802 22.3333 17.1425 22.3333H23.3333C23.7015 22.3333 24 22.0349 24 21.6667V10.3333C24 9.96514 23.7015 9.66667 23.3333 9.66667H8.66667C8.29848 9.66667 8 9.96514 8 10.3333V13.1909C8 13.2531 8.04332 13.3071 8.10392 13.3214C12.5063 14.3618 15.9715 17.827 17.0119 22.2294Z" fill="currentColor"/> <path d="M13.2 25C13.2736 25 13.3334 24.9398 13.3322 24.8661C13.2615 20.5544 9.77889 17.0718 5.46718 17.0011C5.39356 16.9999 5.33333 17.0597 5.33333 17.1333V18.8667C5.33333 18.9403 5.39348 18.9999 5.4671 19.0015C8.67465 19.0716 11.2617 21.6587 11.3319 24.8662C11.3335 24.9399 11.393 25 11.4667 25H13.2Z" fill="currentColor"/> <path d="M5.33333 21.1333C5.33333 21.0597 5.39332 20.9998 5.46692 21.0022C7.57033 21.0712 9.26217 22.763 9.33114 24.8664C9.33356 24.94 9.27364 25 9.2 25H6C5.63181 25 5.33333 24.7015 5.33333 24.3333V21.1333Z" fill="currentColor"/>'});function xr(){return Ri($C)}var $C,Dp=Ot(()=>{fr();$C=Io()});function GC(h,i,r){return Ro(h,Fd(i,r))}function U0(h,i){return typeof h=="function"?h(i):h}function bu(h){return h.split("-")[0]}function V0(h){return h.split("-")[1]}function HC(h){return h==="x"?"y":"x"}function zC(h){return h==="y"?"height":"width"}function Bd(h){return["top","bottom"].includes(bu(h))?"y":"x"}function qC(h){return HC(Bd(h))}function XO(h,i,r){r===void 0&&(r=!1);let t=V0(h),a=qC(h),l=zC(a),n=a==="x"?t===(r?"end":"start")?"right":"left":t==="start"?"bottom":"top";return i.reference[l]>i.floating[l]&&(n=Ip(n)),[n,Ip(n)]}function YO(h){let i=Ip(h);return[N0(h),i,N0(i)]}function N0(h){return h.replace(/start|end/g,i=>CV[i])}function kV(h,i,r){let t=["left","right"],a=["right","left"],l=["top","bottom"],n=["bottom","top"];switch(h){case"top":case"bottom":return r?i?a:t:i?t:a;case"left":case"right":return i?l:n;default:return[]}}function ZO(h,i,r,t){let a=V0(h),l=kV(bu(h),r==="start",t);return a&&(l=l.map(n=>n+"-"+a),i&&(l=l.concat(l.map(N0)))),l}function Ip(h){return h.replace(/left|right|bottom|top/g,i=>TV[i])}function jV(h){return{top:0,right:0,bottom:0,left:0,...h}}function KO(h){return typeof h!="number"?jV(h):{top:h,right:h,bottom:h,left:h}}function _u(h){let{x:i,y:r,width:t,height:a}=h;return{width:t,height:a,top:r,left:i,right:i+t,bottom:r+a,x:i,y:r}}var Fd,Ro,Rp,Fp,Fo,TV,CV,$0=Ot(()=>{Fd=Math.min,Ro=Math.max,Rp=Math.round,Fp=Math.floor,Fo=h=>({x:h,y:h}),TV={left:"right",right:"left",bottom:"top",top:"bottom"},CV={start:"end",end:"start"}});function QO(h,i,r){let{reference:t,floating:a}=h,l=Bd(i),n=qC(i),s=zC(n),o=bu(i),u=l==="y",m=t.x+t.width/2-a.width/2,v=t.y+t.height/2-a.height/2,c=t[s]/2-a[s]/2,d;switch(o){case"top":d={x:m,y:t.y-a.height};break;case"bottom":d={x:m,y:t.y+t.height};break;case"right":d={x:t.x+t.width,y:v};break;case"left":d={x:t.x-a.width,y:v};break;default:d={x:t.x,y:t.y}}switch(V0(i)){case"start":d[n]-=c*(r&&u?-1:1);break;case"end":d[n]+=c*(r&&u?-1:1);break}return d}async function WC(h,i){var r;i===void 0&&(i={});let{x:t,y:a,platform:l,rects:n,elements:s,strategy:o}=h,{boundary:u="clippingAncestors",rootBoundary:m="viewport",elementContext:v="floating",altBoundary:c=!1,padding:d=0}=U0(i,h),p=KO(d),y=s[c?v==="floating"?"reference":"floating":v],g=_u(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(y)))==null||r?y:y.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(s.floating)),boundary:u,rootBoundary:m,strategy:o})),_=v==="floating"?{x:t,y:a,width:n.floating.width,height:n.floating.height}:n.reference,b=await(l.getOffsetParent==null?void 0:l.getOffsetParent(s.floating)),w=await(l.isElement==null?void 0:l.isElement(b))?await(l.getScale==null?void 0:l.getScale(b))||{x:1,y:1}:{x:1,y:1},T=_u(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:_,offsetParent:b,strategy:o}):_);return{top:(g.top-T.top+p.top)/w.y,bottom:(T.bottom-g.bottom+p.bottom)/w.y,left:(g.left-T.left+p.left)/w.x,right:(T.right-g.right+p.right)/w.x}}var JO,eL,tL,rL=Ot(()=>{$0();$0();JO=async(h,i,r)=>{let{placement:t="bottom",strategy:a="absolute",middleware:l=[],platform:n}=r,s=l.filter(Boolean),o=await(n.isRTL==null?void 0:n.isRTL(i)),u=await n.getElementRects({reference:h,floating:i,strategy:a}),{x:m,y:v}=QO(u,t,o),c=t,d={},p=0;for(let f=0;f<s.length;f++){let{name:y,fn:g}=s[f],{x:_,y:b,data:w,reset:T}=await g({x:m,y:v,initialPlacement:t,placement:c,strategy:a,middlewareData:d,rects:u,platform:n,elements:{reference:h,floating:i}});m=_??m,v=b??v,d={...d,[y]:{...d[y],...w}},T&&p<=50&&(p++,typeof T=="object"&&(T.placement&&(c=T.placement),T.rects&&(u=T.rects===!0?await n.getElementRects({reference:h,floating:i,strategy:a}):T.rects),{x:m,y:v}=QO(u,c,o)),f=-1)}return{x:m,y:v,placement:c,strategy:a,middlewareData:d}};eL=function(h){return h===void 0&&(h={}),{name:"flip",options:h,async fn(i){var r,t;let{placement:a,middlewareData:l,rects:n,initialPlacement:s,platform:o,elements:u}=i,{mainAxis:m=!0,crossAxis:v=!0,fallbackPlacements:c,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:f=!0,...y}=U0(h,i);if((r=l.arrow)!=null&&r.alignmentOffset)return{};let g=bu(a),_=Bd(s),b=bu(s)===s,w=await(o.isRTL==null?void 0:o.isRTL(u.floating)),T=c||(b||!f?[Ip(s)]:YO(s)),O=p!=="none";!c&&O&&T.push(...ZO(s,f,p,w));let A=[s,...T],E=await WC(i,y),C=[],I=((t=l.flip)==null?void 0:t.overflows)||[];if(m&&C.push(E[g]),v){let H=XO(a,n,w);C.push(E[H[0]],E[H[1]])}if(I=[...I,{placement:a,overflows:C}],!C.every(H=>H<=0)){var L,R;let H=(((L=l.flip)==null?void 0:L.index)||0)+1,z=A[H];if(z)return{data:{index:H,overflows:I},reset:{placement:z}};let B=(R=I.filter(J=>J.overflows[0]<=0).sort((J,ee)=>J.overflows[1]-ee.overflows[1])[0])==null?void 0:R.placement;if(!B)switch(d){case"bestFit":{var D;let J=(D=I.filter(ee=>{if(O){let Z=Bd(ee.placement);return Z===_||Z==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(Z=>Z>0).reduce((Z,q)=>Z+q,0)]).sort((ee,Z)=>ee[1]-Z[1])[0])==null?void 0:D[0];J&&(B=J);break}case"initialPlacement":B=s;break}if(a!==B)return{reset:{placement:B}}}return{}}}},tL=function(h){return h===void 0&&(h={}),{name:"shift",options:h,async fn(i){let{x:r,y:t,placement:a}=i,{mainAxis:l=!0,crossAxis:n=!1,limiter:s={fn:y=>{let{x:g,y:_}=y;return{x:g,y:_}}},...o}=U0(h,i),u={x:r,y:t},m=await WC(i,o),v=Bd(bu(a)),c=HC(v),d=u[c],p=u[v];if(l){let y=c==="y"?"top":"left",g=c==="y"?"bottom":"right",_=d+m[y],b=d-m[g];d=GC(_,d,b)}if(n){let y=v==="y"?"top":"left",g=v==="y"?"bottom":"right",_=p+m[y],b=p-m[g];p=GC(_,p,b)}let f=s.fn({...i,[c]:d,[v]:p});return{...f,data:{x:f.x-r,y:f.y-t}}}}}});function wu(h){return nL(h)?(h.nodeName||"").toLowerCase():"#document"}function Tn(h){var i;return(h==null||(i=h.ownerDocument)==null?void 0:i.defaultView)||window}function Qs(h){var i;return(i=(nL(h)?h.ownerDocument:h.document)||window.document)==null?void 0:i.documentElement}function nL(h){return h instanceof Node||h instanceof Tn(h).Node}function es(h){return h instanceof Element||h instanceof Tn(h).Element}function xs(h){return h instanceof HTMLElement||h instanceof Tn(h).HTMLElement}function iL(h){return typeof ShadowRoot>"u"?!1:h instanceof ShadowRoot||h instanceof Tn(h).ShadowRoot}function Ud(h){let{overflow:i,overflowX:r,overflowY:t,display:a}=ts(h);return/auto|scroll|overlay|hidden|clip/.test(i+t+r)&&!["inline","contents"].includes(a)}function sL(h){return["table","td","th"].includes(wu(h))}function Bp(h){return[":popover-open",":modal"].some(i=>{try{return h.matches(i)}catch{return!1}})}function G0(h){let i=H0(),r=es(h)?ts(h):h;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!i&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!i&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(t=>(r.willChange||"").includes(t))||["paint","layout","strict","content"].some(t=>(r.contain||"").includes(t))}function oL(h){let i=Bo(h);for(;xs(i)&&!xu(i);){if(G0(i))return i;if(Bp(i))return null;i=Bo(i)}return null}function H0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xu(h){return["html","body","#document"].includes(wu(h))}function ts(h){return Tn(h).getComputedStyle(h)}function Np(h){return es(h)?{scrollLeft:h.scrollLeft,scrollTop:h.scrollTop}:{scrollLeft:h.scrollX,scrollTop:h.scrollY}}function Bo(h){if(wu(h)==="html")return h;let i=h.assignedSlot||h.parentNode||iL(h)&&h.host||Qs(h);return iL(i)?i.host:i}function aL(h){let i=Bo(h);return xu(i)?h.ownerDocument?h.ownerDocument.body:h.body:xs(i)&&Ud(i)?i:aL(i)}function Nd(h,i,r){var t;i===void 0&&(i=[]),r===void 0&&(r=!0);let a=aL(h),l=a===((t=h.ownerDocument)==null?void 0:t.body),n=Tn(a);if(l){let s=z0(n);return i.concat(n,n.visualViewport||[],Ud(a)?a:[],s&&r?Nd(s):[])}return i.concat(a,Nd(a,[],r))}function z0(h){return h.parent&&Object.getPrototypeOf(h.parent)?h.frameElement:null}var lL=Ot(()=>{});function dL(h){let i=ts(h),r=parseFloat(i.width)||0,t=parseFloat(i.height)||0,a=xs(h),l=a?h.offsetWidth:r,n=a?h.offsetHeight:t,s=Rp(r)!==l||Rp(t)!==n;return s&&(r=l,t=n),{width:r,height:t,$:s}}function YC(h){return es(h)?h:h.contextElement}function Vd(h){let i=YC(h);if(!xs(i))return Fo(1);let r=i.getBoundingClientRect(),{width:t,height:a,$:l}=dL(i),n=(l?Rp(r.width):r.width)/t,s=(l?Rp(r.height):r.height)/a;return(!n||!Number.isFinite(n))&&(n=1),(!s||!Number.isFinite(s))&&(s=1),{x:n,y:s}}function hL(h){let i=Tn(h);return!H0()||!i.visualViewport?EV:{x:i.visualViewport.offsetLeft,y:i.visualViewport.offsetTop}}function MV(h,i,r){return i===void 0&&(i=!1),!r||i&&r!==Tn(h)?!1:i}function Su(h,i,r,t){i===void 0&&(i=!1),r===void 0&&(r=!1);let a=h.getBoundingClientRect(),l=YC(h),n=Fo(1);i&&(t?es(t)&&(n=Vd(t)):n=Vd(h));let s=MV(l,r,t)?hL(l):Fo(0),o=(a.left+s.x)/n.x,u=(a.top+s.y)/n.y,m=a.width/n.x,v=a.height/n.y;if(l){let c=Tn(l),d=t&&es(t)?Tn(t):t,p=c,f=z0(p);for(;f&&t&&d!==p;){let y=Vd(f),g=f.getBoundingClientRect(),_=ts(f),b=g.left+(f.clientLeft+parseFloat(_.paddingLeft))*y.x,w=g.top+(f.clientTop+parseFloat(_.paddingTop))*y.y;o*=y.x,u*=y.y,m*=y.x,v*=y.y,o+=b,u+=w,p=Tn(f),f=z0(p)}}return _u({width:m,height:v,x:o,y:u})}function AV(h){let{elements:i,rect:r,offsetParent:t,strategy:a}=h,l=a==="fixed",n=Qs(t),s=i?Bp(i.floating):!1;if(t===n||s&&l)return r;let o={scrollLeft:0,scrollTop:0},u=Fo(1),m=Fo(0),v=xs(t);if((v||!v&&!l)&&((wu(t)!=="body"||Ud(n))&&(o=Np(t)),xs(t))){let c=Su(t);u=Vd(t),m.x=c.x+t.clientLeft,m.y=c.y+t.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-o.scrollLeft*u.x+m.x,y:r.y*u.y-o.scrollTop*u.y+m.y}}function OV(h){return Array.from(h.getClientRects())}function fL(h){return Su(Qs(h)).left+Np(h).scrollLeft}function LV(h){let i=Qs(h),r=Np(h),t=h.ownerDocument.body,a=Ro(i.scrollWidth,i.clientWidth,t.scrollWidth,t.clientWidth),l=Ro(i.scrollHeight,i.clientHeight,t.scrollHeight,t.clientHeight),n=-r.scrollLeft+fL(h),s=-r.scrollTop;return ts(t).direction==="rtl"&&(n+=Ro(i.clientWidth,t.clientWidth)-a),{width:a,height:l,x:n,y:s}}function PV(h,i){let r=Tn(h),t=Qs(h),a=r.visualViewport,l=t.clientWidth,n=t.clientHeight,s=0,o=0;if(a){l=a.width,n=a.height;let u=H0();(!u||u&&i==="fixed")&&(s=a.offsetLeft,o=a.offsetTop)}return{width:l,height:n,x:s,y:o}}function DV(h,i){let r=Su(h,!0,i==="fixed"),t=r.top+h.clientTop,a=r.left+h.clientLeft,l=xs(h)?Vd(h):Fo(1),n=h.clientWidth*l.x,s=h.clientHeight*l.y,o=a*l.x,u=t*l.y;return{width:n,height:s,x:o,y:u}}function uL(h,i,r){let t;if(i==="viewport")t=PV(h,r);else if(i==="document")t=LV(Qs(h));else if(es(i))t=DV(i,r);else{let a=hL(h);t={...i,x:i.x-a.x,y:i.y-a.y}}return _u(t)}function pL(h,i){let r=Bo(h);return r===i||!es(r)||xu(r)?!1:ts(r).position==="fixed"||pL(r,i)}function IV(h,i){let r=i.get(h);if(r)return r;let t=Nd(h,[],!1).filter(s=>es(s)&&wu(s)!=="body"),a=null,l=ts(h).position==="fixed",n=l?Bo(h):h;for(;es(n)&&!xu(n);){let s=ts(n),o=G0(n);!o&&s.position==="fixed"&&(a=null),(l?!o&&!a:!o&&s.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Ud(n)&&!o&&pL(h,n))?t=t.filter(m=>m!==n):a=s,n=Bo(n)}return i.set(h,t),t}function RV(h){let{element:i,boundary:r,rootBoundary:t,strategy:a}=h,n=[...r==="clippingAncestors"?Bp(i)?[]:IV(i,this._c):[].concat(r),t],s=n[0],o=n.reduce((u,m)=>{let v=uL(i,m,a);return u.top=Ro(v.top,u.top),u.right=Fd(v.right,u.right),u.bottom=Fd(v.bottom,u.bottom),u.left=Ro(v.left,u.left),u},uL(i,s,a));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}}function FV(h){let{width:i,height:r}=dL(h);return{width:i,height:r}}function BV(h,i,r){let t=xs(i),a=Qs(i),l=r==="fixed",n=Su(h,!0,l,i),s={scrollLeft:0,scrollTop:0},o=Fo(0);if(t||!t&&!l)if((wu(i)!=="body"||Ud(a))&&(s=Np(i)),t){let v=Su(i,!0,l,i);o.x=v.x+i.clientLeft,o.y=v.y+i.clientTop}else a&&(o.x=fL(a));let u=n.left+s.scrollLeft-o.x,m=n.top+s.scrollTop-o.y;return{x:u,y:m,width:n.width,height:n.height}}function XC(h){return ts(h).position==="static"}function cL(h,i){return!xs(h)||ts(h).position==="fixed"?null:i?i(h):h.offsetParent}function mL(h,i){let r=Tn(h);if(Bp(h))return r;if(!xs(h)){let a=Bo(h);for(;a&&!xu(a);){if(es(a)&&!XC(a))return a;a=Bo(a)}return r}let t=cL(h,i);for(;t&&sL(t)&&XC(t);)t=cL(t,i);return t&&xu(t)&&XC(t)&&!G0(t)?r:t||oL(h)||r}function UV(h){return ts(h).direction==="rtl"}function $V(h,i){let r=null,t,a=Qs(h);function l(){var s;clearTimeout(t),(s=r)==null||s.disconnect(),r=null}function n(s,o){s===void 0&&(s=!1),o===void 0&&(o=1),l();let{left:u,top:m,width:v,height:c}=h.getBoundingClientRect();if(s||i(),!v||!c)return;let d=Fp(m),p=Fp(a.clientWidth-(u+v)),f=Fp(a.clientHeight-(m+c)),y=Fp(u),_={rootMargin:-d+"px "+-p+"px "+-f+"px "+-y+"px",threshold:Ro(0,Fd(1,o))||1},b=!0;function w(T){let O=T[0].intersectionRatio;if(O!==o){if(!b)return n();O?n(!1,O):t=setTimeout(()=>{n(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(w,{..._,root:a.ownerDocument})}catch{r=new IntersectionObserver(w,_)}r.observe(h)}return n(!0),l}function yL(h,i,r,t){t===void 0&&(t={});let{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:n=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:o=!1}=t,u=YC(h),m=a||l?[...u?Nd(u):[],...Nd(i)]:[];m.forEach(g=>{a&&g.addEventListener("scroll",r,{passive:!0}),l&&g.addEventListener("resize",r)});let v=u&&s?$V(u,r):null,c=-1,d=null;n&&(d=new ResizeObserver(g=>{let[_]=g;_&&_.target===u&&d&&(d.unobserve(i),cancelAnimationFrame(c),c=requestAnimationFrame(()=>{var b;(b=d)==null||b.observe(i)})),r()}),u&&!o&&d.observe(u),d.observe(i));let p,f=o?Su(h):null;o&&y();function y(){let g=Su(h);f&&(g.x!==f.x||g.y!==f.y||g.width!==f.width||g.height!==f.height)&&r(),f=g,p=requestAnimationFrame(y)}return r(),()=>{var g;m.forEach(_=>{a&&_.removeEventListener("scroll",r),l&&_.removeEventListener("resize",r)}),v?.(),(g=d)==null||g.disconnect(),d=null,o&&cancelAnimationFrame(p)}}var EV,NV,VV,gL,vL,bL,_L=Ot(()=>{rL();$0();lL();EV=Fo(0);NV=async function(h){let i=this.getOffsetParent||mL,r=this.getDimensions,t=await r(h.floating);return{reference:BV(h.reference,await i(h.floating),h.strategy),floating:{x:0,y:0,width:t.width,height:t.height}}};VV={convertOffsetParentRelativeRectToViewportRelativeRect:AV,getDocumentElement:Qs,getClippingRect:RV,getOffsetParent:mL,getElementRects:NV,getClientRects:OV,getDimensions:FV,getScale:Vd,isElement:es,isRTL:UV};gL=tL,vL=eL,bL=(h,i,r)=>{let t=new Map,a={platform:VV,...r},l={...a.platform,_c:t};return JO(h,i,{...a,platform:l})}});function KC(h,i){let r=i.composedPath()[0];return DO(r)&&h.contains(r)}function GV(h){return ZC.add(h),()=>ZC.delete(h)}function Vr(h,i,r){h.hasAttribute(i)||h.setAttribute(i,r)}function $a(h,i){if(h.hasAttribute("aria-label")||h.hasAttribute("data-no-label"))return;if(!dn(i)){Mt(h,"aria-label",i);return}function r(){Mt(h,"aria-label",i())}He(r)}function QC(h){let i=getComputedStyle(h);return i.display!=="none"&&parseInt(i.opacity)>0}function HV(h){return!!h&&("checkVisibility"in h?h.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0}):QC(h))}function JC(h,i){return GV(()=>i(HV(h)))}function ek(h,i,r){for(;i;){if(i===h)return!0;if(r?.(i))break;i=i.parentElement}return!1}function Ga(h,i){return new Qt(h).add("pointerup",r=>{r.button===0&&!r.defaultPrevented&&i(r)}).add("keydown",r=>{F0(r)&&i(r)})}function q0(h){return LO(h)&&(h.touches.length>1||h.changedTouches.length>1)}function tk(h){let i=Dd(),r=window.requestAnimationFrame(()=>{Si(h,i),r=-1});return()=>void window.cancelAnimationFrame(r)}function wL(h,i,r){let t,a=h,l=h.parentElement,n=h.content.firstElementChild,s=[];!n&&h.firstElementChild&&(h.innerHTML=h.firstElementChild.outerHTML,h.firstElementChild.remove(),n=h.content.firstElementChild);for(let o=0;o<i;o++)t=document.importNode(n,!0),r?.(t,o),l.insertBefore(t,a.nextSibling),s.push(t),a=t;return Ft(()=>{for(let o=0;o<s.length;o++)s[o].remove()}),s}function W0(h){let i=document.createElement("template");return i.innerHTML=h,i.content}function X0(h){return h.cloneNode(!0).firstElementChild}function xL(h,i,r,{offsetVarName:t,xOffset:a,yOffset:l,...n}){if(!h)return;let s=r.replace(" ","-").replace("-center","");if(Qn(h,"visibility",i?null:"hidden"),!i)return;let o=r.includes("top"),u=v=>r.includes("left")?`calc(-1 * ${v})`:v,m=v=>o?`calc(-1 * ${v})`:v;return yL(i,h,()=>{bL(i,h,{placement:s,middleware:[...n.middleware??[],vL({fallbackAxisSideDirection:"start",crossAxis:!1}),gL()],...n}).then(({x:v,y:c,middlewareData:d})=>{let p=!!d.flip?.index;o=r.includes(p?"bottom":"top"),h.setAttribute("data-placement",p?r.startsWith("top")?r.replace("top","bottom"):r.replace("bottom","top"):r),Object.assign(h.style,{top:`calc(${c+"px"} + ${m(l?l+"px":`var(--${t}-y-offset, 0px)`)})`,left:`calc(${v+"px"} + ${u(a?a+"px":`var(--${t}-x-offset, 0px)`)})`})})})}function SL(h){return getComputedStyle(h).animationName!=="none"}function $d(h){return h instanceof HTMLElement}var ZC,Up=Ot(()=>{_L();fr();ZC=new Set;{let h=function(){for(let i of ZC)try{i()}catch{}window.requestAnimationFrame(h)};h()}});function TL(h,i){return[...h].sort(i?qV:zV)}function zV(h,i){return h.height===i.height?(h.bitrate??0)-(i.bitrate??0):h.height-i.height}function qV(h,i){return i.height===h.height?(i.bitrate??0)-(h.bitrate??0):i.height-h.height}function WV(h){return h?"true":"false"}function Ss(h){return()=>WV(h())}var CL=Ot(()=>{});function ik(){return YV()&&dn(screen.orientation.unlock)}function YV(){return!Zr(window.screen.orientation)&&!Zr(window.screen.orientation.lock)}function Y0(h,i){return h||(h=document.createElement("audio")),h.canPlayType(i).length>0}function Z0(h,i){return h||(h=document.createElement("video")),h.canPlayType(i).length>0}function nk(h){return h||(h=document.createElement("video")),h.canPlayType("application/vnd.apple.mpegurl").length>0}function sk(h){return!!document.pictureInPictureEnabled&&!h?.disablePictureInPicture}function ok(h){return dn(h?.webkitSupportsPresentationMode)&&dn(h?.webkitSetPresentationMode)}async function kL(){let h=document.createElement("video");return h.volume=.5,await $O(0),h.volume===.5}function ZV(){return window?.ManagedMediaSource??window?.MediaSource??window?.WebKitMediaSource}function KV(){return window?.SourceBuffer??window?.WebKitSourceBuffer}function Gd(){let h=ZV();if(Zr(h))return!1;let i=h&&dn(h.isTypeSupported)&&h.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=KV(),t=Zr(r)||!Zr(r.prototype)&&dn(r.prototype.appendBuffer)&&dn(r.prototype.remove);return!!i&&!!t}function K0(){return Gd()}function ak({src:h,type:i}){return dt(h)?QV.test(h)||JV.has(i)||h.startsWith("blob:")&&i==="audio/object":i==="audio/object"}function lk(h){return dt(h.src)?e$.test(h.src)||t$.has(h.type)||h.src.startsWith("blob:")&&h.type==="video/object"||za(h)&&nk():h.type==="video/object"}function za({src:h,type:i}){return dt(h)&&r$.test(h)||n$.has(i)}function Q0({src:h,type:i}){return dt(h)&&i$.test(h)||s$.has(i)}function J0(h){return dt(h.src)&&(ak(h)||lk(h)||za(h))}function jL(h){return typeof window.MediaStream<"u"&&h instanceof window.MediaStream}var XV,Tu,rk,Ha,Vp,QV,JV,e$,t$,r$,i$,n$,s$,Cu=Ot(()=>{fr();XV=navigator?.userAgent.toLowerCase()||"",Tu=/iphone|ipad|ipod|ios|crios|fxios/i.test(XV),rk=/(iphone|ipod)/gi.test(navigator?.platform||""),Ha=!!window.chrome,Vp=!!window.safari||Tu;QV=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx|flac)($|\?)/i,JV=new Set(["audio/mpeg","audio/ogg","audio/3gp","audio/mp3","audio/webm","audio/flac","audio/m4a","audio/m4b","audio/mp4a"]),e$=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,t$=new Set(["video/mp4","video/webm","video/3gp","video/ogg","video/avi","video/mpeg"]),r$=/\.(m3u8)($|\?)/i,i$=/\.(mpd)($|\?)/i,n$=new Set(["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"]),s$=new Set(["application/dash+xml"])});function EL(h,i){let r=new URLSearchParams;for(let t of Object.keys(i))r.set(t,i[t]+"");return h+"?"+r.toString()}function Bn(h,i="preconnect"){let r=document.querySelector(`link[href="${h}"]`);if(!Zs(r))return!0;let t=document.createElement("link");return t.rel=i,t.href=h,t.crossOrigin="true",document.head.append(t),!0}function Hd(h){if(e1[h])return e1[h].promise;let i=Ks(),r=document.querySelector(`script[src="${h}"]`);if(!Zs(r))return i.resolve(),i.promise;let t=document.createElement("script");return t.src=h,t.onload=()=>{i.resolve(),delete e1[h]},t.onerror=()=>{i.reject(),delete e1[h]},setTimeout(()=>document.head.append(t),0),i.promise}function qa(h){return h==="use-credentials"?"include":dt(h)?"same-origin":void 0}var e1,Js=Ot(()=>{fr();e1={}});function uk(h,i){return i>=h.startTime&&i<h.endTime}function ML(h,i,r){let t=null,a=Dd();function l(){let n=dt(i)?[i]:i,s=h.toArray().find(o=>n.includes(o.kind)&&o.mode==="showing");if(s!==t){if(!s){r(null),t=null;return}s.readyState==2?r(s):(r(null),Si(()=>{let o=Vt(s,"load",()=>{r(s),o()},{once:!0})},a)),t=s}}return l(),Vt(h,"mode-change",l)}var ck=Ot(()=>{fr()});var AL={};en(AL,{SRTParser:()=>t1,default:()=>l$});function l$(){return new t1}var o$,a$,t1,OL=Ot(()=>{$p();o$=/,/g,a$="-->",t1=class extends qd{parse(i,r){if(i==="")this.c&&(this.l.push(this.c),this.h.onCue?.(this.c),this.c=null),this.e=zd.None;else if(this.e===zd.Cue)this.c.text+=(this.c.text?`
`:"")+i;else if(i.includes(a$)){let t=this.q(i,r);t&&(this.c=new No(t[0],t[1],t[2].join(" ")),this.c.id=this.n,this.e=zd.Cue)}this.n=i}q(i,r){return super.q(i.replace(o$,"."),r)}}});var dk={};en(dk,{ParseErrorBuilder:()=>u$});var u$,hk=Ot(()=>{$p();u$={r(){return new Cn({code:rs.BadSignature,reason:"missing WEBVTT file header",line:1})},s(h,i){return new Cn({code:rs.BadTimestamp,reason:`cue start timestamp \`${h}\` is invalid on line ${i}`,line:i})},t(h,i){return new Cn({code:rs.BadTimestamp,reason:`cue end timestamp \`${h}\` is invalid on line ${i}`,line:i})},u(h,i,r){return new Cn({code:rs.BadTimestamp,reason:`cue end timestamp \`${i}\` is greater than start \`${h}\` on line ${r}`,line:r})},y(h,i,r){return new Cn({code:rs.BadSettingValue,reason:`invalid value for cue setting \`${h}\` on line ${r} (value: ${i})`,line:r})},x(h,i,r){return new Cn({code:rs.UnknownSetting,reason:`unknown cue setting \`${h}\` on line ${r} (value: ${i})`,line:r})},w(h,i,r){return new Cn({code:rs.BadSettingValue,reason:`invalid value for region setting \`${h}\` on line ${r} (value: ${i})`,line:r})},v(h,i,r){return new Cn({code:rs.UnknownSetting,reason:`unknown region setting \`${h}\` on line ${r} (value: ${i})`,line:r})},T(h,i){return new Cn({code:rs.BadFormat,reason:`format missing for \`${h}\` block on line ${i}`,line:i})}}});var FL={};en(FL,{SSAParser:()=>n1,default:()=>c$});function pk(h){let i=parseInt(h.replace("&H",""),16);if(i>=0){let t=(i>>24&255^255)/255,a=i>>16&255,l=i>>8&255;return"rgba("+[i&255,l,a,t].join(",")+")"}return null}function mk(h,i,r){let t=Math.ceil(2*Math.PI*h),a="";for(let l=0;l<t;l++){let n=2*Math.PI*l/t;a+=h*Math.cos(n)+"px "+i*Math.sin(n)+"px 0 "+r+(l==t-1?"":",")}return a}function c$(){return new n1}var r1,LL,PL,i1,DL,IL,RL,fk,n1,BL=Ot(()=>{$p();r1=/^Format:[\s\t]*/,LL=/^Style:[\s\t]*/,PL=/^Dialogue:[\s\t]*/,i1=/[\s\t]*,[\s\t]*/,DL=/\{[^}]+\}/g,IL=/\\N/g,RL=/^\[(.*)[\s\t]?Styles\]$/,fk=/^\[(.*)[\s\t]?Events\]$/,n1=class{constructor(){Ce(this,"h");Ce(this,"O",0);Ce(this,"c",null);Ce(this,"l",[]);Ce(this,"m",[]);Ce(this,"N",null);Ce(this,"f");Ce(this,"P",{})}async init(i){this.h=i,i.errors&&(this.f=(await Promise.resolve().then(()=>(hk(),dk))).ParseErrorBuilder)}parse(i,r){if(this.O)switch(this.O){case 1:if(i==="")this.O=0;else if(LL.test(i))if(this.N){let t=i.replace(LL,"").split(i1);this.S(t)}else this.g(this.f?.T("Style",r));else r1.test(i)?this.N=i.replace(r1,"").split(i1):fk.test(i)&&(this.N=null,this.O=2);break;case 2:if(i==="")this.Q();else if(PL.test(i))if(this.Q(),this.N){let t=i.replace(PL,"").split(i1),a=this.U(t,r);a&&(this.c=a)}else this.g(this.f?.T("Dialogue",r));else this.c?this.c.text+=`
`+i.replace(DL,"").replace(IL,`
`):r1.test(i)?this.N=i.replace(r1,"").split(i1):RL.test(i)?(this.N=null,this.O=1):fk.test(i)&&(this.N=null)}else i===""||(RL.test(i)?(this.N=null,this.O=1):fk.test(i)&&(this.N=null,this.O=2))}done(){return{metadata:{},cues:this.l,regions:[],errors:this.m}}Q(){this.c&&(this.l.push(this.c),this.h.onCue?.(this.c),this.c=null)}S(i){let r="Default",t={},a,l="center",n="bottom",s,o=1.2,u,m,v=3,c=[];for(let d=0;d<this.N.length;d++){let p=this.N[d],f=i[d];switch(p){case"Name":r=f;break;case"Fontname":t["font-family"]=f;break;case"Fontsize":t["font-size"]=`calc(${f} / var(--overlay-height))`;break;case"PrimaryColour":let y=pk(f);y&&(t["--cue-color"]=y);break;case"BorderStyle":v=parseInt(f,10);break;case"BackColour":m=pk(f);break;case"OutlineColour":let g=pk(f);g&&(u=g);break;case"Bold":parseInt(f)&&(t["font-weight"]="bold");break;case"Italic":parseInt(f)&&(t["font-style"]="italic");break;case"Underline":parseInt(f)&&(t["text-decoration"]="underline");break;case"StrikeOut":parseInt(f)&&(t["text-decoration"]="line-through");break;case"Spacing":t["letter-spacing"]=f+"px";break;case"AlphaLevel":t.opacity=parseFloat(f);break;case"ScaleX":c.push(`scaleX(${parseFloat(f)/100})`);break;case"ScaleY":c.push(`scaleY(${parseFloat(f)/100})`);break;case"Angle":c.push(`rotate(${f}deg)`);break;case"Shadow":o=parseInt(f,10)*1.2;break;case"MarginL":t["--cue-width"]="auto",t["--cue-left"]=parseFloat(f)+"px";break;case"MarginR":t["--cue-width"]="auto",t["--cue-right"]=parseFloat(f)+"px";break;case"MarginV":s=parseFloat(f);break;case"Outline":a=parseInt(f,10);break;case"Alignment":let _=parseInt(f,10);switch(_>=4&&(n=_>=7?"top":"center"),_%3){case 1:l="start";break;case 2:l="center";break;case 3:l="end";break}}}if(t.R=n,t["--cue-white-space"]="normal",t["--cue-line-height"]="normal",t["--cue-text-align"]=l,n==="center"?(t["--cue-top"]="50%",c.push("translateY(-50%)")):t[`--cue-${n}`]=(s||0)+"px",v===1&&(t["--cue-padding-y"]="0"),(v===1||m)&&(t["--cue-bg-color"]=v===1?"none":m),v===3&&u&&(t["--cue-outline"]=`${a}px solid ${u}`),v===1&&typeof a=="number"){let d=m??"#000";t["--cue-text-shadow"]=[u&&mk(a*1.2,o*1.2,u),u?mk(a*(a/2),o*(a/2),d):mk(a,o,d)].filter(Boolean).join(", ")}c.length&&(t["--cue-transform"]=c.join(" ")),this.P[r]=t}U(i,r){let t=this.V(i),a=this.q(t.Start,t.End,r);if(!a)return;let l=new No(a[0],a[1],""),n={...this.P[t.Style]||{}},s=t.Name?`<v ${t.Name}>`:"",o=n.R,u=t.MarginL&&parseFloat(t.MarginL),m=t.MarginR&&parseFloat(t.MarginR),v=t.MarginV&&parseFloat(t.MarginV);return u&&(n["--cue-width"]="auto",n["--cue-left"]=u+"px"),m&&(n["--cue-width"]="auto",n["--cue-right"]=m+"px"),v&&o!=="center"&&(n[`--cue-${o}`]=v+"px"),l.text=s+i.slice(this.N.length-1).join(", ").replace(DL,"").replace(IL,`
`),delete n.R,Object.keys(n).length&&(l.style=n),l}V(i){let r={};for(let t=0;t<this.N.length;t++)r[this.N[t]]=i[t];return r}q(i,r,t){let a=Uo(i),l=Uo(r);if(a!==null&&l!==null&&l>a)return[a,l];a===null&&this.g(this.f?.s(i,t)),l===null&&this.g(this.f?.t(r,t)),a!=null&&l!==null&&l>a&&this.g(this.f?.u(a,l,t))}g(i){if(i){if(this.m.push(i),this.h.strict)throw this.h.cancel(),i;this.h.onError?.(i)}}}});async function HL(h,i){let r=new ReadableStream({start(t){let a=h.split(GL);for(let l of a)t.enqueue(l);t.close()}});return l1(r,i)}async function l1(h,i){let r=i?.type??"vtt",t;if(typeof r=="string")switch(r){case"srt":t=(await Promise.resolve().then(()=>(OL(),AL))).default;break;case"ssa":case"ass":t=(await Promise.resolve().then(()=>(BL(),FL))).default;break;default:t=(await Promise.resolve().then(function(){return E$})).default}else t=r;let a,l=h.getReader(),n=t(),s=!!i?.strict||!!i?.errors;await n.init({strict:!1,...i,errors:s,type:r,cancel(){l.cancel(),a=n.done(!0)}});let o=1;for(;;){let{value:u,done:m}=await l.read();if(m){n.parse("",o),a=n.done(!1);break}n.parse(u,o),o++}return a}async function zL(h,i){let r=await h;if(!r.ok||!r.body)return{metadata:{},cues:[],regions:[],errors:[void 0]};let t=r.headers.get("content-type")||"",a=t.match(/text\/(.*?)(?:;|$)/)?.[1],l=t.match(/charset=(.*?)(?:;|$)/)?.[1];return bk(r.body,{type:a,encoding:l,...i})}async function bk(h,{encoding:i="utf-8",...r}={}){let t=h.pipeThrough(new gk(i));return l1(t,r)}function f$(h){let i=parseInt(h,10);return Number.isNaN(i)?null:i}function Hp(h){let i=parseInt(h.replace(h$,""),10);return!Number.isNaN(i)&&i>=0&&i<=100?i:null}function UL(h){if(!h.includes(NL))return null;let[i,r]=h.split(NL).map(Hp);return i!==null&&r!==null?[i,r]:null}function p$(h){let i=parseFloat(h);return Number.isNaN(i)?null:i}function Uo(h){let i=h.match(k$);if(!i)return null;let r=i[1]?parseInt(i[1],10):0,t=parseInt(i[2],10),a=parseInt(i[3],10),l=i[4]?parseInt(i[4].padEnd(3,"0"),10):0,n=r*3600+t*60+a+l/1e3;return r<0||t<0||a<0||l<0||t>59||a>59?null:n}function j$(){return new qd}function wk(h){let i="",r=1,t=[],a=[],l;for(let u=0;u<h.text.length;u++){let m=h.text[u];switch(r){case 1:m==="<"?(o(),r=2):i+=m;break;case 2:switch(m){case`
`:case"	":case" ":n(),r=4;break;case".":n(),r=3;break;case"/":r=5;break;case">":n(),r=1;break;default:!i&&M$.test(m)&&(r=6),i+=m;break}break;case 3:switch(m){case"	":case" ":case`
`:s(),l&&l.class?.trim(),r=4;break;case".":s();break;case">":s(),l&&l.class?.trim(),r=1;break;default:i+=m}break;case 4:m===">"?(i=i.replace(A$," "),l?.type==="v"?l.voice=yk(i):l?.type==="lang"&&(l.lang=yk(i)),i="",r=1):i+=m;break;case 5:m===">"&&(i="",l=a.pop(),r=1);break;case 6:if(m===">"){let v=Uo(i);v!==null&&v>=h.startTime&&v<=h.endTime&&(i="timestamp",n(),l.time=v),i="",r=1}else i+=m;break}}function n(){if(D$.has(i)){let u=l;l=I$(i),u?(a[a.length-1]!==u&&a.push(u),u.children.push(l)):t.push(l)}i="",r=1}function s(){if(l&&i){let u=i.replace("bg_","");P$.has(u)?l[i.startsWith("bg_")?"bgColor":"color"]=u:l.class=l.class?l.class+" "+i:i}i=""}function o(){if(!i)return;let u={type:"text",data:yk(i)};l?l.children.push(u):t.push(u),i=""}return r===1&&o(),t}function I$(h){return{tagName:qL[h],type:h,children:[]}}function yk(h){return h.replace(L$,i=>O$[i]||"'")}function hn(h,i,r){h.style.setProperty(`--${i}`,r+"")}function Wa(h,i,r=!0){h.setAttribute(`data-${i}`,r===!0?"":r+"")}function s1(h,i){h.setAttribute("data-part",i)}function R$(h){return parseFloat(getComputedStyle(h).lineHeight)||0}function WL(h){if(_k)throw Error("[media-captions] called `createVTTCueTemplate` on the server - use `renderVTTCueString`");let i=document.createElement("template");return i.innerHTML=u1(h),{cue:h,content:i.content}}function u1(h,i=0){return c1(wk(h),i)}function c1(h,i=0){let r,t="";for(let a of h)if(a.type==="text")t+=a.data;else{let l=a.type==="timestamp";r={},r.class=a.class,r.title=a.type==="v"&&a.voice,r.lang=a.type==="lang"&&a.lang,r["data-part"]=a.type==="v"&&"voice",l&&(r["data-part"]="timed",r["data-time"]=a.time,r["data-future"]=a.time>i,r["data-past"]=a.time<i),r.style=`${a.color?`color: ${a.color};`:""}${a.bgColor?`background-color: ${a.bgColor};`:""}`;let n=Object.entries(r).filter(s=>s[1]).map(s=>`${s[0]}="${s[1]===!0?"":s[1]}"`).join(" ");t+=`<${a.tagName}${n?" "+n:""}>${c1(a.children)}</${a.tagName}>`}return t}function xk(h,i){if(!_k)for(let r of h.querySelectorAll('[data-part="timed"]')){let t=Number(r.getAttribute("data-time"));Number.isNaN(t)||(t>i?Wa(r,"future"):r.removeAttribute("data-future"),t<i?Wa(r,"past"):r.removeAttribute("data-past"))}}function F$(h,i){let r=null,t;function a(){l(),h(...t),t=void 0}function l(){clearTimeout(r),r=null}function n(){t=[].slice.call(arguments),l(),r=setTimeout(a,i)}return n}function Sk(h){return h instanceof HTMLElement?{top:h.offsetTop,width:h.clientWidth,height:h.clientHeight,left:h.offsetLeft,right:h.offsetLeft+h.clientWidth,bottom:h.offsetTop+h.clientHeight}:{...h}}function o1(h,i,r){switch(i){case"+x":h.left+=r,h.right+=r;break;case"-x":h.left-=r,h.right-=r;break;case"+y":h.top+=r,h.bottom+=r;break;case"-y":h.top-=r,h.bottom-=r;break}}function B$(h,i){return h.left<=i.right&&h.right>=i.left&&h.top<=i.bottom&&h.bottom>=i.top}function N$(h,i){for(let r=0;r<i.length;r++)if(B$(h,i[r]))return i[r];return null}function $L(h,i){return i.top>=0&&i.bottom<=h.height&&i.left>=0&&i.right<=h.width}function U$(h,i,r){switch(r){case"+x":return i.left<0;case"-x":return i.right>h.width;case"+y":return i.top<0;case"-y":return i.bottom>h.height}}function V$(h,i){let r=Math.max(0,Math.min(h.width,i.right)-Math.max(0,i.left)),t=Math.max(0,Math.min(h.height,i.bottom)-Math.max(0,i.top));return r*t/(h.height*h.width)}function Tk(h,i){return{top:i.top/h.height,left:i.left/h.width,right:(h.width-i.right)/h.width,bottom:(h.height-i.bottom)/h.height}}function XL(h,i){return i.top=i.top*h.height,i.left=i.left*h.width,i.right=h.width-i.right*h.width,i.bottom=h.height-i.bottom*h.height,i}function ZL(h,i,r,t){let a=Tk(i,r);for(let l of YL)hn(h,`${t}-${l}`,a[l]*100+"%")}function KL(h,i,r,t){let a=1,l,n={...i};for(let s=0;s<t.length;s++){for(;U$(h,i,t[s])||$L(h,i)&&N$(i,r);)o1(i,t[s],1);if($L(h,i))return i;let o=V$(h,i);a>o&&(l={...i},a=o),i={...n}}return l||n}function $$(h,i,r,t){let a=r.firstElementChild,l=z$(i),n,s=[];if(r[Xa]||(r[Xa]=G$(h,r)),n=XL(h,{...r[Xa]}),r[zp])s=[r[zp]==="top"?"+y":"-y","+x","-x"];else if(i.snapToLines){let o;switch(i.vertical){case"":s=["+y","-y"],o="height";break;case"rl":s=["+x","-x"],o="width";break;case"lr":s=["-x","+x"],o="width";break}let u=R$(a),m=u*Math.round(l),v=h[o]+u,c=s[0];Math.abs(m)>v&&(m=m<0?-1:1,m*=Math.ceil(v/u)*u),l<0&&(m+=i.vertical===""?h.height:h.width,s=s.reverse()),o1(n,c,m)}else{let o=i.vertical==="",u=o?"+y":"+x",m=o?n.height:n.width;o1(n,u,(o?h.height:h.width)*l/100),o1(n,u,i.lineAlign==="center"?m/2:i.lineAlign==="end"?m:0),s=o?["-y","+y","-x","+x"]:["-x","+x","-y","+y"]}return n=KL(h,n,t,s),ZL(r,h,n,"cue"),n}function G$(h,i){let r=Sk(i),t=H$(i);if(i[zp]=!1,t.top&&(r.top=t.top,r.bottom=t.top+r.height,i[zp]="top"),t.bottom){let a=h.height-t.bottom;r.top=a-r.height,r.bottom=a,i[zp]="bottom"}return t.left&&(r.left=t.left),t.right&&(r.right=h.width-t.right),Tk(h,r)}function H$(h){let i={};for(let r of YL)i[r]=parseFloat(h.style.getPropertyValue(`--cue-${r}`));return i}function z$(h){return h.line==="auto"?h.snapToLines?-1:100:h.line}function q$(h){if(h.position==="auto")switch(h.align){case"start":case"left":return 0;case"right":case"end":return 100;default:return 50}return h.position}function W$(h,i){if(h.positionAlign==="auto")switch(h.align){case"start":return i==="ltr"?"line-left":"line-right";case"end":return i==="ltr"?"line-right":"line-left";case"center":return"center";default:return`line-${h.align}`}return h.positionAlign}function Y$(h,i,r,t){let a=Array.from(r.querySelectorAll('[data-part="cue-display"]')),l=0,n=Math.max(0,a.length-i.lines);for(let o=a.length-1;o>=n;o--)l+=a[o].offsetHeight;hn(r,"region-height",l+"px"),r[Xa]||(r[Xa]=Tk(h,Sk(r)));let s={...r[Xa]};return s=XL(h,s),s.width=r.clientWidth,s.height=l,s.right=s.left+s.width,s.bottom=s.top+l,s=KL(h,s,t,X$),ZL(r,h,s,"region"),s}var rs,Cn,GL,gk,vk,qp,_k,d$,No,Wp,NL,h$,m$,VL,y$,Wd,g$,v$,b$,_$,Gp,w$,x$,S$,T$,C$,k$,zd,qd,E$,M$,A$,qL,O$,L$,P$,D$,Xa,YL,zp,X$,a1,$p=Ot(()=>{rs={LoadFail:0,BadSignature:1,BadTimestamp:2,BadSettingValue:3,BadFormat:4,UnknownSetting:5},Cn=class extends Error{constructor(r){super(r.reason);Ce(this,"code");Ce(this,"line");this.code=r.code,this.line=r.line}},GL=/\r?\n|\r/gm,gk=class{constructor(i){Ce(this,"writable");Ce(this,"readable");let r=new vk(i);this.writable=new WritableStream({write(t){r.transform(t)},close(){r.close()}}),this.readable=new ReadableStream({start(t){r.onLine=a=>t.enqueue(a),r.onClose=()=>t.close()}})}},vk=class{constructor(i){Ce(this,"a","");Ce(this,"b");Ce(this,"onLine");Ce(this,"onClose");this.b=new TextDecoder(i)}transform(i){this.a+=this.b.decode(i,{stream:!0});let r=this.a.split(GL);this.a=r.pop()||"";for(let t=0;t<r.length;t++)this.onLine(r[t].trim())}close(){this.a&&this.onLine(this.a.trim()),this.a="",this.onClose()}};qp=class extends EventTarget{constructor(r,t,a){super();Ce(this,"id","");Ce(this,"startTime");Ce(this,"endTime");Ce(this,"text");Ce(this,"pauseOnExit",!1);this.startTime=r,this.endTime=t,this.text=a}addEventListener(r,t,a){super.addEventListener(r,t,a)}removeEventListener(r,t,a){super.removeEventListener(r,t,a)}},_k=typeof document>"u",d$=_k?qp:window.VTTCue,No=class extends d${constructor(){super(...arguments);Ce(this,"region",null);Ce(this,"vertical","");Ce(this,"snapToLines",!0);Ce(this,"line","auto");Ce(this,"lineAlign","start");Ce(this,"position","auto");Ce(this,"positionAlign","auto");Ce(this,"size",100);Ce(this,"align","center");Ce(this,"style")}},Wp=class{constructor(){Ce(this,"id","");Ce(this,"width",100);Ce(this,"lines",3);Ce(this,"regionAnchorX",0);Ce(this,"regionAnchorY",100);Ce(this,"viewportAnchorX",0);Ce(this,"viewportAnchorY",100);Ce(this,"scroll","")}},NL=",",h$="%";m$="WEBVTT",VL=",",y$="%",Wd=/[:=]/,g$=/^[\s\t]*(region|vertical|line|position|size|align)[:=]/,v$="NOTE",b$="REGION",_$=/^REGION:?[\s\t]+/,Gp=/[\s\t]+/,w$="-->",x$=/[\s\t]*-->[\s\t]+/,S$=/start|center|end|left|right/,T$=/start|center|end/,C$=/line-(?:left|right)|center|auto/,k$=/^(?:(\d{1,2}):)?(\d{2}):(\d{2})(?:\.(\d{1,3}))?$/,zd=(h=>(h[h.None=0]="None",h[h.Header=1]="Header",h[h.Cue=2]="Cue",h[h.Region=3]="Region",h[h.Note=4]="Note",h))(zd||{}),qd=class{constructor(){Ce(this,"h");Ce(this,"e",0);Ce(this,"i",{});Ce(this,"j",{});Ce(this,"l",[]);Ce(this,"c",null);Ce(this,"d",null);Ce(this,"m",[]);Ce(this,"f");Ce(this,"n","")}async init(i){this.h=i,i.strict&&(this.e=1),i.errors&&(this.f=(await Promise.resolve().then(()=>(hk(),dk))).ParseErrorBuilder)}parse(i,r){if(i==="")this.c?(this.l.push(this.c),this.h.onCue?.(this.c),this.c=null):this.d?(this.j[this.d.id]=this.d,this.h.onRegion?.(this.d),this.d=null):this.e===1&&(this.k(i,r),this.h.onHeaderMetadata?.(this.i)),this.e=0;else if(this.e)switch(this.e){case 1:this.k(i,r);break;case 2:if(this.c){let t=this.c.text.length>0;!t&&g$.test(i)?this.o(i.split(Gp),r):this.c.text+=(t?`
`:"")+i}break;case 3:this.p(i.split(Gp),r);break}else if(i.startsWith(v$))this.e=4;else if(i.startsWith(b$))this.e=3,this.d=new Wp,this.p(i.replace(_$,"").split(Gp),r);else if(i.includes(w$)){let t=this.q(i,r);t&&(this.c=new No(t[0],t[1],""),this.c.id=this.n,this.o(t[2],r)),this.e=2}else r===1&&this.k(i,r);this.n=i}done(){return{metadata:this.i,cues:this.l,regions:Object.values(this.j),errors:this.m}}k(i,r){if(r>1){if(Wd.test(i)){let[t,a]=i.split(Wd);t&&(this.i[t]=(a||"").replace(Gp,""))}}else i.startsWith(m$)?this.e=1:this.g(this.f?.r())}q(i,r){let[t,a=""]=i.split(x$),[l,...n]=a.split(Gp),s=Uo(t),o=Uo(l);if(s!==null&&o!==null&&o>s)return[s,o,n];s===null&&this.g(this.f?.s(t,r)),o===null&&this.g(this.f?.t(l,r)),s!=null&&o!==null&&o>s&&this.g(this.f?.u(s,o,r))}p(i,r){let t;for(let a=0;a<i.length;a++)if(Wd.test(i[a])){t=!1;let[l,n]=i[a].split(Wd);switch(l){case"id":this.d.id=n;break;case"width":let s=Hp(n);s!==null?this.d.width=s:t=!0;break;case"lines":let o=f$(n);o!==null?this.d.lines=o:t=!0;break;case"regionanchor":let u=UL(n);u!==null?(this.d.regionAnchorX=u[0],this.d.regionAnchorY=u[1]):t=!0;break;case"viewportanchor":let m=UL(n);m!==null?(this.d.viewportAnchorX=m[0],this.d.viewportAnchorY=m[1]):t=!0;break;case"scroll":n==="up"?this.d.scroll="up":t=!0;break;default:this.g(this.f?.v(l,n,r))}t&&this.g(this.f?.w(l,n,r))}}o(i,r){let t;for(let a=0;a<i.length;a++)if(t=!1,Wd.test(i[a])){let[l,n]=i[a].split(Wd);switch(l){case"region":let s=this.j[n];s&&(this.c.region=s);break;case"vertical":n==="lr"||n==="rl"?(this.c.vertical=n,this.c.region=null):t=!0;break;case"line":let[o,u]=n.split(VL);if(o.includes(y$)){let p=Hp(o);p!==null?(this.c.line=p,this.c.snapToLines=!1):t=!0}else{let p=p$(o);p!==null?this.c.line=p:t=!0}T$.test(u)?this.c.lineAlign=u:u&&(t=!0),this.c.line!=="auto"&&(this.c.region=null);break;case"position":let[m,v]=n.split(VL),c=Hp(m);c!==null?this.c.position=c:t=!0,v&&C$.test(v)?this.c.positionAlign=v:v&&(t=!0);break;case"size":let d=Hp(n);d!==null?(this.c.size=d,d<100&&(this.c.region=null)):t=!0;break;case"align":S$.test(n)?this.c.align=n:t=!0;break;default:this.g(this.f?.x(l,n,r))}t&&this.g(this.f?.y(l,n,r))}}g(i){if(i){if(this.m.push(i),this.h.strict)throw this.h.cancel(),i;this.h.onError?.(i)}}};E$=Object.freeze({__proto__:null,VTTBlock:zd,VTTParser:qd,default:j$,parseVTTTimestamp:Uo}),M$=/[0-9]/,A$=/[\s\t]+/,qL={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span",timestamp:"span"},O$={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&nbsp;":"\xA0","&lrm;":"\u200E","&rlm;":"\u200F"},L$=/&(?:amp|lt|gt|quot|#(0+)?39|nbsp|lrm|rlm);/g,P$=new Set(["white","lime","cyan","red","yellow","magenta","blue","black"]),D$=new Set(Object.keys(qL));Xa=Symbol(0);YL=["top","left","right","bottom"];zp=Symbol(0);X$=["-y","+y","-x","+x"];a1=class{constructor(i,r){Ce(this,"overlay");Ce(this,"z");Ce(this,"A",0);Ce(this,"C","ltr");Ce(this,"B",[]);Ce(this,"D",!1);Ce(this,"E");Ce(this,"j",new Map);Ce(this,"l",new Map);Ce(this,"K",F$(()=>{this.D=!1,this.G();for(let i of this.j.values())i[Xa]=null;for(let i of this.l.values())i&&(i[Xa]=null);this.H(!0)},50));this.overlay=i,this.dir=r?.dir??"ltr",i.setAttribute("translate","yes"),i.setAttribute("aria-live","off"),i.setAttribute("aria-atomic","true"),s1(i,"captions"),this.G(),this.E=new ResizeObserver(this.I.bind(this)),this.E.observe(i)}get dir(){return this.C}set dir(i){this.C=i,Wa(this.overlay,"dir",i)}get currentTime(){return this.A}set currentTime(i){this.A=i,this.update()}changeTrack({regions:i,cues:r}){this.reset(),this.J(i);for(let t of r)this.l.set(t,null);this.update()}addCue(i){this.l.set(i,null),this.update()}removeCue(i){this.l.delete(i),this.update()}update(i=!1){this.H(i)}reset(){this.l.clear(),this.j.clear(),this.B=[],this.overlay.textContent=""}destroy(){this.reset(),this.E.disconnect()}I(){this.D=!0,this.K()}G(){this.z=Sk(this.overlay),hn(this.overlay,"overlay-width",this.z.width+"px"),hn(this.overlay,"overlay-height",this.z.height+"px")}H(i=!1){if(!this.l.size||this.D)return;let r,t=[...this.l.keys()].filter(l=>this.A>=l.startTime&&this.A<=l.endTime).sort((l,n)=>l.startTime!==n.startTime?l.startTime-n.startTime:l.endTime-n.endTime),a=t.map(l=>l.region);for(let l=0;l<this.B.length;l++){if(r=this.B[l],t[l]===r)continue;if(r.region&&!a.includes(r.region)){let s=this.j.get(r.region.id);s&&(s.removeAttribute("data-active"),i=!0)}let n=this.l.get(r);n&&(n.remove(),i=!0)}for(let l=0;l<t.length;l++){r=t[l];let n=this.l.get(r);n||this.l.set(r,n=this.L(r));let s=this.F(r)&&this.j.get(r.region.id);s&&!s.hasAttribute("data-active")&&(requestAnimationFrame(()=>Wa(s,"active")),i=!0),n.isConnected||((s||this.overlay).append(n),i=!0)}if(i){let l=[],n=new Set;for(let s=t.length-1;s>=0;s--){if(r=t[s],n.has(r.region||r))continue;let o=this.F(r),u=o?this.j.get(r.region.id):this.l.get(r);o?l.push(Y$(this.z,r.region,u,l)):l.push($$(this.z,r,u,l)),n.add(o?r.region:r)}}xk(this.overlay,this.A),this.B=t}J(i){if(i)for(let r of i){let t=this.M(r);this.j.set(r.id,t),this.overlay.append(t)}}M(i){let r=document.createElement("div");return s1(r,"region"),Wa(r,"id",i.id),Wa(r,"scroll",i.scroll),hn(r,"region-width",i.width+"%"),hn(r,"region-anchor-x",i.regionAnchorX),hn(r,"region-anchor-y",i.regionAnchorY),hn(r,"region-viewport-anchor-x",i.viewportAnchorX),hn(r,"region-viewport-anchor-y",i.viewportAnchorY),hn(r,"region-lines",i.lines),r}L(i){let r=document.createElement("div"),t=q$(i),a=W$(i,this.C);if(s1(r,"cue-display"),i.vertical!==""&&Wa(r,"vertical"),hn(r,"cue-text-align",i.align),i.style)for(let n of Object.keys(i.style))r.style.setProperty(n,i.style[n]);if(this.F(i))hn(r,"cue-offset",`${t-(a==="line-right"?100:a==="center"?50:0)}%`);else if(hn(r,"cue-writing-mode",i.vertical===""?"horizontal-tb":i.vertical==="lr"?"vertical-lr":"vertical-rl"),!i.style?.["--cue-width"]){let n=t;a==="line-left"?n=100-t:a==="center"&&t<=50?n=t*2:a==="center"&&t>50&&(n=(100-t)*2);let s=i.size<n?i.size:n;i.vertical===""?hn(r,"cue-width",s+"%"):hn(r,"cue-height",s+"%")}let l=document.createElement("div");return s1(l,"cue"),i.id&&Wa(l,"id",i.id),l.innerHTML=u1(i),r.append(l),r}F(i){return i.region&&i.size===100&&i.vertical===""&&i.line==="auto"}}});var d1={};en(d1,{CaptionsRenderer:()=>a1,ParseError:()=>Cn,ParseErrorCode:()=>rs,TextCue:()=>qp,VTTCue:()=>No,VTTRegion:()=>Wp,createVTTCueTemplate:()=>WL,parseByteStream:()=>bk,parseResponse:()=>zL,parseText:()=>HL,parseTextStream:()=>l1,parseVTTTimestamp:()=>Uo,renderVTTCueString:()=>u1,renderVTTTokensString:()=>c1,tokenizeVTTCue:()=>wk,updateTimedVTTCueNodes:()=>xk});var h1=Ot(()=>{$p()});function Bi(h){return iG.test(h.kind)}function nG(h,i,r){let t=dt(h)?JSON.parse(h):h,a=[],l=[];return t.regions&&r&&(a=t.regions.map(n=>Object.assign(new r,n))),(t.cues||ni(t))&&(l=(ni(t)?t:t.cues).filter(n=>Ur(n.startTime)&&Ur(n.endTime)).map(n=>Object.assign(new i(0,0,""),n))),{regions:a,cues:l}}var Z$,K$,Q$,J$,eG,tG,rG,At,Yp,Vo,ku,Zp,ju,Fi,$o,sG,oG,aG,lG,f1,QL,Kp,Ck,Eu,Xp,Qp,kk,Jp,jk,em,Ek,fn,iG,Mu=Ot(()=>{fr();Js();ck();Z$=Symbol(0),K$=Symbol(0),Q$=Symbol(0),J$=Symbol(0),eG=Symbol(0),tG=Symbol(0),rG=Symbol(0),At={crossOrigin:Z$,readyState:K$,updateActiveCues:Q$,canLoad:J$,onModeChange:eG,native:tG,nativeHLS:rG},fn=class extends Ld{constructor(r){super();N(this,f1);N(this,Kp);N(this,Eu);N(this,Qp);N(this,Jp);N(this,em);Ce(this,"src");Ce(this,"content");Ce(this,"type");Ce(this,"encoding");Ce(this,"id","");Ce(this,"label","");Ce(this,"language","");Ce(this,"kind");Ce(this,"default",!1);N(this,Yp,!1);N(this,Vo,0);N(this,ku,"disabled");N(this,Zp,{});N(this,ju,[]);N(this,Fi,[]);N(this,$o,[]);Ce(this,sG,0);Ce(this,oG);Ce(this,aG,null);Ce(this,lG,null);for(let t of Object.keys(r))this[t]=r[t];this.type||(this.type="vtt"),r.content?U(this,f1,QL).call(this,r):r.src||(this[At.readyState]=2)}static createId(r){return`vds-${r.type}-${r.kind}-${r.src??r.label??"?"}`}get metadata(){return S(this,Zp)}get regions(){return S(this,ju)}get cues(){return S(this,Fi)}get activeCues(){return S(this,$o)}get readyState(){return this[At.readyState]}get mode(){return S(this,ku)}set mode(r){this.setMode(r)}addCue(r,t){let a=0,l=S(this,Fi).length;for(a=0;a<l&&!(r.endTime<=S(this,Fi)[a].startTime);a++);a===l?S(this,Fi).push(r):S(this,Fi).splice(a,0,r),r instanceof TextTrackCue||this[At.native]?.track.addCue(r),this.dispatchEvent(new Lt("add-cue",{detail:r,trigger:t})),uk(r,S(this,Vo))&&this[At.updateActiveCues](S(this,Vo),t)}removeCue(r,t){let a=S(this,Fi).indexOf(r);if(a>=0){let l=S(this,$o).includes(r);S(this,Fi).splice(a,1),this[At.native]?.track.removeCue(r),this.dispatchEvent(new Lt("remove-cue",{detail:r,trigger:t})),l&&this[At.updateActiveCues](S(this,Vo),t)}}setMode(r,t){S(this,ku)!==r&&(me(this,ku,r),r==="disabled"?(me(this,$o,[]),U(this,em,Ek).call(this)):this.readyState===2?this[At.updateActiveCues](S(this,Vo),t):U(this,Kp,Ck).call(this),this.dispatchEvent(new Lt("mode-change",{detail:this,trigger:t})),this[At.onModeChange]?.())}[(sG=At.readyState,oG=At.crossOrigin,aG=At.onModeChange,lG=At.native,At.updateActiveCues)](r,t){if(me(this,Vo,r),this.mode==="disabled"||!S(this,Fi).length)return;let a=[];for(let n=0,s=S(this,Fi).length;n<s;n++){let o=S(this,Fi)[n];uk(o,r)&&a.push(o)}let l=a.length!==S(this,$o).length;if(!l){for(let n=0;n<a.length;n++)if(!S(this,$o).includes(a[n])){l=!0;break}}me(this,$o,a),l&&U(this,em,Ek).call(this,t)}[At.canLoad](){me(this,Yp,!0),S(this,ku)!=="disabled"&&U(this,Kp,Ck).call(this)}};Yp=new WeakMap,Vo=new WeakMap,ku=new WeakMap,Zp=new WeakMap,ju=new WeakMap,Fi=new WeakMap,$o=new WeakMap,f1=new WeakSet,QL=function(r){Promise.resolve().then(()=>(h1(),d1)).then(({parseText:t,VTTCue:a,VTTRegion:l})=>{!dt(r.content)||r.type==="json"?(U(this,Jp,jk).call(this,r.content,a,l),this.readyState!==3&&U(this,Eu,Xp).call(this)):t(r.content,{type:r.type}).then(({cues:n,regions:s})=>{me(this,Fi,n),me(this,ju,s),U(this,Eu,Xp).call(this)})})},Kp=new WeakSet,Ck=async function(){if(!(!S(this,Yp)||this[At.readyState]>0)){if(this[At.readyState]=1,this.dispatchEvent(new Lt("load-start")),!this.src){U(this,Eu,Xp).call(this);return}try{let{parseResponse:r,VTTCue:t,VTTRegion:a}=await Promise.resolve().then(()=>(h1(),d1)),l=this[At.crossOrigin]?.(),n=fetch(this.src,{headers:this.type==="json"?{"Content-Type":"application/json"}:void 0,credentials:qa(l)});if(this.type==="json")U(this,Jp,jk).call(this,await(await n).text(),t,a);else{let{errors:s,metadata:o,regions:u,cues:m}=await r(n,{type:this.type,encoding:this.encoding});if(s[0]?.code===0)throw s[0];me(this,Zp,o),me(this,ju,u),me(this,Fi,m)}U(this,Eu,Xp).call(this)}catch(r){U(this,Qp,kk).call(this,r)}}},Eu=new WeakSet,Xp=function(){if(this[At.readyState]=2,!this.src||this.type!=="vtt"){let t=this[At.native];if(t&&!t.managed)for(let a of S(this,Fi))t.track.addCue(a)}let r=new Lt("load");this[At.updateActiveCues](S(this,Vo),r),this.dispatchEvent(r)},Qp=new WeakSet,kk=function(r){this[At.readyState]=3,this.dispatchEvent(new Lt("error",{detail:r}))},Jp=new WeakSet,jk=function(r,t,a){try{let{regions:l,cues:n}=nG(r,t,a);me(this,ju,l),me(this,Fi,n)}catch(l){U(this,Qp,kk).call(this,l)}},em=new WeakSet,Ek=function(r){this.dispatchEvent(new Lt("cue-change",{trigger:r}))};iG=/captions|subtitles/});function p1(h,i){Mt(h,"data-focus",i),Mt(h,"data-hocus",i)}function JL(h,i){Mt(h,"data-hocus",i),Mt(h,"data-hover",i)}var Mk,Ya,m1,eP,y1,tP,g1,rP,v1,iP,Ts,Ak=Ot(()=>{fr();Mk=Dt(!1);Vt(document,"pointerdown",()=>{Mk.set(!1)}),Vt(document,"keydown",h=>{h.metaKey||h.altKey||h.ctrlKey||Mk.set(!0)});Ts=class extends Ii{constructor(){super(...arguments);N(this,m1);N(this,y1);N(this,g1);N(this,v1);N(this,Ya,Dt(!1))}onConnect(r){He(()=>{let t=new Qt(r);if(!Mk()){S(this,Ya).set(!1),p1(r,!1),t.add("pointerenter",U(this,g1,rP).bind(this)).add("pointerleave",U(this,v1,iP).bind(this));return}let a=document.activeElement===r;S(this,Ya).set(a),p1(r,a),t.add("focus",U(this,m1,eP).bind(this)).add("blur",U(this,y1,tP).bind(this))})}focused(){return S(this,Ya).call(this)}};Ya=new WeakMap,m1=new WeakSet,eP=function(){S(this,Ya).set(!0),p1(this.el,!0)},y1=new WeakSet,tP=function(){S(this,Ya).set(!1),p1(this.el,!1)},g1=new WeakSet,rP=function(){JL(this.el,!0)},v1=new WeakSet,iP=function(){JL(this.el,!1)}});function Za(h){return h instanceof Error?h:Error(typeof h=="string"?h:JSON.stringify(h))}function eo(h,i){if(!h)throw Error("Assertion failed.")}var tm=Ot(()=>{});function is(h,i=2){return Number(h.toFixed(i))}function rm(h){return String(h).split(".")[1]?.length??0}function im(h,i,r){return Math.max(h,Math.min(r,i))}var b1=Ot(()=>{});function Ok(h,i){let r=String(h),t=r.length;if(t<i){let l=i-t;return`${"0".repeat(l)}${h}`}return r}function oP(h){let i=Math.trunc(h/3600),r=Math.trunc(h%3600/60),t=Math.trunc(h%60),a=Number((h-Math.trunc(h)).toPrecision(3));return{hours:i,minutes:r,seconds:t,fraction:a}}function fj(h,{padHrs:i=null,padMins:r=null,showHrs:t=!1,showMs:a=!1}={}){let{hours:l,minutes:n,seconds:s,fraction:o}=oP(h),u=i?Ok(l,2):l,m=r||Zs(r)&&h>=3600?Ok(n,2):n,v=Ok(s,2),c=a&&o>0?`.${String(o).replace(/^0?\./,"")}`:"",d=`${m}:${v}${c}`;return l>0||t?`${u}:${d}`:d}function nP(h){let i=[],{hours:r,minutes:t,seconds:a}=oP(h);return r>0&&i.push(`${r} hour`),t>0&&i.push(`${t} min`),(a>0||i.length===0)&&i.push(`${a} sec`),i.join(" ")}function sP(h,i,r){let t=i-h,a=r-h;return t>0?a/t:0}function uG(h,i,r,t){return im(h,is(r,rm(t)),i)}function cG(h,i,r,t){let a=im(0,r,1),l=i-h,n=l*a,s=n/t,o=t*Math.round(s);return h+o}function hG(h,{clamp:i,offset:r,orientation:t}){let a=getComputedStyle(h),l=parseFloat(a.width),n=parseFloat(a.height),s={top:null,right:null,bottom:null,left:null};if(s[t==="horizontal"?"bottom":"left"]=`calc(100% + var(--media-slider-preview-offset, ${r}px))`,t==="horizontal"){let o=l/2;if(!i)s.left=`calc(var(--slider-pointer) - ${o}px)`;else{let u=`max(0px, calc(var(--slider-pointer) - ${o}px))`,m=`calc(100% - ${l}px)`;s.left=`min(${u}, ${m})`}}else{let o=n/2;if(!i)s.bottom=`calc(var(--slider-pointer) - ${o}px)`;else{let u=`max(${o}px, calc(var(--slider-pointer) - ${o}px))`,m=`calc(100% - ${n}px)`;s.bottom=`min(${u}, ${m})`}}Object.assign(h.style,s)}function fG(h,i){let r=HO(h,i);for(let{el:t,top:a,left:l}of r)t.scroll({top:a,left:l,behavior:i.behavior})}function pG(h,i={}){fG(h,{scrollMode:"if-needed",block:"center",inline:"center",...i})}var Du,Dk,Cs,O1,aP,Iu,Ru,to,ih,w1,Ik,Ho,L1,lP,P1,uP,D1,cP,I1,dP,mn,zo,R1,hP,F1,fP,B1,pP,N1,mP,om,Fu,U1,yP,vm,Rk,am,Bu,V1,gP,bm,Fk,_m,Bk,lm,Qa,$1,vP,wm,Nk,G1,bP,um,Nu,H1,_P,nh,x1,z1,wP,cm,Ja,q1,xP,xm,Uk,W1,SP,dm,el,X1,TP,Y1,CP,Z1,kP,hm,Uu,K1,jP,fm,pj,sh,tl,Q1,EP,M1,mj,pm,Lk,Ni,rl,oh,J1,MP,il,ks,qo,eb,AP,tb,OP,rb,LP,ib,PP,nb,DP,ah,S1,ro,Ka,Vu,nm,sb,IP,ob,RP,ab,FP,lb,BP,lh,T1,Sm,$k,uh,Wo,ub,NP,cb,UP,Tm,Gk,Cm,Hk,db,VP,hb,$P,fb,Vk,gm,km,kn,jm,Em,pb,GP,mb,HP,yb,zP,gb,qP,vb,WP,bb,XP,_b,YP,wb,ZP,xb,Jo,Sb,KP,Tb,QP,Cb,JP,kb,e9,Pu,Go,_1,Mm,ch,Am,jb,t9,Eb,r9,Om,qk,Lm,Wk,Pm,Xk,Dm,Yk,Mb,i9,dh,C1,_j,zk,hh,fh,Ab,n9,Im,Zk,Ob,s9,Lb,o9,Pb,a9,Db,l9,Rm,Kk,Ib,u9,Rb,c9,Fm,Qk,Xo,Au,Fb,d9,Xd,nl,Bb,Bm,Qd,dG,ph,Nm,mm,ns,Nb,h9,Ub,f9,Vb,p9,$b,m9,Gb,y9,Um,Hb,g9,zb,v9,qb,b9,Yd,Dr,mh,Vm,Wb,_9,Xb,w9,Yb,x9,Zb,S9,Kb,T9,$m,Jk,Qb,C9,yh,Jb,k9,e_,j9,Gm,ej,t_,E9,Hm,tj,r_,M9,i_,A9,n_,O9,s_,L9,o_,P9,a_,D9,Yo,Ou,l_,I9,u_,R9,c_,F9,Zd,Mn,mG,yG,sl,js,jn,zm,Zo,Lu,qm,ij,d_,B9,Wm,nj,h_,N9,f_,U9,gh,k1,p_,V9,rj,gG,vG,oy,bG,Es,vh,bh,pn,Xm,io,Ei,ol,al,$u,Gu,Ko,Hu,Ym,zu,m_,$9,y_,G9,g_,H9,v_,z9,b_,q9,Zm,sj,__,W9,_h,w_,X9,Km,oj,x_,Y9,qu,sm,S_,Z9,T_,K9,C_,Q9,k_,J9,j_,e8,E_,t8,M_,A_,r8,wh,O_,L_,i8,P_,D_,n8,xh,Sh,I_,s8,no,ll,Qm,R_,o8,F_,a8,Jm,aj,Qu,_G,A1,Pk,Wu,B_,l8,N_,u8,U_,c8,ym,wG,Qo,ul,hj,V_,d8,$_,h8,G_,ey,lj,ty,uj,Oh,Th,Ms,Xu,H_,f8,z_,p8,q_,m8,W_,y8,X_,g8,Jd,yj,En,Ch,Yu,Y_,v8,Z_,b8,K_,_8,Q_,w8,J_,x8,kh,j1,eh,gj,xG,cl,jh,Zu,e2,S8,t2,T8,r2,C8,i2,k8,n2,j8,th,vj,As,Eh,Ku,s2,o2,E8,a2,M8,l2,A8,u2,O8,c2,L8,Mh,E1,rh,bj,Ah,dl,ry,iy,d2,P8,h2,D8,f2,I8,ny,cj,p2,R8,m2,F8,sy,dj,y2,B8,Kd,N8=Ot(()=>{fr();Dp();CL();Up();Mu();Ak();tm();Js();b1();ck();Dk=class extends Ii{constructor(r){super();N(this,Du,void 0);me(this,Du,r)}onAttach(r){let{$props:t,ariaKeys:a}=xr(),l=r.getAttribute("aria-keyshortcuts");if(l){a[S(this,Du)]=l,Ft(()=>{delete a[S(this,Du)]});return}let n=t.keyShortcuts()[S(this,Du)];if(n){let s=ni(n)?n.join(" "):dt(n)?n:n?.keys;r.setAttribute("aria-keyshortcuts",ni(s)?s.join(" "):s)}}};Du=new WeakMap;Ik=class extends Ii{constructor(r){super();N(this,O1);N(this,ih);N(this,Cs,void 0);N(this,Iu,-1);N(this,Ru,-1);N(this,to,null);me(this,Cs,r),He(U(this,O1,aP).bind(this))}onDestroy(){var r;(r=S(this,to))==null||r.call(this),me(this,to,null)}show(r){var t;U(this,ih,w1).call(this),window.cancelAnimationFrame(S(this,Ru)),me(this,Ru,-1),(t=S(this,to))==null||t.call(this),me(this,to,null),me(this,Iu,window.setTimeout(()=>{me(this,Iu,-1);let a=S(this,Cs).content();a&&a.style.removeProperty("display"),ot(()=>S(this,Cs).onChange(!0,r))},S(this,Cs).showDelay?.()??0))}hide(r){U(this,ih,w1).call(this),ot(()=>S(this,Cs).onChange(!1,r)),me(this,Ru,requestAnimationFrame(()=>{var a;U(this,ih,w1).call(this),me(this,Ru,-1);let t=S(this,Cs).content();if(t){let l=()=>{t.style.display="none",me(this,to,null)};if(SL(t)){(a=S(this,to))==null||a.call(this);let s=Vt(t,"animationend",l,{once:!0});me(this,to,s)}else l()}}))}};Cs=new WeakMap,O1=new WeakSet,aP=function(){let r=S(this,Cs).trigger();if(!r){this.hide();return}let t=this.show.bind(this),a=this.hide.bind(this);S(this,Cs).listen(r,t,a)},Iu=new WeakMap,Ru=new WeakMap,to=new WeakMap,ih=new WeakSet,w1=function(){window.clearTimeout(S(this,Iu)),me(this,Iu,-1)};mn=class extends Ii{constructor(r){super();N(this,L1);N(this,P1);N(this,D1);N(this,I1);N(this,Ho,void 0);me(this,Ho,r),new Ts,r.keyShortcut&&new Dk(r.keyShortcut)}onSetup(){let{disabled:r}=this.$props;this.setAttributes({"data-pressed":S(this,Ho).isPresssed,"aria-pressed":U(this,L1,lP).bind(this),"aria-disabled":()=>r()?"true":null})}onAttach(r){Vr(r,"tabindex","0"),Vr(r,"role","button"),Vr(r,"type","button")}onConnect(r){let t=Ga(r,U(this,D1,cP).bind(this));for(let a of["click","touchstart"])t.add(a,U(this,I1,dP).bind(this),{passive:!0})}};Ho=new WeakMap,L1=new WeakSet,lP=function(){return Pp(S(this,Ho).isPresssed())},P1=new WeakSet,uP=function(r){IO(S(this,Ho).isPresssed)&&S(this,Ho).isPresssed.set(t=>!t)},D1=new WeakSet,cP=function(r){if(this.$props.disabled()||this.el.hasAttribute("data-disabled")){r.preventDefault(),r.stopImmediatePropagation();return}r.preventDefault(),(S(this,Ho).onPress??U(this,P1,uP)).call(this,r)},I1=new WeakSet,dP=function(r){this.$props.disabled()&&(r.preventDefault(),r.stopImmediatePropagation())},Ce(mn,"props",{disabled:!1});om=class extends hr{constructor(){super();N(this,R1);N(this,F1);N(this,B1);N(this,N1);N(this,zo,void 0);new mn({isPresssed:U(this,F1,fP).bind(this),onPress:U(this,R1,hP).bind(this)})}onSetup(){me(this,zo,xr());let{canAirPlay:r,isAirPlayConnected:t}=S(this,zo).$state;this.setAttributes({"data-active":t,"data-supported":r,"data-state":U(this,B1,pP).bind(this),"aria-hidden":Ss(()=>!r())})}onAttach(r){r.setAttribute("data-media-tooltip","airplay"),$a(r,U(this,N1,mP).bind(this))}};zo=new WeakMap,R1=new WeakSet,hP=function(r){S(this,zo).remote.requestAirPlay(r)},F1=new WeakSet,fP=function(){let{remotePlaybackType:r,remotePlaybackState:t}=S(this,zo).$state;return r()==="airplay"&&t()!=="disconnected"},B1=new WeakSet,pP=function(){let{remotePlaybackType:r,remotePlaybackState:t}=S(this,zo).$state;return r()==="airplay"&&t()},N1=new WeakSet,mP=function(){let{remotePlaybackState:r}=S(this,zo).$state;return`AirPlay ${r()}`},Ce(om,"props",mn.props);am=class extends hr{constructor(){super();N(this,U1);N(this,vm);N(this,Fu,void 0);new mn({isPresssed:U(this,vm,Rk).bind(this),keyShortcut:"togglePaused",onPress:U(this,U1,yP).bind(this)})}onSetup(){me(this,Fu,xr());let{paused:r,ended:t}=S(this,Fu).$state;this.setAttributes({"data-paused":r,"data-ended":t})}onAttach(r){r.setAttribute("data-media-tooltip","play"),$a(r,"Play")}};Fu=new WeakMap,U1=new WeakSet,yP=function(r){let t=S(this,Fu).remote;U(this,vm,Rk).call(this)?t.pause(r):t.play(r)},vm=new WeakSet,Rk=function(){let{paused:r}=S(this,Fu).$state;return!r()},Ce(am,"props",mn.props);lm=class extends hr{constructor(){super();N(this,V1);N(this,bm);N(this,_m);N(this,Bu,void 0);new mn({isPresssed:U(this,bm,Fk).bind(this),keyShortcut:"toggleCaptions",onPress:U(this,V1,gP).bind(this)})}onSetup(){me(this,Bu,xr()),this.setAttributes({"data-active":U(this,bm,Fk).bind(this),"data-supported":()=>!U(this,_m,Bk).call(this),"aria-hidden":Ss(U(this,_m,Bk).bind(this))})}onAttach(r){r.setAttribute("data-media-tooltip","caption"),$a(r,"Captions")}};Bu=new WeakMap,V1=new WeakSet,gP=function(r){S(this,Bu).remote.toggleCaptions(r)},bm=new WeakSet,Fk=function(){let{textTrack:r}=S(this,Bu).$state,t=r();return!!t&&Bi(t)},_m=new WeakSet,Bk=function(){let{hasCaptions:r}=S(this,Bu).$state;return!r()},Ce(lm,"props",mn.props);um=class extends hr{constructor(){super();N(this,$1);N(this,wm);N(this,G1);N(this,Qa,void 0);new mn({isPresssed:U(this,wm,Nk).bind(this),keyShortcut:"toggleFullscreen",onPress:U(this,$1,vP).bind(this)})}onSetup(){me(this,Qa,xr());let{fullscreen:r}=S(this,Qa).$state,t=U(this,G1,bP).bind(this);this.setAttributes({"data-active":r,"data-supported":t,"aria-hidden":Ss(()=>!t())})}onAttach(r){r.setAttribute("data-media-tooltip","fullscreen"),$a(r,"Fullscreen")}};Qa=new WeakMap,$1=new WeakSet,vP=function(r){let t=S(this,Qa).remote,a=this.$props.target();U(this,wm,Nk).call(this)?t.exitFullscreen(a,r):t.enterFullscreen(a,r)},wm=new WeakSet,Nk=function(){let{fullscreen:r}=S(this,Qa).$state;return r()},G1=new WeakSet,bP=function(){let{canFullscreen:r}=S(this,Qa).$state;return r()},Ce(um,"props",{...mn.props,target:"prefer-media"});cm=class extends hr{constructor(){super();N(this,H1);N(this,nh);N(this,z1);N(this,Nu,void 0);new mn({isPresssed:U(this,nh,x1).bind(this),keyShortcut:"toggleMuted",onPress:U(this,H1,_P).bind(this)})}onSetup(){me(this,Nu,xr()),this.setAttributes({"data-muted":U(this,nh,x1).bind(this),"data-state":U(this,z1,wP).bind(this)})}onAttach(r){r.setAttribute("data-media-mute-button",""),r.setAttribute("data-media-tooltip","mute"),$a(r,"Mute")}};Nu=new WeakMap,H1=new WeakSet,_P=function(r){let t=S(this,Nu).remote;U(this,nh,x1).call(this)?t.unmute(r):t.mute(r)},nh=new WeakSet,x1=function(){let{muted:r,volume:t}=S(this,Nu).$state;return r()||t()===0},z1=new WeakSet,wP=function(){let{muted:r,volume:t}=S(this,Nu).$state,a=t();if(r()||a===0)return"muted";if(a>=.5)return"high";if(a<.5)return"low"},Ce(cm,"props",mn.props);dm=class extends hr{constructor(){super();N(this,q1);N(this,xm);N(this,W1);N(this,Ja,void 0);new mn({isPresssed:U(this,xm,Uk).bind(this),keyShortcut:"togglePictureInPicture",onPress:U(this,q1,xP).bind(this)})}onSetup(){me(this,Ja,xr());let{pictureInPicture:r}=S(this,Ja).$state,t=U(this,W1,SP).bind(this);this.setAttributes({"data-active":r,"data-supported":t,"aria-hidden":Ss(()=>!t())})}onAttach(r){r.setAttribute("data-media-tooltip","pip"),$a(r,"PiP")}};Ja=new WeakMap,q1=new WeakSet,xP=function(r){let t=S(this,Ja).remote;U(this,xm,Uk).call(this)?t.exitPictureInPicture(r):t.enterPictureInPicture(r)},xm=new WeakSet,Uk=function(){let{pictureInPicture:r}=S(this,Ja).$state;return r()},W1=new WeakSet,SP=function(){let{canPictureInPicture:r}=S(this,Ja).$state;return r()},Ce(dm,"props",mn.props);hm=class extends hr{constructor(){super();N(this,X1);N(this,Y1);N(this,Z1);N(this,el,void 0);new Ts}onSetup(){me(this,el,xr());let{seeking:r}=S(this,el).$state,{seconds:t}=this.$props,a=U(this,X1,TP).bind(this);this.setAttributes({seconds:t,"data-seeking":r,"data-supported":a,"aria-hidden":Ss(()=>!a())})}onAttach(r){Vr(r,"tabindex","0"),Vr(r,"role","button"),Vr(r,"type","button"),r.setAttribute("data-media-tooltip","seek"),$a(r,U(this,Y1,CP).bind(this))}onConnect(r){Ga(r,U(this,Z1,kP).bind(this))}};el=new WeakMap,X1=new WeakSet,TP=function(){let{canSeek:r}=S(this,el).$state;return r()},Y1=new WeakSet,CP=function(){let{seconds:r}=this.$props;return`Seek ${r()>0?"forward":"backward"} ${r()} seconds`},Z1=new WeakSet,kP=function(r){let{seconds:t,disabled:a}=this.$props;if(a())return;let{currentTime:l}=S(this,el).$state,n=l()+t();S(this,el).remote.seek(n,r)},Ce(hm,"props",{disabled:!1,seconds:30});fm=class extends hr{constructor(){super();N(this,K1);N(this,Uu,void 0);new Ts}onSetup(){me(this,Uu,xr());let{disabled:r}=this.$props,{live:t,liveEdge:a}=S(this,Uu).$state,l=()=>!t();this.setAttributes({"data-edge":a,"data-hidden":l,"aria-disabled":Ss(()=>r()||a()),"aria-hidden":Ss(l)})}onAttach(r){Vr(r,"tabindex","0"),Vr(r,"role","button"),Vr(r,"type","button"),r.setAttribute("data-media-tooltip","live")}onConnect(r){Ga(r,U(this,K1,jP).bind(this))}};Uu=new WeakMap,K1=new WeakSet,jP=function(r){let{disabled:t}=this.$props,{liveEdge:a}=S(this,Uu).$state;t()||a()||S(this,Uu).remote.seekToLiveEdge(r)},Ce(fm,"props",{disabled:!1});pj=new Do({min:0,max:100,value:0,step:1,pointerValue:0,focused:!1,dragging:!1,pointing:!1,hidden:!1,get active(){return this.dragging||this.focused||this.pointing},get fillRate(){return sP(this.min,this.max,this.value)},get fillPercent(){return this.fillRate*100},get pointerRate(){return sP(this.min,this.max,this.pointerValue)},get pointerPercent(){return this.pointerRate*100}});M1=class extends Ii{constructor(r){super();N(this,Q1);N(this,sh,void 0);N(this,tl,void 0);me(this,sh,r)}onConnect(r){me(this,tl,new IntersectionObserver(t=>{S(this,sh).callback?.(t,S(this,tl))},S(this,sh))),S(this,tl).observe(r),Ft(U(this,Q1,EP).bind(this))}};sh=new WeakMap,tl=new WeakMap,Q1=new WeakSet,EP=function(){S(this,tl)?.disconnect(),me(this,tl,void 0)};mj=Io(),pm=Io();Lk={Left:-1,ArrowLeft:-1,Up:1,ArrowUp:1,Right:1,ArrowRight:1,Down:-1,ArrowDown:-1},Vk=class extends Ii{constructor(r,t){super();N(this,J1);N(this,eb);N(this,tb);N(this,rb);N(this,ib);N(this,nb);N(this,ah);N(this,ro);N(this,Vu);N(this,sb);N(this,ob);N(this,ab);N(this,lb);N(this,lh);N(this,Sm);N(this,ub);N(this,cb);N(this,Tm);N(this,Cm);N(this,db);N(this,hb);N(this,Ni,void 0);N(this,rl,void 0);N(this,oh,void 0);N(this,il,null);N(this,ks,null);N(this,qo,null);N(this,uh,void 0);N(this,Wo,!1);N(this,fb,vu(r=>{U(this,ro,Ka).call(this,U(this,Vu,nm).call(this,r),r)},20,{leading:!0}));me(this,Ni,r),me(this,rl,t)}onSetup(){ws(pm)&&me(this,oh,Ri(pm))}onConnect(r){He(U(this,rb,LP).bind(this,r)),He(U(this,ib,PP).bind(this,r)),S(this,Ni).swipeGesture&&He(U(this,J1,MP).bind(this))}};Ni=new WeakMap,rl=new WeakMap,oh=new WeakMap,J1=new WeakSet,MP=function(){let{pointer:r}=S(this,rl).$state;if(r()!=="coarse"||!S(this,Ni).swipeGesture()){me(this,il,null);return}me(this,il,S(this,rl).player.el?.querySelector("media-provider,[data-media-provider]")),S(this,il)&&new Qt(S(this,il)).add("touchstart",U(this,eb,AP).bind(this),{passive:!0}).add("touchmove",U(this,tb,OP).bind(this),{passive:!1})},il=new WeakMap,ks=new WeakMap,qo=new WeakMap,eb=new WeakSet,AP=function(r){me(this,ks,r.touches[0])},tb=new WeakSet,OP=function(r){if(Zs(S(this,ks))||q0(r))return;let t=r.touches[0],a=t.clientX-S(this,ks).clientX,l=t.clientY-S(this,ks).clientY,n=this.$state.dragging();!n&&Math.abs(l)>5||n||(r.preventDefault(),Math.abs(a)>20&&(me(this,ks,t),me(this,qo,this.$state.value()),U(this,lh,T1).call(this,S(this,qo),r)))},rb=new WeakSet,LP=function(r){let{hidden:t}=this.$props;new Qt(r).add("focus",U(this,nb,DP).bind(this)).add("keyup",U(this,cb,UP).bind(this)).add("keydown",U(this,ub,NP).bind(this)),!(t()||S(this,Ni).isDisabled())&&new Qt(r).add("pointerenter",U(this,sb,IP).bind(this)).add("pointermove",U(this,ob,RP).bind(this)).add("pointerleave",U(this,ab,FP).bind(this)).add("pointerdown",U(this,lb,BP).bind(this))},ib=new WeakSet,PP=function(r){S(this,Ni).isDisabled()||!this.$state.dragging()||new Qt(document).add("pointerup",U(this,db,VP).bind(this),{capture:!0}).add("pointermove",S(this,fb).bind(this)).add("touchmove",U(this,hb,$P).bind(this),{passive:!1})},nb=new WeakSet,DP=function(){U(this,ro,Ka).call(this,this.$state.value())},ah=new WeakSet,S1=function(r,t){let{value:a,min:l,max:n,dragging:s}=this.$state,o=Math.max(l(),Math.min(r,n()));a.set(o);let u=this.createEvent("value-change",{detail:o,trigger:t});if(this.dispatch(u),S(this,Ni).onValueChange?.(u),s()){let m=this.createEvent("drag-value-change",{detail:o,trigger:t});this.dispatch(m),S(this,Ni).onDragValueChange?.(m)}},ro=new WeakSet,Ka=function(r,t){let{pointerValue:a,dragging:l}=this.$state;a.set(r),this.dispatch("pointer-value-change",{detail:r,trigger:t}),l()&&U(this,ah,S1).call(this,r,t)},Vu=new WeakSet,nm=function(r){let t,a=this.el.getBoundingClientRect(),{min:l,max:n}=this.$state;if(this.$props.orientation()==="vertical"){let{bottom:s,height:o}=a;t=(s-r.clientY)/o}else if(S(this,ks)&&Ur(S(this,qo))){let{width:s}=S(this,il).getBoundingClientRect(),o=(r.clientX-S(this,ks).clientX)/s,u=n()-l(),m=u*Math.abs(o);t=(o<0?S(this,qo)-m:S(this,qo)+m)/u}else{let{left:s,width:o}=a;t=(r.clientX-s)/o}return Math.max(l(),Math.min(n(),S(this,Ni).roundValue(cG(l(),n(),t,S(this,Ni).getStep()))))},sb=new WeakSet,IP=function(r){this.$state.pointing.set(!0)},ob=new WeakSet,RP=function(r){let{dragging:t}=this.$state;t()||U(this,ro,Ka).call(this,U(this,Vu,nm).call(this,r),r)},ab=new WeakSet,FP=function(r){this.$state.pointing.set(!1)},lb=new WeakSet,BP=function(r){if(r.button!==0)return;let t=U(this,Vu,nm).call(this,r);U(this,lh,T1).call(this,t,r),U(this,ro,Ka).call(this,t,r)},lh=new WeakSet,T1=function(r,t){let{dragging:a}=this.$state;if(a())return;a.set(!0),S(this,rl).remote.pauseControls(t);let l=this.createEvent("drag-start",{detail:r,trigger:t});this.dispatch(l),S(this,Ni).onDragStart?.(l),S(this,oh)?.onDragStart?.()},Sm=new WeakSet,$k=function(r,t){let{dragging:a}=this.$state;if(!a())return;a.set(!1),S(this,rl).remote.resumeControls(t);let l=this.createEvent("drag-end",{detail:r,trigger:t});this.dispatch(l),S(this,Ni).onDragEnd?.(l),me(this,ks,null),me(this,qo,null),S(this,oh)?.onDragEnd?.()},uh=new WeakMap,Wo=new WeakMap,ub=new WeakSet,NP=function(r){if(!Object.keys(Lk).includes(r.key))return;let{key:a}=r,l=U(this,Tm,Gk).call(this,r);if(!Zs(l)){U(this,ro,Ka).call(this,l,r),U(this,ah,S1).call(this,l,r);return}let n=U(this,Cm,Hk).call(this,r);S(this,Wo)||(me(this,Wo,a===S(this,uh)),!this.$state.dragging()&&S(this,Wo)&&U(this,lh,T1).call(this,n,r)),U(this,ro,Ka).call(this,n,r),me(this,uh,a)},cb=new WeakSet,UP=function(r){if(!Object.keys(Lk).includes(r.key)||!Zs(U(this,Tm,Gk).call(this,r)))return;let a=S(this,Wo)?this.$state.pointerValue():U(this,Cm,Hk).call(this,r);U(this,ah,S1).call(this,a,r),U(this,Sm,$k).call(this,a,r),me(this,uh,""),me(this,Wo,!1)},Tm=new WeakSet,Gk=function(r){let t=r.key,{min:a,max:l}=this.$state;return t==="Home"||t==="PageUp"?a():t==="End"||t==="PageDown"?l():!r.metaKey&&/^[0-9]$/.test(t)?(l()-a())/10*Number(t):null},Cm=new WeakSet,Hk=function(r){let{key:t,shiftKey:a}=r;r.preventDefault(),r.stopPropagation();let{shiftKeyMultiplier:l}=this.$props,{min:n,max:s,value:o,pointerValue:u}=this.$state,m=S(this,Ni).getStep(),v=S(this,Ni).getKeyStep(),c=a?v*l():v,d=Number(Lk[t]),p=c*d,f=S(this,Wo)?u():S(this,Ni).getValue?.()??o(),y=(f+p)/m;return Math.max(n(),Math.min(s(),Number((m*y).toFixed(3))))},db=new WeakSet,VP=function(r){if(r.button!==0)return;r.preventDefault(),r.stopImmediatePropagation();let t=U(this,Vu,nm).call(this,r);U(this,ro,Ka).call(this,t,r),U(this,Sm,$k).call(this,t,r)},hb=new WeakSet,$P=function(r){r.preventDefault()},fb=new WeakMap;gm=Io(()=>({})),Jo=class extends Ii{constructor(r){super();N(this,pb);N(this,mb);N(this,yb);N(this,gb);N(this,vb);N(this,bb);N(this,_b);N(this,wb);N(this,km,void 0);N(this,kn,void 0);N(this,jm,Dt(!0));N(this,Em,Dt(!0));N(this,xb,Ua((r,t)=>{this.el?.style.setProperty("--slider-fill",r+"%"),this.el?.style.setProperty("--slider-pointer",t+"%")}));me(this,kn,r)}onSetup(){me(this,km,xr());let r=new Ts;r.attach(this),this.$state.focused=r.focused.bind(r),ws(gm)||Jn(gm,{default:"value"}),Jn(mj,{orientation:this.$props.orientation,disabled:S(this,kn).isDisabled,preview:Dt(null)}),He(U(this,yb,zP).bind(this)),He(U(this,gb,qP).bind(this)),He(U(this,vb,WP).bind(this)),U(this,_b,YP).call(this),new Vk(S(this,kn),S(this,km)).attach(this),new M1({callback:U(this,pb,GP).bind(this)}).attach(this)}onAttach(r){Vr(r,"role","slider"),Vr(r,"tabindex","0"),Vr(r,"autocomplete","off"),He(U(this,wb,ZP).bind(this))}onConnect(r){Ft(JC(r,S(this,jm).set)),He(U(this,mb,HP).bind(this))}};km=new WeakMap,kn=new WeakMap,jm=new WeakMap,Em=new WeakMap,pb=new WeakSet,GP=function(r){S(this,Em).set(r[0].isIntersecting)},mb=new WeakSet,HP=function(){let{hidden:r}=this.$props;this.$state.hidden.set(r()||!S(this,jm).call(this)||!S(this,Em).bind(this))},yb=new WeakSet,zP=function(){let{dragging:r,value:t,min:a,max:l}=this.$state;ot(r)||t.set(uG(a(),l(),t(),S(this,kn).getStep()))},gb=new WeakSet,qP=function(){this.$state.step.set(S(this,kn).getStep())},vb=new WeakSet,WP=function(){if(!S(this,kn).isDisabled())return;let{dragging:r,pointing:t}=this.$state;r.set(!1),t.set(!1)},bb=new WeakSet,XP=function(){return Pp(S(this,kn).isDisabled())},_b=new WeakSet,YP=function(){let{orientation:r}=this.$props,{dragging:t,active:a,pointing:l}=this.$state;this.setAttributes({"data-dragging":t,"data-pointing":l,"data-active":a,"aria-disabled":U(this,bb,XP).bind(this),"aria-valuemin":S(this,kn).aria.valueMin??this.$state.min,"aria-valuemax":S(this,kn).aria.valueMax??this.$state.max,"aria-valuenow":S(this,kn).aria.valueNow,"aria-valuetext":S(this,kn).aria.valueText,"aria-orientation":r})},wb=new WeakSet,ZP=function(){let{fillPercent:r,pointerPercent:t}=this.$state;S(this,xb).call(this,is(r(),3),is(t(),3))},xb=new WeakMap,Ce(Jo,"props",{hidden:!1,disabled:!1,step:1,keyStep:1,orientation:"horizontal",shiftKeyMultiplier:5});Pu=class extends hr{constructor(){super();N(this,Sb);N(this,Tb);N(this,Cb);N(this,kb);new Jo({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:this.$props.disabled,aria:{valueNow:U(this,Sb,KP).bind(this),valueText:U(this,Tb,QP).bind(this)}})}onSetup(){He(U(this,Cb,JP).bind(this)),He(U(this,kb,e9).bind(this))}};Sb=new WeakSet,KP=function(){let{value:r}=this.$state;return Math.round(r())},Tb=new WeakSet,QP=function(){let{value:r,max:t}=this.$state;return is(r()/t()*100,2)+"%"},Cb=new WeakSet,JP=function(){let{value:r}=this.$props;this.$state.value.set(r())},kb=new WeakSet,e9=function(){let{min:r,max:t}=this.$props;this.$state.min.set(r()),this.$state.max.set(t())},Ce(Pu,"props",{...Jo.props,min:0,max:100,value:0}),Ce(Pu,"state",pj);Go=new Map,_1=new Map,_j=class _j{constructor(i,r,t){N(this,jb);N(this,Eb);N(this,Om);N(this,Lm);N(this,Pm);N(this,Dm);N(this,Mb);N(this,dh);N(this,Mm,void 0);N(this,ch,void 0);N(this,Am,void 0);Ce(this,"$images",Dt([]));me(this,ch,i),me(this,Am,r),me(this,Mm,t),He(U(this,jb,t9).bind(this))}static create(i,r){let t=xr();return new _j(i,r,t)}};Mm=new WeakMap,ch=new WeakMap,Am=new WeakMap,jb=new WeakSet,t9=function(){let{canLoad:i}=S(this,Mm).$state;if(!i())return;let r=S(this,ch).call(this);if(r){if(dt(r)&&Go.has(r)){let t=Go.get(r);if(Go.delete(r),Go.set(r,t),Go.size>99){let a=Go.keys().next().value;Go.delete(a)}this.$images.set(Go.get(r))}else if(dt(r)){let t=S(this,Am).call(this),a=r+"::"+t;if(!_1.has(a)){let l=new Promise(async(n,s)=>{try{let o=await fetch(r,{credentials:qa(t)});if(o.headers.get("content-type")==="application/json"){let m=await o.json();if(ni(m))if(m[0]&&"text"in m[0])n(U(this,Lm,Wk).call(this,m));else{for(let v=0;v<m.length;v++){let c=m[v];eo(R0(c),!1),eo("url"in c&&dt(c.url),!1),eo("startTime"in c&&Ur(c.startTime),!1)}n(m)}else n(U(this,Om,qk).call(this,m));return}Promise.resolve().then(()=>(h1(),d1)).then(async({parseResponse:m})=>{try{let{cues:v}=await m(o);n(U(this,Lm,Wk).call(this,v))}catch(v){s(v)}})}catch(o){s(o)}}).then(n=>(Go.set(a,n),n)).catch(n=>{U(this,dh,C1).call(this,r,n)}).finally(()=>{dt(a)&&_1.delete(a)});_1.set(a,l)}_1.get(a)?.then(l=>{this.$images.set(l||[])})}else if(ni(r))try{this.$images.set(U(this,Eb,r9).call(this,r))}catch(t){U(this,dh,C1).call(this,r,t)}else try{this.$images.set(U(this,Om,qk).call(this,r))}catch(t){U(this,dh,C1).call(this,r,t)}return()=>{this.$images.set([])}}},Eb=new WeakSet,r9=function(i){let r=U(this,Pm,Xk).call(this);return i.map((t,a)=>(eo(t.url&&dt(t.url)),eo("startTime"in t&&Ur(t.startTime)),{...t,url:dt(t.url)?U(this,Dm,Yk).call(this,t.url,r):t.url}))},Om=new WeakSet,qk=function(i){eo(dt(i.url)),eo(ni(i.tiles)&&i.tiles?.length);let r=new URL(i.url),t=[],a="tile_width"in i?i.tile_width:i.tileWidth,l="tile_height"in i?i.tile_height:i.tileHeight;for(let n of i.tiles)t.push({url:r,startTime:"start"in n?n.start:n.startTime,width:a,height:l,coords:{x:n.x,y:n.y}});return t},Lm=new WeakSet,Wk=function(i){for(let a=0;a<i.length;a++){let l=i[a];eo("startTime"in l&&Ur(l.startTime)),eo("text"in l&&dt(l.text))}let r=[],t=U(this,Pm,Xk).call(this);for(let a of i){let[l,n]=a.text.split("#"),s=U(this,Mb,i9).call(this,n);r.push({url:U(this,Dm,Yk).call(this,l,t),startTime:a.startTime,endTime:a.endTime,width:s?.w,height:s?.h,coords:s&&Ur(s.x)&&Ur(s.y)?{x:s.x,y:s.y}:void 0})}return r},Pm=new WeakSet,Xk=function(){let i=ot(S(this,ch));return!dt(i)||!/^https?:/.test(i)?location.href:i},Dm=new WeakSet,Yk=function(i,r){return/^https?:/.test(i)?new URL(i):new URL(i,r)},Mb=new WeakSet,i9=function(i){if(!i)return{};let[r,t]=i.split("="),a=t?.split(","),l={};if(!r||!a)return null;for(let n=0;n<r.length;n++){let s=+a[n];isNaN(s)||(l[r[n]]=s)}return l},dh=new WeakSet,C1=function(i,r){};zk=_j,Xd=class extends hr{constructor(){super(...arguments);N(this,Ab);N(this,Im);N(this,Ob);N(this,Lb);N(this,Pb);N(this,Db);N(this,Rm);N(this,Ib);N(this,Rb);N(this,Fm);N(this,Xo);N(this,Fb);Ce(this,"media");N(this,hh,void 0);N(this,fh,[])}onSetup(){this.media=xr(),me(this,hh,zk.create(this.$props.src,this.$state.crossOrigin)),U(this,Im,Zk).call(this),this.setAttributes({"data-loading":U(this,Db,l9).bind(this),"data-error":U(this,Rm,Kk).bind(this),"data-hidden":this.$state.hidden,"aria-hidden":Ss(this.$state.hidden)})}onConnect(r){He(U(this,Ab,n9).bind(this)),He(U(this,Ib,u9).bind(this)),He(U(this,Im,Zk).bind(this)),He(U(this,Ob,s9).bind(this)),He(U(this,Rb,c9).bind(this)),He(U(this,Fm,Qk).bind(this))}getTime(){return this.$props.time()}};hh=new WeakMap,fh=new WeakMap,Ab=new WeakSet,n9=function(){let r=this.$state.img();r&&new Qt(r).add("load",U(this,Lb,o9).bind(this)).add("error",U(this,Pb,a9).bind(this))},Im=new WeakSet,Zk=function(){let{crossOrigin:r}=this.$props,{crossOrigin:t}=this.$state,{crossOrigin:a}=this.media.$state,l=r()!==null?r():a();t.set(l===!0?"anonymous":l)},Ob=new WeakSet,s9=function(){let{src:r,loading:t,error:a}=this.$state;return r()&&(t.set(!0),a.set(null)),()=>{U(this,Fb,d9).call(this),t.set(!1),a.set(null)}},Lb=new WeakSet,o9=function(){let{loading:r,error:t}=this.$state;U(this,Fm,Qk).call(this),r.set(!1),t.set(null)},Pb=new WeakSet,a9=function(r){let{loading:t,error:a}=this.$state;t.set(!1),a.set(r)},Db=new WeakSet,l9=function(){let{loading:r,hidden:t}=this.$state;return!t()&&r()},Rm=new WeakSet,Kk=function(){let{error:r}=this.$state;return!Zs(r())},Ib=new WeakSet,u9=function(){let{hidden:r}=this.$state,{duration:t}=this.media.$state,a=S(this,hh).$images();r.set(U(this,Rm,Kk).call(this)||!Number.isFinite(t())||a.length===0)},Rb=new WeakSet,c9=function(){let r=S(this,hh).$images();if(!r.length)return;let t=this.getTime(),{src:a,activeThumbnail:l}=this.$state,n=-1,s=null;for(let o=r.length-1;o>=0;o--){let u=r[o];if(t>=u.startTime&&(!u.endTime||t<u.endTime)){n=o;break}}r[n]&&(s=r[n]),l.set(s),a.set(s?.url.href||"")},Fm=new WeakSet,Qk=function(){if(!this.scope||this.$state.hidden())return;let r=this.el,t=this.$state.img(),a=this.$state.activeThumbnail();if(!t||!a||!r)return;let l=a.width??t.naturalWidth,n=a?.height??t.naturalHeight,{maxWidth:s,maxHeight:o,minWidth:u,minHeight:m,width:v,height:c}=getComputedStyle(this.el);u==="100%"&&(u=parseFloat(v)+""),m==="100%"&&(m=parseFloat(c)+"");let d=Math.max(parseInt(u)/l,parseInt(m)/n),p=Math.min(Math.max(parseInt(u),parseInt(s))/l,Math.max(parseInt(m),parseInt(o))/n),f=!isNaN(p)&&p<1?p:d>1?d:1;U(this,Xo,Au).call(this,r,"--thumbnail-width",`${l*f}px`),U(this,Xo,Au).call(this,r,"--thumbnail-height",`${n*f}px`),U(this,Xo,Au).call(this,t,"width",`${t.naturalWidth*f}px`),U(this,Xo,Au).call(this,t,"height",`${t.naturalHeight*f}px`),U(this,Xo,Au).call(this,t,"transform",a.coords?`translate(-${a.coords.x*f}px, -${a.coords.y*f}px)`:""),U(this,Xo,Au).call(this,t,"max-width","none")},Xo=new WeakSet,Au=function(r,t,a){r.style.setProperty(t,a),S(this,fh).push(()=>r.style.removeProperty(t))},Fb=new WeakSet,d9=function(){for(let r of S(this,fh))r();me(this,fh,[])},Ce(Xd,"props",{src:null,time:0,crossOrigin:null}),Ce(Xd,"state",new Do({src:"",img:null,thumbnails:[],activeThumbnail:null,crossOrigin:null,loading:!1,error:null,hidden:!1}));Qd=class extends hr{constructor(){super(...arguments);N(this,nl,void 0);N(this,Bb,void 0);N(this,Bm,void 0)}onSetup(){me(this,Bm,B0(Pu.state)),me(this,nl,Ri(gm)),me(this,Bb,_s(this.getValueText.bind(this)))}getValueText(){let{type:r,format:t,decimalPlaces:a,padHours:l,padMinutes:n,showHours:s,showMs:o}=this.$props,{value:u,pointerValue:m,min:v,max:c}=S(this,Bm),d=t?.()??S(this,nl).default,p=r()==="current"?u():m();if(d==="percent"){let f=c()-v(),y=p/f*100;return(S(this,nl).percent??is)(y,a())+"%"}else return d==="time"?(S(this,nl).time??fj)(p,{padHrs:l(),padMins:n(),showHrs:s(),showMs:o()}):(S(this,nl).value?.(p)??p.toFixed(2))+""}};nl=new WeakMap,Bb=new WeakMap,Bm=new WeakMap,Ce(Qd,"props",{type:"pointer",format:null,showHours:!1,showMs:!1,padHours:null,padMinutes:null,decimalPlaces:2});dG=Qd.prototype;si(dG,"getValueText");mm=class extends hr{constructor(){super(...arguments);N(this,ph,void 0);N(this,Nm,Ua(()=>{let{disabled:r,orientation:t}=S(this,ph);if(r())return;let a=this.el,{offset:l,noClamp:n}=this.$props;a&&hG(a,{clamp:!n(),offset:l(),orientation:t()})}))}onSetup(){me(this,ph,Ri(mj));let{active:r}=B0(Pu.state);this.setAttributes({"data-visible":r})}onAttach(r){Object.assign(r.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(r){let{preview:t}=S(this,ph);t.set(r),Ft(()=>t.set(null)),He(S(this,Nm).bind(this));let a=new ResizeObserver(S(this,Nm).bind(this));a.observe(r),Ft(()=>a.disconnect())}};ph=new WeakMap,Nm=new WeakMap,Ce(mm,"props",{offset:0,noClamp:!1});Yd=class extends hr{constructor(){super(...arguments);N(this,Nb);N(this,Ub);N(this,Vb);N(this,$b);N(this,Gb);N(this,Hb);N(this,zb);N(this,qb);N(this,ns,void 0);N(this,Um,vu(U(this,Hb,g9).bind(this),25))}onSetup(){me(this,ns,xr());let{audioGain:r}=S(this,ns).$state;Jn(gm,{default:"percent",value(t){return(t*(r()??1)).toFixed(2)},percent(t){return Math.round(t*(r()??1))}}),new Jo({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:U(this,$b,m9).bind(this),aria:{valueMax:U(this,Vb,p9).bind(this),valueNow:U(this,Nb,h9).bind(this),valueText:U(this,Ub,f9).bind(this)},onDragValueChange:U(this,qb,b9).bind(this),onValueChange:U(this,zb,v9).bind(this)}).attach(this),He(U(this,Gb,y9).bind(this))}onAttach(r){r.setAttribute("data-media-volume-slider",""),Vr(r,"aria-label","Volume");let{canSetVolume:t}=S(this,ns).$state;this.setAttributes({"data-supported":t,"aria-hidden":Ss(()=>!t())})}};ns=new WeakMap,Nb=new WeakSet,h9=function(){let{value:r}=this.$state,{audioGain:t}=S(this,ns).$state;return Math.round(r()*(t()??1))},Ub=new WeakSet,f9=function(){let{value:r,max:t}=this.$state,{audioGain:a}=S(this,ns).$state;return is(r()/t()*(a()??1)*100,2)+"%"},Vb=new WeakSet,p9=function(){let{audioGain:r}=S(this,ns).$state;return this.$state.max()*(r()??1)},$b=new WeakSet,m9=function(){let{disabled:r}=this.$props,{canSetVolume:t}=S(this,ns).$state;return r()||!t()},Gb=new WeakSet,y9=function(){let{muted:r,volume:t}=S(this,ns).$state,a=r()?0:t()*100;this.$state.value.set(a),this.dispatch("value-change",{detail:a})},Um=new WeakMap,Hb=new WeakSet,g9=function(r){if(!r.trigger)return;let t=is(r.detail/100,3);S(this,ns).remote.changeVolume(t,r)},zb=new WeakSet,v9=function(r){S(this,Um).call(this,r)},qb=new WeakSet,b9=function(r){S(this,Um).call(this,r)},Ce(Yd,"props",{...Jo.props,keyStep:5,shiftKeyMultiplier:2}),Ce(Yd,"state",pj);Zd=class extends hr{constructor(){super();N(this,Wb);N(this,Xb);N(this,Yb);N(this,Zb);N(this,Kb);N(this,$m);N(this,Qb);N(this,Jb);N(this,e_);N(this,Gm);N(this,t_);N(this,Hm);N(this,r_);N(this,i_);N(this,n_);N(this,s_);N(this,o_);N(this,a_);N(this,Yo);N(this,l_);N(this,u_);N(this,c_);N(this,Dr,void 0);N(this,mh,void 0);N(this,Vm,Dt(null));N(this,yh,!1);let{noSwipeGesture:r}=this.$props;new Jo({swipeGesture:()=>!r(),getValue:U(this,Hm,tj).bind(this),getStep:U(this,r_,M9).bind(this),getKeyStep:U(this,i_,A9).bind(this),roundValue:U(this,n_,O9),isDisabled:U(this,s_,L9).bind(this),aria:{valueNow:U(this,o_,P9).bind(this),valueText:U(this,a_,D9).bind(this)},onDragStart:U(this,Jb,k9).bind(this),onDragValueChange:U(this,e_,j9).bind(this),onDragEnd:U(this,Gm,ej).bind(this),onValueChange:U(this,t_,E9).bind(this)})}onSetup(){me(this,Dr,xr()),Jn(gm,{default:"time",value:U(this,u_,R9).bind(this),time:U(this,c_,F9).bind(this)}),this.setAttributes({"data-chapters":U(this,Xb,w9).bind(this)}),this.setStyles({"--slider-progress":U(this,Wb,_9).bind(this)}),He(U(this,Zb,S9).bind(this)),He(U(this,Yb,x9).bind(this))}onAttach(r){r.setAttribute("data-media-time-slider",""),Vr(r,"aria-label","Seek")}onConnect(r){He(U(this,Kb,T9).bind(this)),ML(S(this,Dr).textTracks,"chapters",S(this,Vm).set)}};Dr=new WeakMap,mh=new WeakMap,Vm=new WeakMap,Wb=new WeakSet,_9=function(){let{bufferedEnd:r,duration:t}=S(this,Dr).$state;return is(Math.min(r()/Math.max(t(),1),1)*100,3)+"%"},Xb=new WeakSet,w9=function(){let{duration:r}=S(this,Dr).$state;return S(this,Vm).call(this)?.cues.length&&Number.isFinite(r())&&r()>0},Yb=new WeakSet,x9=function(){me(this,mh,vu(U(this,$m,Jk).bind(this),this.$props.seekingRequestThrottle()))},Zb=new WeakSet,S9=function(){if(this.$state.hidden())return;let{value:r,dragging:t}=this.$state,a=U(this,Hm,tj).call(this);ot(t)||(r.set(a),this.dispatch("value-change",{detail:a}))},Kb=new WeakSet,T9=function(){let r=S(this,Dr).player.el,{preview:t}=Ri(mj);r&&t()&&Mt(r,"data-preview",this.$state.active())},$m=new WeakSet,Jk=function(r,t){S(this,Dr).remote.seeking(r,t)},Qb=new WeakSet,C9=function(r,t,a){S(this,mh).cancel();let{live:l}=S(this,Dr).$state;if(l()&&t>=99){S(this,Dr).remote.seekToLiveEdge(a);return}S(this,Dr).remote.seek(r,a)},yh=new WeakMap,Jb=new WeakSet,k9=function(r){let{pauseWhileDragging:t}=this.$props;if(t()){let{paused:a}=S(this,Dr).$state;me(this,yh,!a()),S(this,Dr).remote.pause(r)}},e_=new WeakSet,j9=function(r){S(this,mh).call(this,U(this,Yo,Ou).call(this,r.detail),r)},Gm=new WeakSet,ej=function(r){let{seeking:t}=S(this,Dr).$state;ot(t)||U(this,$m,Jk).call(this,U(this,Yo,Ou).call(this,r.detail),r);let a=r.detail;U(this,Qb,C9).call(this,U(this,Yo,Ou).call(this,a),a,r);let{pauseWhileDragging:l}=this.$props;l()&&S(this,yh)&&(S(this,Dr).remote.play(r),me(this,yh,!1))},t_=new WeakSet,E9=function(r){let{dragging:t}=this.$state;t()||!r.trigger||U(this,Gm,ej).call(this,r)},Hm=new WeakSet,tj=function(){let{currentTime:r}=S(this,Dr).$state;return U(this,l_,I9).call(this,r())},r_=new WeakSet,M9=function(){let r=this.$props.step()/S(this,Dr).$state.duration()*100;return Number.isFinite(r)?r:1},i_=new WeakSet,A9=function(){let r=this.$props.keyStep()/S(this,Dr).$state.duration()*100;return Number.isFinite(r)?r:1},n_=new WeakSet,O9=function(r){return is(r,3)},s_=new WeakSet,L9=function(){let{disabled:r}=this.$props,{canSeek:t}=S(this,Dr).$state;return r()||!t()},o_=new WeakSet,P9=function(){let{value:r}=this.$state;return Math.round(r())},a_=new WeakSet,D9=function(){let r=U(this,Yo,Ou).call(this,this.$state.value()),{duration:t}=S(this,Dr).$state;return Number.isFinite(r)?`${nP(r)} out of ${nP(t())}`:"live"},Yo=new WeakSet,Ou=function(r){let{duration:t}=S(this,Dr).$state;return is(r/100*t(),5)},l_=new WeakSet,I9=function(r){let{liveEdge:t,duration:a}=S(this,Dr).$state,l=Math.max(0,Math.min(1,t()?1:Math.min(r,a())/a()));return Number.isNaN(l)?0:Number.isFinite(l)?l*100:100},u_=new WeakSet,R9=function(r){let t=U(this,Yo,Ou).call(this,r),{live:a,duration:l}=S(this,Dr).$state;return Number.isFinite(t)?(a()?t-l():t).toFixed(0):"LIVE"},c_=new WeakSet,F9=function(r,t){let a=U(this,Yo,Ou).call(this,r),{live:l,duration:n}=S(this,Dr).$state,s=l()?a-n():a;return Number.isFinite(a)?`${s<0?"-":""}${fj(Math.abs(s),t)}`:"LIVE"},Ce(Zd,"props",{...Jo.props,step:.1,keyStep:5,shiftKeyMultiplier:2,pauseWhileDragging:!1,noSwipeGesture:!1,seekingRequestThrottle:100}),Ce(Zd,"state",pj);Mn=Io();mG=["a[href]","[tabindex]","input","select","button"].map(h=>`${h}:not([aria-hidden='true'])`).join(","),yG=new Set(["Escape","Tab","ArrowUp","ArrowDown","Home","PageUp","End","PageDown","Enter"," "]),rj=class{constructor(i){N(this,Zo);N(this,qm);N(this,d_);N(this,Wm);N(this,h_);N(this,f_);N(this,gh);N(this,p_);N(this,sl,-1);N(this,js,null);N(this,jn,[]);N(this,zm,void 0);me(this,zm,i)}get items(){return S(this,jn)}attachMenu(i){Vt(i,"focus",U(this,d_,B9).bind(this)),me(this,js,i),Ft(()=>{me(this,js,null)})}listen(){S(this,js)&&(this.update(),new Qt(S(this,js)).add("keyup",U(this,h_,N9).bind(this)).add("keydown",U(this,f_,U9).bind(this)),Ft(()=>{me(this,sl,-1),me(this,jn,[])}))}update(){me(this,sl,0),me(this,jn,U(this,p_,V9).call(this))}scroll(i=U(this,qm,ij).call(this)){let r=S(this,jn)[i];r&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{pG(r,{behavior:"smooth",boundary:t=>!t.hasAttribute("data-root")})})})}focusActive(i=!0){let r=U(this,qm,ij).call(this);U(this,Zo,Lu).call(this,r>=0?r:0,i)}};sl=new WeakMap,js=new WeakMap,jn=new WeakMap,zm=new WeakMap,Zo=new WeakSet,Lu=function(i,r=!0){me(this,sl,i),S(this,jn)[i]?(S(this,jn)[i].focus({preventScroll:!0}),r&&this.scroll(i)):S(this,js)?.focus({preventScroll:!0})},qm=new WeakSet,ij=function(){return S(this,jn).findIndex(i=>document.activeElement===i||i.getAttribute("role")==="menuitemradio"&&i.getAttribute("aria-checked")==="true")},d_=new WeakSet,B9=function(){S(this,sl)>=0||(this.update(),this.focusActive())},Wm=new WeakSet,nj=function(i){let r=i.target;if(PO(i)&&r instanceof Element){let t=r.getAttribute("role");return!/a|input|select|button/.test(r.localName)&&!t}return yG.has(i.key)},h_=new WeakSet,N9=function(i){U(this,Wm,nj).call(this,i)&&(i.stopPropagation(),i.preventDefault())},f_=new WeakSet,U9=function(i){if(U(this,Wm,nj).call(this,i))switch(i.stopPropagation(),i.preventDefault(),i.key){case"Escape":S(this,zm).closeMenu(i);break;case"Tab":U(this,Zo,Lu).call(this,U(this,gh,k1).call(this,i.shiftKey?-1:1));break;case"ArrowUp":U(this,Zo,Lu).call(this,U(this,gh,k1).call(this,-1));break;case"ArrowDown":U(this,Zo,Lu).call(this,U(this,gh,k1).call(this,1));break;case"Home":case"PageUp":U(this,Zo,Lu).call(this,0);break;case"End":case"PageDown":U(this,Zo,Lu).call(this,S(this,jn).length-1);break}},gh=new WeakSet,k1=function(i){let r=S(this,sl);do r=(r+i+S(this,jn).length)%S(this,jn).length;while(S(this,jn)[r]?.offsetParent===null);return r},p_=new WeakSet,V9=function(){if(!S(this,js))return[];let i=S(this,js).querySelectorAll(mG),r=[],t=a=>a.getAttribute("role")==="menu";for(let a of i)$d(a)&&a.offsetParent!==null&&ek(S(this,js),a,t)&&r.push(a);return r};gG=Object.defineProperty,vG=Object.getOwnPropertyDescriptor,oy=(h,i,r,t)=>{for(var a=vG(i,r),l=h.length-1,n;l>=0;l--)(n=h[l])&&(a=n(i,r,a)||a);return a&&gG(i,r,a),a},bG=0,no=class extends hr{constructor(){super();N(this,m_);N(this,y_);N(this,g_);N(this,v_);N(this,b_);N(this,Zm);N(this,__);N(this,w_);N(this,Km);N(this,x_);N(this,qu);N(this,S_);N(this,T_);N(this,C_);N(this,k_);N(this,j_);N(this,E_);N(this,A_);N(this,L_);N(this,D_);N(this,I_);N(this,Es,void 0);N(this,vh,void 0);N(this,bh,void 0);N(this,pn,Dt(!1));N(this,Xm,Dt(!1));N(this,io,Dt(null));N(this,Ei,Dt(null));N(this,ol,void 0);N(this,al,new Set);N(this,$u,null);N(this,Gu,void 0);N(this,Ko,void 0);N(this,Hu,!1);N(this,Ym,Dt(!1));N(this,zu,new Set);N(this,_h,!1);N(this,M_,U(this,A_,r8).bind(this));N(this,wh,!1);N(this,O_,U(this,L_,i8).bind(this));N(this,P_,U(this,D_,n8).bind(this));N(this,xh,Ua(()=>{let r=ot(S(this,Ei));if(!r)return;let t=0,a=getComputedStyle(r),l=[...r.children];for(let n of["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"])t+=parseFloat(a[n])||0;for(let n of l)if($d(n)&&n.style.display==="contents")l.push(...n.children);else if(n.nodeType===3)t+=parseFloat(getComputedStyle(n).fontSize);else if($d(n)){if(!QC(n))continue;let s=getComputedStyle(n);t+=n.offsetHeight+(parseFloat(s.marginTop)||0)+(parseFloat(s.marginBottom)||0)}Qn(r,"--menu-height",t+"px")}));N(this,Sh,!1);let{showDelay:r}=this.$props;me(this,Gu,new Ik({trigger:S(this,io),content:S(this,Ei),showDelay:r,listen:(t,a,l)=>{Ga(t,s=>{S(this,pn).call(this)?l(s):a(s)});let n=U(this,k_,J9).call(this);n&&Ga(n,s=>{s.stopPropagation(),l(s)})},onChange:U(this,w_,X9).bind(this)}))}get triggerElement(){return S(this,io).call(this)}get contentElement(){return S(this,Ei).call(this)}get isSubmenu(){return!!S(this,ol)}onSetup(){me(this,Es,xr());let r=++bG;me(this,vh,`media-menu-${r}`),me(this,bh,`media-menu-button-${r}`),me(this,Ko,new rj({closeMenu:this.close.bind(this)})),ws(Mn)&&me(this,ol,Ri(Mn)),U(this,m_,$9).call(this),this.setAttributes({"data-open":S(this,pn),"data-root":!this.isSubmenu,"data-submenu":this.isSubmenu,"data-disabled":U(this,qu,sm).bind(this)}),Jn(Mn,{button:S(this,io),content:S(this,Ei),expanded:S(this,pn),hint:Dt(""),submenu:!!S(this,ol),disable:U(this,S_,Z9).bind(this),attachMenuButton:U(this,g_,H9).bind(this),attachMenuItems:U(this,v_,z9).bind(this),attachObserver:U(this,b_,q9).bind(this),disableMenuButton:U(this,__,W9).bind(this),addSubmenu:U(this,E_,t8).bind(this),onTransitionEvent:t=>{S(this,zu).add(t),Ft(()=>{S(this,zu).delete(t)})}})}onAttach(r){r.style.setProperty("display","contents")}onConnect(r){He(U(this,y_,G9).bind(this)),this.isSubmenu&&S(this,ol)?.addSubmenu(this)}onDestroy(){S(this,io).set(null),S(this,Ei).set(null),me(this,$u,null),S(this,zu).clear()}open(r){ot(S(this,pn))||(S(this,Gu).show(r),Ys())}close(r){ot(S(this,pn))&&(S(this,Gu).hide(r),Ys())}};Es=new WeakMap,vh=new WeakMap,bh=new WeakMap,pn=new WeakMap,Xm=new WeakMap,io=new WeakMap,Ei=new WeakMap,ol=new WeakMap,al=new WeakMap,$u=new WeakMap,Gu=new WeakMap,Ko=new WeakMap,Hu=new WeakMap,Ym=new WeakMap,zu=new WeakMap,m_=new WeakSet,$9=function(){let r=-1,t=ws(pm)?Ri(pm):null;Jn(pm,{onDragStart:()=>{t?.onDragStart?.(),window.clearTimeout(r),r=-1,me(this,Hu,!0)},onDragEnd:()=>{t?.onDragEnd?.(),r=window.setTimeout(()=>{me(this,Hu,!1),r=-1},300)}})},y_=new WeakSet,G9=function(){let r=U(this,x_,Y9).call(this);this.isSubmenu||S(this,xh).call(this),U(this,Zm,sj).call(this,r),r&&(He(()=>{let{height:t}=S(this,Es).$state,a=S(this,Ei).call(this);a&&Qn(a,"--player-height",t()+"px")}),S(this,Ko).listen(),this.listen("pointerup",U(this,T_,K9).bind(this)),Vt(window,"pointerup",U(this,C_,Q9).bind(this)))},g_=new WeakSet,H9=function(r){let t=r.el,a=this.isSubmenu,l=Ss(U(this,qu,sm).bind(this));Vr(t,"tabindex",a?"-1":"0"),Vr(t,"role",a?"menuitem":"button"),Mt(t,"id",S(this,bh)),Mt(t,"aria-haspopup","menu"),Mt(t,"aria-expanded","false"),Mt(t,"data-root",!this.isSubmenu),Mt(t,"data-submenu",this.isSubmenu),He(()=>{Mt(t,"data-open",S(this,pn).call(this)),Mt(t,"aria-disabled",l())}),S(this,io).set(t),Ft(()=>{S(this,io).set(null)})},v_=new WeakSet,z9=function(r){let t=r.el;t.style.setProperty("display","none"),Mt(t,"id",S(this,vh)),Vr(t,"role","menu"),Vr(t,"tabindex","-1"),Mt(t,"data-root",!this.isSubmenu),Mt(t,"data-submenu",this.isSubmenu),S(this,Ei).set(t),Ft(()=>S(this,Ei).set(null)),He(()=>Mt(t,"data-open",S(this,pn).call(this))),S(this,Ko).attachMenu(t),U(this,Zm,sj).call(this,!1);let l=U(this,I_,s8).bind(this);this.isSubmenu?S(this,ol)?.onTransitionEvent(l):(r.listen("transitionstart",l),r.listen("transitionend",l),r.listen("animationend",S(this,xh)),r.listen("vds-menu-resize",S(this,xh)))},b_=new WeakSet,q9=function(r){me(this,$u,r)},Zm=new WeakSet,sj=function(r){let t=ot(S(this,Ei));t&&Mt(t,"aria-hidden",Pp(!r))},__=new WeakSet,W9=function(r){S(this,Ym).set(r)},_h=new WeakMap,w_=new WeakSet,X9=function(r,t){if(me(this,_h,Id(t)),t?.stopPropagation(),S(this,pn).call(this)===r)return;if(U(this,qu,sm).call(this)){r&&S(this,Gu).hide(t);return}this.el?.dispatchEvent(new Event("vds-menu-resize",{bubbles:!0,composed:!0}));let a=S(this,io).call(this),l=S(this,Ei).call(this);if(a&&(Mt(a,"aria-controls",r&&S(this,vh)),Mt(a,"aria-expanded",Pp(r))),l&&Mt(l,"aria-labelledby",r&&S(this,bh)),S(this,pn).set(r),U(this,j_,e8).call(this,t),Ys(),S(this,_h)){r?l?.focus():a?.focus();for(let n of[this.el,l])n&&n.setAttribute("data-keyboard","")}else for(let n of[this.el,l])n&&n.removeAttribute("data-keyboard");if(this.dispatch(r?"open":"close",{trigger:t}),r)!this.isSubmenu&&S(this,Es).activeMenu!==this&&(S(this,Es).activeMenu?.close(t),S(this,Es).activeMenu=this),S(this,$u)?.onOpen?.(t);else{if(this.isSubmenu)for(let n of S(this,al))n.close(t);else S(this,Es).activeMenu=null;S(this,$u)?.onClose?.(t)}r&&requestAnimationFrame(U(this,Km,oj).bind(this))},Km=new WeakSet,oj=function(){S(this,Sh)||S(this,wh)||(S(this,Ko).update(),requestAnimationFrame(()=>{S(this,_h)?S(this,Ko).focusActive():S(this,Ko).scroll()}))},x_=new WeakSet,Y9=function(){return!U(this,qu,sm).call(this)&&S(this,pn).call(this)},qu=new WeakSet,sm=function(){return S(this,Xm).call(this)||S(this,Ym).call(this)},S_=new WeakSet,Z9=function(r){S(this,Xm).set(r)},T_=new WeakSet,K9=function(r){let t=S(this,Ei).call(this);S(this,Hu)||t&&KC(t,r)||r.stopPropagation()},C_=new WeakSet,Q9=function(r){let t=S(this,Ei).call(this);S(this,Hu)||t&&KC(t,r)||this.close(r)},k_=new WeakSet,J9=function(){let r=this.el?.querySelector('[data-part="close-target"]');return this.el&&r&&ek(this.el,r,t=>t.getAttribute("role")==="menu")?r:null},j_=new WeakSet,e8=function(r){this.isSubmenu||(S(this,pn).call(this)?S(this,Es).remote.pauseControls(r):S(this,Es).remote.resumeControls(r))},E_=new WeakSet,t8=function(r){S(this,al).add(r),new Qt(r).add("open",S(this,O_)).add("close",S(this,P_)),Ft(S(this,M_))},M_=new WeakMap,A_=new WeakSet,r8=function(r){S(this,al).delete(r)},wh=new WeakMap,O_=new WeakMap,L_=new WeakSet,i8=function(r){me(this,wh,!0);let t=S(this,Ei).call(this);this.isSubmenu&&this.triggerElement?.setAttribute("aria-hidden","true");for(let a of S(this,al))if(a!==r.target)for(let l of[a.el,a.triggerElement])l?.setAttribute("aria-hidden","true");if(t){let a=r.target.el;for(let l of t.children)l.contains(a)?l.setAttribute("data-open",""):l!==a&&l.setAttribute("data-hidden","")}},P_=new WeakMap,D_=new WeakSet,n8=function(r){me(this,wh,!1);let t=S(this,Ei).call(this);this.isSubmenu&&this.triggerElement?.setAttribute("aria-hidden","false");for(let a of S(this,al))for(let l of[a.el,a.triggerElement])l?.setAttribute("aria-hidden","false");if(t)for(let a of t.children)a.removeAttribute("data-open"),a.removeAttribute("data-hidden")},xh=new WeakMap,Sh=new WeakMap,I_=new WeakSet,s8=function(r){let t=S(this,Ei).call(this);t&&r.propertyName==="height"&&(me(this,Sh,r.type==="transitionstart"),Mt(t,"data-transition",S(this,Sh)?"height":null),S(this,pn).call(this)&&U(this,Km,oj).call(this));for(let a of S(this,zu))a(r)},Ce(no,"props",{showDelay:0});oy([lr],no.prototype,"triggerElement");oy([lr],no.prototype,"contentElement");oy([lr],no.prototype,"isSubmenu");oy([si],no.prototype,"open");oy([si],no.prototype,"close");Qu=class extends hr{constructor(){super();N(this,R_);N(this,F_);N(this,Jm);N(this,ll,void 0);N(this,Qm,Dt(null));new Ts}get expanded(){return S(this,ll)?.expanded()??!1}onSetup(){me(this,ll,Ri(Mn))}onAttach(r){S(this,ll).attachMenuButton(this),He(U(this,R_,o8).bind(this)),Vr(r,"type","button")}onConnect(r){He(U(this,F_,a8).bind(this)),U(this,Jm,aj).call(this);let t=new MutationObserver(U(this,Jm,aj).bind(this));t.observe(r,{attributeFilter:["data-part"],childList:!0,subtree:!0}),Ft(()=>t.disconnect()),Ga(r,a=>{this.dispatch("select",{trigger:a})})}};ll=new WeakMap,Qm=new WeakMap,R_=new WeakSet,o8=function(){S(this,ll).disableMenuButton(this.$props.disabled())},F_=new WeakSet,a8=function(){let r=S(this,Qm).call(this);r&&He(()=>{let t=S(this,ll).hint();t&&(r.textContent=t)})},Jm=new WeakSet,aj=function(){let r=this.el?.querySelector('[data-part="hint"]');S(this,Qm).set(r??null)},Ce(Qu,"props",{disabled:!1});_G=Qu.prototype;lr(_G,"expanded");A1=class extends Qu{},Pk=Io(),ym=class extends hr{constructor(){super();N(this,B_);N(this,N_);N(this,U_);N(this,Wu,void 0);new Ts;let{placement:r}=this.$props;this.setAttributes({"data-placement":r})}onAttach(r){if(me(this,Wu,Ri(Mn)),S(this,Wu).attachMenuItems(this),ws(Pk)){let t=Ri(Pk);t&&(Jn(Pk,null),t.attach(r),Ft(()=>t.attach(null)))}}onConnect(r){He(U(this,B_,l8).bind(this))}};Wu=new WeakMap,B_=new WeakSet,l8=function(){let{expanded:r}=S(this,Wu);if(!this.el||!r())return;let t=this.$props.placement();if(!t)return;Object.assign(this.el.style,{position:"absolute",top:0,left:0,width:"max-content"});let{offset:a,alignOffset:l}=this.$props;Ft(xL(this.el,U(this,U_,c8).call(this),t,{offsetVarName:"media-menu",xOffset:l(),yOffset:a()})),Ft(U(this,N_,u8).bind(this))},N_=new WeakSet,u8=function(){this.el&&(this.el.removeAttribute("style"),this.el.style.display="none")},U_=new WeakSet,c8=function(){return S(this,Wu).button()},Ce(ym,"props",{placement:null,offset:0,alignOffset:0});wG=Io(),Oh=class extends Ii{constructor(){super(...arguments);N(this,V_);N(this,$_);N(this,ey);N(this,ty);N(this,Qo,new Set);N(this,ul,Dt(""));N(this,hj,null);Ce(this,"onValueChange");N(this,G_,U(this,ey,lj).bind(this))}get values(){return Array.from(S(this,Qo)).map(r=>r.value())}get value(){return S(this,ul).call(this)}set value(r){U(this,ey,lj).call(this,r)}onSetup(){Jn(wG,{add:U(this,V_,d8).bind(this),remove:U(this,$_,h8).bind(this)})}onAttach(r){ws(Mn)||Vr(r,"role","radiogroup"),this.setAttributes({value:S(this,ul)})}onDestroy(){S(this,Qo).clear()}};Qo=new WeakMap,ul=new WeakMap,hj=new WeakMap,V_=new WeakSet,d8=function(r){S(this,Qo).has(r)||(S(this,Qo).add(r),r.onCheck=S(this,G_),r.check(r.value()===S(this,ul).call(this)))},$_=new WeakSet,h8=function(r){r.onCheck=null,S(this,Qo).delete(r)},G_=new WeakMap,ey=new WeakSet,lj=function(r,t){let a=ot(S(this,ul));if(!r||r===a)return;let l=U(this,ty,uj).call(this,a),n=U(this,ty,uj).call(this,r);l?.check(!1,t),n?.check(!0,t),S(this,ul).set(r),this.onValueChange?.(r,t)},ty=new WeakSet,uj=function(r){for(let t of S(this,Qo))if(r===ot(t.value))return t;return null};Jd=class extends hr{constructor(){super();N(this,H_);N(this,z_);N(this,q_);N(this,W_);N(this,X_);N(this,Th,void 0);N(this,Ms,void 0);N(this,Xu,void 0);me(this,Xu,new Oh),S(this,Xu).onValueChange=U(this,X_,g8).bind(this)}get value(){return S(this,Xu).value}get disabled(){let{audioTracks:r}=S(this,Ms).$state;return r().length<=1}onSetup(){me(this,Ms,xr()),ws(Mn)&&me(this,Th,Ri(Mn))}onConnect(r){He(U(this,H_,f8).bind(this)),He(U(this,q_,m8).bind(this)),He(U(this,z_,p8).bind(this))}getOptions(){let{audioTracks:r}=S(this,Ms).$state;return r().map(t=>({track:t,label:t.label,value:t.label.toLowerCase()}))}};Th=new WeakMap,Ms=new WeakMap,Xu=new WeakMap,H_=new WeakSet,f8=function(){S(this,Xu).value=U(this,W_,y8).call(this)},z_=new WeakSet,p8=function(){let{emptyLabel:r}=this.$props,{audioTrack:t}=S(this,Ms).$state,a=t();S(this,Th)?.hint.set(a?.label??r())},q_=new WeakSet,m8=function(){S(this,Th)?.disable(this.disabled)},W_=new WeakSet,y8=function(){let{audioTrack:r}=S(this,Ms).$state,t=r();return t?t.label.toLowerCase():""},X_=new WeakSet,g8=function(r,t){if(this.disabled)return;let a=S(this,Ms).audioTracks.toArray().findIndex(l=>l.label.toLowerCase()===r);if(a>=0){let l=S(this,Ms).audioTracks[a];S(this,Ms).remote.changeAudioTrack(a,t),this.dispatch("change",{detail:l,trigger:t})}},Ce(Jd,"props",{emptyLabel:"Default"});yj=Jd.prototype;lr(yj,"value");lr(yj,"disabled");si(yj,"getOptions");eh=class extends hr{constructor(){super();N(this,Y_);N(this,Z_);N(this,K_);N(this,Q_);N(this,J_);N(this,kh);N(this,En,void 0);N(this,Ch,void 0);N(this,Yu,void 0);me(this,Yu,new Oh),S(this,Yu).onValueChange=U(this,J_,x8).bind(this)}get value(){return S(this,Yu).value}get disabled(){let{hasCaptions:r}=S(this,En).$state;return!r()}onSetup(){me(this,En,xr()),ws(Mn)&&me(this,Ch,Ri(Mn))}onConnect(r){super.onConnect?.(r),He(U(this,Y_,v8).bind(this)),He(U(this,K_,_8).bind(this)),He(U(this,Z_,b8).bind(this))}getOptions(){let{offLabel:r}=this.$props,{textTracks:t}=S(this,En).$state;return[{value:"off",label:r},...t().filter(Bi).map(a=>({track:a,label:a.label,value:U(this,kh,j1).call(this,a)}))]}};En=new WeakMap,Ch=new WeakMap,Yu=new WeakMap,Y_=new WeakSet,v8=function(){S(this,Yu).value=U(this,Q_,w8).call(this)},Z_=new WeakSet,b8=function(){let{offLabel:r}=this.$props,{textTrack:t}=S(this,En).$state,a=t();S(this,Ch)?.hint.set(a&&Bi(a)&&a.mode==="showing"?a.label:r())},K_=new WeakSet,_8=function(){S(this,Ch)?.disable(this.disabled)},Q_=new WeakSet,w8=function(){let{textTrack:r}=S(this,En).$state,t=r();return t&&Bi(t)&&t.mode==="showing"?U(this,kh,j1).call(this,t):"off"},J_=new WeakSet,x8=function(r,t){if(this.disabled)return;if(r==="off"){let l=S(this,En).textTracks.selected;if(l){let n=S(this,En).textTracks.indexOf(l);S(this,En).remote.changeTextTrackMode(n,"disabled",t),this.dispatch("change",{detail:null,trigger:t})}return}let a=S(this,En).textTracks.toArray().findIndex(l=>U(this,kh,j1).call(this,l)===r);if(a>=0){let l=S(this,En).textTracks[a];S(this,En).remote.changeTextTrackMode(a,"showing",t),this.dispatch("change",{detail:l,trigger:t})}},kh=new WeakSet,j1=function(r){return r.id+":"+r.kind+"-"+r.label.toLowerCase()},Ce(eh,"props",{offLabel:"Off"});gj=eh.prototype;lr(gj,"value");lr(gj,"disabled");si(gj,"getOptions");xG=[.25,.5,.75,1,1.25,1.5,1.75,2],th=class extends hr{constructor(){super();N(this,e2);N(this,t2);N(this,r2);N(this,i2);N(this,n2);N(this,cl,void 0);N(this,jh,void 0);N(this,Zu,void 0);me(this,Zu,new Oh),S(this,Zu).onValueChange=U(this,n2,j8).bind(this)}get value(){return S(this,Zu).value}get disabled(){let{rates:r}=this.$props,{canSetPlaybackRate:t}=S(this,cl).$state;return!t()||r().length===0}onSetup(){me(this,cl,xr()),ws(Mn)&&me(this,jh,Ri(Mn))}onConnect(r){He(U(this,e2,S8).bind(this)),He(U(this,t2,T8).bind(this)),He(U(this,r2,C8).bind(this))}getOptions(){let{rates:r,normalLabel:t}=this.$props;return r().map(a=>({label:a===1?t:a+"\xD7",value:a.toString()}))}};cl=new WeakMap,jh=new WeakMap,Zu=new WeakMap,e2=new WeakSet,S8=function(){S(this,Zu).value=U(this,i2,k8).call(this)},t2=new WeakSet,T8=function(){let{normalLabel:r}=this.$props,{playbackRate:t}=S(this,cl).$state,a=t();S(this,jh)?.hint.set(a===1?r():a+"\xD7")},r2=new WeakSet,C8=function(){S(this,jh)?.disable(this.disabled)},i2=new WeakSet,k8=function(){let{playbackRate:r}=S(this,cl).$state;return r().toString()},n2=new WeakSet,j8=function(r,t){if(this.disabled)return;let a=+r;S(this,cl).remote.changePlaybackRate(a,t),this.dispatch("change",{detail:a,trigger:t})},Ce(th,"props",{normalLabel:"Normal",rates:xG});vj=th.prototype;lr(vj,"value");lr(vj,"disabled");si(vj,"getOptions");rh=class extends hr{constructor(){super();N(this,o2);N(this,a2);N(this,l2);N(this,u2);N(this,c2);N(this,Mh);N(this,As,void 0);N(this,Eh,void 0);N(this,Ku,void 0);N(this,s2,_s(()=>{let{sort:r}=this.$props,{qualities:t}=S(this,As).$state;return TL(t(),r()==="descending")}));me(this,Ku,new Oh),S(this,Ku).onValueChange=U(this,u2,O8).bind(this)}get value(){return S(this,Ku).value}get disabled(){let{canSetQuality:r,qualities:t}=S(this,As).$state;return!r()||t().length<=1}onSetup(){me(this,As,xr()),ws(Mn)&&me(this,Eh,Ri(Mn))}onConnect(r){He(U(this,o2,E8).bind(this)),He(U(this,l2,A8).bind(this)),He(U(this,a2,M8).bind(this))}getOptions(){let{autoLabel:r,hideBitrate:t}=this.$props;return[{value:"auto",label:r},...S(this,s2).call(this).map(a=>{let l=a.bitrate&&a.bitrate>=0?`${is(a.bitrate/1e6,2)} Mbps`:null;return{quality:a,label:a.height+"p",value:U(this,Mh,E1).call(this,a),bitrate:()=>t()?null:l}})]}};As=new WeakMap,Eh=new WeakMap,Ku=new WeakMap,s2=new WeakMap,o2=new WeakSet,E8=function(){S(this,Ku).value=U(this,c2,L8).call(this)},a2=new WeakSet,M8=function(){let{autoLabel:r}=this.$props,{autoQuality:t,quality:a}=S(this,As).$state,l=a()?a().height+"p":"";S(this,Eh)?.hint.set(t()?r()+(l?` (${l})`:""):l)},l2=new WeakSet,A8=function(){S(this,Eh)?.disable(this.disabled)},u2=new WeakSet,O8=function(r,t){if(this.disabled)return;if(r==="auto"){S(this,As).remote.changeQuality(-1,t),this.dispatch("change",{detail:"auto",trigger:t});return}let{qualities:a}=S(this,As).$state,l=ot(a).findIndex(n=>U(this,Mh,E1).call(this,n)===r);if(l>=0){let n=ot(a)[l];S(this,As).remote.changeQuality(l,t),this.dispatch("change",{detail:n,trigger:t})}},c2=new WeakSet,L8=function(){let{quality:r,autoQuality:t}=S(this,As).$state;if(t())return"auto";let a=r();return a?U(this,Mh,E1).call(this,a):"auto"},Mh=new WeakSet,E1=function(r){return r.height+"_"+r.bitrate},Ce(rh,"props",{autoLabel:"Auto",hideBitrate:!1,sort:"descending"});bj=rh.prototype;lr(bj,"value");lr(bj,"disabled");si(bj,"getOptions");Kd=class extends hr{constructor(){super(...arguments);N(this,d2);N(this,h2);N(this,f2);N(this,ny);N(this,p2);N(this,m2);N(this,sy);N(this,y2);N(this,Ah,void 0);N(this,dl,Dt(null));N(this,ry,Dt(!0));N(this,iy,Dt(!0))}onSetup(){me(this,Ah,xr()),U(this,ny,cj).call(this);let{type:r}=this.$props;this.setAttributes({"data-type":r,"data-remainder":U(this,sy,dj).bind(this)}),new M1({callback:U(this,d2,P8).bind(this)}).attach(this)}onAttach(r){r.hasAttribute("role")||He(U(this,p2,R8).bind(this)),He(U(this,ny,cj).bind(this))}onConnect(r){Ft(JC(r,S(this,ry).set)),He(U(this,h2,D8).bind(this)),He(U(this,f2,I8).bind(this))}};Ah=new WeakMap,dl=new WeakMap,ry=new WeakMap,iy=new WeakMap,d2=new WeakSet,P8=function(r){S(this,iy).set(r[0].isIntersecting)},h2=new WeakSet,D8=function(){let{hidden:r}=this.$props;this.$state.hidden.set(r()||!S(this,ry).call(this)||!S(this,iy).call(this))},f2=new WeakSet,I8=function(){if(!this.$props.toggle()){S(this,dl).set(null);return}this.el&&Ga(this.el,U(this,y2,B8).bind(this))},ny=new WeakSet,cj=function(){let{hidden:r,timeText:t}=this.$state,{duration:a}=S(this,Ah).$state;if(r())return;let{type:l,padHours:n,padMinutes:s,showHours:o}=this.$props,u=U(this,m2,F8).call(this,l()),m=a(),v=U(this,sy,dj).call(this);if(!Number.isFinite(u+m)){t.set("LIVE");return}let c=v?Math.max(0,m-u):u,d=fj(c,{padHrs:n(),padMins:s(),showHrs:o()});t.set((v?"-":"")+d)},p2=new WeakSet,R8=function(){if(!this.el)return;let{toggle:r}=this.$props;Mt(this.el,"role",r()?"timer":null),Mt(this.el,"tabindex",r()?0:null)},m2=new WeakSet,F8=function(r){let{bufferedEnd:t,duration:a,currentTime:l}=S(this,Ah).$state;switch(r){case"buffered":return t();case"duration":return a();default:return l()}},sy=new WeakSet,dj=function(){return this.$props.remainder()&&S(this,dl).call(this)!==!1},y2=new WeakSet,B8=function(r){if(r.preventDefault(),S(this,dl).call(this)===null){S(this,dl).set(!this.$props.remainder());return}S(this,dl).set(t=>!t)},Ce(Kd,"props",{type:"current",showHours:!1,padHours:null,padMinutes:null,remainder:!1,toggle:!1,hidden:!1}),Ce(Kd,"state",new Do({timeText:"",hidden:!1}))});function K8(h,i){if(!Array.isArray(h)||!h.hasOwnProperty("raw"))throw Error("invalid template strings array");return U8!==void 0?U8.createHTML(i):i}function ic(h,i,r=h,t){var a,l,n,s;if(i===rc)return i;let o=t!==void 0?(a=r._$Co)===null||a===void 0?void 0:a[t]:r._$Cl,u=ly(i)?void 0:i._$litDirective$;return o?.constructor!==u&&((l=o?._$AO)===null||l===void 0||l.call(o,!1),u===void 0?o=void 0:(o=new u(h),o._$AT(h,r,t)),t!==void 0?((n=(s=r)._$Co)!==null&&n!==void 0?n:s._$Co=[])[t]=o:r._$Cl=o),o!==void 0&&(i=ic(h,o._$AS(h,i.values),o,t)),i}var wj,g2,Lh,U8,v2,ea,Sj,SG,tc,b2,ly,W8,X8,xj,ay,V8,$8,Ju,G8,H8,Y8,Z8,vq,bq,rc,Sr,z8,ec,Q8,uy,_2,cy,nc,w2,TG,x2,S2,T2,J8,q8,sc=Ot(()=>{g2=window,Lh=g2.trustedTypes,U8=Lh?Lh.createPolicy("lit-html",{createHTML:h=>h}):void 0,v2="$lit$",ea=`lit$${(Math.random()+"").slice(9)}$`,Sj="?"+ea,SG=`<${Sj}>`,tc=document,b2=()=>tc.createComment(""),ly=h=>h===null||typeof h!="object"&&typeof h!="function",W8=Array.isArray,X8=h=>W8(h)||typeof h?.[Symbol.iterator]=="function",xj=`[ 	
\f\r]`,ay=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,V8=/-->/g,$8=/>/g,Ju=RegExp(`>|${xj}(?:([^\\s"'>=/]+)(${xj}*=${xj}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),G8=/'/g,H8=/"/g,Y8=/^(?:script|style|textarea|title)$/i,Z8=h=>(i,...r)=>({_$litType$:h,strings:i,values:r}),vq=Z8(1),bq=Z8(2),rc=Symbol.for("lit-noChange"),Sr=Symbol.for("lit-nothing"),z8=new WeakMap,ec=tc.createTreeWalker(tc,129,null,!1);Q8=(h,i)=>{let r=h.length-1,t=[],a,l=i===2?"<svg>":"",n=ay;for(let s=0;s<r;s++){let o=h[s],u,m,v=-1,c=0;for(;c<o.length&&(n.lastIndex=c,m=n.exec(o),m!==null);)c=n.lastIndex,n===ay?m[1]==="!--"?n=V8:m[1]!==void 0?n=$8:m[2]!==void 0?(Y8.test(m[2])&&(a=RegExp("</"+m[2],"g")),n=Ju):m[3]!==void 0&&(n=Ju):n===Ju?m[0]===">"?(n=a??ay,v=-1):m[1]===void 0?v=-2:(v=n.lastIndex-m[2].length,u=m[1],n=m[3]===void 0?Ju:m[3]==='"'?H8:G8):n===H8||n===G8?n=Ju:n===V8||n===$8?n=ay:(n=Ju,a=void 0);let d=n===Ju&&h[s+1].startsWith("/>")?" ":"";l+=n===ay?o+SG:v>=0?(t.push(u),o.slice(0,v)+v2+o.slice(v)+ea+d):o+ea+(v===-2?(t.push(void 0),s):d)}return[K8(h,l+(h[r]||"<?>")+(i===2?"</svg>":"")),t]},uy=class h{constructor({strings:i,_$litType$:r},t){let a;this.parts=[];let l=0,n=0,s=i.length-1,o=this.parts,[u,m]=Q8(i,r);if(this.el=h.createElement(u,t),ec.currentNode=this.el.content,r===2){let v=this.el.content,c=v.firstChild;c.remove(),v.append(...c.childNodes)}for(;(a=ec.nextNode())!==null&&o.length<s;){if(a.nodeType===1){if(a.hasAttributes()){let v=[];for(let c of a.getAttributeNames())if(c.endsWith(v2)||c.startsWith(ea)){let d=m[n++];if(v.push(c),d!==void 0){let p=a.getAttribute(d.toLowerCase()+v2).split(ea),f=/([.?@])?(.*)/.exec(d);o.push({type:1,index:l,name:f[2],strings:p,ctor:f[1]==="."?w2:f[1]==="?"?x2:f[1]==="@"?S2:nc})}else o.push({type:6,index:l})}for(let c of v)a.removeAttribute(c)}if(Y8.test(a.tagName)){let v=a.textContent.split(ea),c=v.length-1;if(c>0){a.textContent=Lh?Lh.emptyScript:"";for(let d=0;d<c;d++)a.append(v[d],b2()),ec.nextNode(),o.push({type:2,index:++l});a.append(v[c],b2())}}}else if(a.nodeType===8)if(a.data===Sj)o.push({type:2,index:l});else{let v=-1;for(;(v=a.data.indexOf(ea,v+1))!==-1;)o.push({type:7,index:l}),v+=ea.length-1}l++}}static createElement(i,r){let t=tc.createElement("template");return t.innerHTML=i,t}};_2=class{constructor(i,r){this._$AV=[],this._$AN=void 0,this._$AD=i,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(i){var r;let{el:{content:t},parts:a}=this._$AD,l=((r=i?.creationScope)!==null&&r!==void 0?r:tc).importNode(t,!0);ec.currentNode=l;let n=ec.nextNode(),s=0,o=0,u=a[0];for(;u!==void 0;){if(s===u.index){let m;u.type===2?m=new cy(n,n.nextSibling,this,i):u.type===1?m=new u.ctor(n,u.name,u.strings,this,i):u.type===6&&(m=new T2(n,this,i)),this._$AV.push(m),u=a[++o]}s!==u?.index&&(n=ec.nextNode(),s++)}return ec.currentNode=tc,l}v(i){let r=0;for(let t of this._$AV)t!==void 0&&(t.strings!==void 0?(t._$AI(i,t,r),r+=t.strings.length-2):t._$AI(i[r])),r++}},cy=class h{constructor(i,r,t,a){var l;this.type=2,this._$AH=Sr,this._$AN=void 0,this._$AA=i,this._$AB=r,this._$AM=t,this.options=a,this._$Cp=(l=a?.isConnected)===null||l===void 0||l}get _$AU(){var i,r;return(r=(i=this._$AM)===null||i===void 0?void 0:i._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let i=this._$AA.parentNode,r=this._$AM;return r!==void 0&&i?.nodeType===11&&(i=r.parentNode),i}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(i,r=this){i=ic(this,i,r),ly(i)?i===Sr||i==null||i===""?(this._$AH!==Sr&&this._$AR(),this._$AH=Sr):i!==this._$AH&&i!==rc&&this._(i):i._$litType$!==void 0?this.g(i):i.nodeType!==void 0?this.$(i):X8(i)?this.T(i):this._(i)}k(i){return this._$AA.parentNode.insertBefore(i,this._$AB)}$(i){this._$AH!==i&&(this._$AR(),this._$AH=this.k(i))}_(i){this._$AH!==Sr&&ly(this._$AH)?this._$AA.nextSibling.data=i:this.$(tc.createTextNode(i)),this._$AH=i}g(i){var r;let{values:t,_$litType$:a}=i,l=typeof a=="number"?this._$AC(i):(a.el===void 0&&(a.el=uy.createElement(K8(a.h,a.h[0]),this.options)),a);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===l)this._$AH.v(t);else{let n=new _2(l,this),s=n.u(this.options);n.v(t),this.$(s),this._$AH=n}}_$AC(i){let r=z8.get(i.strings);return r===void 0&&z8.set(i.strings,r=new uy(i)),r}T(i){W8(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,t,a=0;for(let l of i)a===r.length?r.push(t=new h(this.k(b2()),this.k(b2()),this,this.options)):t=r[a],t._$AI(l),a++;a<r.length&&(this._$AR(t&&t._$AB.nextSibling,a),r.length=a)}_$AR(i=this._$AA.nextSibling,r){var t;for((t=this._$AP)===null||t===void 0||t.call(this,!1,!0,r);i&&i!==this._$AB;){let a=i.nextSibling;i.remove(),i=a}}setConnected(i){var r;this._$AM===void 0&&(this._$Cp=i,(r=this._$AP)===null||r===void 0||r.call(this,i))}},nc=class{constructor(i,r,t,a,l){this.type=1,this._$AH=Sr,this._$AN=void 0,this.element=i,this.name=r,this._$AM=a,this.options=l,t.length>2||t[0]!==""||t[1]!==""?(this._$AH=Array(t.length-1).fill(new String),this.strings=t):this._$AH=Sr}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(i,r=this,t,a){let l=this.strings,n=!1;if(l===void 0)i=ic(this,i,r,0),n=!ly(i)||i!==this._$AH&&i!==rc,n&&(this._$AH=i);else{let s=i,o,u;for(i=l[0],o=0;o<l.length-1;o++)u=ic(this,s[t+o],r,o),u===rc&&(u=this._$AH[o]),n||(n=!ly(u)||u!==this._$AH[o]),u===Sr?i=Sr:i!==Sr&&(i+=(u??"")+l[o+1]),this._$AH[o]=u}n&&!a&&this.j(i)}j(i){i===Sr?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,i??"")}},w2=class extends nc{constructor(){super(...arguments),this.type=3}j(i){this.element[this.name]=i===Sr?void 0:i}},TG=Lh?Lh.emptyScript:"",x2=class extends nc{constructor(){super(...arguments),this.type=4}j(i){i&&i!==Sr?this.element.setAttribute(this.name,TG):this.element.removeAttribute(this.name)}},S2=class extends nc{constructor(i,r,t,a,l){super(i,r,t,a,l),this.type=5}_$AI(i,r=this){var t;if((i=(t=ic(this,i,r,0))!==null&&t!==void 0?t:Sr)===rc)return;let a=this._$AH,l=i===Sr&&a!==Sr||i.capture!==a.capture||i.once!==a.once||i.passive!==a.passive,n=i!==Sr&&(a===Sr||l);l&&this.element.removeEventListener(this.name,this,a),n&&this.element.addEventListener(this.name,this,i),this._$AH=i}handleEvent(i){var r,t;typeof this._$AH=="function"?this._$AH.call((t=(r=this.options)===null||r===void 0?void 0:r.host)!==null&&t!==void 0?t:this.element,i):this._$AH.handleEvent(i)}},T2=class{constructor(i,r,t){this.element=i,this.type=6,this._$AN=void 0,this._$AM=r,this.options=t}get _$AU(){return this._$AM._$AU}_$AI(i){ic(this,i)}},J8={O:v2,P:ea,A:Sj,C:1,M:Q8,L:_2,R:X8,D:ic,I:cy,V:nc,H:x2,N:S2,U:w2,F:T2},q8=g2.litHtmlPolyfillSupport;q8?.(uy,cy),((wj=g2.litHtmlVersions)!==null&&wj!==void 0?wj:g2.litHtmlVersions=[]).push("2.8.0")});function q2(h,i){tk(()=>{if(!h.connectScope)return;let r=h.querySelector("template");r&&He(()=>{let t=h.getOptions();wL(r,t.length,(a,l)=>{let{label:n,value:s}=t[l],o=a.querySelector('[data-part="label"]');a.setAttribute("value",s),o&&(dt(n)?o.textContent=n:He(()=>{o.textContent=n()})),i?.(a,t[l],l)})})})}var CG,H2,hl,z2,eD,dy,C2,k2,j2,E2,M2,A2,O2,Ph,L2,P2,D2,I2,R2,F2,B2,N2,U2,hy,V2,$2,G2,tD=Ot(()=>{fr();N8();Up();Dp();CG=W0('<img loading="eager" decoding="async" aria-hidden="true">'),dy=class extends jr(HTMLElement,Xd){constructor(){super(...arguments);N(this,z2);N(this,H2,void 0);N(this,hl,U(this,z2,eD).call(this))}onSetup(){me(this,H2,xr()),this.$state.img.set(S(this,hl))}onConnect(){let{src:r,crossOrigin:t}=this.$state;S(this,hl).parentNode!==this&&this.prepend(S(this,hl)),He(()=>{Mt(S(this,hl),"src",r()),Mt(S(this,hl),"crossorigin",t())})}};H2=new WeakMap,hl=new WeakMap,z2=new WeakSet,eD=function(){return X0(CG)},Ce(dy,"tagName","media-thumbnail"),Ce(dy,"attrs",{crossOrigin:"crossorigin"});C2=class extends jr(HTMLElement,Kd){onConnect(){He(()=>{this.textContent=this.$state.timeText()})}};Ce(C2,"tagName","media-time");k2=class extends jr(HTMLElement,om){};Ce(k2,"tagName","media-airplay-button");j2=class extends jr(HTMLElement,lm){};Ce(j2,"tagName","media-caption-button");E2=class extends jr(HTMLElement,um){};Ce(E2,"tagName","media-fullscreen-button");M2=class extends jr(HTMLElement,fm){};Ce(M2,"tagName","media-live-button");A2=class extends jr(HTMLElement,cm){};Ce(A2,"tagName","media-mute-button");O2=class extends jr(HTMLElement,dm){};Ce(O2,"tagName","media-pip-button");Ph=class extends jr(HTMLElement,am){};Ce(Ph,"tagName","media-play-button");L2=class extends jr(HTMLElement,hm){};Ce(L2,"tagName","media-seek-button");P2=class extends jr(HTMLElement,Jd){onConnect(){q2(this)}};Ce(P2,"tagName","media-audio-radio-group");D2=class extends jr(HTMLElement,eh){onConnect(){q2(this)}};Ce(D2,"tagName","media-captions-radio-group");I2=class extends jr(HTMLElement,no){};Ce(I2,"tagName","media-menu");R2=class extends jr(HTMLElement,Qu){};Ce(R2,"tagName","media-menu-button");F2=class extends jr(HTMLElement,A1){};Ce(F2,"tagName","media-menu-item");B2=class extends jr(HTMLElement,ym){};Ce(B2,"tagName","media-menu-items");N2=class extends jr(HTMLElement,th){onConnect(){q2(this)}};Ce(N2,"tagName","media-speed-radio-group");U2=class extends jr(HTMLElement,rh){onConnect(){q2(this,(i,r)=>{let t=r.bitrate,a=i.querySelector('[data-part="bitrate"]');t&&a&&He(()=>{a.textContent=t()||""})})}};Ce(U2,"tagName","media-quality-radio-group");hy=class extends jr(HTMLElement,Qd){onConnect(){He(()=>{this.textContent=this.getValueText()})}};Ce(hy,"tagName","media-slider-value"),Ce(hy,"attrs",{padMinutes:{converter:VC}});V2=class extends jr(HTMLElement,Zd){};Ce(V2,"tagName","media-time-slider");$2=class extends jr(HTMLElement,mm){};Ce($2,"tagName","media-slider-preview");G2=class extends jr(HTMLElement,Yd){};Ce(G2,"tagName","media-volume-slider")});function Tj(h){if(!h.length)return null;let i=h.start(0);for(let r=1;r<h.length;r++){let t=h.start(r);t<i&&(i=t)}return i}function Dh(h){if(!h.length)return null;let i=h.end(0);for(let r=1;r<h.length;r++){let t=h.end(r);t>i&&(i=t)}return i}function kG(h){if(h.length<=1)return h;h.sort((t,a)=>t[0]-a[0]);let i=[],r=h[0];for(let t=1;t<h.length;t++){let a=h[t];r[1]>=a[0]-1?r=[r[0],Math.max(r[1],a[1])]:(i.push(r),r=a)}return i.push(r),i}function rD(h,i,r){let t=i[0],a=i[1];return r<t?[r,-1]:r===t?i:t===-1?(i[0]=r,i):(r>t&&(i[1]=r,a===-1&&h.push(i)),kG(h),i)}var ta,Er,fy=Ot(()=>{fr();Er=class{constructor(i,r){N(this,ta,void 0);ni(i)?me(this,ta,i):!Zr(i)&&!Zr(r)?me(this,ta,[[i,r]]):me(this,ta,[])}get length(){return S(this,ta).length}start(i){return S(this,ta)[i][0]??1/0}end(i){return S(this,ta)[i][1]??1/0}};ta=new WeakMap});var jG,EG,MG,AG,OG,LG,PG,DG,IG,Ct,oc=Ot(()=>{jG=Symbol(0),EG=Symbol(0),MG=Symbol(0),AG=Symbol(0),OG=Symbol(0),LG=Symbol(0),PG=Symbol(0),DG=Symbol(0),IG=Symbol(0),Ct={add:jG,remove:EG,reset:MG,select:AG,readonly:OG,setReadonly:LG,onReset:PG,onRemove:DG,onUserSelect:IG}});var RG,FG,pi,py=Ot(()=>{RG=Symbol(0),FG=Symbol(0),pi={setAuto:RG,enableAuto:FG}});var ra,my,yy,Cj,ss,Ih=Ot(()=>{fr();ss=class{constructor(i){N(this,yy);N(this,ra,void 0);N(this,my,void 0);me(this,my,i)}start(){Zr(S(this,ra))&&U(this,yy,Cj).call(this)}stop(){Ur(S(this,ra))&&window.cancelAnimationFrame(S(this,ra)),me(this,ra,void 0)}};ra=new WeakMap,my=new WeakMap,yy=new WeakSet,Cj=function(){me(this,ra,window.requestAnimationFrame(()=>{Zr(S(this,ra))||(S(this,my).call(this),U(this,yy,Cj).call(this))}))}});function Rj(){return W2??(W2=new AudioContext)}function BG(){let h=Rj(),i=h.createGain();return i.connect(h.destination),Y2.push(i),i}function NG(h,i){let r=Rj(),t=r.createMediaElementSource(h);return i&&t.connect(i),Z2.push(t),t}function UG(h){let i=Y2.indexOf(h);i!==-1&&(Y2.splice(i,1),h.disconnect(),nD())}function VG(h){let i=Z2.indexOf(h);i!==-1&&(Z2.splice(i,1),h.disconnect(),nD())}function nD(){W2&&Y2.length===0&&Z2.length===0&&W2.close().then(()=>{W2=null})}function iD(h){return h?.type==="blur"||document.visibilityState==="hidden"?"hidden":document.hasFocus()?"active":"passive"}var W2,Y2,Z2,gy,Fh,Nn,os,K2,sD,vy,jj,kj,$G,lc,Bh,by,Q2,oD,Ej,_y,qt,fl,Nh,Uh,uc,wy,Vh,Zt,nr,J2,aD,$h,Gh,ew,lD,tw,uD,rw,cD,iw,dD,nw,Dj,$r,oi,Ij,GG,ia,ac,sw,hD,xy,Aj,ow,fD,aw,pD,lw,mD,Hh,X2,uw,yD,cw,gD,dw,vD,hw,bD,fw,_D,pw,wD,mw,xD,yw,SD,gw,TD,vw,CD,bw,kD,_w,jD,ww,ED,xw,MD,Sw,AD,Tw,OD,Cw,LD,kw,PD,Mj,Sy,Os,pl,Rh,jw,DD,Ew,ID,Mw,RD,Ty,Lj,Aw,FD,Oj,Cy,Pj,zh,Fj=Ot(()=>{Cu();fr();Ih();b1();oc();W2=null,Y2=[],Z2=[];kj=class{constructor(i,r){N(this,K2);N(this,vy);N(this,gy,void 0);N(this,Fh,void 0);N(this,Nn,null);N(this,os,null);me(this,gy,i),me(this,Fh,r)}get currentGain(){return S(this,Nn)?.gain?.value??null}get supported(){return!0}setGain(i){let r=this.currentGain;if(i!==this.currentGain){if(i===1&&r!==1){this.removeGain();return}S(this,Nn)||(me(this,Nn,BG()),S(this,os)&&S(this,os).connect(S(this,Nn))),S(this,os)||me(this,os,NG(S(this,gy),S(this,Nn))),S(this,Nn).gain.value=i,S(this,Fh).call(this,i)}}removeGain(){S(this,Nn)&&(S(this,os)&&S(this,os).connect(Rj().destination),U(this,vy,jj).call(this),S(this,Fh).call(this,null))}destroy(){U(this,K2,sD).call(this),U(this,vy,jj).call(this)}};gy=new WeakMap,Fh=new WeakMap,Nn=new WeakMap,os=new WeakMap,K2=new WeakSet,sD=function(){if(S(this,os))try{VG(S(this,os))}catch{}finally{me(this,os,null)}},vy=new WeakSet,jj=function(){if(S(this,Nn))try{UG(S(this,Nn))}catch{}finally{me(this,Nn,null)}};$G=["focus","blur","visibilitychange","pageshow","pagehide"],Ej=class{constructor(){N(this,Q2);N(this,lc,Dt(iD()));N(this,Bh,Dt(document.visibilityState));N(this,by,void 0)}connect(){let i=new Qt(window),r=U(this,Q2,oD).bind(this);for(let t of $G)i.add(t,r);Vp&&i.add("beforeunload",t=>{me(this,by,setTimeout(()=>{t.defaultPrevented||t.returnValue.length>0||(S(this,lc).set("hidden"),S(this,Bh).set("hidden"))},0))})}get pageState(){return S(this,lc).call(this)}get visibility(){return S(this,Bh).call(this)}};lc=new WeakMap,Bh=new WeakMap,by=new WeakMap,Q2=new WeakSet,oD=function(i){Vp&&window.clearTimeout(S(this,by)),(i.type!=="blur"||S(this,lc).call(this)==="active")&&(S(this,lc).set(iD(i)),S(this,Bh).set(document.visibilityState=="hidden"?"hidden":"visible"))};Mj=class{constructor(i,r){N(this,Zt);N(this,J2);N(this,ew);N(this,tw);N(this,rw);N(this,iw);N(this,$r);N(this,Ij);N(this,ia);N(this,sw);N(this,xy);N(this,ow);N(this,aw);N(this,lw);N(this,Hh);N(this,uw);N(this,cw);N(this,dw);N(this,hw);N(this,fw);N(this,pw);N(this,mw);N(this,yw);N(this,gw);N(this,vw);N(this,bw);N(this,_w);N(this,ww);N(this,xw);N(this,Sw);N(this,Tw);N(this,Cw);N(this,kw);N(this,_y,void 0);N(this,qt,void 0);N(this,fl,!1);N(this,Nh,!1);N(this,Uh,!1);N(this,uc,new ss(U(this,ew,lD).bind(this)));N(this,wy,new Ej);N(this,Vh,void 0);N(this,$h,0);N(this,Gh,-1);N(this,nw,void 0);N(this,Dj,void 0);me(this,_y,i),me(this,qt,r),me(this,Vh,new Qt(i.media)),U(this,tw,uD).call(this),S(this,wy).connect(),He(U(this,gw,TD).bind(this)),Ft(U(this,J2,aD).bind(this))}};_y=new WeakMap,qt=new WeakMap,fl=new WeakMap,Nh=new WeakMap,Uh=new WeakMap,uc=new WeakMap,wy=new WeakMap,Vh=new WeakMap,Zt=new WeakSet,nr=function(){return S(this,_y).media},J2=new WeakSet,aD=function(){me(this,Nh,!1),me(this,Uh,!1),S(this,uc).stop(),S(this,Vh).abort(),S(this,nw)?.clear()},$h=new WeakMap,Gh=new WeakMap,ew=new WeakSet,lD=function(){let i=S(this,Zt,nr).currentTime;!(Vp&&i-S(this,Gh)<.35)&&S(this,$h)!==i&&(U(this,ia,ac).call(this,i),me(this,$h,i))},tw=new WeakSet,uD=function(){U(this,$r,oi).call(this,"loadstart",U(this,sw,hD)),U(this,$r,oi).call(this,"abort",U(this,xy,Aj)),U(this,$r,oi).call(this,"emptied",U(this,ow,fD)),U(this,$r,oi).call(this,"error",U(this,kw,PD)),U(this,$r,oi).call(this,"volumechange",U(this,_w,jD))},rw=new WeakSet,cD=function(){S(this,Nh)||(U(this,$r,oi).call(this,"loadeddata",U(this,aw,pD)),U(this,$r,oi).call(this,"loadedmetadata",U(this,lw,mD)),U(this,$r,oi).call(this,"canplay",U(this,dw,vD)),U(this,$r,oi).call(this,"canplaythrough",U(this,hw,bD)),U(this,$r,oi).call(this,"durationchange",U(this,bw,kD)),U(this,$r,oi).call(this,"play",U(this,uw,yD)),U(this,$r,oi).call(this,"progress",U(this,Sw,AD)),U(this,$r,oi).call(this,"stalled",U(this,pw,wD)),U(this,$r,oi).call(this,"suspend",U(this,Tw,OD)),U(this,$r,oi).call(this,"ratechange",U(this,Cw,LD)),me(this,Nh,!0))},iw=new WeakSet,dD=function(){S(this,Uh)||(U(this,$r,oi).call(this,"pause",U(this,cw,gD)),U(this,$r,oi).call(this,"playing",U(this,fw,_D)),U(this,$r,oi).call(this,"seeked",U(this,ww,ED)),U(this,$r,oi).call(this,"seeking",U(this,xw,MD)),U(this,$r,oi).call(this,"ended",U(this,yw,SD)),U(this,$r,oi).call(this,"waiting",U(this,mw,xD)),me(this,Uh,!0))},nw=new WeakMap,Dj=new WeakMap,$r=new WeakSet,oi=function(i,r){S(this,Vh).add(i,r.bind(this))},Ij=new WeakSet,GG=function(i){},ia=new WeakSet,ac=function(i,r){let t=Math.min(i,S(this,qt).$state.seekableEnd());S(this,qt).notify("time-change",t,r)},sw=new WeakSet,hD=function(i){if(S(this,Zt,nr).networkState===3){U(this,xy,Aj).call(this,i);return}U(this,rw,cD).call(this),S(this,qt).notify("load-start",void 0,i)},xy=new WeakSet,Aj=function(i){S(this,qt).notify("abort",void 0,i)},ow=new WeakSet,fD=function(){S(this,qt).notify("emptied",void 0,event)},aw=new WeakSet,pD=function(i){S(this,qt).notify("loaded-data",void 0,i)},lw=new WeakSet,mD=function(i){me(this,$h,0),me(this,Gh,-1),U(this,iw,dD).call(this),S(this,qt).notify("loaded-metadata",void 0,i),(Tu||Vp&&za(S(this,qt).$state.source()))&&S(this,qt).delegate.ready(U(this,Hh,X2).call(this),i)},Hh=new WeakSet,X2=function(){return{provider:ot(S(this,qt).$provider),duration:S(this,Zt,nr).duration,buffered:S(this,Zt,nr).buffered,seekable:S(this,Zt,nr).seekable}},uw=new WeakSet,yD=function(i){S(this,qt).$state.canPlay&&S(this,qt).notify("play",void 0,i)},cw=new WeakSet,gD=function(i){S(this,Zt,nr).readyState===1&&!S(this,fl)||(me(this,fl,!1),S(this,uc).stop(),S(this,qt).notify("pause",void 0,i))},dw=new WeakSet,vD=function(i){S(this,qt).delegate.ready(U(this,Hh,X2).call(this),i)},hw=new WeakSet,bD=function(i){S(this,qt).$state.started()||S(this,qt).notify("can-play-through",U(this,Hh,X2).call(this),i)},fw=new WeakSet,_D=function(i){S(this,Zt,nr).paused||(me(this,fl,!1),S(this,qt).notify("playing",void 0,i),S(this,uc).start())},pw=new WeakSet,wD=function(i){S(this,qt).notify("stalled",void 0,i),S(this,Zt,nr).readyState<3&&(me(this,fl,!0),S(this,qt).notify("waiting",void 0,i))},mw=new WeakSet,xD=function(i){S(this,Zt,nr).readyState<3&&(me(this,fl,!0),S(this,qt).notify("waiting",void 0,i))},yw=new WeakSet,SD=function(i){S(this,uc).stop(),U(this,ia,ac).call(this,S(this,Zt,nr).duration,i),S(this,qt).notify("end",void 0,i),S(this,qt).$state.loop()&&AO(S(this,Zt,nr).controls)&&(S(this,Zt,nr).controls=!1)},gw=new WeakSet,TD=function(){let i=S(this,qt).$state.paused(),r=S(this,wy).visibility==="hidden";(i||r)&&Vt(S(this,Zt,nr),"timeupdate",U(this,vw,CD).bind(this))},vw=new WeakSet,CD=function(i){U(this,ia,ac).call(this,S(this,Zt,nr).currentTime,i)},bw=new WeakSet,kD=function(i){S(this,qt).$state.ended()&&U(this,ia,ac).call(this,S(this,Zt,nr).duration,i),S(this,qt).notify("duration-change",S(this,Zt,nr).duration,i)},_w=new WeakSet,jD=function(i){let r={volume:S(this,Zt,nr).volume,muted:S(this,Zt,nr).muted};S(this,qt).notify("volume-change",r,i)},ww=new WeakSet,ED=function(i){me(this,Gh,S(this,Zt,nr).currentTime),U(this,ia,ac).call(this,S(this,Zt,nr).currentTime,i),S(this,qt).notify("seeked",S(this,Zt,nr).currentTime,i),Math.trunc(S(this,Zt,nr).currentTime)===Math.trunc(S(this,Zt,nr).duration)&&rm(S(this,Zt,nr).duration)>rm(S(this,Zt,nr).currentTime)&&(U(this,ia,ac).call(this,S(this,Zt,nr).duration,i),S(this,Zt,nr).ended||S(this,qt).player.dispatch(new Lt("media-play-request",{trigger:i})))},xw=new WeakSet,MD=function(i){S(this,qt).notify("seeking",S(this,Zt,nr).currentTime,i)},Sw=new WeakSet,AD=function(i){let r={buffered:S(this,Zt,nr).buffered,seekable:S(this,Zt,nr).seekable};S(this,qt).notify("progress",r,i)},Tw=new WeakSet,OD=function(i){S(this,qt).notify("suspend",void 0,i)},Cw=new WeakSet,LD=function(i){S(this,qt).notify("rate-change",S(this,Zt,nr).playbackRate,i)},kw=new WeakSet,PD=function(i){let r=S(this,Zt,nr).error;if(!r)return;let t={message:r.message,code:r.code,mediaError:r};S(this,qt).notify("error",t,i)};Oj=class{constructor(i,r){N(this,pl);N(this,jw);N(this,Ew);N(this,Mw);N(this,Ty);N(this,Aw);N(this,Sy,void 0);N(this,Os,void 0);me(this,Sy,i),me(this,Os,r),S(this,pl,Rh).onaddtrack=U(this,jw,DD).bind(this),S(this,pl,Rh).onremovetrack=U(this,Ew,ID).bind(this),S(this,pl,Rh).onchange=U(this,Mw,RD).bind(this),Vt(S(this,Os).audioTracks,"change",U(this,Aw,FD).bind(this))}};Sy=new WeakMap,Os=new WeakMap,pl=new WeakSet,Rh=function(){return S(this,Sy).media.audioTracks},jw=new WeakSet,DD=function(i){let r=i.track;if(r.label==="")return;let t=r.id.toString()||`native-audio-${S(this,Os).audioTracks.length}`,a={id:t,label:r.label,language:r.language,kind:r.kind,selected:!1};S(this,Os).audioTracks[Ct.add](a,i),r.enabled&&(a.selected=!0)},Ew=new WeakSet,ID=function(i){let r=S(this,Os).audioTracks.getById(i.track.id);r&&S(this,Os).audioTracks[Ct.remove](r,i)},Mw=new WeakSet,RD=function(i){let r=U(this,Ty,Lj).call(this);if(!r)return;let t=S(this,Os).audioTracks.getById(r.id);t&&S(this,Os).audioTracks[Ct.select](t,!0,i)},Ty=new WeakSet,Lj=function(){return Array.from(S(this,pl,Rh)).find(i=>i.enabled)},Aw=new WeakSet,FD=function(i){let{current:r}=i.detail;if(!r)return;let t=S(this,pl,Rh).getTrackById(r.id);if(t){let a=U(this,Ty,Lj).call(this);a&&(a.enabled=!1),t.enabled=!0}};zh=class{constructor(i,r){N(this,Cy);Ce(this,"scope",bs());Ce(this,"currentSrc",null);Ce(this,"audioGain");this.media=i,this.ctx=r,this.audioGain=new kj(i,t=>{this.ctx.notify("audio-gain-change",t)})}setup(){new Mj(this,this.ctx),"audioTracks"in this.media&&new Oj(this,this.ctx),Ft(()=>{this.audioGain.destroy(),this.media.srcObject=null,this.media.removeAttribute("src");for(let i of this.media.querySelectorAll("source"))i.remove();this.media.load()})}get type(){return""}setPlaybackRate(i){this.media.playbackRate=i}async play(){return this.media.play()}async pause(){return this.media.pause()}setMuted(i){this.media.muted=i}setVolume(i){this.media.volume=i}setCurrentTime(i){this.media.currentTime=i}setPlaysInline(i){Mt(this.media,"playsinline",i)}async loadSource({src:i,type:r},t){this.media.preload=t||"",jL(i)?(this.removeSource(),this.media.srcObject=i):(this.media.srcObject=null,dt(i)?r!=="?"?this.appendSource({src:i,type:r}):(this.removeSource(),this.media.src=U(this,Cy,Pj).call(this,i)):(this.removeSource(),this.media.src=window.URL.createObjectURL(i))),this.media.load(),this.currentSrc={src:i,type:r}}appendSource(i,r){let t=this.media.querySelector("source[data-vds]"),a=t??document.createElement("source");Mt(a,"src",U(this,Cy,Pj).call(this,i.src)),Mt(a,"type",i.type!=="?"?i.type:r),Mt(a,"data-vds",""),t||this.media.append(a)}removeSource(){this.media.querySelector("source[data-vds]")?.remove()}};Cy=new WeakSet,Pj=function(i){let{clipStartTime:r,clipEndTime:t}=this.ctx.$state,a=r(),l=t();return a>0&&l>0?`${i}#t=${a},${l}`:a>0?`${i}#t=${a}`:l>0?`${i}#t=0,${l}`:i}});var as,ky,jy,cc,Ow,BD,Lw,ND,Pw,UD,Bj,qh,Nj=Ot(()=>{fr();Bj=class{constructor(i,r){N(this,Ow);N(this,Lw);N(this,Pw);N(this,as,void 0);N(this,ky,void 0);N(this,jy,void 0);N(this,cc,Dt(!1));me(this,as,i),me(this,ky,r),U(this,Ow,BD).call(this)}get supported(){return S(this,cc).call(this)}async prompt(){if(!this.supported)throw Error("Not supported on this platform.");return this.type==="airplay"&&S(this,as).webkitShowPlaybackTargetPicker?S(this,as).webkitShowPlaybackTargetPicker():S(this,as).remote.prompt()}};as=new WeakMap,ky=new WeakMap,jy=new WeakMap,cc=new WeakMap,Ow=new WeakSet,BD=function(){!S(this,as)?.remote||!this.canPrompt||(S(this,as).remote.watchAvailability(i=>{S(this,cc).set(i)}).catch(()=>{S(this,cc).set(!1)}),He(U(this,Lw,ND).bind(this)))},Lw=new WeakSet,ND=function(){if(!S(this,cc).call(this))return;let i=["connecting","connect","disconnect"],r=U(this,Pw,UD).bind(this);r(),Vt(S(this,as),"playing",r);let t=new Qt(S(this,as).remote);for(let a of i)t.add(a,r)},Pw=new WeakSet,UD=function(i){let r=S(this,as).remote.state;if(r===S(this,jy))return;let t={type:this.type,state:r};S(this,ky).notify("remote-playback-change",t,i),me(this,jy,r)};qh=class extends Bj{constructor(){super(...arguments);Ce(this,"type","airplay")}get canPrompt(){return"WebKitPlaybackTargetAvailabilityEvent"in window}}});var VD={};en(VD,{AudioProvider:()=>Uj});var Uj,$D=Ot(()=>{fr();Fj();Nj();Uj=class extends zh{constructor(r,t){super(r,t);Ce(this,"$$PROVIDER_TYPE","AUDIO");Ce(this,"airPlay");Si(()=>{this.airPlay=new qh(this.media,t)},this.scope)}get type(){return"audio"}setup(){super.setup(),this.type==="audio"&&this.ctx.notify("provider-setup",this)}get audio(){return this.media}}});var XD={};en(XD,{VideoProvider:()=>fc});function HG(h,i){return Array.from(h.children).find(r=>r.track===i)}var Wh,Xh,Dw,GD,Iw,HD,Vj,dc,Ey,Rw,zD,Fw,qD,My,$j,hc,Yh,so,Bw,WD,Gj,ml,Hj,yl,zj,fc,Nw=Ot(()=>{fr();Cu();Fj();Nj();Mu();Vj=class{constructor(i,r){N(this,Dw);N(this,Iw);N(this,Wh,void 0);N(this,Xh,void 0);me(this,Wh,i),me(this,Xh,r),i.textTracks.onaddtrack=U(this,Dw,GD).bind(this),Ft(U(this,Iw,HD).bind(this))}};Wh=new WeakMap,Xh=new WeakMap,Dw=new WeakSet,GD=function(i){let r=i.track;if(!r||HG(S(this,Wh),r))return;let t=new fn({id:r.id,kind:r.kind,label:r.label??"",language:r.language,type:"vtt"});t[At.native]={track:r},t[At.readyState]=2,t[At.nativeHLS]=!0;let a=0,l=n=>{if(r.cues)for(let s=a;s<r.cues.length;s++)t.addCue(r.cues[s],n),a++};l(i),r.oncuechange=l,S(this,Xh).textTracks.add(t,i),t.setMode(r.mode,i)},Iw=new WeakSet,HD=function(){S(this,Wh).textTracks.onaddtrack=null;for(let i of S(this,Xh).textTracks){let r=i[At.native]?.track;r?.oncuechange&&(r.oncuechange=null)}};$j=class{constructor(i,r){N(this,Rw);N(this,Fw);N(this,dc,void 0);N(this,Ey,void 0);N(this,My,(i,r)=>{S(this,Ey).notify("picture-in-picture-change",i,r)});me(this,dc,i),me(this,Ey,r),new Qt(i).add("enterpictureinpicture",U(this,Rw,zD).bind(this)).add("leavepictureinpicture",U(this,Fw,qD).bind(this))}get active(){return document.pictureInPictureElement===S(this,dc)}get supported(){return sk(S(this,dc))}async enter(){return S(this,dc).requestPictureInPicture()}exit(){return document.exitPictureInPicture()}};dc=new WeakMap,Ey=new WeakMap,Rw=new WeakSet,zD=function(i){S(this,My).call(this,!0,i)},Fw=new WeakSet,qD=function(i){S(this,My).call(this,!1,i)},My=new WeakMap;Gj=class{constructor(i,r){N(this,Bw);N(this,hc,void 0);N(this,Yh,void 0);N(this,so,"inline");me(this,hc,i),me(this,Yh,r),Vt(i,"webkitpresentationmodechanged",U(this,Bw,WD).bind(this))}get mode(){return S(this,so)}get supported(){return ok(S(this,hc))}async setPresentationMode(i){S(this,so)!==i&&S(this,hc).webkitSetPresentationMode(i)}};hc=new WeakMap,Yh=new WeakMap,so=new WeakMap,Bw=new WeakSet,WD=function(i){let r=S(this,so);me(this,so,S(this,hc).webkitPresentationMode),S(this,Yh).player?.dispatch(new Lt("video-presentation-change",{detail:S(this,so),trigger:i})),["fullscreen","picture-in-picture"].forEach(t=>{(S(this,so)===t||r===t)&&S(this,Yh).notify(`${t}-change`,S(this,so)===t,i)})};Hj=class{constructor(i){N(this,ml,void 0);me(this,ml,i)}get active(){return S(this,ml).mode==="fullscreen"}get supported(){return S(this,ml).supported}async enter(){S(this,ml).setPresentationMode("fullscreen")}async exit(){S(this,ml).setPresentationMode("inline")}};ml=new WeakMap;zj=class{constructor(i){N(this,yl,void 0);me(this,yl,i)}get active(){return S(this,yl).mode==="picture-in-picture"}get supported(){return S(this,yl).supported}async enter(){S(this,yl).setPresentationMode("picture-in-picture")}async exit(){S(this,yl).setPresentationMode("inline")}};yl=new WeakMap;fc=class extends zh{constructor(r,t){super(r,t);Ce(this,"$$PROVIDER_TYPE","VIDEO");Ce(this,"airPlay");Ce(this,"fullscreen");Ce(this,"pictureInPicture");Si(()=>{if(this.airPlay=new qh(r,t),ok(r)){let a=new Gj(r,t);this.fullscreen=new Hj(a),this.pictureInPicture=new zj(a)}else sk(r)&&(this.pictureInPicture=new $j(r,t))},this.scope)}get type(){return"video"}setup(){super.setup(),nk(this.video)&&new Vj(this.video,this.ctx),this.ctx.textRenderers.attachVideo(this.video),Ft(()=>{this.ctx.textRenderers.attachVideo(null)}),this.type==="video"&&this.ctx.notify("provider-setup",this)}get video(){return this.media}}});var h7={};en(h7,{HLSProvider:()=>Uw});async function qG(h,i={}){if(!Zr(h)){if(i.onLoadStart?.(),h.prototype&&h.prototype!==Function)return i.onLoaded?.(h),h;try{let r=(await h())?.default;if(r&&r.isSupported)i.onLoaded?.(r);else throw Error("");return r}catch(r){i.onLoadError?.(r)}}}async function WG(h,i={}){if(dt(h)){i.onLoadStart?.();try{if(await Hd(h),!dn(window.Hls))throw Error("");let r=window.Hls;return i.onLoaded?.(r),r}catch(r){i.onLoadError?.(r)}}}var zG,mc,Tr,Jt,Zh,Kh,na,pc,Vw,YD,$w,ZD,Gw,KD,Hw,QD,zw,JD,qw,e7,Ww,t7,Xw,r7,Yw,i7,Zw,n7,Kw,s7,Qw,o7,Jw,a7,qj,yc,oo,Ay,ex,l7,tx,u7,rx,c7,ix,d7,Wj,XG,Oy,Ls,gl,Uw,f7=Ot(()=>{Js();Cu();Nw();fr();py();Mu();oc();Ih();tm();zG=h=>gu(h),qj=class{constructor(i,r){N(this,na);N(this,Vw);N(this,$w);N(this,Gw);N(this,Hw);N(this,zw);N(this,qw);N(this,Ww);N(this,Xw);N(this,Yw);N(this,Zw);N(this,Kw);N(this,Qw);N(this,Jw);N(this,mc,void 0);N(this,Tr,void 0);N(this,Jt,null);N(this,Zh,null);Ce(this,"config",{});N(this,Kh,new Set);me(this,mc,i),me(this,Tr,r)}get instance(){return S(this,Jt)}setup(i){let{streamType:r}=S(this,Tr).$state,t=ot(r).includes("live"),a=ot(r).includes("ll-");me(this,Jt,new i({lowLatencyMode:a,backBufferLength:a?4:t?8:void 0,renderTextTracksNatively:!1,...this.config}));let l=U(this,Gw,KD).bind(this);for(let n of Object.values(i.Events))S(this,Jt).on(n,l);S(this,Jt).on(i.Events.ERROR,U(this,Yw,i7).bind(this));for(let n of S(this,Kh))n(S(this,Jt));S(this,Tr).player.dispatch("hls-instance",{detail:S(this,Jt)}),S(this,Jt).attachMedia(S(this,mc)),S(this,Jt).on(i.Events.AUDIO_TRACK_SWITCHED,U(this,qw,e7).bind(this)),S(this,Jt).on(i.Events.LEVEL_SWITCHED,U(this,Ww,t7).bind(this)),S(this,Jt).on(i.Events.LEVEL_LOADED,U(this,Xw,r7).bind(this)),S(this,Jt).on(i.Events.NON_NATIVE_TEXT_TRACKS_FOUND,U(this,Hw,QD).bind(this)),S(this,Jt).on(i.Events.CUES_PARSED,U(this,zw,JD).bind(this)),S(this,Tr).qualities[pi.enableAuto]=U(this,Kw,s7).bind(this),Vt(S(this,Tr).qualities,"change",U(this,Qw,o7).bind(this)),Vt(S(this,Tr).audioTracks,"change",U(this,Jw,a7).bind(this)),me(this,Zh,He(U(this,Vw,YD).bind(this)))}onInstance(i){return S(this,Kh).add(i),()=>S(this,Kh).delete(i)}loadSource(i){dt(i.src)&&S(this,Jt)?.loadSource(i.src)}destroy(){var i;S(this,Jt)?.destroy(),me(this,Jt,null),(i=S(this,Zh))==null||i.call(this),me(this,Zh,null)}};mc=new WeakMap,Tr=new WeakMap,Jt=new WeakMap,Zh=new WeakMap,Kh=new WeakMap,na=new WeakSet,pc=function(i,r){return new Lt(zG(i),{detail:r})},Vw=new WeakSet,YD=function(){if(!S(this,Tr).$state.live())return;let i=new ss(U(this,$w,ZD).bind(this));return i.start(),i.stop.bind(i)},$w=new WeakSet,ZD=function(){S(this,Tr).$state.liveSyncPosition.set(S(this,Jt)?.liveSyncPosition??1/0)},Gw=new WeakSet,KD=function(i,r){S(this,Tr).player?.dispatch(U(this,na,pc).call(this,i,r))},Hw=new WeakSet,QD=function(i,r){let t=U(this,na,pc).call(this,i,r),a=-1;for(let l=0;l<r.tracks.length;l++){let n=r.tracks[l],s=n.subtitleTrack??n.closedCaptions,o=new fn({id:`hls-${n.kind}-${l}`,src:s?.url,label:n.label,language:s?.lang,kind:n.kind,default:n.default});o[At.readyState]=2,o[At.onModeChange]=()=>{o.mode==="showing"?(S(this,Jt).subtitleTrack=l,a=l):a===l&&(S(this,Jt).subtitleTrack=-1,a=-1)},S(this,Tr).textTracks.add(o,t)}},zw=new WeakSet,JD=function(i,r){let t=S(this,Jt)?.subtitleTrack,a=S(this,Tr).textTracks.getById(`hls-${r.type}-${t}`);if(!a)return;let l=U(this,na,pc).call(this,i,r);for(let n of r.cues)n.positionAlign="auto",a.addCue(n,l)},qw=new WeakSet,e7=function(i,r){let t=S(this,Tr).audioTracks[r.id];if(t){let a=U(this,na,pc).call(this,i,r);S(this,Tr).audioTracks[Ct.select](t,!0,a)}},Ww=new WeakSet,t7=function(i,r){let t=S(this,Tr).qualities[r.level];if(t){let a=U(this,na,pc).call(this,i,r);S(this,Tr).qualities[Ct.select](t,!0,a)}},Xw=new WeakSet,r7=function(i,r){if(S(this,Tr).$state.canPlay())return;let{type:t,live:a,totalduration:l,targetduration:n}=r.details,s=U(this,na,pc).call(this,i,r);S(this,Tr).notify("stream-type-change",a?t==="EVENT"&&Number.isFinite(l)&&n>=10?"live:dvr":"live":"on-demand",s),S(this,Tr).notify("duration-change",l,s);let o=S(this,Jt).media;S(this,Jt).currentLevel===-1&&S(this,Tr).qualities[pi.setAuto](!0,s);for(let u of S(this,Jt).audioTracks){let m={id:u.id.toString(),label:u.name,language:u.lang||"",kind:"main"};S(this,Tr).audioTracks[Ct.add](m,s)}for(let u of S(this,Jt).levels){let m={id:u.id?.toString()??u.height+"p",width:u.width,height:u.height,codec:u.codecSet,bitrate:u.bitrate};S(this,Tr).qualities[Ct.add](m,s)}o.dispatchEvent(new Lt("canplay",{trigger:s}))},Yw=new WeakSet,i7=function(i,r){if(r.fatal)switch(r.type){case"mediaError":S(this,Jt)?.recoverMediaError();break;default:U(this,Zw,n7).call(this,r.error);break}},Zw=new WeakSet,n7=function(i){S(this,Tr).notify("error",{message:i.message,code:1,error:i})},Kw=new WeakSet,s7=function(){S(this,Jt)&&(S(this,Jt).currentLevel=-1)},Qw=new WeakSet,o7=function(){let{qualities:i}=S(this,Tr);!S(this,Jt)||i.auto||(S(this,Jt)[i.switch+"Level"]=i.selectedIndex,Ha&&(S(this,mc).currentTime=S(this,mc).currentTime))},Jw=new WeakSet,a7=function(){let{audioTracks:i}=S(this,Tr);S(this,Jt)&&S(this,Jt).audioTrack!==i.selectedIndex&&(S(this,Jt).audioTrack=i.selectedIndex)};Wj=class{constructor(i,r,t){N(this,ex);N(this,tx);N(this,rx);N(this,ix);N(this,yc,void 0);N(this,oo,void 0);N(this,Ay,void 0);me(this,yc,i),me(this,oo,r),me(this,Ay,t),U(this,ex,l7).call(this)}};yc=new WeakMap,oo=new WeakMap,Ay=new WeakMap,ex=new WeakSet,l7=async function(){let i={onLoadStart:U(this,tx,u7).bind(this),onLoaded:U(this,rx,c7).bind(this),onLoadError:U(this,ix,d7).bind(this)},r=await WG(S(this,yc),i);if(Zr(r)&&!dt(S(this,yc))&&(r=await qG(S(this,yc),i)),!r)return null;if(!r.isSupported()){let t="[vidstack] `hls.js` is not supported in this environment";return S(this,oo).player.dispatch(new Lt("hls-unsupported")),S(this,oo).notify("error",{message:t,code:4}),null}return r},tx=new WeakSet,u7=function(){S(this,oo).player.dispatch(new Lt("hls-lib-load-start"))},rx=new WeakSet,c7=function(i){S(this,oo).player.dispatch(new Lt("hls-lib-loaded",{detail:i})),S(this,Ay).call(this,i)},ix=new WeakSet,d7=function(i){let r=Za(i);S(this,oo).player.dispatch(new Lt("hls-lib-load-error",{detail:r})),S(this,oo).notify("error",{message:r.message,code:4,error:r})};XG="https://cdn.jsdelivr.net",Uw=class extends fc{constructor(){super(...arguments);Ce(this,"$$PROVIDER_TYPE","HLS");N(this,Oy,null);N(this,Ls,new qj(this.video,this.ctx));N(this,gl,`${XG}/npm/hls.js@^1.5.0/dist/hls.min.js`)}get ctor(){return S(this,Oy)}get instance(){return S(this,Ls).instance}get type(){return"hls"}get canLiveSync(){return!0}get config(){return S(this,Ls).config}set config(r){S(this,Ls).config=r}get library(){return S(this,gl)}set library(r){me(this,gl,r)}preconnect(){dt(S(this,gl))&&Bn(S(this,gl))}setup(){super.setup(),new Wj(S(this,gl),this.ctx,r=>{me(this,Oy,r),S(this,Ls).setup(r),this.ctx.notify("provider-setup",this);let t=ot(this.ctx.$state.source);t&&this.loadSource(t)})}async loadSource(r,t){if(!dt(r.src)){this.removeSource();return}this.media.preload=t||"",this.appendSource(r,"application/x-mpegurl"),S(this,Ls).loadSource(r),this.currentSrc=r}onInstance(r){let t=S(this,Ls).instance;return t&&r(t),S(this,Ls).onInstance(r)}destroy(){S(this,Ls).destroy()}};Oy=new WeakMap,Ls=new WeakMap,gl=new WeakMap,Ce(Uw,"supported",Gd())});var I7={};en(I7,{DASHProvider:()=>sx});function p7(h){try{return new Intl.DisplayNames(navigator.languages,{type:"language"}).of(h)??null}catch{return null}}async function ZG(h,i={}){if(!Zr(h)){if(i.onLoadStart?.(),QG(h))return i.onLoaded?.(h),h;if(m7(h)){let r=h.MediaPlayer;return i.onLoaded?.(r),r}try{let r=(await h())?.default;if(m7(r))return i.onLoaded?.(r.MediaPlayer),r.MediaPlayer;if(r)i.onLoaded?.(r);else throw Error("");return r}catch(r){i.onLoadError?.(r)}}}async function KG(h,i={}){if(dt(h)){i.onLoadStart?.();try{if(await Hd(h),!dn(window.dashjs.MediaPlayer))throw Error("");let r=window.dashjs.MediaPlayer;return i.onLoaded?.(r),r}catch(r){i.onLoadError?.(r)}}}function QG(h){return h&&h.prototype&&h.prototype!==Function}function m7(h){return h&&"MediaPlayer"in h}var YG,vl,mr,$t,Qh,Jh,sa,gc,ox,y7,ax,g7,lx,v7,oa,ef,ux,b7,cx,_7,dx,w7,hx,x7,fx,S7,px,T7,mx,C7,yx,k7,bl,gx,j7,tf,nx,Ly,Yj,vx,E7,Py,Zj,bx,M7,_x,A7,Dy,Kj,Xj,vc,ao,Iy,wx,O7,xx,L7,Sx,P7,Tx,D7,Qj,JG,Ry,Ps,_l,sx,R7=Ot(()=>{Js();Cu();Nw();fr();py();Mu();oc();Ih();tm();YG=h=>`dash-${gu(h)}`,Xj=class{constructor(i,r){N(this,sa);N(this,ox);N(this,ax);N(this,lx);N(this,ux);N(this,cx);N(this,dx);N(this,hx);N(this,fx);N(this,px);N(this,mx);N(this,yx);N(this,gx);N(this,tf);N(this,Ly);N(this,vx);N(this,Py);N(this,bx);N(this,_x);N(this,Dy);N(this,vl,void 0);N(this,mr,void 0);N(this,$t,null);N(this,Qh,new Set);N(this,Jh,null);Ce(this,"config",{});N(this,oa,null);N(this,ef,{});N(this,bl,-1);me(this,vl,i),me(this,mr,r)}get instance(){return S(this,$t)}setup(i){me(this,$t,i().create());let r=U(this,lx,v7).bind(this);for(let t of Object.values(i.events))S(this,$t).on(t,r);S(this,$t).on(i.events.ERROR,U(this,px,T7).bind(this));for(let t of S(this,Qh))t(S(this,$t));S(this,mr).player.dispatch("dash-instance",{detail:S(this,$t)}),S(this,$t).initialize(S(this,vl),void 0,!1),S(this,$t).updateSettings({streaming:{text:{defaultEnabled:!1,dispatchForManualRendering:!0},buffer:{fastSwitchEnabled:!0}},...this.config}),S(this,$t).on(i.events.FRAGMENT_LOADING_STARTED,U(this,mx,C7).bind(this)),S(this,$t).on(i.events.FRAGMENT_LOADING_COMPLETED,U(this,yx,k7).bind(this)),S(this,$t).on(i.events.MANIFEST_LOADED,U(this,fx,S7).bind(this)),S(this,$t).on(i.events.QUALITY_CHANGE_RENDERED,U(this,hx,x7).bind(this)),S(this,$t).on(i.events.TEXT_TRACKS_ADDED,U(this,cx,_7).bind(this)),S(this,$t).on(i.events.TRACK_CHANGE_RENDERED,U(this,dx,w7).bind(this)),S(this,mr).qualities[pi.enableAuto]=U(this,vx,E7).bind(this),Vt(S(this,mr).qualities,"change",U(this,bx,M7).bind(this)),Vt(S(this,mr).audioTracks,"change",U(this,_x,A7).bind(this)),me(this,Jh,He(U(this,ox,y7).bind(this)))}onInstance(i){return S(this,Qh).add(i),()=>S(this,Qh).delete(i)}loadSource(i){U(this,Dy,Kj).call(this),dt(i.src)&&S(this,$t)?.attachSource(i.src)}destroy(){var i;U(this,Dy,Kj).call(this),S(this,$t)?.destroy(),me(this,$t,null),(i=S(this,Jh))==null||i.call(this),me(this,Jh,null)}};vl=new WeakMap,mr=new WeakMap,$t=new WeakMap,Qh=new WeakMap,Jh=new WeakMap,sa=new WeakSet,gc=function(i){return new Lt(YG(i.type),{detail:i})},ox=new WeakSet,y7=function(){if(!S(this,mr).$state.live())return;let i=new ss(U(this,ax,g7).bind(this));return i.start(),i.stop.bind(i)},ax=new WeakSet,g7=function(){if(!S(this,$t))return;let i=S(this,$t).duration()-S(this,$t).time();S(this,mr).$state.liveSyncPosition.set(isNaN(i)?1/0:i)},lx=new WeakSet,v7=function(i){S(this,mr).player?.dispatch(U(this,sa,gc).call(this,i))},oa=new WeakMap,ef=new WeakMap,ux=new WeakSet,b7=function(i){let r=S(this,oa)?.[At.native],t=(r?.track).cues;if(!r||!t)return;let a=S(this,oa).id,l=S(this,ef)[a]??0,n=U(this,sa,gc).call(this,i);for(let s=l;s<t.length;s++){let o=t[s];o.positionAlign||(o.positionAlign="auto"),S(this,oa).addCue(o,n)}S(this,ef)[a]=t.length},cx=new WeakSet,_7=function(i){if(!S(this,$t))return;let r=i.tracks,t=[...S(this,vl).textTracks].filter(l=>"manualMode"in l),a=U(this,sa,gc).call(this,i);for(let l=0;l<t.length;l++){let n=r[l],s=t[l],o=`dash-${n.kind}-${l}`,u=new fn({id:o,label:n?.label??n.labels.find(m=>m.text)?.text??(n?.lang&&p7(n.lang))??n?.lang??void 0,language:n.lang??void 0,kind:n.kind,default:n.defaultTrack});u[At.native]={managed:!0,track:s},u[At.readyState]=2,u[At.onModeChange]=()=>{S(this,$t)&&(u.mode==="showing"?(S(this,$t).setTextTrack(l),me(this,oa,u)):(S(this,$t).setTextTrack(-1),me(this,oa,null)))},S(this,mr).textTracks.add(u,a)}},dx=new WeakSet,w7=function(i){let{mediaType:r,newMediaInfo:t}=i;if(r==="audio"){let a=S(this,mr).audioTracks.getById(`dash-audio-${t.index}`);if(a){let l=U(this,sa,gc).call(this,i);S(this,mr).audioTracks[Ct.select](a,!0,l)}}},hx=new WeakSet,x7=function(i){if(i.mediaType!=="video")return;let r=S(this,mr).qualities[i.newQuality];if(r){let t=U(this,sa,gc).call(this,i);S(this,mr).qualities[Ct.select](r,!0,t)}},fx=new WeakSet,S7=function(i){if(S(this,mr).$state.canPlay()||!S(this,$t))return;let{type:r,mediaPresentationDuration:t}=i.data,a=U(this,sa,gc).call(this,i);S(this,mr).notify("stream-type-change",r!=="static"?"live":"on-demand",a),S(this,mr).notify("duration-change",t,a),S(this,mr).qualities[pi.setAuto](!0,a);let l=S(this,$t).getVideoElement(),n=S(this,$t).getTracksForTypeFromManifest("video",i.data),s=[...new Set(n.map(v=>v.mimeType))].find(v=>v&&Z0(l,v)),o=n.filter(v=>s===v.mimeType)[0],u=S(this,$t).getTracksForTypeFromManifest("audio",i.data),m=[...new Set(u.map(v=>v.mimeType))].find(v=>v&&Y0(l,v));if(u=u.filter(v=>m===v.mimeType),o.bitrateList.forEach((v,c)=>{let d={id:v.id?.toString()??`dash-bitrate-${c}`,width:v.width??0,height:v.height??0,bitrate:v.bandwidth??0,codec:o.codec,index:c};S(this,mr).qualities[Ct.add](d,a)}),Ur(o.index)){let v=S(this,mr).qualities[o.index];v&&S(this,mr).qualities[Ct.select](v,!0,a)}u.forEach((v,c)=>{let p=v.labels.find(y=>navigator.languages.some(g=>y.lang&&g.toLowerCase().startsWith(y.lang.toLowerCase())))||v.labels[0],f={id:`dash-audio-${v?.index}`,label:p?.text??(v.lang&&p7(v.lang))??v.lang??"",language:v.lang??"",kind:"main",mimeType:v.mimeType,codec:v.codec,index:c};S(this,mr).audioTracks[Ct.add](f,a)}),l.dispatchEvent(new Lt("canplay",{trigger:a}))},px=new WeakSet,T7=function(i){let{type:r,error:t}=i;switch(t.code){case 27:U(this,gx,j7).call(this,t);break;default:U(this,Ly,Yj).call(this,t);break}},mx=new WeakSet,C7=function(){S(this,bl)>=0&&U(this,tf,nx).call(this)},yx=new WeakSet,k7=function(i){i.mediaType==="text"&&requestAnimationFrame(U(this,ux,b7).bind(this,i))},bl=new WeakMap,gx=new WeakSet,j7=function(i){U(this,tf,nx).call(this),S(this,$t)?.play(),me(this,bl,window.setTimeout(()=>{me(this,bl,-1),U(this,Ly,Yj).call(this,i)},5e3))},tf=new WeakSet,nx=function(){clearTimeout(S(this,bl)),me(this,bl,-1)},Ly=new WeakSet,Yj=function(i){S(this,mr).notify("error",{message:i.message??"",code:1,error:i})},vx=new WeakSet,E7=function(){U(this,Py,Zj).call(this,"video",!0);let{qualities:i}=S(this,mr);S(this,$t)?.setQualityFor("video",i.selectedIndex,!0)},Py=new WeakSet,Zj=function(i,r){S(this,$t)?.updateSettings({streaming:{abr:{autoSwitchBitrate:{[i]:r}}}})},bx=new WeakSet,M7=function(){let{qualities:i}=S(this,mr);!S(this,$t)||i.auto||!i.selected||(U(this,Py,Zj).call(this,"video",!1),S(this,$t).setQualityFor("video",i.selectedIndex,i.switch==="current"),Ha&&(S(this,vl).currentTime=S(this,vl).currentTime))},_x=new WeakSet,A7=function(){if(!S(this,$t))return;let{audioTracks:i}=S(this,mr),r=S(this,$t).getTracksFor("audio").find(t=>i.selected&&i.selected.id===`dash-audio-${t.index}`);r&&S(this,$t).setCurrentTrack(r)},Dy=new WeakSet,Kj=function(){U(this,tf,nx).call(this),me(this,oa,null),me(this,ef,{})};Qj=class{constructor(i,r,t){N(this,wx);N(this,xx);N(this,Sx);N(this,Tx);N(this,vc,void 0);N(this,ao,void 0);N(this,Iy,void 0);me(this,vc,i),me(this,ao,r),me(this,Iy,t),U(this,wx,O7).call(this)}};vc=new WeakMap,ao=new WeakMap,Iy=new WeakMap,wx=new WeakSet,O7=async function(){let i={onLoadStart:U(this,xx,L7).bind(this),onLoaded:U(this,Sx,P7).bind(this),onLoadError:U(this,Tx,D7).bind(this)},r=await KG(S(this,vc),i);if(Zr(r)&&!dt(S(this,vc))&&(r=await ZG(S(this,vc),i)),!r)return null;if(!window.dashjs.supportsMediaSource()){let t="[vidstack] `dash.js` is not supported in this environment";return S(this,ao).player.dispatch(new Lt("dash-unsupported")),S(this,ao).notify("error",{message:t,code:4}),null}return r},xx=new WeakSet,L7=function(){S(this,ao).player.dispatch(new Lt("dash-lib-load-start"))},Sx=new WeakSet,P7=function(i){S(this,ao).player.dispatch(new Lt("dash-lib-loaded",{detail:i})),S(this,Iy).call(this,i)},Tx=new WeakSet,D7=function(i){let r=Za(i);S(this,ao).player.dispatch(new Lt("dash-lib-load-error",{detail:r})),S(this,ao).notify("error",{message:r.message,code:4,error:r})};JG="https://cdn.jsdelivr.net",sx=class extends fc{constructor(){super(...arguments);Ce(this,"$$PROVIDER_TYPE","DASH");N(this,Ry,null);N(this,Ps,new Xj(this.video,this.ctx));N(this,_l,`${JG}/npm/dashjs@4.7.4/dist/dash.all.min.js`)}get ctor(){return S(this,Ry)}get instance(){return S(this,Ps).instance}get type(){return"dash"}get canLiveSync(){return!0}get config(){return S(this,Ps).config}set config(r){S(this,Ps).config=r}get library(){return S(this,_l)}set library(r){me(this,_l,r)}preconnect(){dt(S(this,_l))&&Bn(S(this,_l))}setup(){super.setup(),new Qj(S(this,_l),this.ctx,r=>{me(this,Ry,r),S(this,Ps).setup(r),this.ctx.notify("provider-setup",this);let t=ot(this.ctx.$state.source);t&&this.loadSource(t)})}async loadSource(r,t){if(!dt(r.src)){this.removeSource();return}this.media.preload=t||"",this.appendSource(r,"application/x-mpegurl"),S(this,Ps).loadSource(r),this.currentSrc=r}onInstance(r){let t=S(this,Ps).instance;return t&&r(t),S(this,Ps).onInstance(r)}destroy(){S(this,Ps).destroy()}};Ry=new WeakMap,Ps=new WeakMap,_l=new WeakMap,Ce(sx,"supported",K0())});var lo,Cx,F7,kx,B7,rf,Jj=Ot(()=>{fr();Js();rf=class{constructor(i){N(this,Cx);N(this,kx);N(this,lo,void 0);Ce(this,"src",Dt(""));Ce(this,"referrerPolicy",null);me(this,lo,i),i.setAttribute("frameBorder","0"),i.setAttribute("aria-hidden","true"),i.setAttribute("allow","autoplay; fullscreen; encrypted-media; picture-in-picture; accelerometer; gyroscope"),this.referrerPolicy!==null&&i.setAttribute("referrerpolicy",this.referrerPolicy)}get iframe(){return S(this,lo)}setup(){Vt(window,"message",U(this,kx,B7).bind(this)),Vt(S(this,lo),"load",this.onLoad.bind(this)),He(U(this,Cx,F7).bind(this))}postMessage(i,r){S(this,lo).contentWindow?.postMessage(JSON.stringify(i),r??"*")}};lo=new WeakMap,Cx=new WeakSet,F7=function(){let i=this.src();if(!i.length){S(this,lo).setAttribute("src","");return}let r=ot(()=>this.buildParams());S(this,lo).setAttribute("src",EL(i,r))},kx=new WeakSet,B7=function(i){let r=this.getOrigin();if((i.source===null||i.source===S(this,lo)?.contentWindow)&&(!dt(r)||r===i.origin)){try{let a=JSON.parse(i.data);a&&this.onMessage(a,i);return}catch{}i.data&&this.onMessage(i.data,i)}}});var N7={};en(N7,{getVimeoVideoInfo:()=>rE,resolveVimeoVideoId:()=>tE});function tE(h){let i=h.match(eH);return{videoId:i?.[1],hash:i?.[2]}}async function rE(h,i,r){if(eE.has(h))return eE.get(h);if(jx.has(h))return jx.get(h);let t=`https://vimeo.com/api/oembed.json?url=https://player.vimeo.com/video/${h}`;r&&(t=t.concat(`?h=${r}`));let a=window.fetch(t,{mode:"cors",signal:i.signal}).then(l=>l.json()).then(l=>{let n=/vimeocdn.com\/video\/(.*)?_/,s=l?.thumbnail_url?.match(n)?.[1],o=s?`https://i.vimeocdn.com/video/${s}_1920x1080.webp`:"",u={title:l?.title??"",duration:l?.duration??0,poster:o,pro:l.account_type!=="basic"};return eE.set(h,u),u}).finally(()=>jx.delete(h));return jx.set(h,a),a}var eH,eE,jx,iE=Ot(()=>{eH=/(?:https:\/\/)?(?:player\.)?vimeo(?:\.com)?\/(?:video\/)?(\d+)(?:(?:\?hash=|\?h=|\/)(.*))?/,eE=new Map,jx=new Map});var sI={};en(sI,{VimeoProvider:()=>nE});var tH,kt,uo,wl,bc,nf,Fy,xl,sf,Ex,_c,Sl,of,Mx,U7,Ax,V7,Ox,$7,Lx,G7,wc,Px,H7,Dx,z7,Ix,q7,By,sE,Rx,W7,Fx,X7,Bx,Y7,Nx,Z7,Ux,K7,Ny,oE,Vx,Q7,$x,J7,Gx,eI,Uy,aE,Hx,tI,Vy,lE,zx,rI,$y,uE,qx,iI,Wx,nI,ai,bi,Gy,cE,Hy,dE,nE,oI=Ot(()=>{fr();py();fy();Mu();oc();Ih();Js();Jj();iE();tH=["bufferend","bufferstart","durationchange","ended","enterpictureinpicture","error","fullscreenchange","leavepictureinpicture","loaded","playProgress","loadProgress","pause","play","playbackratechange","qualitychange","seeked","seeking","timeupdate","volumechange","waiting"],nE=class extends rf{constructor(r,t){super(r);N(this,Mx);N(this,Ax);N(this,Ox);N(this,Lx);N(this,Px);N(this,Dx);N(this,Ix);N(this,By);N(this,Rx);N(this,Fx);N(this,Bx);N(this,Nx);N(this,Ux);N(this,Ny);N(this,Vx);N(this,$x);N(this,Gx);N(this,Uy);N(this,Hx);N(this,Vy);N(this,zx);N(this,$y);N(this,qx);N(this,Wx);N(this,ai);N(this,Gy);N(this,Hy);Ce(this,"$$PROVIDER_TYPE","VIMEO");Ce(this,"scope",bs());Ce(this,"fullscreen");N(this,kt,void 0);N(this,uo,Dt(""));N(this,wl,Dt(!1));N(this,bc,null);N(this,nf,null);N(this,Fy,!1);N(this,xl,new Er(0,0));N(this,sf,new ss(U(this,Lx,G7).bind(this)));N(this,Ex,null);N(this,_c,null);N(this,Sl,new Map);N(this,of,null);Ce(this,"cookies",!1);Ce(this,"title",!0);Ce(this,"byline",!0);Ce(this,"portrait",!0);Ce(this,"color","00ADEF");N(this,wc,!1);me(this,kt,t);let a=this;this.fullscreen={get active(){return S(a,Fy)},supported:!0,enter:()=>U(this,ai,bi).call(this,"requestFullscreen"),exit:()=>U(this,ai,bi).call(this,"exitFullscreen")}}get type(){return"vimeo"}get currentSrc(){return S(this,nf)}get videoId(){return S(this,uo).call(this)}get hash(){return S(this,bc)}get isPro(){return S(this,wl).call(this)}preconnect(){Bn(this.getOrigin())}setup(){super.setup(),He(U(this,Mx,U7).bind(this)),He(U(this,Ax,V7).bind(this)),He(U(this,Ox,$7).bind(this)),S(this,kt).notify("provider-setup",this)}destroy(){U(this,Gy,cE).call(this),this.fullscreen=void 0;let r="provider destroyed";for(let t of S(this,Sl).values())for(let{reject:a}of t)a(r);S(this,Sl).clear(),U(this,ai,bi).call(this,"destroy")}async play(){return U(this,ai,bi).call(this,"play")}async pause(){return U(this,ai,bi).call(this,"pause")}setMuted(r){U(this,ai,bi).call(this,"setMuted",r)}setCurrentTime(r){U(this,ai,bi).call(this,"seekTo",r),S(this,kt).notify("seeking",r)}setVolume(r){U(this,ai,bi).call(this,"setVolume",r),U(this,ai,bi).call(this,"setMuted",ot(S(this,kt).$state.muted))}setPlaybackRate(r){U(this,ai,bi).call(this,"setPlaybackRate",r)}async loadSource(r){if(!dt(r.src)){me(this,nf,null),me(this,bc,null),S(this,uo).set("");return}let{videoId:t,hash:a}=tE(r.src);S(this,uo).set(t??""),me(this,bc,a??null),me(this,nf,r)}getOrigin(){return"https://player.vimeo.com"}buildParams(){let{keyDisabled:r}=S(this,kt).$props,{playsInline:t,nativeControls:a}=S(this,kt).$state,l=a();return{title:this.title,byline:this.byline,color:this.color,portrait:this.portrait,controls:l,h:this.hash,keyboard:l&&!r(),transparent:!0,playsinline:t(),dnt:!this.cookies}}onMessage(r,t){r.event?U(this,qx,iI).call(this,r.event,r.data,t):r.method&&U(this,Rx,W7).call(this,r.method,r.value,t)}onLoad(){}};kt=new WeakMap,uo=new WeakMap,wl=new WeakMap,bc=new WeakMap,nf=new WeakMap,Fy=new WeakMap,xl=new WeakMap,sf=new WeakMap,Ex=new WeakMap,_c=new WeakMap,Sl=new WeakMap,of=new WeakMap,Mx=new WeakSet,U7=function(){U(this,Gy,cE).call(this);let r=S(this,uo).call(this);if(!r){this.src.set("");return}this.src.set(`${this.getOrigin()}/video/${r}`),S(this,kt).notify("load-start")},Ax=new WeakSet,V7=function(){let r=S(this,uo).call(this);if(!r)return;let t=Ks(),a=new AbortController;return me(this,of,t),rE(r,a,S(this,bc)).then(l=>{t.resolve(l)}).catch(l=>{t.reject()}),()=>{t.reject(),a.abort()}},Ox=new WeakSet,$7=function(){let r=S(this,wl).call(this),{$state:t,qualities:a}=S(this,kt);if(t.canSetPlaybackRate.set(r),a[Ct.setReadonly](!r),r)return Vt(a,"change",()=>{if(a.auto)return;let l=a.selected?.id;l&&U(this,ai,bi).call(this,"setQuality",l)})},Lx=new WeakSet,G7=function(){U(this,ai,bi).call(this,"getCurrentTime")},wc=new WeakMap,Px=new WeakSet,H7=function(r,t){if(S(this,wc)&&r===0)return;let{realCurrentTime:a,realDuration:l,paused:n,bufferedEnd:s}=S(this,kt).$state;if(a()===r)return;let o=a();S(this,kt).notify("time-change",r,t),Math.abs(o-r)>1.5&&(S(this,kt).notify("seeking",r,t),!n()&&s()<r&&S(this,kt).notify("waiting",void 0,t)),l()-r<.01&&(S(this,kt).notify("end",void 0,t),me(this,wc,!0),setTimeout(()=>{me(this,wc,!1)},500))},Dx=new WeakSet,z7=function(r,t){S(this,kt).notify("seeked",r,t)},Ix=new WeakSet,q7=function(r){let t=S(this,uo).call(this);S(this,of)?.promise.then(a=>{if(!a)return;let{title:l,poster:n,duration:s,pro:o}=a;S(this,wl).set(o),S(this,kt).notify("title-change",l,r),S(this,kt).notify("poster-change",n,r),S(this,kt).notify("duration-change",s,r),U(this,By,sE).call(this,s,r)}).catch(()=>{t===S(this,uo).call(this)&&(U(this,ai,bi).call(this,"getVideoTitle"),U(this,ai,bi).call(this,"getDuration"))})},By=new WeakSet,sE=function(r,t){let{nativeControls:a}=S(this,kt).$state,l=a();me(this,xl,new Er(0,r));let n={buffered:new Er(0,0),seekable:S(this,xl),duration:r};S(this,kt).delegate.ready(n,t),l||U(this,ai,bi).call(this,"_hideOverlay"),U(this,ai,bi).call(this,"getQualities"),U(this,ai,bi).call(this,"getChapters")},Rx=new WeakSet,W7=function(r,t,a){switch(r){case"getVideoTitle":let l=t;S(this,kt).notify("title-change",l,a);break;case"getDuration":let n=t;S(this,kt).$state.canPlay()?S(this,kt).notify("duration-change",n,a):U(this,By,sE).call(this,n,a);break;case"getCurrentTime":U(this,Px,H7).call(this,t,a);break;case"getBuffered":ni(t)&&t.length&&U(this,Ny,oE).call(this,t[t.length-1][1],a);break;case"setMuted":U(this,Uy,aE).call(this,ot(S(this,kt).$state.volume),t,a);break;case"getChapters":U(this,Hx,tI).call(this,t);break;case"getQualities":U(this,zx,rI).call(this,t,a);break}U(this,Hy,dE).call(this,r)?.resolve()},Fx=new WeakSet,X7=function(){for(let r of tH)U(this,ai,bi).call(this,"addEventListener",r)},Bx=new WeakSet,Y7=function(r){S(this,sf).stop(),S(this,kt).notify("pause",void 0,r)},Nx=new WeakSet,Z7=function(r){S(this,sf).start(),S(this,kt).notify("play",void 0,r)},Ux=new WeakSet,K7=function(r){let{paused:t}=S(this,kt).$state;!t()&&!S(this,wc)&&S(this,kt).notify("playing",void 0,r)},Ny=new WeakSet,oE=function(r,t){let a={buffered:new Er(0,r),seekable:S(this,xl)};S(this,kt).notify("progress",a,t)},Vx=new WeakSet,Q7=function(r){S(this,kt).notify("waiting",void 0,r)},$x=new WeakSet,J7=function(r){let{paused:t}=S(this,kt).$state;t()||S(this,kt).notify("playing",void 0,r)},Gx=new WeakSet,eI=function(r){let{paused:t}=S(this,kt).$state;t()&&S(this,kt).notify("play",void 0,r),S(this,kt).notify("waiting",void 0,r)},Uy=new WeakSet,aE=function(r,t,a){let l={volume:r,muted:t};S(this,kt).notify("volume-change",l,a)},Hx=new WeakSet,tI=function(r){if(U(this,Vy,lE).call(this),!r.length)return;let t=new fn({kind:"chapters",default:!0}),{realDuration:a}=S(this,kt).$state;for(let l=0;l<r.length;l++){let n=r[l],s=r[l+1];t.addCue(new window.VTTCue(n.startTime,s?.startTime??a(),n.title))}me(this,_c,t),S(this,kt).textTracks.add(t)},Vy=new WeakSet,lE=function(){S(this,_c)&&(S(this,kt).textTracks.remove(S(this,_c)),me(this,_c,null))},zx=new WeakSet,rI=function(r,t){S(this,kt).qualities[pi.enableAuto]=r.some(a=>a.id==="auto")?()=>U(this,ai,bi).call(this,"setQuality","auto"):void 0;for(let a of r){if(a.id==="auto")continue;let l=+a.id.slice(0,-1);isNaN(l)||S(this,kt).qualities[Ct.add]({id:a.id,width:l*(16/9),height:l,codec:"avc1,h.264",bitrate:-1},t)}U(this,$y,uE).call(this,r.find(a=>a.active),t)},$y=new WeakSet,uE=function({id:r}={},t){if(!r)return;let a=r==="auto",l=S(this,kt).qualities.getById(r);a?(S(this,kt).qualities[pi.setAuto](a,t),S(this,kt).qualities[Ct.select](void 0,!0,t)):S(this,kt).qualities[Ct.select](l??void 0,!0,t)},qx=new WeakSet,iI=function(r,t,a){switch(r){case"ready":U(this,Fx,X7).call(this);break;case"loaded":U(this,Ix,q7).call(this,a);break;case"play":U(this,Nx,Z7).call(this,a);break;case"playProgress":U(this,Ux,K7).call(this,a);break;case"pause":U(this,Bx,Y7).call(this,a);break;case"loadProgress":U(this,Ny,oE).call(this,t.seconds,a);break;case"waiting":U(this,Gx,eI).call(this,a);break;case"bufferstart":U(this,Vx,Q7).call(this,a);break;case"bufferend":U(this,$x,J7).call(this,a);break;case"volumechange":U(this,Uy,aE).call(this,t.volume,ot(S(this,kt).$state.muted),a);break;case"durationchange":me(this,xl,new Er(0,t.duration)),S(this,kt).notify("duration-change",t.duration,a);break;case"playbackratechange":S(this,kt).notify("rate-change",t.playbackRate,a);break;case"qualitychange":U(this,$y,uE).call(this,t,a);break;case"fullscreenchange":me(this,Fy,t.fullscreen),S(this,kt).notify("fullscreen-change",t.fullscreen,a);break;case"enterpictureinpicture":S(this,kt).notify("picture-in-picture-change",!0,a);break;case"leavepictureinpicture":S(this,kt).notify("picture-in-picture-change",!1,a);break;case"ended":S(this,kt).notify("end",void 0,a);break;case"error":U(this,Wx,nI).call(this,t,a);break;case"seek":case"seeked":U(this,Dx,z7).call(this,t.seconds,a);break}},Wx=new WeakSet,nI=function(r,t){let{message:a,method:l}=r;l==="setPlaybackRate"&&S(this,wl).set(!1),l&&U(this,Hy,dE).call(this,l)?.reject(a)},ai=new WeakSet,bi=async function(r,t){let a=Ks(),l=S(this,Sl).get(r);return l||S(this,Sl).set(r,l=[]),l.push(a),this.postMessage({method:r,value:t}),a.promise},Gy=new WeakSet,cE=function(){S(this,sf).stop(),me(this,xl,new Er(0,0)),me(this,of,null),me(this,Ex,null),S(this,wl).set(!1),U(this,Vy,lE).call(this)},Hy=new WeakSet,dE=function(r){return S(this,Sl).get(r)?.shift()}});var aI={};en(aI,{findYouTubePoster:()=>iH,resolveYouTubeVideoId:()=>fE});function fE(h){return h.match(rH)?.[1]}async function iH(h,i){if(hE.has(h))return hE.get(h);if(Xx.has(h))return Xx.get(h);let r=new Promise(async t=>{let a=["maxresdefault","sddefault","hqdefault"];for(let l of a)for(let n of[!0,!1]){let s=nH(h,l,n);if((await fetch(s,{mode:"no-cors",signal:i.signal})).status<400){hE.set(h,s),t(s);return}}}).catch(()=>"").finally(()=>Xx.delete(h));return Xx.set(h,r),r}function nH(h,i,r){return`https://i.ytimg.com/${r?"vi_webp":"vi"}/${h}/${i}.${r?"webp":"jpg"}`}var rH,hE,Xx,pE=Ot(()=>{rH=/(?:youtu\.be|youtube|youtube\.com|youtube-nocookie\.com)\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=|)((?:\w|-){11})/,hE=new Map,Xx=new Map});var mI={};en(mI,{YouTubeProvider:()=>mE});var xc,er,Sc,Tc,af,Cc,Cl,aa,vE,sH,bE,oH,Zx,lI,co,Tl,Kx,uI,Qx,cI,Jx,dI,qy,yE,lf,Yx,e3,hI,t3,fI,Wy,gE,kc,zy,r3,pI,mE,yI=Ot(()=>{fr();fy();Js();Jj();pE();xc={Unstarted:-1,Ended:0,Playing:1,Paused:2,Buffering:3,Cued:5},mE=class extends rf{constructor(r,t){super(r);N(this,vE);N(this,bE);N(this,Zx);N(this,co);N(this,Kx);N(this,Qx);N(this,Jx);N(this,qy);N(this,lf);N(this,e3);N(this,t3);N(this,Wy);N(this,kc);N(this,r3);Ce(this,"$$PROVIDER_TYPE","YOUTUBE");Ce(this,"scope",bs());N(this,er,void 0);N(this,Sc,Dt(""));N(this,Tc,-1);N(this,af,null);N(this,Cc,-1);N(this,Cl,!1);N(this,aa,new Map);Ce(this,"language","en");Ce(this,"color","red");Ce(this,"cookies",!1);me(this,er,t)}get currentSrc(){return S(this,af)}get type(){return"youtube"}get videoId(){return S(this,Sc).call(this)}preconnect(){Bn(this.getOrigin())}setup(){super.setup(),He(U(this,Zx,lI).bind(this)),S(this,er).notify("provider-setup",this)}destroy(){U(this,Wy,gE).call(this);let r="provider destroyed";for(let t of S(this,aa).values())for(let{reject:a}of t)a(r);S(this,aa).clear()}async play(){return U(this,co,Tl).call(this,"playVideo")}async pause(){return U(this,co,Tl).call(this,"pauseVideo")}setMuted(r){r?U(this,co,Tl).call(this,"mute"):U(this,co,Tl).call(this,"unMute")}setCurrentTime(r){U(this,co,Tl).call(this,"seekTo",r),S(this,er).notify("seeking",r)}setVolume(r){U(this,co,Tl).call(this,"setVolume",r*100)}setPlaybackRate(r){U(this,co,Tl).call(this,"setPlaybackRate",r)}async loadSource(r){if(!dt(r.src)){me(this,af,null),S(this,Sc).set("");return}let t=fE(r.src);S(this,Sc).set(t??""),me(this,af,r)}getOrigin(){return this.cookies?"https://www.youtube.com":"https://www.youtube-nocookie.com"}buildParams(){let{keyDisabled:r}=S(this,er).$props,{muted:t,playsInline:a,nativeControls:l}=S(this,er).$state,n=l();return{autoplay:0,cc_lang_pref:this.language,cc_load_policy:n?1:void 0,color:this.color,controls:n?1:0,disablekb:!n||r()?1:0,enablejsapi:1,fs:1,hl:this.language,iv_load_policy:n?1:3,mute:t()?1:0,playsinline:a()?1:0}}onLoad(){window.setTimeout(()=>this.postMessage({event:"listening"}),100)}onMessage({info:r},t){if(!r)return;let{title:a,intrinsicDuration:l,playbackRate:n}=S(this,er).$state;if(R0(r.videoData)&&r.videoData.title!==a()&&S(this,er).notify("title-change",r.videoData.title,t),Ur(r.duration)&&r.duration!==l()){if(Ur(r.videoLoadedFraction)){let s=r.progressState?.loaded??r.videoLoadedFraction*r.duration,o=new Er(0,r.duration);U(this,qy,yE).call(this,s,o,t)}S(this,er).notify("duration-change",r.duration,t)}if(Ur(r.playbackRate)&&r.playbackRate!==n()&&S(this,er).notify("rate-change",r.playbackRate,t),r.progressState){let{current:s,seekableStart:o,seekableEnd:u,loaded:m,duration:v}=r.progressState;U(this,Jx,dI).call(this,s,t),U(this,qy,yE).call(this,m,new Er(o,u),t),v!==l()&&S(this,er).notify("duration-change",v,t)}if(Ur(r.volume)&&BC(r.muted)&&!S(this,Cl)){let s={muted:r.muted,volume:r.volume/100};S(this,er).notify("volume-change",s,t)}Ur(r.playerState)&&r.playerState!==S(this,Tc)&&U(this,t3,fI).call(this,r.playerState,t)}};er=new WeakMap,Sc=new WeakMap,Tc=new WeakMap,af=new WeakMap,Cc=new WeakMap,Cl=new WeakMap,aa=new WeakMap,vE=new WeakSet,sH=function(r){U(this,kc,zy).call(this,"playVideo")?.reject(r)},bE=new WeakSet,oH=function(r){U(this,kc,zy).call(this,"pauseVideo")?.reject(r)},Zx=new WeakSet,lI=function(){U(this,Wy,gE).call(this);let r=S(this,Sc).call(this);if(!r){this.src.set("");return}this.src.set(`${this.getOrigin()}/embed/${r}`),S(this,er).notify("load-start")},co=new WeakSet,Tl=function(r,t){let a=Ks(),l=S(this,aa).get(r);return l||S(this,aa).set(r,l=[]),l.push(a),this.postMessage({event:"command",func:r,args:t?[t]:void 0}),a.promise},Kx=new WeakSet,uI=function(r){S(this,er).notify("loaded-metadata"),S(this,er).notify("loaded-data"),S(this,er).delegate.ready(void 0,r)},Qx=new WeakSet,cI=function(r){U(this,kc,zy).call(this,"pauseVideo")?.resolve(),S(this,er).notify("pause",void 0,r)},Jx=new WeakSet,dI=function(r,t){let{duration:a,realCurrentTime:l}=S(this,er).$state,n=S(this,Tc)===xc.Ended,s=n?a():r;S(this,er).notify("time-change",s,t),!n&&Math.abs(s-l())>1&&S(this,er).notify("seeking",s,t)},qy=new WeakSet,yE=function(r,t,a){let l={buffered:new Er(0,r),seekable:t};S(this,er).notify("progress",l,a);let{seeking:n,realCurrentTime:s}=S(this,er).$state;n()&&r>s()&&U(this,lf,Yx).call(this,a)},lf=new WeakSet,Yx=function(r){let{paused:t,realCurrentTime:a}=S(this,er).$state;window.clearTimeout(S(this,Cc)),me(this,Cc,window.setTimeout(()=>{S(this,er).notify("seeked",a(),r),me(this,Cc,-1)},t()?100:0))},e3=new WeakSet,hI=function(r){let{seeking:t}=S(this,er).$state;t()&&U(this,lf,Yx).call(this,r),S(this,er).notify("pause",void 0,r),S(this,er).notify("end",void 0,r)},t3=new WeakSet,fI=function(r,t){let{paused:a,seeking:l}=S(this,er).$state,n=r===xc.Playing,s=r===xc.Buffering,o=U(this,r3,pI).call(this,"playVideo"),u=a()&&(s||n);if(s&&S(this,er).notify("waiting",void 0,t),l()&&n&&U(this,lf,Yx).call(this,t),S(this,Cl)&&n){this.pause(),me(this,Cl,!1),this.setMuted(S(this,er).$state.muted());return}if(!o&&u){me(this,Cl,!0),this.setMuted(!0);return}switch(u&&(U(this,kc,zy).call(this,"playVideo")?.resolve(),S(this,er).notify("play",void 0,t)),r){case xc.Cued:U(this,Kx,uI).call(this,t);break;case xc.Playing:S(this,er).notify("playing",void 0,t);break;case xc.Paused:U(this,Qx,cI).call(this,t);break;case xc.Ended:U(this,e3,hI).call(this,t);break}me(this,Tc,r)},Wy=new WeakSet,gE=function(){me(this,Tc,-1),me(this,Cc,-1),me(this,Cl,!1)},kc=new WeakSet,zy=function(r){return S(this,aa).get(r)?.shift()},r3=new WeakSet,pI=function(r){return!!S(this,aa).get(r)?.length}});function gI(){return"https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"}function vI(){return!!window.cast?.framework}function bI(){return!!window.chrome?.cast?.isAvailable}function _E(){return jc().getCastState()===cast.framework.CastState.CONNECTED}function jc(){return window.cast.framework.CastContext.getInstance()}function Xy(){return jc().getCurrentSession()}function i3(){return Xy()?.getSessionObj().media[0]}function wE(h){return i3()?.media.contentId===h?.src}function _I(){return{language:"en-US",autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,receiverApplicationId:chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,resumeSavedSession:!0,androidReceiverCompatible:!0}}function n3(h){return`Google Cast Error Code: ${h}`}function wI(h,i){return Vt(jc(),h,i)}var xE=Ot(()=>{fr()});var VI={};en(VI,{GoogleCastProvider:()=>ME});var Ds,o3,SI,TE,SE,xI,kl,ho,Yy,Zy,kE,jl,uf,a3,TI,l3,CI,u3,kI,Ky,jE,cf,s3,Qy,EE,CE,Ut,Kt,El,Ml,Jy,df,Ec,Mc,hf,eg,ls,ff,c3,jI,d3,EI,tg,AE,h3,MI,rg,OE,f3,AI,p3,OI,m3,LI,ig,LE,ng,PE,sg,DE,og,IE,y3,PI,g3,DI,v3,II,ag,RE,b3,RI,lg,FE,_3,FI,ug,BE,Is,la,w3,BI,x3,NI,cg,NE,S3,UI,ME,$I=Ot(()=>{fr();fy();Ih();oc();xE();TE=class{constructor(i){N(this,o3);N(this,Ds,void 0);me(this,Ds,new chrome.cast.media.MediaInfo(i.src,i.type))}build(){return S(this,Ds)}setStreamType(i){return i.includes("live")?S(this,Ds).streamType=chrome.cast.media.StreamType.LIVE:S(this,Ds).streamType=chrome.cast.media.StreamType.BUFFERED,this}setTracks(i){return S(this,Ds).tracks=i.map(U(this,o3,SI)),this}setMetadata(i,r){return S(this,Ds).metadata=new chrome.cast.media.GenericMediaMetadata,S(this,Ds).metadata.title=i,S(this,Ds).metadata.images=[{url:r}],this}};Ds=new WeakMap,o3=new WeakSet,SI=function(i,r){let t=new chrome.cast.media.Track(r,chrome.cast.media.TrackType.TEXT);return t.name=i.label,t.trackContentId=i.src,t.trackContentType="text/vtt",t.language=i.language,t.subtype=i.kind.toUpperCase(),t};SE=chrome.cast.media.TrackType.TEXT,xI=chrome.cast.media.TrackType.AUDIO,CE=class{constructor(i,r,t){N(this,Zy);N(this,jl);N(this,a3);N(this,l3);N(this,u3);N(this,Ky);N(this,cf);N(this,Qy);N(this,kl,void 0);N(this,ho,void 0);N(this,Yy,void 0);me(this,kl,i),me(this,ho,r),me(this,Yy,t)}setup(){let i=this.syncRemoteActiveIds.bind(this);Vt(S(this,ho).audioTracks,"change",i),Vt(S(this,ho).textTracks,"mode-change",i),He(U(this,l3,CI).bind(this))}getLocalTextTracks(){return S(this,ho).$state.textTracks().filter(i=>i.src&&i.type==="vtt")}syncRemoteTracks(i){if(!S(this,kl).isMediaLoaded)return;let r=U(this,Zy,kE).call(this),t=this.getLocalTextTracks(),a=U(this,jl,uf).call(this,xI),l=U(this,jl,uf).call(this,SE);for(let n of a){if(U(this,Ky,jE).call(this,r,n))continue;let o={id:n.trackId.toString(),label:n.name,language:n.language,kind:n.subtype??"main",selected:!1};S(this,ho).audioTracks[Ct.add](o,i)}for(let n of l){if(U(this,Ky,jE).call(this,t,n))continue;let o={id:n.trackId.toString(),src:n.trackContentId,label:n.name,language:n.language,kind:n.subtype.toLowerCase()};S(this,ho).textTracks.add(o,i)}}syncRemoteActiveIds(i){if(!S(this,kl).isMediaLoaded)return;let r=U(this,a3,TI).call(this),t=new chrome.cast.media.EditTracksInfoRequest(r);U(this,u3,kI).call(this,t).catch(a=>{})}};kl=new WeakMap,ho=new WeakMap,Yy=new WeakMap,Zy=new WeakSet,kE=function(){return S(this,ho).$state.audioTracks()},jl=new WeakSet,uf=function(i){let r=S(this,kl).mediaInfo?.tracks??[];return i?r.filter(t=>t.type===i):r},a3=new WeakSet,TI=function(){let i=[],r=U(this,Zy,kE).call(this).find(a=>a.selected),t=this.getLocalTextTracks().filter(a=>a.mode==="showing");if(r){let a=U(this,jl,uf).call(this,xI),l=U(this,cf,s3).call(this,a,r);l&&i.push(l.trackId)}if(t?.length){let a=U(this,jl,uf).call(this,SE);if(a.length)for(let l of t){let n=U(this,cf,s3).call(this,a,l);n&&i.push(n.trackId)}}return i},l3=new WeakSet,CI=function(){let i=this.getLocalTextTracks();if(!S(this,kl).isMediaLoaded)return;let r=U(this,jl,uf).call(this,SE);for(let t of i)if(!U(this,cf,s3).call(this,r,t)){Na(()=>{var l;return(l=S(this,Yy))==null?void 0:l.call(this)});break}},u3=new WeakSet,kI=function(i){let r=i3();return new Promise((t,a)=>r?.editTracksInfo(i,t,a))},Ky=new WeakSet,jE=function(i,r){return i.find(t=>U(this,Qy,EE).call(this,t,r))},cf=new WeakSet,s3=function(i,r){return i.find(t=>U(this,Qy,EE).call(this,r,t))},Qy=new WeakSet,EE=function(i,r){return r.name===i.label&&r.language===i.language&&r.subtype.toLowerCase()===i.kind.toLowerCase()};ME=class{constructor(i,r){N(this,c3);N(this,d3);N(this,tg);N(this,h3);N(this,rg);N(this,f3);N(this,p3);N(this,m3);N(this,ig);N(this,ng);N(this,sg);N(this,og);N(this,y3);N(this,g3);N(this,v3);N(this,ag);N(this,b3);N(this,lg);N(this,_3);N(this,ug);N(this,Is);N(this,w3);N(this,x3);N(this,cg);N(this,S3);Ce(this,"$$PROVIDER_TYPE","GOOGLE_CAST");Ce(this,"scope",bs());N(this,Ut,void 0);N(this,Kt,void 0);N(this,El,void 0);N(this,Ml,null);N(this,Jy,"disconnected");N(this,df,0);N(this,Ec,0);N(this,Mc,new Er(0,0));N(this,hf,new ss(U(this,p3,OI).bind(this)));N(this,eg,void 0);N(this,ls,null);N(this,ff,!1);me(this,Ut,i),me(this,Kt,r),me(this,El,new CE(i,r,U(this,S3,UI).bind(this)))}get type(){return"google-cast"}get currentSrc(){return S(this,Ml)}get player(){return S(this,Ut)}get cast(){return jc()}get session(){return Xy()}get media(){return i3()}get hasActiveSession(){return wE(S(this,Ml))}setup(){U(this,c3,jI).call(this),U(this,d3,EI).call(this),S(this,El).setup(),S(this,Kt).notify("provider-setup",this)}async play(){if(!(!S(this,Ut).isPaused&&!S(this,ff))){if(S(this,ff)){await U(this,cg,NE).call(this,!1,0);return}S(this,Ut).controller?.playOrPause()}}async pause(){S(this,Ut).isPaused||S(this,Ut).controller?.playOrPause()}getMediaStatus(i){return new Promise((r,t)=>{this.media?.getStatus(i,r,t)})}setMuted(i){(i&&!S(this,Ut).isMuted||!i&&S(this,Ut).isMuted)&&S(this,Ut).controller?.muteOrUnmute()}setCurrentTime(i){S(this,Ut).currentTime=i,S(this,Kt).notify("seeking",i),S(this,Ut).controller?.seek()}setVolume(i){S(this,Ut).volumeLevel=i,S(this,Ut).controller?.setVolumeLevel()}async loadSource(i){if(S(this,ls)?.src!==i&&me(this,ls,null),wE(i)){U(this,h3,MI).call(this),me(this,Ml,i);return}S(this,Kt).notify("load-start");let r=U(this,x3,NI).call(this,i),t=await this.session.loadMedia(r);if(t){me(this,Ml,null),S(this,Kt).notify("error",Error(n3(t)));return}me(this,Ml,i)}destroy(){U(this,tg,AE).call(this),U(this,rg,OE).call(this)}};Ut=new WeakMap,Kt=new WeakMap,El=new WeakMap,Ml=new WeakMap,Jy=new WeakMap,df=new WeakMap,Ec=new WeakMap,Mc=new WeakMap,hf=new WeakMap,eg=new WeakMap,ls=new WeakMap,ff=new WeakMap,c3=new WeakSet,jI=function(){wI(cast.framework.CastContextEventType.CAST_STATE_CHANGED,U(this,ig,LE).bind(this))},d3=new WeakSet,EI=function(){let i=cast.framework.RemotePlayerEventType,r={[i.IS_CONNECTED_CHANGED]:U(this,ig,LE),[i.IS_MEDIA_LOADED_CHANGED]:U(this,ng,PE),[i.CAN_CONTROL_VOLUME_CHANGED]:U(this,sg,DE),[i.CAN_SEEK_CHANGED]:U(this,og,IE),[i.DURATION_CHANGED]:U(this,v3,II),[i.IS_MUTED_CHANGED]:U(this,ag,RE),[i.VOLUME_LEVEL_CHANGED]:U(this,ag,RE),[i.IS_PAUSED_CHANGED]:U(this,b3,RI),[i.LIVE_SEEKABLE_RANGE_CHANGED]:U(this,lg,FE),[i.PLAYER_STATE_CHANGED]:U(this,_3,FI)};me(this,eg,r);let t=U(this,m3,LI).bind(this);for(let a of NC(r))S(this,Ut).controller.addEventListener(a,t);Ft(()=>{for(let a of NC(r))S(this,Ut).controller.removeEventListener(a,t)})},tg=new WeakSet,AE=function(){S(this,ls)||(me(this,Ec,0),me(this,Mc,new Er(0,0))),S(this,hf).stop(),me(this,df,0),me(this,ls,null)},h3=new WeakSet,MI=function(){let i=new Lt("resume-session",{detail:this.session});U(this,ng,PE).call(this,i);let{muted:r,volume:t,savedState:a}=S(this,Kt).$state,l=a();this.setCurrentTime(Math.max(S(this,Ut).currentTime,l?.currentTime??0)),this.setMuted(r()),this.setVolume(t()),l?.paused===!1&&this.play()},rg=new WeakSet,OE=function(){this.cast.endCurrentSession(!0);let{remotePlaybackLoader:i}=S(this,Kt).$state;i.set(null)},f3=new WeakSet,AI=function(){let{savedState:i}=S(this,Kt).$state;i.set({paused:S(this,Ut).isPaused,currentTime:S(this,Ut).currentTime}),U(this,rg,OE).call(this)},p3=new WeakSet,OI=function(){U(this,g3,DI).call(this)},m3=new WeakSet,LI=function(i){S(this,eg)[i.type].call(this,i)},ig=new WeakSet,LE=function(i){let r=this.cast.getCastState(),t=r===cast.framework.CastState.CONNECTED?"connected":r===cast.framework.CastState.CONNECTING?"connecting":"disconnected";if(S(this,Jy)===t)return;let a={type:"google-cast",state:t},l=U(this,Is,la).call(this,i);me(this,Jy,t),S(this,Kt).notify("remote-playback-change",a,l),t==="disconnected"&&U(this,f3,AI).call(this)},ng=new WeakSet,PE=function(i){if(!!!S(this,Ut).isMediaLoaded)return;let t=ot(S(this,Kt).$state.source);Promise.resolve().then(()=>{if(t!==ot(S(this,Kt).$state.source)||!S(this,Ut).isMediaLoaded)return;U(this,tg,AE).call(this);let a=S(this,Ut).duration;me(this,Mc,new Er(0,a));let l={provider:this,duration:a,buffered:new Er(0,0),seekable:U(this,ug,BE).call(this)},n=U(this,Is,la).call(this,i);S(this,Kt).notify("loaded-metadata",void 0,n),S(this,Kt).notify("loaded-data",void 0,n),S(this,Kt).notify("can-play",l,n),U(this,sg,DE).call(this),U(this,og,IE).call(this,i);let{volume:s,muted:o}=S(this,Kt).$state;this.setVolume(s()),this.setMuted(o()),S(this,hf).start(),S(this,El).syncRemoteTracks(n),S(this,El).syncRemoteActiveIds(n)})},sg=new WeakSet,DE=function(){S(this,Kt).$state.canSetVolume.set(S(this,Ut).canControlVolume)},og=new WeakSet,IE=function(i){let r=U(this,Is,la).call(this,i);S(this,Kt).notify("stream-type-change",U(this,y3,PI).call(this),r)},y3=new WeakSet,PI=function(){return S(this,Ut).mediaInfo?.streamType===chrome.cast.media.StreamType.LIVE?S(this,Ut).canSeek?"live:dvr":"live":"on-demand"},g3=new WeakSet,DI=function(){if(S(this,ls))return;let i=S(this,Ut).currentTime;i!==S(this,df)&&(S(this,Kt).notify("time-change",i),i>S(this,Ec)&&(me(this,Ec,i),U(this,lg,FE).call(this)),S(this,Kt).$state.seeking()&&S(this,Kt).notify("seeked",i),me(this,df,i))},v3=new WeakSet,II=function(i){if(!S(this,Ut).isMediaLoaded||S(this,ls))return;let r=S(this,Ut).duration,t=U(this,Is,la).call(this,i);me(this,Mc,new Er(0,r)),S(this,Kt).notify("duration-change",r,t)},ag=new WeakSet,RE=function(i){if(!S(this,Ut).isMediaLoaded)return;let r={muted:S(this,Ut).isMuted,volume:S(this,Ut).volumeLevel},t=U(this,Is,la).call(this,i);S(this,Kt).notify("volume-change",r,t)},b3=new WeakSet,RI=function(i){let r=U(this,Is,la).call(this,i);S(this,Ut).isPaused?S(this,Kt).notify("pause",void 0,r):S(this,Kt).notify("play",void 0,r)},lg=new WeakSet,FE=function(i){let r={seekable:U(this,ug,BE).call(this),buffered:new Er(0,S(this,Ec))},t=i?U(this,Is,la).call(this,i):void 0;S(this,Kt).notify("progress",r,t)},_3=new WeakSet,FI=function(i){let r=S(this,Ut).playerState,t=chrome.cast.media.PlayerState;if(me(this,ff,r===t.IDLE),r===t.PAUSED)return;let a=U(this,Is,la).call(this,i);switch(r){case t.PLAYING:S(this,Kt).notify("playing",void 0,a);break;case t.BUFFERING:S(this,Kt).notify("waiting",void 0,a);break;case t.IDLE:S(this,hf).stop(),S(this,Kt).notify("pause"),S(this,Kt).notify("end");break}},ug=new WeakSet,BE=function(){return S(this,Ut).liveSeekableRange?new Er(S(this,Ut).liveSeekableRange.start,S(this,Ut).liveSeekableRange.end):S(this,Mc)},Is=new WeakSet,la=function(i){return i instanceof Event?i:new Lt(i.type,{detail:i})},w3=new WeakSet,BI=function(i){let{streamType:r,title:t,poster:a}=S(this,Kt).$state;return new TE(i).setMetadata(t(),a()).setStreamType(r()).setTracks(S(this,El).getLocalTextTracks()).build()},x3=new WeakSet,NI=function(i){let r=U(this,w3,BI).call(this,i),t=new chrome.cast.media.LoadRequest(r),a=S(this,Kt).$state.savedState();return t.autoplay=(S(this,ls)?.paused??a?.paused)===!1,t.currentTime=S(this,ls)?.time??a?.currentTime??0,t},cg=new WeakSet,NE=async function(i,r){let t=ot(S(this,Kt).$state.source);me(this,ls,{src:t,paused:i,time:r}),await this.loadSource(t)},S3=new WeakSet,UI=function(){U(this,cg,NE).call(this,S(this,Ut).isPaused,S(this,Ut).currentTime).catch(i=>{})}});var qI={};en(qI,{GoogleCastLoader:()=>UE});var Al,k3,GI,j3,HI,E3,zI,pf,T3,mf,C3,UE,WI=Ot(()=>{Cu();Js();xE();fr();UE=class{constructor(){N(this,k3);N(this,j3);N(this,E3);N(this,pf);N(this,mf);Ce(this,"name","google-cast");Ce(this,"target");N(this,Al,void 0)}get cast(){return jc()}mediaType(){return"video"}canPlay(i){return Ha&&!Tu&&J0(i)}async prompt(i){let r,t,a;try{r=await U(this,k3,GI).call(this,i),S(this,Al)||(me(this,Al,new cast.framework.RemotePlayer),new cast.framework.RemotePlayerController(S(this,Al))),t=i.player.createEvent("google-cast-prompt-open",{trigger:r}),i.player.dispatchEvent(t),U(this,pf,T3).call(this,i,"connecting",t),await U(this,j3,HI).call(this,ot(i.$props.googleCast)),i.$state.remotePlaybackInfo.set({deviceName:Xy()?.getCastDevice().friendlyName}),_E()&&U(this,pf,T3).call(this,i,"connected",t)}catch(l){let n=l instanceof Error?l:U(this,mf,C3).call(this,(l+"").toUpperCase(),"Prompt failed.");throw a=i.player.createEvent("google-cast-prompt-error",{detail:n,trigger:t??r,cancelable:!0}),i.player.dispatch(a),U(this,pf,T3).call(this,i,_E()?"connected":"disconnected",a),n}finally{i.player.dispatch("google-cast-prompt-close",{trigger:a??t??r})}}async load(i){if(!S(this,Al))throw Error("[vidstack] google cast player was not initialized");return new(await Promise.resolve().then(()=>($I(),VI))).GoogleCastProvider(S(this,Al),i)}};Al=new WeakMap,k3=new WeakSet,GI=async function(i){if(vI())return;let r=i.player.createEvent("google-cast-load-start");i.player.dispatch(r),await Hd(gI()),await customElements.whenDefined("google-cast-launcher");let t=i.player.createEvent("google-cast-loaded",{trigger:r});if(i.player.dispatch(t),!bI())throw U(this,mf,C3).call(this,"CAST_NOT_AVAILABLE","Google Cast not available on this platform.");return t},j3=new WeakSet,HI=async function(i){U(this,E3,zI).call(this,i);let r=await this.cast.requestSession();if(r)throw U(this,mf,C3).call(this,r.toUpperCase(),n3(r))},E3=new WeakSet,zI=function(i){this.cast?.setOptions({..._I(),...i})},pf=new WeakSet,T3=function(i,r,t){let a={type:"google-cast",state:r};i.notify("remote-playback-change",a,t)},mf=new WeakSet,C3=function(i,r){let t=Error(r);return t.code=i,t}});var GF={};en(GF,{insertContent:()=>MH});function MH(h,i){let r=X0(EH);r.innerHTML=WO,h.append(r);let t=document.createElement("span");t.classList.add("vds-google-cast-info"),h.append(t);let a=document.createElement("span");a.classList.add("vds-google-cast-device-name"),He(()=>{let{remotePlaybackInfo:l}=i,n=l();return n?.deviceName&&(a.textContent=n.deviceName,t.append("Google Cast on ",a)),()=>{t.textContent=""}})}var EH,HF=Ot(()=>{fr();Up();EH=W0('<svg viewBox="0 0 32 32" fill="none" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"></svg>')});var YF=Ot(()=>{sc();});var gv,wa,_a,Xc=Ot(()=>{gv={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},wa=h=>(...i)=>({_$litDirective$:h,values:i}),_a=class{constructor(i){}get _$AU(){return this._$AM._$AU}_$AT(i,r,t){this._$Ct=i,this._$AM=r,this._$Ci=t}_$AS(i,r){return this.update(i,r)}update(i,r){return this.render(...r)}}});var Yc,kX,s4=Ot(()=>{sc();Xc();Yc=class extends _a{constructor(i){if(super(i),this.et=Sr,i.type!==gv.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(i){if(i===Sr||i==null)return this.ft=void 0,this.et=i;if(i===rc)return i;if(typeof i!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(i===this.et)return this.ft;this.et=i;let r=[i];return r.raw=r,this.ft={_$litType$:this.constructor.resultType,strings:r,values:[]}}};Yc.directiveName="unsafeHTML",Yc.resultType=1;kX=wa(Yc)});var vv,AX,ZF=Ot(()=>{Xc();s4();vv=class extends Yc{};vv.directiveName="unsafeSVG",vv.resultType=2;AX=wa(vv)});var PX,KF,AH,QF,o4=Ot(()=>{sc();({I:PX}=J8),KF=h=>h.strings===void 0,AH={},QF=(h,i=AH)=>h._$AH=i});function OH(h){this._$AN!==void 0?(L6(this),this._$AM=h,JF(this)):this._$AM=h}function LH(h,i=!1,r=0){let t=this._$AH,a=this._$AN;if(a!==void 0&&a.size!==0)if(i)if(Array.isArray(t))for(let l=r;l<t.length;l++)bv(t[l],!1),L6(t[l]);else t!=null&&(bv(t,!1),L6(t));else bv(this,h)}var bv,L6,JF,PH,P6,a4=Ot(()=>{o4();Xc();Xc();bv=(h,i)=>{var r,t;let a=h._$AN;if(a===void 0)return!1;for(let l of a)(t=(r=l)._$AO)===null||t===void 0||t.call(r,i,!1),bv(l,i);return!0},L6=h=>{let i,r;do{if((i=h._$AM)===void 0)break;r=i._$AN,r.delete(h),h=i}while(r?.size===0)},JF=h=>{for(let i;i=h._$AM;h=i){let r=i._$AN;if(r===void 0)i._$AN=r=new Set;else if(r.has(h))break;r.add(h),PH(i)}};PH=h=>{var i,r,t,a;h.type==gv.CHILD&&((i=(t=h)._$AP)!==null&&i!==void 0||(t._$AP=LH),(r=(a=h)._$AQ)!==null&&r!==void 0||(a._$AQ=OH))},P6=class extends _a{constructor(){super(...arguments),this._$AN=void 0}_$AT(i,r,t){super._$AT(i,r,t),JF(this),this.isConnected=i._$AU}_$AO(i,r=!0){var t,a;i!==this.isConnected&&(this.isConnected=i,i?(t=this.reconnected)===null||t===void 0||t.call(this):(a=this.disconnected)===null||a===void 0||a.call(this)),r&&(bv(this,i),L6(this))}setValue(i){if(KF(this._$Ct))this._$Ct._$AI(i,this);else{let r=[...this._$Ct._$AH];r[this._$Ci]=i,this._$Ct._$AI(r,this,0)}}disconnected(){}reconnected(){}}});var l4,$X,eB=Ot(()=>{sc();a4();Xc();l4=new WeakMap,$X=wa(class extends P6{render(h){return Sr}update(h,[i]){var r;let t=i!==this.G;return t&&this.G!==void 0&&this.ot(void 0),(t||this.rt!==this.lt)&&(this.G=i,this.dt=(r=h.options)===null||r===void 0?void 0:r.host,this.ot(this.lt=h.element)),Sr}ot(h){var i;if(typeof this.G=="function"){let r=(i=this.dt)!==null&&i!==void 0?i:globalThis,t=l4.get(r);t===void 0&&(t=new WeakMap,l4.set(r,t)),t.get(this.G)!==void 0&&this.G.call(this.dt,void 0),t.set(this.G,h),h!==void 0&&this.G.call(this.dt,h)}else this.G.value=h}get rt(){var h,i,r;return typeof this.G=="function"?(i=l4.get((h=this.dt)!==null&&h!==void 0?h:globalThis))===null||i===void 0?void 0:i.get(this.G):(r=this.G)===null||r===void 0?void 0:r.value}disconnected(){this.rt===this.lt&&this.ot(void 0)}reconnected(){this.ot(this.lt)}})});var XX,tB=Ot(()=>{sc();Xc();o4();XX=wa(class extends _a{constructor(){super(...arguments),this.key=Sr}render(h,i){return this.key=h,i}update(h,[i,r]){return i!==this.key&&(QF(h),this.key=i),r}})});var RH=W4(Y4(),1);function _o(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function iM(h,i){h.prototype=Object.create(i.prototype),h.prototype.constructor=h,h.__proto__=i}var wn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},td={duration:.5,overwrite:!1,delay:0},aT,qi,Nr,Hn=1e8,kr=1/Hn,Z6=Math.PI*2,MB=Z6/4,AB=0,nM=Math.sqrt,OB=Math.cos,LB=Math.sin,wi=function(i){return typeof i=="string"},ei=function(i){return typeof i=="function"},xo=function(i){return typeof i=="number"},Iv=function(i){return typeof i>"u"},Gs=function(i){return typeof i=="object"},_n=function(i){return i!==!1},lT=function(){return typeof window<"u"},kv=function(i){return ei(i)||wi(i)},sM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Wi=Array.isArray,K6=/(?:-?\.?\d|\.)+/gi,uT=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,ql=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,G6=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,cT=/[+-]=-?[.\d]+/,oM=/[^,'"\[\]\s]+/gi,PB=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,zr,Vs,Q6,dT,Ln={},Av={},aM,lM=function(i){return(Av=zl(i,Ln))&&Xi},Rv=function(i,r){return console.warn("Invalid property",i,"set to",r,"Missing plugin? gsap.registerPlugin()")},Zf=function(i,r){return!r&&console.warn(i)},uM=function(i,r){return i&&(Ln[i]=r)&&Av&&(Av[i]=r)||Ln},Kf=function(){return 0},DB={suppressEvents:!0,isStart:!0,kill:!1},jv={suppressEvents:!0,kill:!1},IB={suppressEvents:!0},hT={},ka=[],J6={},cM,vn={},H6={},Z4=30,Ev=[],fT="",pT=function(i){var r=i[0],t,a;if(Gs(r)||ei(r)||(i=[i]),!(t=(r._gsap||{}).harness)){for(a=Ev.length;a--&&!Ev[a].targetTest(r););t=Ev[a]}for(a=i.length;a--;)i[a]&&(i[a]._gsap||(i[a]._gsap=new gT(i[a],t)))||i.splice(a,1);return i},ja=function(i){return i._gsap||pT(zn(i))[0]._gsap},mT=function(i,r,t){return(t=i[r])&&ei(t)?i[r]():Iv(t)&&i.getAttribute&&i.getAttribute(r)||t},tn=function(i,r){return(i=i.split(",")).forEach(r)||i},ti=function(i){return Math.round(i*1e5)/1e5||0},Ci=function(i){return Math.round(i*1e7)/1e7||0},Wl=function(i,r){var t=r.charAt(0),a=parseFloat(r.substr(2));return i=parseFloat(i),t==="+"?i+a:t==="-"?i-a:t==="*"?i*a:i/a},RB=function(i,r){for(var t=r.length,a=0;i.indexOf(r[a])<0&&++a<t;);return a<t},Ov=function(){var i=ka.length,r=ka.slice(0),t,a;for(J6={},ka.length=0,t=0;t<i;t++)a=r[t],a&&a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0)._lazy=0)},dM=function(i,r,t,a){ka.length&&!qi&&Ov(),i.render(r,t,a||qi&&r<0&&(i._initted||i._startAt)),ka.length&&!qi&&Ov()},hM=function(i){var r=parseFloat(i);return(r||r===0)&&(i+"").match(oM).length<2?r:wi(i)?i.trim():i},fM=function(i){return i},qn=function(i,r){for(var t in r)t in i||(i[t]=r[t]);return i},FB=function(i){return function(r,t){for(var a in t)a in r||a==="duration"&&i||a==="ease"||(r[a]=t[a])}},zl=function(i,r){for(var t in r)i[t]=r[t];return i},K4=function h(i,r){for(var t in r)t!=="__proto__"&&t!=="constructor"&&t!=="prototype"&&(i[t]=Gs(r[t])?h(i[t]||(i[t]={}),r[t]):r[t]);return i},Lv=function(i,r){var t={},a;for(a in i)a in r||(t[a]=i[a]);return t},Wf=function(i){var r=i.parent||zr,t=i.keyframes?FB(Wi(i.keyframes)):qn;if(_n(i.inherit))for(;r;)t(i,r.vars.defaults),r=r.parent||r._dp;return i},BB=function(i,r){for(var t=i.length,a=t===r.length;a&&t--&&i[t]===r[t];);return t<0},pM=function(i,r,t,a,l){t===void 0&&(t="_first"),a===void 0&&(a="_last");var n=i[a],s;if(l)for(s=r[l];n&&n[l]>s;)n=n._prev;return n?(r._next=n._next,n._next=r):(r._next=i[t],i[t]=r),r._next?r._next._prev=r:i[a]=r,r._prev=n,r.parent=r._dp=i,r},Fv=function(i,r,t,a){t===void 0&&(t="_first"),a===void 0&&(a="_last");var l=r._prev,n=r._next;l?l._next=n:i[t]===r&&(i[t]=n),n?n._prev=l:i[a]===r&&(i[a]=l),r._next=r._prev=r.parent=null},Ea=function(i,r){i.parent&&(!r||i.parent.autoRemoveChildren)&&i.parent.remove&&i.parent.remove(i),i._act=0},$l=function(i,r){if(i&&(!r||r._end>i._dur||r._start<0))for(var t=i;t;)t._dirty=1,t=t.parent;return i},NB=function(i){for(var r=i.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return i},eT=function(i,r,t,a){return i._startAt&&(qi?i._startAt.revert(jv):i.vars.immediateRender&&!i.vars.autoRevert||i._startAt.render(r,!0,a))},UB=function h(i){return!i||i._ts&&h(i.parent)},Q4=function(i){return i._repeat?rd(i._tTime,i=i.duration()+i._rDelay)*i:0},rd=function(i,r){var t=Math.floor(i/=r);return i&&t===i?t-1:t},Pv=function(i,r){return(i-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},Bv=function(i){return i._end=Ci(i._start+(i._tDur/Math.abs(i._ts||i._rts||kr)||0))},Nv=function(i,r){var t=i._dp;return t&&t.smoothChildTiming&&i._ts&&(i._start=Ci(t._time-(i._ts>0?r/i._ts:((i._dirty?i.totalDuration():i._tDur)-r)/-i._ts)),Bv(i),t._dirty||$l(t,i)),i},mM=function(i,r){var t;if((r._time||!r._dur&&r._initted||r._start<i._time&&(r._dur||!r.add))&&(t=Pv(i.rawTime(),r),(!r._dur||ep(0,r.totalDuration(),t)-r._tTime>kr)&&r.render(t,!0)),$l(i,r)._dp&&i._initted&&i._time>=i._dur&&i._ts){if(i._dur<i.duration())for(t=i;t._dp;)t.rawTime()>=0&&t.totalTime(t._tTime),t=t._dp;i._zTime=-kr}},$s=function(i,r,t,a){return r.parent&&Ea(r),r._start=Ci((xo(t)?t:t||i!==zr?Gn(i,t,r):i._time)+r._delay),r._end=Ci(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),pM(i,r,"_first","_last",i._sort?"_start":0),tT(r)||(i._recent=r),a||mM(i,r),i._ts<0&&Nv(i,i._tTime),i},yM=function(i,r){return(Ln.ScrollTrigger||Rv("scrollTrigger",r))&&Ln.ScrollTrigger.create(r,i)},gM=function(i,r,t,a,l){if(_T(i,r,l),!i._initted)return 1;if(!t&&i._pt&&!qi&&(i._dur&&i.vars.lazy!==!1||!i._dur&&i.vars.lazy)&&cM!==bn.frame)return ka.push(i),i._lazy=[l,a],1},VB=function h(i){var r=i.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||h(r))},tT=function(i){var r=i.data;return r==="isFromStart"||r==="isStart"},$B=function(i,r,t,a){var l=i.ratio,n=r<0||!r&&(!i._start&&VB(i)&&!(!i._initted&&tT(i))||(i._ts<0||i._dp._ts<0)&&!tT(i))?0:1,s=i._rDelay,o=0,u,m,v;if(s&&i._repeat&&(o=ep(0,i._tDur,r),m=rd(o,s),i._yoyo&&m&1&&(n=1-n),m!==rd(i._tTime,s)&&(l=1-n,i.vars.repeatRefresh&&i._initted&&i.invalidate())),n!==l||qi||a||i._zTime===kr||!r&&i._zTime){if(!i._initted&&gM(i,r,a,t,o))return;for(v=i._zTime,i._zTime=r||(t?kr:0),t||(t=r&&!v),i.ratio=n,i._from&&(n=1-n),i._time=0,i._tTime=o,u=i._pt;u;)u.r(n,u.d),u=u._next;r<0&&eT(i,r,t,!0),i._onUpdate&&!t&&On(i,"onUpdate"),o&&i._repeat&&!t&&i.parent&&On(i,"onRepeat"),(r>=i._tDur||r<0)&&i.ratio===n&&(n&&Ea(i,1),!t&&!qi&&(On(i,n?"onComplete":"onReverseComplete",!0),i._prom&&i._prom()))}else i._zTime||(i._zTime=r)},GB=function(i,r,t){var a;if(t>r)for(a=i._first;a&&a._start<=t;){if(a.data==="isPause"&&a._start>r)return a;a=a._next}else for(a=i._last;a&&a._start>=t;){if(a.data==="isPause"&&a._start<r)return a;a=a._prev}},id=function(i,r,t,a){var l=i._repeat,n=Ci(r)||0,s=i._tTime/i._tDur;return s&&!a&&(i._time*=n/i._dur),i._dur=n,i._tDur=l?l<0?1e10:Ci(n*(l+1)+i._rDelay*l):n,s>0&&!a&&Nv(i,i._tTime=i._tDur*s),i.parent&&Bv(i),t||$l(i.parent,i),i},J4=function(i){return i instanceof Li?$l(i):id(i,i._dur)},HB={_start:0,endTime:Kf,totalDuration:Kf},Gn=function h(i,r,t){var a=i.labels,l=i._recent||HB,n=i.duration()>=Hn?l.endTime(!1):i._dur,s,o,u;return wi(r)&&(isNaN(r)||r in a)?(o=r.charAt(0),u=r.substr(-1)==="%",s=r.indexOf("="),o==="<"||o===">"?(s>=0&&(r=r.replace(/=/,"")),(o==="<"?l._start:l.endTime(l._repeat>=0))+(parseFloat(r.substr(1))||0)*(u?(s<0?l:t).totalDuration()/100:1)):s<0?(r in a||(a[r]=n),a[r]):(o=parseFloat(r.charAt(s-1)+r.substr(s+1)),u&&t&&(o=o/100*(Wi(t)?t[0]:t).totalDuration()),s>1?h(i,r.substr(0,s-1),t)+o:n+o)):r==null?n:+r},Xf=function(i,r,t){var a=xo(r[1]),l=(a?2:1)+(i<2?0:1),n=r[l],s,o;if(a&&(n.duration=r[1]),n.parent=t,i){for(s=n,o=t;o&&!("immediateRender"in s);)s=o.vars.defaults||{},o=_n(o.vars.inherit)&&o.parent;n.immediateRender=_n(s.immediateRender),i<2?n.runBackwards=1:n.startAt=r[l-1]}return new ci(r[0],n,r[l+1])},Ma=function(i,r){return i||i===0?r(i):r},ep=function(i,r,t){return t<i?i:t>r?r:t},Pi=function(i,r){return!wi(i)||!(r=PB.exec(i))?"":r[1]},zB=function(i,r,t){return Ma(t,function(a){return ep(i,r,a)})},rT=[].slice,vM=function(i,r){return i&&Gs(i)&&"length"in i&&(!r&&!i.length||i.length-1 in i&&Gs(i[0]))&&!i.nodeType&&i!==Vs},qB=function(i,r,t){return t===void 0&&(t=[]),i.forEach(function(a){var l;return wi(a)&&!r||vM(a,1)?(l=t).push.apply(l,zn(a)):t.push(a)})||t},zn=function(i,r,t){return Nr&&!r&&Nr.selector?Nr.selector(i):wi(i)&&!t&&(Q6||!nd())?rT.call((r||dT).querySelectorAll(i),0):Wi(i)?qB(i,t):vM(i)?rT.call(i,0):i?[i]:[]},iT=function(i){return i=zn(i)[0]||Zf("Invalid scope")||{},function(r){var t=i.current||i.nativeElement||i;return zn(r,t.querySelectorAll?t:t===i?Zf("Invalid scope")||dT.createElement("div"):i)}},bM=function(i){return i.sort(function(){return .5-Math.random()})},_M=function(i){if(ei(i))return i;var r=Gs(i)?i:{each:i},t=Gl(r.ease),a=r.from||0,l=parseFloat(r.base)||0,n={},s=a>0&&a<1,o=isNaN(a)||s,u=r.axis,m=a,v=a;return wi(a)?m=v={center:.5,edges:.5,end:1}[a]||0:!s&&o&&(m=a[0],v=a[1]),function(c,d,p){var f=(p||r).length,y=n[f],g,_,b,w,T,O,A,E,C;if(!y){if(C=r.grid==="auto"?0:(r.grid||[1,Hn])[1],!C){for(A=-Hn;A<(A=p[C++].getBoundingClientRect().left)&&C<f;);C<f&&C--}for(y=n[f]=[],g=o?Math.min(C,f)*m-.5:a%C,_=C===Hn?0:o?f*v/C-.5:a/C|0,A=0,E=Hn,O=0;O<f;O++)b=O%C-g,w=_-(O/C|0),y[O]=T=u?Math.abs(u==="y"?w:b):nM(b*b+w*w),T>A&&(A=T),T<E&&(E=T);a==="random"&&bM(y),y.max=A-E,y.min=E,y.v=f=(parseFloat(r.amount)||parseFloat(r.each)*(C>f?f-1:u?u==="y"?f/C:C:Math.max(C,f/C))||0)*(a==="edges"?-1:1),y.b=f<0?l-f:l,y.u=Pi(r.amount||r.each)||0,t=t&&f<0?MM(t):t}return f=(y[c]-y.min)/y.max||0,Ci(y.b+(t?t(f):f)*y.v)+y.u}},nT=function(i){var r=Math.pow(10,((i+"").split(".")[1]||"").length);return function(t){var a=Ci(Math.round(parseFloat(t)/i)*i*r);return(a-a%1)/r+(xo(t)?0:Pi(t))}},wM=function(i,r){var t=Wi(i),a,l;return!t&&Gs(i)&&(a=t=i.radius||Hn,i.values?(i=zn(i.values),(l=!xo(i[0]))&&(a*=a)):i=nT(i.increment)),Ma(r,t?ei(i)?function(n){return l=i(n),Math.abs(l-n)<=a?l:n}:function(n){for(var s=parseFloat(l?n.x:n),o=parseFloat(l?n.y:0),u=Hn,m=0,v=i.length,c,d;v--;)l?(c=i[v].x-s,d=i[v].y-o,c=c*c+d*d):c=Math.abs(i[v]-s),c<u&&(u=c,m=v);return m=!a||u<=a?i[m]:n,l||m===n||xo(n)?m:m+Pi(n)}:nT(i))},xM=function(i,r,t,a){return Ma(Wi(i)?!r:t===!0?!!(t=0):!a,function(){return Wi(i)?i[~~(Math.random()*i.length)]:(t=t||1e-5)&&(a=t<1?Math.pow(10,(t+"").length-2):1)&&Math.floor(Math.round((i-t/2+Math.random()*(r-i+t*.99))/t)*t*a)/a})},WB=function(){for(var i=arguments.length,r=new Array(i),t=0;t<i;t++)r[t]=arguments[t];return function(a){return r.reduce(function(l,n){return n(l)},a)}},XB=function(i,r){return function(t){return i(parseFloat(t))+(r||Pi(t))}},YB=function(i,r,t){return TM(i,r,0,1,t)},SM=function(i,r,t){return Ma(t,function(a){return i[~~r(a)]})},ZB=function h(i,r,t){var a=r-i;return Wi(i)?SM(i,h(0,i.length),r):Ma(t,function(l){return(a+(l-i)%a)%a+i})},KB=function h(i,r,t){var a=r-i,l=a*2;return Wi(i)?SM(i,h(0,i.length-1),r):Ma(t,function(n){return n=(l+(n-i)%l)%l||0,i+(n>a?l-n:n)})},sd=function(i){for(var r=0,t="",a,l,n,s;~(a=i.indexOf("random(",r));)n=i.indexOf(")",a),s=i.charAt(a+7)==="[",l=i.substr(a+7,n-a-7).match(s?oM:K6),t+=i.substr(r,a-r)+xM(s?l:+l[0],s?0:+l[1],+l[2]||1e-5),r=n+1;return t+i.substr(r,i.length-r)},TM=function(i,r,t,a,l){var n=r-i,s=a-t;return Ma(l,function(o){return t+((o-i)/n*s||0)})},QB=function h(i,r,t,a){var l=isNaN(i+r)?0:function(d){return(1-d)*i+d*r};if(!l){var n=wi(i),s={},o,u,m,v,c;if(t===!0&&(a=1)&&(t=null),n)i={p:i},r={p:r};else if(Wi(i)&&!Wi(r)){for(m=[],v=i.length,c=v-2,u=1;u<v;u++)m.push(h(i[u-1],i[u]));v--,l=function(p){p*=v;var f=Math.min(c,~~p);return m[f](p-f)},t=r}else a||(i=zl(Wi(i)?[]:{},i));if(!m){for(o in r)vT.call(s,i,o,"get",r[o]);l=function(p){return ST(p,s)||(n?i.p:i)}}}return Ma(t,l)},eM=function(i,r,t){var a=i.labels,l=Hn,n,s,o;for(n in a)s=a[n]-r,s<0==!!t&&s&&l>(s=Math.abs(s))&&(o=n,l=s);return o},On=function(i,r,t){var a=i.vars,l=a[r],n=Nr,s=i._ctx,o,u,m;if(l)return o=a[r+"Params"],u=a.callbackScope||i,t&&ka.length&&Ov(),s&&(Nr=s),m=o?l.apply(u,o):l.call(u),Nr=n,m},zf=function(i){return Ea(i),i.scrollTrigger&&i.scrollTrigger.kill(!!qi),i.progress()<1&&On(i,"onInterrupt"),i},ed,CM=[],kM=function(i){if(i)if(i=!i.name&&i.default||i,lT()||i.headless){var r=i.name,t=ei(i),a=r&&!t&&i.init?function(){this._props=[]}:i,l={init:Kf,render:ST,add:vT,kill:pN,modifier:fN,rawVars:0},n={targetTest:0,get:0,getSetter:Uv,aliases:{},register:0};if(nd(),i!==a){if(vn[r])return;qn(a,qn(Lv(i,l),n)),zl(a.prototype,zl(l,Lv(i,n))),vn[a.prop=r]=a,i.targetTest&&(Ev.push(a),hT[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}uM(r,a),i.register&&i.register(Xi,a,rn)}else CM.push(i)},wr=255,qf={aqua:[0,wr,wr],lime:[0,wr,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,wr],navy:[0,0,128],white:[wr,wr,wr],olive:[128,128,0],yellow:[wr,wr,0],orange:[wr,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[wr,0,0],pink:[wr,192,203],cyan:[0,wr,wr],transparent:[wr,wr,wr,0]},z6=function(i,r,t){return i+=i<0?1:i>1?-1:0,(i*6<1?r+(t-r)*i*6:i<.5?t:i*3<2?r+(t-r)*(2/3-i)*6:r)*wr+.5|0},jM=function(i,r,t){var a=i?xo(i)?[i>>16,i>>8&wr,i&wr]:0:qf.black,l,n,s,o,u,m,v,c,d,p;if(!a){if(i.substr(-1)===","&&(i=i.substr(0,i.length-1)),qf[i])a=qf[i];else if(i.charAt(0)==="#"){if(i.length<6&&(l=i.charAt(1),n=i.charAt(2),s=i.charAt(3),i="#"+l+l+n+n+s+s+(i.length===5?i.charAt(4)+i.charAt(4):"")),i.length===9)return a=parseInt(i.substr(1,6),16),[a>>16,a>>8&wr,a&wr,parseInt(i.substr(7),16)/255];i=parseInt(i.substr(1),16),a=[i>>16,i>>8&wr,i&wr]}else if(i.substr(0,3)==="hsl"){if(a=p=i.match(K6),!r)o=+a[0]%360/360,u=+a[1]/100,m=+a[2]/100,n=m<=.5?m*(u+1):m+u-m*u,l=m*2-n,a.length>3&&(a[3]*=1),a[0]=z6(o+1/3,l,n),a[1]=z6(o,l,n),a[2]=z6(o-1/3,l,n);else if(~i.indexOf("="))return a=i.match(uT),t&&a.length<4&&(a[3]=1),a}else a=i.match(K6)||qf.transparent;a=a.map(Number)}return r&&!p&&(l=a[0]/wr,n=a[1]/wr,s=a[2]/wr,v=Math.max(l,n,s),c=Math.min(l,n,s),m=(v+c)/2,v===c?o=u=0:(d=v-c,u=m>.5?d/(2-v-c):d/(v+c),o=v===l?(n-s)/d+(n<s?6:0):v===n?(s-l)/d+2:(l-n)/d+4,o*=60),a[0]=~~(o+.5),a[1]=~~(u*100+.5),a[2]=~~(m*100+.5)),t&&a.length<4&&(a[3]=1),a},EM=function(i){var r=[],t=[],a=-1;return i.split(wo).forEach(function(l){var n=l.match(ql)||[];r.push.apply(r,n),t.push(a+=n.length+1)}),r.c=t,r},tM=function(i,r,t){var a="",l=(i+a).match(wo),n=r?"hsla(":"rgba(",s=0,o,u,m,v;if(!l)return i;if(l=l.map(function(c){return(c=jM(c,r,1))&&n+(r?c[0]+","+c[1]+"%,"+c[2]+"%,"+c[3]:c.join(","))+")"}),t&&(m=EM(i),o=t.c,o.join(a)!==m.c.join(a)))for(u=i.replace(wo,"1").split(ql),v=u.length-1;s<v;s++)a+=u[s]+(~o.indexOf(s)?l.shift()||n+"0,0,0,0)":(m.length?m:l.length?l:t).shift());if(!u)for(u=i.split(wo),v=u.length-1;s<v;s++)a+=u[s]+l[s];return a+u[v]},wo=function(){var h="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",i;for(i in qf)h+="|"+i+"\\b";return new RegExp(h+")","gi")}(),JB=/hsl[a]?\(/,yT=function(i){var r=i.join(" "),t;if(wo.lastIndex=0,wo.test(r))return t=JB.test(r),i[1]=tM(i[1],t),i[0]=tM(i[0],t,EM(i[1])),!0},Qf,bn=function(){var h=Date.now,i=500,r=33,t=h(),a=t,l=1e3/240,n=l,s=[],o,u,m,v,c,d,p=function f(y){var g=h()-a,_=y===!0,b,w,T,O;if((g>i||g<0)&&(t+=g-r),a+=g,T=a-t,b=T-n,(b>0||_)&&(O=++v.frame,c=T-v.time*1e3,v.time=T=T/1e3,n+=b+(b>=l?4:l-b),w=1),_||(o=u(f)),w)for(d=0;d<s.length;d++)s[d](T,c,O,y)};return v={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(y){return c/(1e3/(y||60))},wake:function(){aM&&(!Q6&&lT()&&(Vs=Q6=window,dT=Vs.document||{},Ln.gsap=Xi,(Vs.gsapVersions||(Vs.gsapVersions=[])).push(Xi.version),lM(Av||Vs.GreenSockGlobals||!Vs.gsap&&Vs||{}),CM.forEach(kM)),m=typeof requestAnimationFrame<"u"&&requestAnimationFrame,o&&v.sleep(),u=m||function(y){return setTimeout(y,n-v.time*1e3+1|0)},Qf=1,p(2))},sleep:function(){(m?cancelAnimationFrame:clearTimeout)(o),Qf=0,u=Kf},lagSmoothing:function(y,g){i=y||1/0,r=Math.min(g||33,i)},fps:function(y){l=1e3/(y||240),n=v.time*1e3+l},add:function(y,g,_){var b=g?function(w,T,O,A){y(w,T,O,A),v.remove(b)}:y;return v.remove(y),s[_?"unshift":"push"](b),nd(),b},remove:function(y,g){~(g=s.indexOf(y))&&s.splice(g,1)&&d>=g&&d--},_listeners:s},v}(),nd=function(){return!Qf&&bn.wake()},Xt={},eN=/^[\d.\-M][\d.\-,\s]/,tN=/["']/g,rN=function(i){for(var r={},t=i.substr(1,i.length-3).split(":"),a=t[0],l=1,n=t.length,s,o,u;l<n;l++)o=t[l],s=l!==n-1?o.lastIndexOf(","):o.length,u=o.substr(0,s),r[a]=isNaN(u)?u.replace(tN,"").trim():+u,a=o.substr(s+1).trim();return r},iN=function(i){var r=i.indexOf("(")+1,t=i.indexOf(")"),a=i.indexOf("(",r);return i.substring(r,~a&&a<t?i.indexOf(")",t+1):t)},nN=function(i){var r=(i+"").split("("),t=Xt[r[0]];return t&&r.length>1&&t.config?t.config.apply(null,~i.indexOf("{")?[rN(r[1])]:iN(i).split(",").map(hM)):Xt._CE&&eN.test(i)?Xt._CE("",i):t},MM=function(i){return function(r){return 1-i(1-r)}},AM=function h(i,r){for(var t=i._first,a;t;)t instanceof Li?h(t,r):t.vars.yoyoEase&&(!t._yoyo||!t._repeat)&&t._yoyo!==r&&(t.timeline?h(t.timeline,r):(a=t._ease,t._ease=t._yEase,t._yEase=a,t._yoyo=r)),t=t._next},Gl=function(i,r){return i&&(ei(i)?i:Xt[i]||nN(i))||r},Xl=function(i,r,t,a){t===void 0&&(t=function(o){return 1-r(1-o)}),a===void 0&&(a=function(o){return o<.5?r(o*2)/2:1-r((1-o)*2)/2});var l={easeIn:r,easeOut:t,easeInOut:a},n;return tn(i,function(s){Xt[s]=Ln[s]=l,Xt[n=s.toLowerCase()]=t;for(var o in l)Xt[n+(o==="easeIn"?".in":o==="easeOut"?".out":".inOut")]=Xt[s+"."+o]=l[o]}),l},OM=function(i){return function(r){return r<.5?(1-i(1-r*2))/2:.5+i((r-.5)*2)/2}},q6=function h(i,r,t){var a=r>=1?r:1,l=(t||(i?.3:.45))/(r<1?r:1),n=l/Z6*(Math.asin(1/a)||0),s=function(m){return m===1?1:a*Math.pow(2,-10*m)*LB((m-n)*l)+1},o=i==="out"?s:i==="in"?function(u){return 1-s(1-u)}:OM(s);return l=Z6/l,o.config=function(u,m){return h(i,u,m)},o},W6=function h(i,r){r===void 0&&(r=1.70158);var t=function(n){return n?--n*n*((r+1)*n+r)+1:0},a=i==="out"?t:i==="in"?function(l){return 1-t(1-l)}:OM(t);return a.config=function(l){return h(i,l)},a};tn("Linear,Quad,Cubic,Quart,Quint,Strong",function(h,i){var r=i<5?i+1:i;Xl(h+",Power"+(r-1),i?function(t){return Math.pow(t,r)}:function(t){return t},function(t){return 1-Math.pow(1-t,r)},function(t){return t<.5?Math.pow(t*2,r)/2:1-Math.pow((1-t)*2,r)/2})});Xt.Linear.easeNone=Xt.none=Xt.Linear.easeIn;Xl("Elastic",q6("in"),q6("out"),q6());(function(h,i){var r=1/i,t=2*r,a=2.5*r,l=function(s){return s<r?h*s*s:s<t?h*Math.pow(s-1.5/i,2)+.75:s<a?h*(s-=2.25/i)*s+.9375:h*Math.pow(s-2.625/i,2)+.984375};Xl("Bounce",function(n){return 1-l(1-n)},l)})(7.5625,2.75);Xl("Expo",function(h){return h?Math.pow(2,10*(h-1)):0});Xl("Circ",function(h){return-(nM(1-h*h)-1)});Xl("Sine",function(h){return h===1?1:-OB(h*MB)+1});Xl("Back",W6("in"),W6("out"),W6());Xt.SteppedEase=Xt.steps=Ln.SteppedEase={config:function(i,r){i===void 0&&(i=1);var t=1/i,a=i+(r?0:1),l=r?1:0,n=1-kr;return function(s){return((a*ep(0,n,s)|0)+l)*t}}};td.ease=Xt["quad.out"];tn("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(h){return fT+=h+","+h+"Params,"});var gT=function(i,r){this.id=AB++,i._gsap=this,this.target=i,this.harness=r,this.get=r?r.get:mT,this.set=r?r.getSetter:Uv},Jf=function(){function h(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,id(this,+r.duration,1,1),this.data=r.data,Nr&&(this._ctx=Nr,Nr.data.push(this)),Qf||bn.wake()}var i=h.prototype;return i.delay=function(t){return t||t===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},i.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},i.totalDuration=function(t){return arguments.length?(this._dirty=0,id(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},i.totalTime=function(t,a){if(nd(),!arguments.length)return this._tTime;var l=this._dp;if(l&&l.smoothChildTiming&&this._ts){for(Nv(this,t),!l._dp||l.parent||mM(l,this);l&&l.parent;)l.parent._time!==l._start+(l._ts>=0?l._tTime/l._ts:(l.totalDuration()-l._tTime)/-l._ts)&&l.totalTime(l._tTime,!0),l=l.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&$s(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!a||this._initted&&Math.abs(this._zTime)===kr||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),dM(this,t,a)),this},i.time=function(t,a){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+Q4(this))%(this._dur+this._rDelay)||(t?this._dur:0),a):this._time},i.totalProgress=function(t,a){return arguments.length?this.totalTime(this.totalDuration()*t,a):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},i.progress=function(t,a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-t:t)+Q4(this),a):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},i.iteration=function(t,a){var l=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*l,a):this._repeat?rd(this._tTime,l)+1:1},i.timeScale=function(t,a){if(!arguments.length)return this._rts===-kr?0:this._rts;if(this._rts===t)return this;var l=this.parent&&this._ts?Pv(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||t===-kr?0:this._rts,this.totalTime(ep(-Math.abs(this._delay),this._tDur,l),a!==!1),Bv(this),NB(this)},i.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(nd(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==kr&&(this._tTime-=kr)))),this):this._ps},i.startTime=function(t){if(arguments.length){this._start=t;var a=this.parent||this._dp;return a&&(a._sort||!this.parent)&&$s(a,this,t-this._delay),this}return this._start},i.endTime=function(t){return this._start+(_n(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},i.rawTime=function(t){var a=this.parent||this._dp;return a?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Pv(a.rawTime(t),this):this._tTime:this._tTime},i.revert=function(t){t===void 0&&(t=IB);var a=qi;return qi=t,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),this.data!=="nested"&&t.kill!==!1&&this.kill(),qi=a,this},i.globalTime=function(t){for(var a=this,l=arguments.length?t:a.rawTime();a;)l=a._start+l/(Math.abs(a._ts)||1),a=a._dp;return!this.parent&&this._sat?this._sat.globalTime(t):l},i.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,J4(this)):this._repeat===-2?1/0:this._repeat},i.repeatDelay=function(t){if(arguments.length){var a=this._time;return this._rDelay=t,J4(this),a?this.time(a):this}return this._rDelay},i.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},i.seek=function(t,a){return this.totalTime(Gn(this,t),_n(a))},i.restart=function(t,a){return this.play().totalTime(t?-this._delay:0,_n(a))},i.play=function(t,a){return t!=null&&this.seek(t,a),this.reversed(!1).paused(!1)},i.reverse=function(t,a){return t!=null&&this.seek(t||this.totalDuration(),a),this.reversed(!0).paused(!1)},i.pause=function(t,a){return t!=null&&this.seek(t,a),this.paused(!0)},i.resume=function(){return this.paused(!1)},i.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-kr:0)),this):this._rts<0},i.invalidate=function(){return this._initted=this._act=0,this._zTime=-kr,this},i.isActive=function(){var t=this.parent||this._dp,a=this._start,l;return!!(!t||this._ts&&this._initted&&t.isActive()&&(l=t.rawTime(!0))>=a&&l<this.endTime(!0)-kr)},i.eventCallback=function(t,a,l){var n=this.vars;return arguments.length>1?(a?(n[t]=a,l&&(n[t+"Params"]=l),t==="onUpdate"&&(this._onUpdate=a)):delete n[t],this):n[t]},i.then=function(t){var a=this;return new Promise(function(l){var n=ei(t)?t:fM,s=function(){var u=a.then;a.then=null,ei(n)&&(n=n(a))&&(n.then||n===a)&&(a.then=u),l(n),a.then=u};a._initted&&a.totalProgress()===1&&a._ts>=0||!a._tTime&&a._ts<0?s():a._prom=s})},i.kill=function(){zf(this)},h}();qn(Jf.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-kr,_prom:0,_ps:!1,_rts:1});var Li=function(h){iM(i,h);function i(t,a){var l;return t===void 0&&(t={}),l=h.call(this,t)||this,l.labels={},l.smoothChildTiming=!!t.smoothChildTiming,l.autoRemoveChildren=!!t.autoRemoveChildren,l._sort=_n(t.sortChildren),zr&&$s(t.parent||zr,_o(l),a),t.reversed&&l.reverse(),t.paused&&l.paused(!0),t.scrollTrigger&&yM(_o(l),t.scrollTrigger),l}var r=i.prototype;return r.to=function(a,l,n){return Xf(0,arguments,this),this},r.from=function(a,l,n){return Xf(1,arguments,this),this},r.fromTo=function(a,l,n,s){return Xf(2,arguments,this),this},r.set=function(a,l,n){return l.duration=0,l.parent=this,Wf(l).repeatDelay||(l.repeat=0),l.immediateRender=!!l.immediateRender,new ci(a,l,Gn(this,n),1),this},r.call=function(a,l,n){return $s(this,ci.delayedCall(0,a,l),n)},r.staggerTo=function(a,l,n,s,o,u,m){return n.duration=l,n.stagger=n.stagger||s,n.onComplete=u,n.onCompleteParams=m,n.parent=this,new ci(a,n,Gn(this,o)),this},r.staggerFrom=function(a,l,n,s,o,u,m){return n.runBackwards=1,Wf(n).immediateRender=_n(n.immediateRender),this.staggerTo(a,l,n,s,o,u,m)},r.staggerFromTo=function(a,l,n,s,o,u,m,v){return s.startAt=n,Wf(s).immediateRender=_n(s.immediateRender),this.staggerTo(a,l,s,o,u,m,v)},r.render=function(a,l,n){var s=this._time,o=this._dirty?this.totalDuration():this._tDur,u=this._dur,m=a<=0?0:Ci(a),v=this._zTime<0!=a<0&&(this._initted||!u),c,d,p,f,y,g,_,b,w,T,O,A;if(this!==zr&&m>o&&a>=0&&(m=o),m!==this._tTime||n||v){if(s!==this._time&&u&&(m+=this._time-s,a+=this._time-s),c=m,w=this._start,b=this._ts,g=!b,v&&(u||(s=this._zTime),(a||!l)&&(this._zTime=a)),this._repeat){if(O=this._yoyo,y=u+this._rDelay,this._repeat<-1&&a<0)return this.totalTime(y*100+a,l,n);if(c=Ci(m%y),m===o?(f=this._repeat,c=u):(f=~~(m/y),f&&f===m/y&&(c=u,f--),c>u&&(c=u)),T=rd(this._tTime,y),!s&&this._tTime&&T!==f&&this._tTime-T*y-this._dur<=0&&(T=f),O&&f&1&&(c=u-c,A=1),f!==T&&!this._lock){var E=O&&T&1,C=E===(O&&f&1);if(f<T&&(E=!E),s=E?0:m%u?u:m,this._lock=1,this.render(s||(A?0:Ci(f*y)),l,!u)._lock=0,this._tTime=m,!l&&this.parent&&On(this,"onRepeat"),this.vars.repeatRefresh&&!A&&(this.invalidate()._lock=1),s&&s!==this._time||g!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,o=this._tDur,C&&(this._lock=2,s=E?u:-1e-4,this.render(s,!0),this.vars.repeatRefresh&&!A&&this.invalidate()),this._lock=0,!this._ts&&!g)return this;AM(this,A)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(_=GB(this,Ci(s),Ci(c)),_&&(m-=c-(c=_._start))),this._tTime=m,this._time=c,this._act=!b,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=a,s=0),!s&&c&&!l&&!f&&(On(this,"onStart"),this._tTime!==m))return this;if(c>=s&&a>=0)for(d=this._first;d;){if(p=d._next,(d._act||c>=d._start)&&d._ts&&_!==d){if(d.parent!==this)return this.render(a,l,n);if(d.render(d._ts>0?(c-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(c-d._start)*d._ts,l,n),c!==this._time||!this._ts&&!g){_=0,p&&(m+=this._zTime=-kr);break}}d=p}else{d=this._last;for(var I=a<0?a:c;d;){if(p=d._prev,(d._act||I<=d._end)&&d._ts&&_!==d){if(d.parent!==this)return this.render(a,l,n);if(d.render(d._ts>0?(I-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(I-d._start)*d._ts,l,n||qi&&(d._initted||d._startAt)),c!==this._time||!this._ts&&!g){_=0,p&&(m+=this._zTime=I?-kr:kr);break}}d=p}}if(_&&!l&&(this.pause(),_.render(c>=s?0:-kr)._zTime=c>=s?1:-1,this._ts))return this._start=w,Bv(this),this.render(a,l,n);this._onUpdate&&!l&&On(this,"onUpdate",!0),(m===o&&this._tTime>=this.totalDuration()||!m&&s)&&(w===this._start||Math.abs(b)!==Math.abs(this._ts))&&(this._lock||((a||!u)&&(m===o&&this._ts>0||!m&&this._ts<0)&&Ea(this,1),!l&&!(a<0&&!s)&&(m||s||!o)&&(On(this,m===o&&a>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(m<o&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(a,l){var n=this;if(xo(l)||(l=Gn(this,l,a)),!(a instanceof Jf)){if(Wi(a))return a.forEach(function(s){return n.add(s,l)}),this;if(wi(a))return this.addLabel(a,l);if(ei(a))a=ci.delayedCall(0,a);else return this}return this!==a?$s(this,a,l):this},r.getChildren=function(a,l,n,s){a===void 0&&(a=!0),l===void 0&&(l=!0),n===void 0&&(n=!0),s===void 0&&(s=-Hn);for(var o=[],u=this._first;u;)u._start>=s&&(u instanceof ci?l&&o.push(u):(n&&o.push(u),a&&o.push.apply(o,u.getChildren(!0,l,n)))),u=u._next;return o},r.getById=function(a){for(var l=this.getChildren(1,1,1),n=l.length;n--;)if(l[n].vars.id===a)return l[n]},r.remove=function(a){return wi(a)?this.removeLabel(a):ei(a)?this.killTweensOf(a):(Fv(this,a),a===this._recent&&(this._recent=this._last),$l(this))},r.totalTime=function(a,l){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ci(bn.time-(this._ts>0?a/this._ts:(this.totalDuration()-a)/-this._ts))),h.prototype.totalTime.call(this,a,l),this._forcing=0,this):this._tTime},r.addLabel=function(a,l){return this.labels[a]=Gn(this,l),this},r.removeLabel=function(a){return delete this.labels[a],this},r.addPause=function(a,l,n){var s=ci.delayedCall(0,l||Kf,n);return s.data="isPause",this._hasPause=1,$s(this,s,Gn(this,a))},r.removePause=function(a){var l=this._first;for(a=Gn(this,a);l;)l._start===a&&l.data==="isPause"&&Ea(l),l=l._next},r.killTweensOf=function(a,l,n){for(var s=this.getTweensOf(a,n),o=s.length;o--;)Ca!==s[o]&&s[o].kill(a,l);return this},r.getTweensOf=function(a,l){for(var n=[],s=zn(a),o=this._first,u=xo(l),m;o;)o instanceof ci?RB(o._targets,s)&&(u?(!Ca||o._initted&&o._ts)&&o.globalTime(0)<=l&&o.globalTime(o.totalDuration())>l:!l||o.isActive())&&n.push(o):(m=o.getTweensOf(s,l)).length&&n.push.apply(n,m),o=o._next;return n},r.tweenTo=function(a,l){l=l||{};var n=this,s=Gn(n,a),o=l,u=o.startAt,m=o.onStart,v=o.onStartParams,c=o.immediateRender,d,p=ci.to(n,qn({ease:l.ease||"none",lazy:!1,immediateRender:!1,time:s,overwrite:"auto",duration:l.duration||Math.abs((s-(u&&"time"in u?u.time:n._time))/n.timeScale())||kr,onStart:function(){if(n.pause(),!d){var y=l.duration||Math.abs((s-(u&&"time"in u?u.time:n._time))/n.timeScale());p._dur!==y&&id(p,y,0,1).render(p._time,!0,!0),d=1}m&&m.apply(p,v||[])}},l));return c?p.render(0):p},r.tweenFromTo=function(a,l,n){return this.tweenTo(l,qn({startAt:{time:Gn(this,a)}},n))},r.recent=function(){return this._recent},r.nextLabel=function(a){return a===void 0&&(a=this._time),eM(this,Gn(this,a))},r.previousLabel=function(a){return a===void 0&&(a=this._time),eM(this,Gn(this,a),1)},r.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.previousLabel(this._time+kr)},r.shiftChildren=function(a,l,n){n===void 0&&(n=0);for(var s=this._first,o=this.labels,u;s;)s._start>=n&&(s._start+=a,s._end+=a),s=s._next;if(l)for(u in o)o[u]>=n&&(o[u]+=a);return $l(this)},r.invalidate=function(a){var l=this._first;for(this._lock=0;l;)l.invalidate(a),l=l._next;return h.prototype.invalidate.call(this,a)},r.clear=function(a){a===void 0&&(a=!0);for(var l=this._first,n;l;)n=l._next,this.remove(l),l=n;return this._dp&&(this._time=this._tTime=this._pTime=0),a&&(this.labels={}),$l(this)},r.totalDuration=function(a){var l=0,n=this,s=n._last,o=Hn,u,m,v;if(arguments.length)return n.timeScale((n._repeat<0?n.duration():n.totalDuration())/(n.reversed()?-a:a));if(n._dirty){for(v=n.parent;s;)u=s._prev,s._dirty&&s.totalDuration(),m=s._start,m>o&&n._sort&&s._ts&&!n._lock?(n._lock=1,$s(n,s,m-s._delay,1)._lock=0):o=m,m<0&&s._ts&&(l-=m,(!v&&!n._dp||v&&v.smoothChildTiming)&&(n._start+=m/n._ts,n._time-=m,n._tTime-=m),n.shiftChildren(-m,!1,-1/0),o=0),s._end>l&&s._ts&&(l=s._end),s=u;id(n,n===zr&&n._time>l?n._time:l,1,1),n._dirty=0}return n._tDur},i.updateRoot=function(a){if(zr._ts&&(dM(zr,Pv(a,zr)),cM=bn.frame),bn.frame>=Z4){Z4+=wn.autoSleep||120;var l=zr._first;if((!l||!l._ts)&&wn.autoSleep&&bn._listeners.length<2){for(;l&&!l._ts;)l=l._next;l||bn.sleep()}}},i}(Jf);qn(Li.prototype,{_lock:0,_hasPause:0,_forcing:0});var sN=function(i,r,t,a,l,n,s){var o=new rn(this._pt,i,r,0,1,xT,null,l),u=0,m=0,v,c,d,p,f,y,g,_;for(o.b=t,o.e=a,t+="",a+="",(g=~a.indexOf("random("))&&(a=sd(a)),n&&(_=[t,a],n(_,i,r),t=_[0],a=_[1]),c=t.match(G6)||[];v=G6.exec(a);)p=v[0],f=a.substring(u,v.index),d?d=(d+1)%5:f.substr(-5)==="rgba("&&(d=1),p!==c[m++]&&(y=parseFloat(c[m-1])||0,o._pt={_next:o._pt,p:f||m===1?f:",",s:y,c:p.charAt(1)==="="?Wl(y,p)-y:parseFloat(p)-y,m:d&&d<4?Math.round:0},u=G6.lastIndex);return o.c=u<a.length?a.substring(u,a.length):"",o.fp=s,(cT.test(a)||g)&&(o.e=0),this._pt=o,o},vT=function(i,r,t,a,l,n,s,o,u,m){ei(a)&&(a=a(l||0,i,n));var v=i[r],c=t!=="get"?t:ei(v)?u?i[r.indexOf("set")||!ei(i["get"+r.substr(3)])?r:"get"+r.substr(3)](u):i[r]():v,d=ei(v)?u?cN:DM:wT,p;if(wi(a)&&(~a.indexOf("random(")&&(a=sd(a)),a.charAt(1)==="="&&(p=Wl(c,a)+(Pi(c)||0),(p||p===0)&&(a=p))),!m||c!==a||sT)return!isNaN(c*a)&&a!==""?(p=new rn(this._pt,i,r,+c||0,a-(c||0),typeof v=="boolean"?hN:IM,0,d),u&&(p.fp=u),s&&p.modifier(s,this,i),this._pt=p):(!v&&!(r in i)&&Rv(r,a),sN.call(this,i,r,c,a,d,o||wn.stringFilter,u))},oN=function(i,r,t,a,l){if(ei(i)&&(i=Yf(i,l,r,t,a)),!Gs(i)||i.style&&i.nodeType||Wi(i)||sM(i))return wi(i)?Yf(i,l,r,t,a):i;var n={},s;for(s in i)n[s]=Yf(i[s],l,r,t,a);return n},bT=function(i,r,t,a,l,n){var s,o,u,m;if(vn[i]&&(s=new vn[i]).init(l,s.rawVars?r[i]:oN(r[i],a,l,n,t),t,a,n)!==!1&&(t._pt=o=new rn(t._pt,l,i,0,1,s.render,s,0,s.priority),t!==ed))for(u=t._ptLookup[t._targets.indexOf(l)],m=s._props.length;m--;)u[s._props[m]]=o;return s},Ca,sT,_T=function h(i,r,t){var a=i.vars,l=a.ease,n=a.startAt,s=a.immediateRender,o=a.lazy,u=a.onUpdate,m=a.runBackwards,v=a.yoyoEase,c=a.keyframes,d=a.autoRevert,p=i._dur,f=i._startAt,y=i._targets,g=i.parent,_=g&&g.data==="nested"?g.vars.targets:y,b=i._overwrite==="auto"&&!aT,w=i.timeline,T,O,A,E,C,I,L,R,D,H,z,B,J;if(w&&(!c||!l)&&(l="none"),i._ease=Gl(l,td.ease),i._yEase=v?MM(Gl(v===!0?l:v,td.ease)):0,v&&i._yoyo&&!i._repeat&&(v=i._yEase,i._yEase=i._ease,i._ease=v),i._from=!w&&!!a.runBackwards,!w||c&&!a.stagger){if(R=y[0]?ja(y[0]).harness:0,B=R&&a[R.prop],T=Lv(a,hT),f&&(f._zTime<0&&f.progress(1),r<0&&m&&s&&!d?f.render(-1,!0):f.revert(m&&p?jv:DB),f._lazy=0),n){if(Ea(i._startAt=ci.set(y,qn({data:"isStart",overwrite:!1,parent:g,immediateRender:!0,lazy:!f&&_n(o),startAt:null,delay:0,onUpdate:u&&function(){return On(i,"onUpdate")},stagger:0},n))),i._startAt._dp=0,i._startAt._sat=i,r<0&&(qi||!s&&!d)&&i._startAt.revert(jv),s&&p&&r<=0&&t<=0){r&&(i._zTime=r);return}}else if(m&&p&&!f){if(r&&(s=!1),A=qn({overwrite:!1,data:"isFromStart",lazy:s&&!f&&_n(o),immediateRender:s,stagger:0,parent:g},T),B&&(A[R.prop]=B),Ea(i._startAt=ci.set(y,A)),i._startAt._dp=0,i._startAt._sat=i,r<0&&(qi?i._startAt.revert(jv):i._startAt.render(-1,!0)),i._zTime=r,!s)h(i._startAt,kr,kr);else if(!r)return}for(i._pt=i._ptCache=0,o=p&&_n(o)||o&&!p,O=0;O<y.length;O++){if(C=y[O],L=C._gsap||pT(y)[O]._gsap,i._ptLookup[O]=H={},J6[L.id]&&ka.length&&Ov(),z=_===y?O:_.indexOf(C),R&&(D=new R).init(C,B||T,i,z,_)!==!1&&(i._pt=E=new rn(i._pt,C,D.name,0,1,D.render,D,0,D.priority),D._props.forEach(function(ee){H[ee]=E}),D.priority&&(I=1)),!R||B)for(A in T)vn[A]&&(D=bT(A,T,i,z,C,_))?D.priority&&(I=1):H[A]=E=vT.call(i,C,A,"get",T[A],z,_,0,a.stringFilter);i._op&&i._op[O]&&i.kill(C,i._op[O]),b&&i._pt&&(Ca=i,zr.killTweensOf(C,H,i.globalTime(r)),J=!i.parent,Ca=0),i._pt&&o&&(J6[L.id]=1)}I&&TT(i),i._onInit&&i._onInit(i)}i._onUpdate=u,i._initted=(!i._op||i._pt)&&!J,c&&r<=0&&w.render(Hn,!0,!0)},aN=function(i,r,t,a,l,n,s,o){var u=(i._pt&&i._ptCache||(i._ptCache={}))[r],m,v,c,d;if(!u)for(u=i._ptCache[r]=[],c=i._ptLookup,d=i._targets.length;d--;){if(m=c[d][r],m&&m.d&&m.d._pt)for(m=m.d._pt;m&&m.p!==r&&m.fp!==r;)m=m._next;if(!m)return sT=1,i.vars[r]="+=0",_T(i,s),sT=0,o?Zf(r+" not eligible for reset"):1;u.push(m)}for(d=u.length;d--;)v=u[d],m=v._pt||v,m.s=(a||a===0)&&!l?a:m.s+(a||0)+n*m.c,m.c=t-m.s,v.e&&(v.e=ti(t)+Pi(v.e)),v.b&&(v.b=m.s+Pi(v.b))},lN=function(i,r){var t=i[0]?ja(i[0]).harness:0,a=t&&t.aliases,l,n,s,o;if(!a)return r;l=zl({},r);for(n in a)if(n in l)for(o=a[n].split(","),s=o.length;s--;)l[o[s]]=l[n];return l},uN=function(i,r,t,a){var l=r.ease||a||"power1.inOut",n,s;if(Wi(r))s=t[i]||(t[i]=[]),r.forEach(function(o,u){return s.push({t:u/(r.length-1)*100,v:o,e:l})});else for(n in r)s=t[n]||(t[n]=[]),n==="ease"||s.push({t:parseFloat(i),v:r[n],e:l})},Yf=function(i,r,t,a,l){return ei(i)?i.call(r,t,a,l):wi(i)&&~i.indexOf("random(")?sd(i):i},LM=fT+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",PM={};tn(LM+",id,stagger,delay,duration,paused,scrollTrigger",function(h){return PM[h]=1});var ci=function(h){iM(i,h);function i(t,a,l,n){var s;typeof a=="number"&&(l.duration=a,a=l,l=null),s=h.call(this,n?a:Wf(a))||this;var o=s.vars,u=o.duration,m=o.delay,v=o.immediateRender,c=o.stagger,d=o.overwrite,p=o.keyframes,f=o.defaults,y=o.scrollTrigger,g=o.yoyoEase,_=a.parent||zr,b=(Wi(t)||sM(t)?xo(t[0]):"length"in a)?[t]:zn(t),w,T,O,A,E,C,I,L;if(s._targets=b.length?pT(b):Zf("GSAP target "+t+" not found. https://gsap.com",!wn.nullTargetWarn)||[],s._ptLookup=[],s._overwrite=d,p||c||kv(u)||kv(m)){if(a=s.vars,w=s.timeline=new Li({data:"nested",defaults:f||{},targets:_&&_.data==="nested"?_.vars.targets:b}),w.kill(),w.parent=w._dp=_o(s),w._start=0,c||kv(u)||kv(m)){if(A=b.length,I=c&&_M(c),Gs(c))for(E in c)~LM.indexOf(E)&&(L||(L={}),L[E]=c[E]);for(T=0;T<A;T++)O=Lv(a,PM),O.stagger=0,g&&(O.yoyoEase=g),L&&zl(O,L),C=b[T],O.duration=+Yf(u,_o(s),T,C,b),O.delay=(+Yf(m,_o(s),T,C,b)||0)-s._delay,!c&&A===1&&O.delay&&(s._delay=m=O.delay,s._start+=m,O.delay=0),w.to(C,O,I?I(T,C,b):0),w._ease=Xt.none;w.duration()?u=m=0:s.timeline=0}else if(p){Wf(qn(w.vars.defaults,{ease:"none"})),w._ease=Gl(p.ease||a.ease||"none");var R=0,D,H,z;if(Wi(p))p.forEach(function(B){return w.to(b,B,">")}),w.duration();else{O={};for(E in p)E==="ease"||E==="easeEach"||uN(E,p[E],O,p.easeEach);for(E in O)for(D=O[E].sort(function(B,J){return B.t-J.t}),R=0,T=0;T<D.length;T++)H=D[T],z={ease:H.e,duration:(H.t-(T?D[T-1].t:0))/100*u},z[E]=H.v,w.to(b,z,R),R+=z.duration;w.duration()<u&&w.to({},{duration:u-w.duration()})}}u||s.duration(u=w.duration())}else s.timeline=0;return d===!0&&!aT&&(Ca=_o(s),zr.killTweensOf(b),Ca=0),$s(_,_o(s),l),a.reversed&&s.reverse(),a.paused&&s.paused(!0),(v||!u&&!p&&s._start===Ci(_._time)&&_n(v)&&UB(_o(s))&&_.data!=="nested")&&(s._tTime=-kr,s.render(Math.max(0,-m)||0)),y&&yM(_o(s),y),s}var r=i.prototype;return r.render=function(a,l,n){var s=this._time,o=this._tDur,u=this._dur,m=a<0,v=a>o-kr&&!m?o:a<kr?0:a,c,d,p,f,y,g,_,b,w;if(!u)$B(this,a,l,n);else if(v!==this._tTime||!a||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m){if(c=v,b=this.timeline,this._repeat){if(f=u+this._rDelay,this._repeat<-1&&m)return this.totalTime(f*100+a,l,n);if(c=Ci(v%f),v===o?(p=this._repeat,c=u):(p=~~(v/f),p&&p===Ci(v/f)&&(c=u,p--),c>u&&(c=u)),g=this._yoyo&&p&1,g&&(w=this._yEase,c=u-c),y=rd(this._tTime,f),c===s&&!n&&this._initted&&p===y)return this._tTime=v,this;p!==y&&(b&&this._yEase&&AM(b,g),this.vars.repeatRefresh&&!g&&!this._lock&&this._time!==f&&this._initted&&(this._lock=n=1,this.render(Ci(f*p),!0).invalidate()._lock=0))}if(!this._initted){if(gM(this,m?a:c,n,l,v))return this._tTime=0,this;if(s!==this._time&&!(n&&this.vars.repeatRefresh&&p!==y))return this;if(u!==this._dur)return this.render(a,l,n)}if(this._tTime=v,this._time=c,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=_=(w||this._ease)(c/u),this._from&&(this.ratio=_=1-_),c&&!s&&!l&&!p&&(On(this,"onStart"),this._tTime!==v))return this;for(d=this._pt;d;)d.r(_,d.d),d=d._next;b&&b.render(a<0?a:b._dur*b._ease(c/this._dur),l,n)||this._startAt&&(this._zTime=a),this._onUpdate&&!l&&(m&&eT(this,a,l,n),On(this,"onUpdate")),this._repeat&&p!==y&&this.vars.onRepeat&&!l&&this.parent&&On(this,"onRepeat"),(v===this._tDur||!v)&&this._tTime===v&&(m&&!this._onUpdate&&eT(this,a,!0,!0),(a||!u)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&Ea(this,1),!l&&!(m&&!s)&&(v||s||g)&&(On(this,v===o?"onComplete":"onReverseComplete",!0),this._prom&&!(v<o&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(a){return(!a||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(a),h.prototype.invalidate.call(this,a)},r.resetTo=function(a,l,n,s,o){Qf||bn.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),m;return this._initted||_T(this,u),m=this._ease(u/this._dur),aN(this,a,l,n,s,m,u,o)?this.resetTo(a,l,n,s,1):(Nv(this,0),this.parent||pM(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(a,l){if(l===void 0&&(l="all"),!a&&(!l||l==="all"))return this._lazy=this._pt=0,this.parent?zf(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(a,l,Ca&&Ca.vars.overwrite!==!0)._first||zf(this),this.parent&&n!==this.timeline.totalDuration()&&id(this,this._dur*this.timeline._tDur/n,0,1),this}var s=this._targets,o=a?zn(a):s,u=this._ptLookup,m=this._pt,v,c,d,p,f,y,g;if((!l||l==="all")&&BB(s,o))return l==="all"&&(this._pt=0),zf(this);for(v=this._op=this._op||[],l!=="all"&&(wi(l)&&(f={},tn(l,function(_){return f[_]=1}),l=f),l=lN(s,l)),g=s.length;g--;)if(~o.indexOf(s[g])){c=u[g],l==="all"?(v[g]=l,p=c,d={}):(d=v[g]=v[g]||{},p=l);for(f in p)y=c&&c[f],y&&((!("kill"in y.d)||y.d.kill(f)===!0)&&Fv(this,y,"_pt"),delete c[f]),d!=="all"&&(d[f]=1)}return this._initted&&!this._pt&&m&&zf(this),this},i.to=function(a,l){return new i(a,l,arguments[2])},i.from=function(a,l){return Xf(1,arguments)},i.delayedCall=function(a,l,n,s){return new i(l,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:a,onComplete:l,onReverseComplete:l,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:s})},i.fromTo=function(a,l,n){return Xf(2,arguments)},i.set=function(a,l){return l.duration=0,l.repeatDelay||(l.repeat=0),new i(a,l)},i.killTweensOf=function(a,l,n){return zr.killTweensOf(a,l,n)},i}(Jf);qn(ci.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});tn("staggerTo,staggerFrom,staggerFromTo",function(h){ci[h]=function(){var i=new Li,r=rT.call(arguments,0);return r.splice(h==="staggerFromTo"?5:4,0,0),i[h].apply(i,r)}});var wT=function(i,r,t){return i[r]=t},DM=function(i,r,t){return i[r](t)},cN=function(i,r,t,a){return i[r](a.fp,t)},dN=function(i,r,t){return i.setAttribute(r,t)},Uv=function(i,r){return ei(i[r])?DM:Iv(i[r])&&i.setAttribute?dN:wT},IM=function(i,r){return r.set(r.t,r.p,Math.round((r.s+r.c*i)*1e6)/1e6,r)},hN=function(i,r){return r.set(r.t,r.p,!!(r.s+r.c*i),r)},xT=function(i,r){var t=r._pt,a="";if(!i&&r.b)a=r.b;else if(i===1&&r.e)a=r.e;else{for(;t;)a=t.p+(t.m?t.m(t.s+t.c*i):Math.round((t.s+t.c*i)*1e4)/1e4)+a,t=t._next;a+=r.c}r.set(r.t,r.p,a,r)},ST=function(i,r){for(var t=r._pt;t;)t.r(i,t.d),t=t._next},fN=function(i,r,t,a){for(var l=this._pt,n;l;)n=l._next,l.p===a&&l.modifier(i,r,t),l=n},pN=function(i){for(var r=this._pt,t,a;r;)a=r._next,r.p===i&&!r.op||r.op===i?Fv(this,r,"_pt"):r.dep||(t=1),r=a;return!t},mN=function(i,r,t,a){a.mSet(i,r,a.m.call(a.tween,t,a.mt),a)},TT=function(i){for(var r=i._pt,t,a,l,n;r;){for(t=r._next,a=l;a&&a.pr>r.pr;)a=a._next;(r._prev=a?a._prev:n)?r._prev._next=r:l=r,(r._next=a)?a._prev=r:n=r,r=t}i._pt=l},rn=function(){function h(r,t,a,l,n,s,o,u,m){this.t=t,this.s=l,this.c=n,this.p=a,this.r=s||IM,this.d=o||this,this.set=u||wT,this.pr=m||0,this._next=r,r&&(r._prev=this)}var i=h.prototype;return i.modifier=function(t,a,l){this.mSet=this.mSet||this.set,this.set=mN,this.m=t,this.mt=l,this.tween=a},h}();tn(fT+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(h){return hT[h]=1});Ln.TweenMax=Ln.TweenLite=ci;Ln.TimelineLite=Ln.TimelineMax=Li;zr=new Li({sortChildren:!1,defaults:td,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});wn.stringFilter=yT;var Hl=[],Mv={},yN=[],rM=0,gN=0,X6=function(i){return(Mv[i]||yN).map(function(r){return r()})},oT=function(){var i=Date.now(),r=[];i-rM>2&&(X6("matchMediaInit"),Hl.forEach(function(t){var a=t.queries,l=t.conditions,n,s,o,u;for(s in a)n=Vs.matchMedia(a[s]).matches,n&&(o=1),n!==l[s]&&(l[s]=n,u=1);u&&(t.revert(),o&&r.push(t))}),X6("matchMediaRevert"),r.forEach(function(t){return t.onMatch(t,function(a){return t.add(null,a)})}),rM=i,X6("matchMedia"))},RM=function(){function h(r,t){this.selector=t&&iT(t),this.data=[],this._r=[],this.isReverted=!1,this.id=gN++,r&&this.add(r)}var i=h.prototype;return i.add=function(t,a,l){ei(t)&&(l=a,a=t,t=ei);var n=this,s=function(){var u=Nr,m=n.selector,v;return u&&u!==n&&u.data.push(n),l&&(n.selector=iT(l)),Nr=n,v=a.apply(n,arguments),ei(v)&&n._r.push(v),Nr=u,n.selector=m,n.isReverted=!1,v};return n.last=s,t===ei?s(n,function(o){return n.add(null,o)}):t?n[t]=s:s},i.ignore=function(t){var a=Nr;Nr=null,t(this),Nr=a},i.getTweens=function(){var t=[];return this.data.forEach(function(a){return a instanceof h?t.push.apply(t,a.getTweens()):a instanceof ci&&!(a.parent&&a.parent.data==="nested")&&t.push(a)}),t},i.clear=function(){this._r.length=this.data.length=0},i.kill=function(t,a){var l=this;if(t?function(){for(var s=l.getTweens(),o=l.data.length,u;o--;)u=l.data[o],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(m){return s.splice(s.indexOf(m),1)}));for(s.map(function(m){return{g:m._dur||m._delay||m._sat&&!m._sat.vars.immediateRender?m.globalTime(0):-1/0,t:m}}).sort(function(m,v){return v.g-m.g||-1/0}).forEach(function(m){return m.t.revert(t)}),o=l.data.length;o--;)u=l.data[o],u instanceof Li?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof ci)&&u.revert&&u.revert(t);l._r.forEach(function(m){return m(t,l)}),l.isReverted=!0}():this.data.forEach(function(s){return s.kill&&s.kill()}),this.clear(),a)for(var n=Hl.length;n--;)Hl[n].id===this.id&&Hl.splice(n,1)},i.revert=function(t){this.kill(t||{})},h}(),vN=function(){function h(r){this.contexts=[],this.scope=r,Nr&&Nr.data.push(this)}var i=h.prototype;return i.add=function(t,a,l){Gs(t)||(t={matches:t});var n=new RM(0,l||this.scope),s=n.conditions={},o,u,m;Nr&&!n.selector&&(n.selector=Nr.selector),this.contexts.push(n),a=n.add("onMatch",a),n.queries=t;for(u in t)u==="all"?m=1:(o=Vs.matchMedia(t[u]),o&&(Hl.indexOf(n)<0&&Hl.push(n),(s[u]=o.matches)&&(m=1),o.addListener?o.addListener(oT):o.addEventListener("change",oT)));return m&&a(n,function(v){return n.add(null,v)}),this},i.revert=function(t){this.kill(t||{})},i.kill=function(t){this.contexts.forEach(function(a){return a.kill(t,!0)})},h}(),Dv={registerPlugin:function(){for(var i=arguments.length,r=new Array(i),t=0;t<i;t++)r[t]=arguments[t];r.forEach(function(a){return kM(a)})},timeline:function(i){return new Li(i)},getTweensOf:function(i,r){return zr.getTweensOf(i,r)},getProperty:function(i,r,t,a){wi(i)&&(i=zn(i)[0]);var l=ja(i||{}).get,n=t?fM:hM;return t==="native"&&(t=""),i&&(r?n((vn[r]&&vn[r].get||l)(i,r,t,a)):function(s,o,u){return n((vn[s]&&vn[s].get||l)(i,s,o,u))})},quickSetter:function(i,r,t){if(i=zn(i),i.length>1){var a=i.map(function(m){return Xi.quickSetter(m,r,t)}),l=a.length;return function(m){for(var v=l;v--;)a[v](m)}}i=i[0]||{};var n=vn[r],s=ja(i),o=s.harness&&(s.harness.aliases||{})[r]||r,u=n?function(m){var v=new n;ed._pt=0,v.init(i,t?m+t:m,ed,0,[i]),v.render(1,v),ed._pt&&ST(1,ed)}:s.set(i,o);return n?u:function(m){return u(i,o,t?m+t:m,s,1)}},quickTo:function(i,r,t){var a,l=Xi.to(i,zl((a={},a[r]="+=0.1",a.paused=!0,a),t||{})),n=function(o,u,m){return l.resetTo(r,o,u,m)};return n.tween=l,n},isTweening:function(i){return zr.getTweensOf(i,!0).length>0},defaults:function(i){return i&&i.ease&&(i.ease=Gl(i.ease,td.ease)),K4(td,i||{})},config:function(i){return K4(wn,i||{})},registerEffect:function(i){var r=i.name,t=i.effect,a=i.plugins,l=i.defaults,n=i.extendTimeline;(a||"").split(",").forEach(function(s){return s&&!vn[s]&&!Ln[s]&&Zf(r+" effect requires "+s+" plugin.")}),H6[r]=function(s,o,u){return t(zn(s),qn(o||{},l),u)},n&&(Li.prototype[r]=function(s,o,u){return this.add(H6[r](s,Gs(o)?o:(u=o)&&{},this),u)})},registerEase:function(i,r){Xt[i]=Gl(r)},parseEase:function(i,r){return arguments.length?Gl(i,r):Xt},getById:function(i){return zr.getById(i)},exportRoot:function(i,r){i===void 0&&(i={});var t=new Li(i),a,l;for(t.smoothChildTiming=_n(i.smoothChildTiming),zr.remove(t),t._dp=0,t._time=t._tTime=zr._time,a=zr._first;a;)l=a._next,(r||!(!a._dur&&a instanceof ci&&a.vars.onComplete===a._targets[0]))&&$s(t,a,a._start-a._delay),a=l;return $s(zr,t,0),t},context:function(i,r){return i?new RM(i,r):Nr},matchMedia:function(i){return new vN(i)},matchMediaRefresh:function(){return Hl.forEach(function(i){var r=i.conditions,t,a;for(a in r)r[a]&&(r[a]=!1,t=1);t&&i.revert()})||oT()},addEventListener:function(i,r){var t=Mv[i]||(Mv[i]=[]);~t.indexOf(r)||t.push(r)},removeEventListener:function(i,r){var t=Mv[i],a=t&&t.indexOf(r);a>=0&&t.splice(a,1)},utils:{wrap:ZB,wrapYoyo:KB,distribute:_M,random:xM,snap:wM,normalize:YB,getUnit:Pi,clamp:zB,splitColor:jM,toArray:zn,selector:iT,mapRange:TM,pipe:WB,unitize:XB,interpolate:QB,shuffle:bM},install:lM,effects:H6,ticker:bn,updateRoot:Li.updateRoot,plugins:vn,globalTimeline:zr,core:{PropTween:rn,globals:uM,Tween:ci,Timeline:Li,Animation:Jf,getCache:ja,_removeLinkedListItem:Fv,reverting:function(){return qi},context:function(i){return i&&Nr&&(Nr.data.push(i),i._ctx=Nr),Nr},suppressOverwrites:function(i){return aT=i}}};tn("to,from,fromTo,delayedCall,set,killTweensOf",function(h){return Dv[h]=ci[h]});bn.add(Li.updateRoot);ed=Dv.to({},{duration:0});var bN=function(i,r){for(var t=i._pt;t&&t.p!==r&&t.op!==r&&t.fp!==r;)t=t._next;return t},_N=function(i,r){var t=i._targets,a,l,n;for(a in r)for(l=t.length;l--;)n=i._ptLookup[l][a],n&&(n=n.d)&&(n._pt&&(n=bN(n,a)),n&&n.modifier&&n.modifier(r[a],i,t[l],a))},Y6=function(i,r){return{name:i,rawVars:1,init:function(a,l,n){n._onInit=function(s){var o,u;if(wi(l)&&(o={},tn(l,function(m){return o[m]=1}),l=o),r){o={};for(u in l)o[u]=r(l[u]);l=o}_N(s,l)}}}},Xi=Dv.registerPlugin({name:"attr",init:function(i,r,t,a,l){var n,s,o;this.tween=t;for(n in r)o=i.getAttribute(n)||"",s=this.add(i,"setAttribute",(o||0)+"",r[n],a,l,0,0,n),s.op=n,s.b=o,this._props.push(n)},render:function(i,r){for(var t=r._pt;t;)qi?t.set(t.t,t.p,t.b,t):t.r(i,t.d),t=t._next}},{name:"endArray",init:function(i,r){for(var t=r.length;t--;)this.add(i,t,i[t]||0,r[t],0,0,0,0,0,1)}},Y6("roundProps",nT),Y6("modifiers"),Y6("snap",wM))||Dv;ci.version=Li.version=Xi.version="3.12.5";aM=1;lT()&&nd();var wN=Xt.Power0,xN=Xt.Power1,SN=Xt.Power2,TN=Xt.Power3,CN=Xt.Power4,kN=Xt.Linear,jN=Xt.Quad,EN=Xt.Cubic,MN=Xt.Quart,AN=Xt.Quint,ON=Xt.Strong,LN=Xt.Elastic,PN=Xt.Back,DN=Xt.SteppedEase,IN=Xt.Bounce,RN=Xt.Sine,FN=Xt.Expo,BN=Xt.Circ;var FM,Aa,ad,OT,Ql,NN,BM,LT,UN=function(){return typeof window<"u"},To={},Kl=180/Math.PI,ld=Math.PI/180,od=Math.atan2,NM=1e8,PT=/([A-Z])/g,VN=/(left|right|width|margin|padding|x)/i,$N=/[\s,\(]\S/,Hs={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},jT=function(i,r){return r.set(r.t,r.p,Math.round((r.s+r.c*i)*1e4)/1e4+r.u,r)},GN=function(i,r){return r.set(r.t,r.p,i===1?r.e:Math.round((r.s+r.c*i)*1e4)/1e4+r.u,r)},HN=function(i,r){return r.set(r.t,r.p,i?Math.round((r.s+r.c*i)*1e4)/1e4+r.u:r.b,r)},zN=function(i,r){var t=r.s+r.c*i;r.set(r.t,r.p,~~(t+(t<0?-.5:.5))+r.u,r)},qM=function(i,r){return r.set(r.t,r.p,i?r.e:r.b,r)},WM=function(i,r){return r.set(r.t,r.p,i!==1?r.b:r.e,r)},qN=function(i,r,t){return i.style[r]=t},WN=function(i,r,t){return i.style.setProperty(r,t)},XN=function(i,r,t){return i._gsap[r]=t},YN=function(i,r,t){return i._gsap.scaleX=i._gsap.scaleY=t},ZN=function(i,r,t,a,l){var n=i._gsap;n.scaleX=n.scaleY=t,n.renderTransform(l,n)},KN=function(i,r,t,a,l){var n=i._gsap;n[r]=t,n.renderTransform(l,n)},qr="transform",xn=qr+"Origin",QN=function h(i,r){var t=this,a=this.target,l=a.style,n=a._gsap;if(i in To&&l){if(this.tfm=this.tfm||{},i!=="transform")i=Hs[i]||i,~i.indexOf(",")?i.split(",").forEach(function(s){return t.tfm[s]=So(a,s)}):this.tfm[i]=n.x?n[i]:So(a,i),i===xn&&(this.tfm.zOrigin=n.zOrigin);else return Hs.transform.split(",").forEach(function(s){return h.call(t,s,r)});if(this.props.indexOf(qr)>=0)return;n.svg&&(this.svgo=a.getAttribute("data-svg-origin"),this.props.push(xn,r,"")),i=qr}(l||r)&&this.props.push(i,r,l[i])},XM=function(i){i.translate&&(i.removeProperty("translate"),i.removeProperty("scale"),i.removeProperty("rotate"))},JN=function(){var i=this.props,r=this.target,t=r.style,a=r._gsap,l,n;for(l=0;l<i.length;l+=3)i[l+1]?r[i[l]]=i[l+2]:i[l+2]?t[i[l]]=i[l+2]:t.removeProperty(i[l].substr(0,2)==="--"?i[l]:i[l].replace(PT,"-$1").toLowerCase());if(this.tfm){for(n in this.tfm)a[n]=this.tfm[n];a.svg&&(a.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),l=LT(),(!l||!l.isStart)&&!t[qr]&&(XM(t),a.zOrigin&&t[xn]&&(t[xn]+=" "+a.zOrigin+"px",a.zOrigin=0,a.renderTransform()),a.uncache=1)}},YM=function(i,r){var t={target:i,props:[],revert:JN,save:QN};return i._gsap||Xi.core.getCache(i),r&&r.split(",").forEach(function(a){return t.save(a)}),t},ZM,ET=function(i,r){var t=Aa.createElementNS?Aa.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),i):Aa.createElement(i);return t&&t.style?t:Aa.createElement(i)},zs=function h(i,r,t){var a=getComputedStyle(i);return a[r]||a.getPropertyValue(r.replace(PT,"-$1").toLowerCase())||a.getPropertyValue(r)||!t&&h(i,ud(r)||r,1)||""},UM="O,Moz,ms,Ms,Webkit".split(","),ud=function(i,r,t){var a=r||Ql,l=a.style,n=5;if(i in l&&!t)return i;for(i=i.charAt(0).toUpperCase()+i.substr(1);n--&&!(UM[n]+i in l););return n<0?null:(n===3?"ms":n>=0?UM[n]:"")+i},MT=function(){UN()&&window.document&&(FM=window,Aa=FM.document,ad=Aa.documentElement,Ql=ET("div")||{style:{}},NN=ET("div"),qr=ud(qr),xn=qr+"Origin",Ql.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",ZM=!!ud("perspective"),LT=Xi.core.reverting,OT=1)},CT=function h(i){var r=ET("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),t=this.parentNode,a=this.nextSibling,l=this.style.cssText,n;if(ad.appendChild(r),r.appendChild(this),this.style.display="block",i)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=h}catch{}else this._gsapBBox&&(n=this._gsapBBox());return t&&(a?t.insertBefore(this,a):t.appendChild(this)),ad.removeChild(r),this.style.cssText=l,n},VM=function(i,r){for(var t=r.length;t--;)if(i.hasAttribute(r[t]))return i.getAttribute(r[t])},KM=function(i){var r;try{r=i.getBBox()}catch{r=CT.call(i,!0)}return r&&(r.width||r.height)||i.getBBox===CT||(r=CT.call(i,!0)),r&&!r.width&&!r.x&&!r.y?{x:+VM(i,["x","cx","x1"])||0,y:+VM(i,["y","cy","y1"])||0,width:0,height:0}:r},QM=function(i){return!!(i.getCTM&&(!i.parentNode||i.ownerSVGElement)&&KM(i))},Jl=function(i,r){if(r){var t=i.style,a;r in To&&r!==xn&&(r=qr),t.removeProperty?(a=r.substr(0,2),(a==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),t.removeProperty(a==="--"?r:r.replace(PT,"-$1").toLowerCase())):t.removeAttribute(r)}},Oa=function(i,r,t,a,l,n){var s=new rn(i._pt,r,t,0,1,n?WM:qM);return i._pt=s,s.b=a,s.e=l,i._props.push(t),s},$M={deg:1,rad:1,turn:1},eU={grid:1,flex:1},La=function h(i,r,t,a){var l=parseFloat(t)||0,n=(t+"").trim().substr((l+"").length)||"px",s=Ql.style,o=VN.test(r),u=i.tagName.toLowerCase()==="svg",m=(u?"client":"offset")+(o?"Width":"Height"),v=100,c=a==="px",d=a==="%",p,f,y,g;if(a===n||!l||$M[a]||$M[n])return l;if(n!=="px"&&!c&&(l=h(i,r,t,"px")),g=i.getCTM&&QM(i),(d||n==="%")&&(To[r]||~r.indexOf("adius")))return p=g?i.getBBox()[o?"width":"height"]:i[m],ti(d?l/p*v:l/100*p);if(s[o?"width":"height"]=v+(c?n:a),f=~r.indexOf("adius")||a==="em"&&i.appendChild&&!u?i:i.parentNode,g&&(f=(i.ownerSVGElement||{}).parentNode),(!f||f===Aa||!f.appendChild)&&(f=Aa.body),y=f._gsap,y&&d&&y.width&&o&&y.time===bn.time&&!y.uncache)return ti(l/y.width*v);if(d&&(r==="height"||r==="width")){var _=i.style[r];i.style[r]=v+a,p=i[m],_?i.style[r]=_:Jl(i,r)}else(d||n==="%")&&!eU[zs(f,"display")]&&(s.position=zs(i,"position")),f===i&&(s.position="static"),f.appendChild(Ql),p=Ql[m],f.removeChild(Ql),s.position="absolute";return o&&d&&(y=ja(f),y.time=bn.time,y.width=f[m]),ti(c?p*l/v:p&&l?v/p*l:0)},So=function(i,r,t,a){var l;return OT||MT(),r in Hs&&r!=="transform"&&(r=Hs[r],~r.indexOf(",")&&(r=r.split(",")[0])),To[r]&&r!=="transform"?(l=ip(i,a),l=r!=="transformOrigin"?l[r]:l.svg?l.origin:$v(zs(i,xn))+" "+l.zOrigin+"px"):(l=i.style[r],(!l||l==="auto"||a||~(l+"").indexOf("calc("))&&(l=Vv[r]&&Vv[r](i,r,t)||zs(i,r)||mT(i,r)||(r==="opacity"?1:0))),t&&!~(l+"").trim().indexOf(" ")?La(i,r,l,t)+t:l},tU=function(i,r,t,a){if(!t||t==="none"){var l=ud(r,i,1),n=l&&zs(i,l,1);n&&n!==t?(r=l,t=n):r==="borderColor"&&(t=zs(i,"borderTopColor"))}var s=new rn(this._pt,i.style,r,0,1,xT),o=0,u=0,m,v,c,d,p,f,y,g,_,b,w,T;if(s.b=t,s.e=a,t+="",a+="",a==="auto"&&(f=i.style[r],i.style[r]=a,a=zs(i,r)||a,f?i.style[r]=f:Jl(i,r)),m=[t,a],yT(m),t=m[0],a=m[1],c=t.match(ql)||[],T=a.match(ql)||[],T.length){for(;v=ql.exec(a);)y=v[0],_=a.substring(o,v.index),p?p=(p+1)%5:(_.substr(-5)==="rgba("||_.substr(-5)==="hsla(")&&(p=1),y!==(f=c[u++]||"")&&(d=parseFloat(f)||0,w=f.substr((d+"").length),y.charAt(1)==="="&&(y=Wl(d,y)+w),g=parseFloat(y),b=y.substr((g+"").length),o=ql.lastIndex-b.length,b||(b=b||wn.units[r]||w,o===a.length&&(a+=b,s.e+=b)),w!==b&&(d=La(i,r,f,b)||0),s._pt={_next:s._pt,p:_||u===1?_:",",s:d,c:g-d,m:p&&p<4||r==="zIndex"?Math.round:0});s.c=o<a.length?a.substring(o,a.length):""}else s.r=r==="display"&&a==="none"?WM:qM;return cT.test(a)&&(s.e=0),this._pt=s,s},GM={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},rU=function(i){var r=i.split(" "),t=r[0],a=r[1]||"50%";return(t==="top"||t==="bottom"||a==="left"||a==="right")&&(i=t,t=a,a=i),r[0]=GM[t]||t,r[1]=GM[a]||a,r.join(" ")},iU=function(i,r){if(r.tween&&r.tween._time===r.tween._dur){var t=r.t,a=t.style,l=r.u,n=t._gsap,s,o,u;if(l==="all"||l===!0)a.cssText="",o=1;else for(l=l.split(","),u=l.length;--u>-1;)s=l[u],To[s]&&(o=1,s=s==="transformOrigin"?xn:qr),Jl(t,s);o&&(Jl(t,qr),n&&(n.svg&&t.removeAttribute("transform"),ip(t,1),n.uncache=1,XM(a)))}},Vv={clearProps:function(i,r,t,a,l){if(l.data!=="isFromStart"){var n=i._pt=new rn(i._pt,r,t,0,0,iU);return n.u=a,n.pr=-10,n.tween=l,i._props.push(t),1}}},rp=[1,0,0,1,0,0],JM={},eA=function(i){return i==="matrix(1, 0, 0, 1, 0, 0)"||i==="none"||!i},HM=function(i){var r=zs(i,qr);return eA(r)?rp:r.substr(7).match(uT).map(ti)},DT=function(i,r){var t=i._gsap||ja(i),a=i.style,l=HM(i),n,s,o,u;return t.svg&&i.getAttribute("transform")?(o=i.transform.baseVal.consolidate().matrix,l=[o.a,o.b,o.c,o.d,o.e,o.f],l.join(",")==="1,0,0,1,0,0"?rp:l):(l===rp&&!i.offsetParent&&i!==ad&&!t.svg&&(o=a.display,a.display="block",n=i.parentNode,(!n||!i.offsetParent)&&(u=1,s=i.nextElementSibling,ad.appendChild(i)),l=HM(i),o?a.display=o:Jl(i,"display"),u&&(s?n.insertBefore(i,s):n?n.appendChild(i):ad.removeChild(i))),r&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},AT=function(i,r,t,a,l,n){var s=i._gsap,o=l||DT(i,!0),u=s.xOrigin||0,m=s.yOrigin||0,v=s.xOffset||0,c=s.yOffset||0,d=o[0],p=o[1],f=o[2],y=o[3],g=o[4],_=o[5],b=r.split(" "),w=parseFloat(b[0])||0,T=parseFloat(b[1])||0,O,A,E,C;t?o!==rp&&(A=d*y-p*f)&&(E=w*(y/A)+T*(-f/A)+(f*_-y*g)/A,C=w*(-p/A)+T*(d/A)-(d*_-p*g)/A,w=E,T=C):(O=KM(i),w=O.x+(~b[0].indexOf("%")?w/100*O.width:w),T=O.y+(~(b[1]||b[0]).indexOf("%")?T/100*O.height:T)),a||a!==!1&&s.smooth?(g=w-u,_=T-m,s.xOffset=v+(g*d+_*f)-g,s.yOffset=c+(g*p+_*y)-_):s.xOffset=s.yOffset=0,s.xOrigin=w,s.yOrigin=T,s.smooth=!!a,s.origin=r,s.originIsAbsolute=!!t,i.style[xn]="0px 0px",n&&(Oa(n,s,"xOrigin",u,w),Oa(n,s,"yOrigin",m,T),Oa(n,s,"xOffset",v,s.xOffset),Oa(n,s,"yOffset",c,s.yOffset)),i.setAttribute("data-svg-origin",w+" "+T)},ip=function(i,r){var t=i._gsap||new gT(i);if("x"in t&&!r&&!t.uncache)return t;var a=i.style,l=t.scaleX<0,n="px",s="deg",o=getComputedStyle(i),u=zs(i,xn)||"0",m,v,c,d,p,f,y,g,_,b,w,T,O,A,E,C,I,L,R,D,H,z,B,J,ee,Z,q,re,ge,V,j,G;return m=v=c=f=y=g=_=b=w=0,d=p=1,t.svg=!!(i.getCTM&&QM(i)),o.translate&&((o.translate!=="none"||o.scale!=="none"||o.rotate!=="none")&&(a[qr]=(o.translate!=="none"?"translate3d("+(o.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(o.rotate!=="none"?"rotate("+o.rotate+") ":"")+(o.scale!=="none"?"scale("+o.scale.split(" ").join(",")+") ":"")+(o[qr]!=="none"?o[qr]:"")),a.scale=a.rotate=a.translate="none"),A=DT(i,t.svg),t.svg&&(t.uncache?(ee=i.getBBox(),u=t.xOrigin-ee.x+"px "+(t.yOrigin-ee.y)+"px",J=""):J=!r&&i.getAttribute("data-svg-origin"),AT(i,J||u,!!J||t.originIsAbsolute,t.smooth!==!1,A)),T=t.xOrigin||0,O=t.yOrigin||0,A!==rp&&(L=A[0],R=A[1],D=A[2],H=A[3],m=z=A[4],v=B=A[5],A.length===6?(d=Math.sqrt(L*L+R*R),p=Math.sqrt(H*H+D*D),f=L||R?od(R,L)*Kl:0,_=D||H?od(D,H)*Kl+f:0,_&&(p*=Math.abs(Math.cos(_*ld))),t.svg&&(m-=T-(T*L+O*D),v-=O-(T*R+O*H))):(G=A[6],V=A[7],q=A[8],re=A[9],ge=A[10],j=A[11],m=A[12],v=A[13],c=A[14],E=od(G,ge),y=E*Kl,E&&(C=Math.cos(-E),I=Math.sin(-E),J=z*C+q*I,ee=B*C+re*I,Z=G*C+ge*I,q=z*-I+q*C,re=B*-I+re*C,ge=G*-I+ge*C,j=V*-I+j*C,z=J,B=ee,G=Z),E=od(-D,ge),g=E*Kl,E&&(C=Math.cos(-E),I=Math.sin(-E),J=L*C-q*I,ee=R*C-re*I,Z=D*C-ge*I,j=H*I+j*C,L=J,R=ee,D=Z),E=od(R,L),f=E*Kl,E&&(C=Math.cos(E),I=Math.sin(E),J=L*C+R*I,ee=z*C+B*I,R=R*C-L*I,B=B*C-z*I,L=J,z=ee),y&&Math.abs(y)+Math.abs(f)>359.9&&(y=f=0,g=180-g),d=ti(Math.sqrt(L*L+R*R+D*D)),p=ti(Math.sqrt(B*B+G*G)),E=od(z,B),_=Math.abs(E)>2e-4?E*Kl:0,w=j?1/(j<0?-j:j):0),t.svg&&(J=i.getAttribute("transform"),t.forceCSS=i.setAttribute("transform","")||!eA(zs(i,qr)),J&&i.setAttribute("transform",J))),Math.abs(_)>90&&Math.abs(_)<270&&(l?(d*=-1,_+=f<=0?180:-180,f+=f<=0?180:-180):(p*=-1,_+=_<=0?180:-180)),r=r||t.uncache,t.x=m-((t.xPercent=m&&(!r&&t.xPercent||(Math.round(i.offsetWidth/2)===Math.round(-m)?-50:0)))?i.offsetWidth*t.xPercent/100:0)+n,t.y=v-((t.yPercent=v&&(!r&&t.yPercent||(Math.round(i.offsetHeight/2)===Math.round(-v)?-50:0)))?i.offsetHeight*t.yPercent/100:0)+n,t.z=c+n,t.scaleX=ti(d),t.scaleY=ti(p),t.rotation=ti(f)+s,t.rotationX=ti(y)+s,t.rotationY=ti(g)+s,t.skewX=_+s,t.skewY=b+s,t.transformPerspective=w+n,(t.zOrigin=parseFloat(u.split(" ")[2])||!r&&t.zOrigin||0)&&(a[xn]=$v(u)),t.xOffset=t.yOffset=0,t.force3D=wn.force3D,t.renderTransform=t.svg?sU:ZM?tA:nU,t.uncache=0,t},$v=function(i){return(i=i.split(" "))[0]+" "+i[1]},kT=function(i,r,t){var a=Pi(r);return ti(parseFloat(r)+parseFloat(La(i,"x",t+"px",a)))+a},nU=function(i,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,tA(i,r)},Yl="0deg",tp="0px",Zl=") ",tA=function(i,r){var t=r||this,a=t.xPercent,l=t.yPercent,n=t.x,s=t.y,o=t.z,u=t.rotation,m=t.rotationY,v=t.rotationX,c=t.skewX,d=t.skewY,p=t.scaleX,f=t.scaleY,y=t.transformPerspective,g=t.force3D,_=t.target,b=t.zOrigin,w="",T=g==="auto"&&i&&i!==1||g===!0;if(b&&(v!==Yl||m!==Yl)){var O=parseFloat(m)*ld,A=Math.sin(O),E=Math.cos(O),C;O=parseFloat(v)*ld,C=Math.cos(O),n=kT(_,n,A*C*-b),s=kT(_,s,-Math.sin(O)*-b),o=kT(_,o,E*C*-b+b)}y!==tp&&(w+="perspective("+y+Zl),(a||l)&&(w+="translate("+a+"%, "+l+"%) "),(T||n!==tp||s!==tp||o!==tp)&&(w+=o!==tp||T?"translate3d("+n+", "+s+", "+o+") ":"translate("+n+", "+s+Zl),u!==Yl&&(w+="rotate("+u+Zl),m!==Yl&&(w+="rotateY("+m+Zl),v!==Yl&&(w+="rotateX("+v+Zl),(c!==Yl||d!==Yl)&&(w+="skew("+c+", "+d+Zl),(p!==1||f!==1)&&(w+="scale("+p+", "+f+Zl),_.style[qr]=w||"translate(0, 0)"},sU=function(i,r){var t=r||this,a=t.xPercent,l=t.yPercent,n=t.x,s=t.y,o=t.rotation,u=t.skewX,m=t.skewY,v=t.scaleX,c=t.scaleY,d=t.target,p=t.xOrigin,f=t.yOrigin,y=t.xOffset,g=t.yOffset,_=t.forceCSS,b=parseFloat(n),w=parseFloat(s),T,O,A,E,C;o=parseFloat(o),u=parseFloat(u),m=parseFloat(m),m&&(m=parseFloat(m),u+=m,o+=m),o||u?(o*=ld,u*=ld,T=Math.cos(o)*v,O=Math.sin(o)*v,A=Math.sin(o-u)*-c,E=Math.cos(o-u)*c,u&&(m*=ld,C=Math.tan(u-m),C=Math.sqrt(1+C*C),A*=C,E*=C,m&&(C=Math.tan(m),C=Math.sqrt(1+C*C),T*=C,O*=C)),T=ti(T),O=ti(O),A=ti(A),E=ti(E)):(T=v,E=c,O=A=0),(b&&!~(n+"").indexOf("px")||w&&!~(s+"").indexOf("px"))&&(b=La(d,"x",n,"px"),w=La(d,"y",s,"px")),(p||f||y||g)&&(b=ti(b+p-(p*T+f*A)+y),w=ti(w+f-(p*O+f*E)+g)),(a||l)&&(C=d.getBBox(),b=ti(b+a/100*C.width),w=ti(w+l/100*C.height)),C="matrix("+T+","+O+","+A+","+E+","+b+","+w+")",d.setAttribute("transform",C),_&&(d.style[qr]=C)},oU=function(i,r,t,a,l){var n=360,s=wi(l),o=parseFloat(l)*(s&&~l.indexOf("rad")?Kl:1),u=o-a,m=a+u+"deg",v,c;return s&&(v=l.split("_")[1],v==="short"&&(u%=n,u!==u%(n/2)&&(u+=u<0?n:-n)),v==="cw"&&u<0?u=(u+n*NM)%n-~~(u/n)*n:v==="ccw"&&u>0&&(u=(u-n*NM)%n-~~(u/n)*n)),i._pt=c=new rn(i._pt,r,t,a,u,GN),c.e=m,c.u="deg",i._props.push(t),c},zM=function(i,r){for(var t in r)i[t]=r[t];return i},aU=function(i,r,t){var a=zM({},t._gsap),l="perspective,force3D,transformOrigin,svgOrigin",n=t.style,s,o,u,m,v,c,d,p;a.svg?(u=t.getAttribute("transform"),t.setAttribute("transform",""),n[qr]=r,s=ip(t,1),Jl(t,qr),t.setAttribute("transform",u)):(u=getComputedStyle(t)[qr],n[qr]=r,s=ip(t,1),n[qr]=u);for(o in To)u=a[o],m=s[o],u!==m&&l.indexOf(o)<0&&(d=Pi(u),p=Pi(m),v=d!==p?La(t,o,u,p):parseFloat(u),c=parseFloat(m),i._pt=new rn(i._pt,s,o,v,c-v,jT),i._pt.u=p||0,i._props.push(o));zM(s,a)};tn("padding,margin,Width,Radius",function(h,i){var r="Top",t="Right",a="Bottom",l="Left",n=(i<3?[r,t,a,l]:[r+l,r+t,a+t,a+l]).map(function(s){return i<2?h+s:"border"+s+h});Vv[i>1?"border"+h:h]=function(s,o,u,m,v){var c,d;if(arguments.length<4)return c=n.map(function(p){return So(s,p,u)}),d=c.join(" "),d.split(c[0]).length===5?c[0]:d;c=(m+"").split(" "),d={},n.forEach(function(p,f){return d[p]=c[f]=c[f]||c[(f-1)/2|0]}),s.init(o,d,v)}});var IT={name:"css",register:MT,targetTest:function(i){return i.style&&i.nodeType},init:function(i,r,t,a,l){var n=this._props,s=i.style,o=t.vars.startAt,u,m,v,c,d,p,f,y,g,_,b,w,T,O,A,E;OT||MT(),this.styles=this.styles||YM(i),E=this.styles.props,this.tween=t;for(f in r)if(f!=="autoRound"&&(m=r[f],!(vn[f]&&bT(f,r,t,a,i,l)))){if(d=typeof m,p=Vv[f],d==="function"&&(m=m.call(t,a,i,l),d=typeof m),d==="string"&&~m.indexOf("random(")&&(m=sd(m)),p)p(this,i,f,m,t)&&(A=1);else if(f.substr(0,2)==="--")u=(getComputedStyle(i).getPropertyValue(f)+"").trim(),m+="",wo.lastIndex=0,wo.test(u)||(y=Pi(u),g=Pi(m)),g?y!==g&&(u=La(i,f,u,g)+g):y&&(m+=y),this.add(s,"setProperty",u,m,a,l,0,0,f),n.push(f),E.push(f,0,s[f]);else if(d!=="undefined"){if(o&&f in o?(u=typeof o[f]=="function"?o[f].call(t,a,i,l):o[f],wi(u)&&~u.indexOf("random(")&&(u=sd(u)),Pi(u+"")||u==="auto"||(u+=wn.units[f]||Pi(So(i,f))||""),(u+"").charAt(1)==="="&&(u=So(i,f))):u=So(i,f),c=parseFloat(u),_=d==="string"&&m.charAt(1)==="="&&m.substr(0,2),_&&(m=m.substr(2)),v=parseFloat(m),f in Hs&&(f==="autoAlpha"&&(c===1&&So(i,"visibility")==="hidden"&&v&&(c=0),E.push("visibility",0,s.visibility),Oa(this,s,"visibility",c?"inherit":"hidden",v?"inherit":"hidden",!v)),f!=="scale"&&f!=="transform"&&(f=Hs[f],~f.indexOf(",")&&(f=f.split(",")[0]))),b=f in To,b){if(this.styles.save(f),w||(T=i._gsap,T.renderTransform&&!r.parseTransform||ip(i,r.parseTransform),O=r.smoothOrigin!==!1&&T.smooth,w=this._pt=new rn(this._pt,s,qr,0,1,T.renderTransform,T,0,-1),w.dep=1),f==="scale")this._pt=new rn(this._pt,T,"scaleY",T.scaleY,(_?Wl(T.scaleY,_+v):v)-T.scaleY||0,jT),this._pt.u=0,n.push("scaleY",f),f+="X";else if(f==="transformOrigin"){E.push(xn,0,s[xn]),m=rU(m),T.svg?AT(i,m,0,O,0,this):(g=parseFloat(m.split(" ")[2])||0,g!==T.zOrigin&&Oa(this,T,"zOrigin",T.zOrigin,g),Oa(this,s,f,$v(u),$v(m)));continue}else if(f==="svgOrigin"){AT(i,m,1,O,0,this);continue}else if(f in JM){oU(this,T,f,c,_?Wl(c,_+m):m);continue}else if(f==="smoothOrigin"){Oa(this,T,"smooth",T.smooth,m);continue}else if(f==="force3D"){T[f]=m;continue}else if(f==="transform"){aU(this,m,i);continue}}else f in s||(f=ud(f)||f);if(b||(v||v===0)&&(c||c===0)&&!$N.test(m)&&f in s)y=(u+"").substr((c+"").length),v||(v=0),g=Pi(m)||(f in wn.units?wn.units[f]:y),y!==g&&(c=La(i,f,u,g)),this._pt=new rn(this._pt,b?T:s,f,c,(_?Wl(c,_+v):v)-c,!b&&(g==="px"||f==="zIndex")&&r.autoRound!==!1?zN:jT),this._pt.u=g||0,y!==g&&g!=="%"&&(this._pt.b=u,this._pt.r=HN);else if(f in s)tU.call(this,i,f,u,_?_+m:m);else if(f in i)this.add(i,f,u||i[f],_?_+m:m,a,l);else if(f!=="parseTransform"){Rv(f,m);continue}b||(f in s?E.push(f,0,s[f]):E.push(f,1,u||i[f])),n.push(f)}}A&&TT(this)},render:function(i,r){if(r.tween._time||!LT())for(var t=r._pt;t;)t.r(i,t.d),t=t._next;else r.styles.revert()},get:So,aliases:Hs,getSetter:function(i,r,t){var a=Hs[r];return a&&a.indexOf(",")<0&&(r=a),r in To&&r!==xn&&(i._gsap.x||So(i,"x"))?t&&BM===t?r==="scale"?YN:XN:(BM=t||{})&&(r==="scale"?ZN:KN):i.style&&!Iv(i.style[r])?qN:~r.indexOf("-")?WN:Uv(i,r)},core:{_removeProperty:Jl,_getMatrix:DT}};Xi.utils.checkPrefix=ud;Xi.core.getStyleSaver=YM;(function(h,i,r,t){var a=tn(h+","+i+","+r,function(l){To[l]=1});tn(i,function(l){wn.units[l]="deg",JM[l]=1}),Hs[a[13]]=h+","+i,tn(t,function(l){var n=l.split(":");Hs[n[1]]=a[n[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");tn("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(h){wn.units[h]="px"});Xi.registerPlugin(IT);var Co=Xi.registerPlugin(IT)||Xi,qH=Co.core.Tween;function rA(h,i){for(var r=0;r<i.length;r++){var t=i[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(h,t.key,t)}}function lU(h,i,r){return i&&rA(h.prototype,i),r&&rA(h,r),h}var Di,zv,uU,Pn,Pa,Da,dd,nA,eu,sp,sA,ko,hs,oA,aA=function(){return Di||typeof window<"u"&&(Di=window.gsap)&&Di.registerPlugin&&Di},lA=1,cd=[],Gt=[],fs=[],op=Date.now,RT=function(i,r){return r},cU=function(){var i=sp.core,r=i.bridge||{},t=i._scrollers,a=i._proxies;t.push.apply(t,Gt),a.push.apply(a,fs),Gt=t,fs=a,RT=function(n,s){return r[n](s)}},Eo=function(i,r){return~fs.indexOf(i)&&fs[fs.indexOf(i)+1][r]},ap=function(i){return!!~sA.indexOf(i)},sn=function(i,r,t,a,l){return i.addEventListener(r,t,{passive:a!==!1,capture:!!l})},nn=function(i,r,t,a){return i.removeEventListener(r,t,!!a)},Gv="scrollLeft",Hv="scrollTop",FT=function(){return ko&&ko.isPressed||Gt.cache++},qv=function(i,r){var t=function a(l){if(l||l===0){lA&&(Pn.history.scrollRestoration="manual");var n=ko&&ko.isPressed;l=a.v=Math.round(l)||(ko&&ko.iOS?1:0),i(l),a.cacheID=Gt.cache,n&&RT("ss",l)}else(r||Gt.cache!==a.cacheID||RT("ref"))&&(a.cacheID=Gt.cache,a.v=i());return a.v+a.offset};return t.offset=0,i&&t},Yi={s:Gv,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:qv(function(h){return arguments.length?Pn.scrollTo(h,gi.sc()):Pn.pageXOffset||Pa[Gv]||Da[Gv]||dd[Gv]||0})},gi={s:Hv,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Yi,sc:qv(function(h){return arguments.length?Pn.scrollTo(Yi.sc(),h):Pn.pageYOffset||Pa[Hv]||Da[Hv]||dd[Hv]||0})},on=function(i,r){return(r&&r._ctx&&r._ctx.selector||Di.utils.toArray)(i)[0]||(typeof i=="string"&&Di.config().nullTargetWarn!==!1?console.warn("Element not found:",i):null)},jo=function(i,r){var t=r.s,a=r.sc;ap(i)&&(i=Pa.scrollingElement||Da);var l=Gt.indexOf(i),n=a===gi.sc?1:2;!~l&&(l=Gt.push(i)-1),Gt[l+n]||sn(i,"scroll",FT);var s=Gt[l+n],o=s||(Gt[l+n]=qv(Eo(i,t),!0)||(ap(i)?a:qv(function(u){return arguments.length?i[t]=u:i[t]})));return o.target=i,s||(o.smooth=Di.getProperty(i,"scrollBehavior")==="smooth"),o},Wv=function(i,r,t){var a=i,l=i,n=op(),s=n,o=r||50,u=Math.max(500,o*3),m=function(p,f){var y=op();f||y-n>o?(l=a,a=p,s=n,n=y):t?a+=p:a=l+(p-l)/(y-s)*(n-s)},v=function(){l=a=t?0:a,s=n=0},c=function(p){var f=s,y=l,g=op();return(p||p===0)&&p!==a&&m(p),n===s||g-s>u?0:(a+(t?y:-y))/((t?g:n)-f)*1e3};return{update:m,reset:v,getVelocity:c}},np=function(i,r){return r&&!i._gsapAllow&&i.preventDefault(),i.changedTouches?i.changedTouches[0]:i},iA=function(i){var r=Math.max.apply(Math,i),t=Math.min.apply(Math,i);return Math.abs(r)>=Math.abs(t)?r:t},uA=function(){sp=Di.core.globals().ScrollTrigger,sp&&sp.core&&cU()},cA=function(i){return Di=i||aA(),!zv&&Di&&typeof document<"u"&&document.body&&(Pn=window,Pa=document,Da=Pa.documentElement,dd=Pa.body,sA=[Pn,Pa,Da,dd],uU=Di.utils.clamp,oA=Di.core.context||function(){},eu="onpointerenter"in dd?"pointer":"mouse",nA=ri.isTouch=Pn.matchMedia&&Pn.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Pn||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,hs=ri.eventTypes=("ontouchstart"in Da?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Da?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return lA=0},500),uA(),zv=1),zv};Yi.op=gi;Gt.cache=0;var ri=function(){function h(r){this.init(r)}var i=h.prototype;return i.init=function(t){zv||cA(Di)||console.warn("Please gsap.registerPlugin(Observer)"),sp||uA();var a=t.tolerance,l=t.dragMinimum,n=t.type,s=t.target,o=t.lineHeight,u=t.debounce,m=t.preventDefault,v=t.onStop,c=t.onStopDelay,d=t.ignore,p=t.wheelSpeed,f=t.event,y=t.onDragStart,g=t.onDragEnd,_=t.onDrag,b=t.onPress,w=t.onRelease,T=t.onRight,O=t.onLeft,A=t.onUp,E=t.onDown,C=t.onChangeX,I=t.onChangeY,L=t.onChange,R=t.onToggleX,D=t.onToggleY,H=t.onHover,z=t.onHoverEnd,B=t.onMove,J=t.ignoreCheck,ee=t.isNormalizer,Z=t.onGestureStart,q=t.onGestureEnd,re=t.onWheel,ge=t.onEnable,V=t.onDisable,j=t.onClick,G=t.scrollSpeed,K=t.capture,ae=t.allowClicks,Q=t.lockAxis,oe=t.onLockAxis;this.target=s=on(s)||Da,this.vars=t,d&&(d=Di.utils.toArray(d)),a=a||1e-9,l=l||0,p=p||1,G=G||1,n=n||"wheel,touch,pointer",u=u!==!1,o||(o=parseFloat(Pn.getComputedStyle(dd).lineHeight)||22);var W,Y,ne,ue,se,pe,ve,fe=this,xe=0,ke=0,Te=t.passive||!m,Ae=jo(s,Yi),Pe=jo(s,gi),it=Ae(),Ke=Pe(),Ze=~n.indexOf("touch")&&!~n.indexOf("pointer")&&hs[0]==="pointerdown",tt=ap(s),We=s.ownerDocument||Pa,Ee=[0,0,0],Ue=[0,0,0],Oe=0,ce=function(){return Oe=op()},de=function(ut,yt){return(fe.event=ut)&&d&&~d.indexOf(ut.target)||yt&&Ze&&ut.pointerType!=="touch"||J&&J(ut,yt)},le=function(){fe._vx.reset(),fe._vy.reset(),Y.pause(),v&&v(fe)},ye=function(){var ut=fe.deltaX=iA(Ee),yt=fe.deltaY=iA(Ue),Qe=Math.abs(ut)>=a,at=Math.abs(yt)>=a;L&&(Qe||at)&&L(fe,ut,yt,Ee,Ue),Qe&&(T&&fe.deltaX>0&&T(fe),O&&fe.deltaX<0&&O(fe),C&&C(fe),R&&fe.deltaX<0!=xe<0&&R(fe),xe=fe.deltaX,Ee[0]=Ee[1]=Ee[2]=0),at&&(E&&fe.deltaY>0&&E(fe),A&&fe.deltaY<0&&A(fe),I&&I(fe),D&&fe.deltaY<0!=ke<0&&D(fe),ke=fe.deltaY,Ue[0]=Ue[1]=Ue[2]=0),(ue||ne)&&(B&&B(fe),ne&&(_(fe),ne=!1),ue=!1),pe&&!(pe=!1)&&oe&&oe(fe),se&&(re(fe),se=!1),W=0},je=function(ut,yt,Qe){Ee[Qe]+=ut,Ue[Qe]+=yt,fe._vx.update(ut),fe._vy.update(yt),u?W||(W=requestAnimationFrame(ye)):ye()},Le=function(ut,yt){Q&&!ve&&(fe.axis=ve=Math.abs(ut)>Math.abs(yt)?"x":"y",pe=!0),ve!=="y"&&(Ee[2]+=ut,fe._vx.update(ut,!0)),ve!=="x"&&(Ue[2]+=yt,fe._vy.update(yt,!0)),u?W||(W=requestAnimationFrame(ye)):ye()},Be=function(ut){if(!de(ut,1)){ut=np(ut,m);var yt=ut.clientX,Qe=ut.clientY,at=yt-fe.x,ct=Qe-fe.y,gt=fe.isDragging;fe.x=yt,fe.y=Qe,(gt||Math.abs(fe.startX-yt)>=l||Math.abs(fe.startY-Qe)>=l)&&(_&&(ne=!0),gt||(fe.isDragging=!0),Le(at,ct),gt||y&&y(fe))}},Ye=fe.onPress=function(wt){de(wt,1)||wt&&wt.button||(fe.axis=ve=null,Y.pause(),fe.isPressed=!0,wt=np(wt),xe=ke=0,fe.startX=fe.x=wt.clientX,fe.startY=fe.y=wt.clientY,fe._vx.reset(),fe._vy.reset(),sn(ee?s:We,hs[1],Be,Te,!0),fe.deltaX=fe.deltaY=0,b&&b(fe))},Ge=fe.onRelease=function(wt){if(!de(wt,1)){nn(ee?s:We,hs[1],Be,!0);var ut=!isNaN(fe.y-fe.startY),yt=fe.isDragging,Qe=yt&&(Math.abs(fe.x-fe.startX)>3||Math.abs(fe.y-fe.startY)>3),at=np(wt);!Qe&&ut&&(fe._vx.reset(),fe._vy.reset(),m&&ae&&Di.delayedCall(.08,function(){if(op()-Oe>300&&!wt.defaultPrevented){if(wt.target.click)wt.target.click();else if(We.createEvent){var ct=We.createEvent("MouseEvents");ct.initMouseEvent("click",!0,!0,Pn,1,at.screenX,at.screenY,at.clientX,at.clientY,!1,!1,!1,!1,0,null),wt.target.dispatchEvent(ct)}}})),fe.isDragging=fe.isGesturing=fe.isPressed=!1,v&&yt&&!ee&&Y.restart(!0),g&&yt&&g(fe),w&&w(fe,Qe)}},Je=function(ut){return ut.touches&&ut.touches.length>1&&(fe.isGesturing=!0)&&Z(ut,fe.isDragging)},rt=function(){return(fe.isGesturing=!1)||q(fe)},_t=function(ut){if(!de(ut)){var yt=Ae(),Qe=Pe();je((yt-it)*G,(Qe-Ke)*G,1),it=yt,Ke=Qe,v&&Y.restart(!0)}},ht=function(ut){if(!de(ut)){ut=np(ut,m),re&&(se=!0);var yt=(ut.deltaMode===1?o:ut.deltaMode===2?Pn.innerHeight:1)*p;je(ut.deltaX*yt,ut.deltaY*yt,0),v&&!ee&&Y.restart(!0)}},lt=function(ut){if(!de(ut)){var yt=ut.clientX,Qe=ut.clientY,at=yt-fe.x,ct=Qe-fe.y;fe.x=yt,fe.y=Qe,ue=!0,v&&Y.restart(!0),(at||ct)&&Le(at,ct)}},St=function(ut){fe.event=ut,H(fe)},pt=function(ut){fe.event=ut,z(fe)},sr=function(ut){return de(ut)||np(ut,m)&&j(fe)};Y=fe._dc=Di.delayedCall(c||.25,le).pause(),fe.deltaX=fe.deltaY=0,fe._vx=Wv(0,50,!0),fe._vy=Wv(0,50,!0),fe.scrollX=Ae,fe.scrollY=Pe,fe.isDragging=fe.isGesturing=fe.isPressed=!1,oA(this),fe.enable=function(wt){return fe.isEnabled||(sn(tt?We:s,"scroll",FT),n.indexOf("scroll")>=0&&sn(tt?We:s,"scroll",_t,Te,K),n.indexOf("wheel")>=0&&sn(s,"wheel",ht,Te,K),(n.indexOf("touch")>=0&&nA||n.indexOf("pointer")>=0)&&(sn(s,hs[0],Ye,Te,K),sn(We,hs[2],Ge),sn(We,hs[3],Ge),ae&&sn(s,"click",ce,!0,!0),j&&sn(s,"click",sr),Z&&sn(We,"gesturestart",Je),q&&sn(We,"gestureend",rt),H&&sn(s,eu+"enter",St),z&&sn(s,eu+"leave",pt),B&&sn(s,eu+"move",lt)),fe.isEnabled=!0,wt&&wt.type&&Ye(wt),ge&&ge(fe)),fe},fe.disable=function(){fe.isEnabled&&(cd.filter(function(wt){return wt!==fe&&ap(wt.target)}).length||nn(tt?We:s,"scroll",FT),fe.isPressed&&(fe._vx.reset(),fe._vy.reset(),nn(ee?s:We,hs[1],Be,!0)),nn(tt?We:s,"scroll",_t,K),nn(s,"wheel",ht,K),nn(s,hs[0],Ye,K),nn(We,hs[2],Ge),nn(We,hs[3],Ge),nn(s,"click",ce,!0),nn(s,"click",sr),nn(We,"gesturestart",Je),nn(We,"gestureend",rt),nn(s,eu+"enter",St),nn(s,eu+"leave",pt),nn(s,eu+"move",lt),fe.isEnabled=fe.isPressed=fe.isDragging=!1,V&&V(fe))},fe.kill=fe.revert=function(){fe.disable();var wt=cd.indexOf(fe);wt>=0&&cd.splice(wt,1),ko===fe&&(ko=0)},cd.push(fe),ee&&ap(s)&&(ko=fe),fe.enable(f)},lU(h,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),h}();ri.version="3.12.5";ri.create=function(h){return new ri(h)};ri.register=cA;ri.getAll=function(){return cd.slice()};ri.getById=function(h){return cd.filter(function(i){return i.vars.id===h})[0]};aA()&&Di.registerPlugin(ri);var ft,pd,Yt,Wr,ps,Lr,EA,u0,_p,pp,up,Xv,Zi,f0,zT,ln,dA,hA,md,MA,BT,AA,an,qT,OA,LA,Ia,WT,QT,yd,JT,c0,XT,NT,Yv=1,Ki=Date.now,UT=Ki(),Yn=0,cp=0,fA=function(i,r,t){var a=In(i)&&(i.substr(0,6)==="clamp("||i.indexOf("max")>-1);return t["_"+r+"Clamp"]=a,a?i.substr(6,i.length-7):i},pA=function(i,r){return r&&(!In(i)||i.substr(0,6)!=="clamp(")?"clamp("+i+")":i},dU=function h(){return cp&&requestAnimationFrame(h)},mA=function(){return f0=1},yA=function(){return f0=0},qs=function(i){return i},dp=function(i){return Math.round(i*1e5)/1e5||0},PA=function(){return typeof window<"u"},DA=function(){return ft||PA()&&(ft=window.gsap)&&ft.registerPlugin&&ft},ou=function(i){return!!~EA.indexOf(i)},IA=function(i){return(i==="Height"?JT:Yt["inner"+i])||ps["client"+i]||Lr["client"+i]},RA=function(i){return Eo(i,"getBoundingClientRect")||(ou(i)?function(){return l0.width=Yt.innerWidth,l0.height=JT,l0}:function(){return Mo(i)})},hU=function(i,r,t){var a=t.d,l=t.d2,n=t.a;return(n=Eo(i,"getBoundingClientRect"))?function(){return n()[a]}:function(){return(r?IA(l):i["client"+l])||0}},fU=function(i,r){return!r||~fs.indexOf(i)?RA(i):function(){return l0}},Ws=function(i,r){var t=r.s,a=r.d2,l=r.d,n=r.a;return Math.max(0,(t="scroll"+a)&&(n=Eo(i,t))?n()-RA(i)()[l]:ou(i)?(ps[t]||Lr[t])-IA(a):i[t]-i["offset"+a])},Zv=function(i,r){for(var t=0;t<md.length;t+=3)(!r||~r.indexOf(md[t+1]))&&i(md[t],md[t+1],md[t+2])},In=function(i){return typeof i=="string"},cn=function(i){return typeof i=="function"},hp=function(i){return typeof i=="number"},tu=function(i){return typeof i=="object"},lp=function(i,r,t){return i&&i.progress(r?0:1)&&t&&i.pause()},VT=function(i,r){if(i.enabled){var t=i._ctx?i._ctx.add(function(){return r(i)}):r(i);t&&t.totalTime&&(i.callbackAnimation=t)}},hd=Math.abs,FA="left",BA="top",eC="right",tC="bottom",iu="width",nu="height",mp="Right",yp="Left",gp="Top",vp="Bottom",vi="padding",Wn="margin",vd="Width",rC="Height",xi="px",Xn=function(i){return Yt.getComputedStyle(i)},pU=function(i){var r=Xn(i).position;i.style.position=r==="absolute"||r==="fixed"?r:"relative"},gA=function(i,r){for(var t in r)t in i||(i[t]=r[t]);return i},Mo=function(i,r){var t=r&&Xn(i)[zT]!=="matrix(1, 0, 0, 1, 0, 0)"&&ft.to(i,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),a=i.getBoundingClientRect();return t&&t.progress(0).kill(),a},d0=function(i,r){var t=r.d2;return i["offset"+t]||i["client"+t]||0},NA=function(i){var r=[],t=i.labels,a=i.duration(),l;for(l in t)r.push(t[l]/a);return r},mU=function(i){return function(r){return ft.utils.snap(NA(i),r)}},iC=function(i){var r=ft.utils.snap(i),t=Array.isArray(i)&&i.slice(0).sort(function(a,l){return a-l});return t?function(a,l,n){n===void 0&&(n=.001);var s;if(!l)return r(a);if(l>0){for(a-=n,s=0;s<t.length;s++)if(t[s]>=a)return t[s];return t[s-1]}else for(s=t.length,a+=n;s--;)if(t[s]<=a)return t[s];return t[0]}:function(a,l,n){n===void 0&&(n=.001);var s=r(a);return!l||Math.abs(s-a)<n||s-a<0==l<0?s:r(l<0?a-i:a+i)}},yU=function(i){return function(r,t){return iC(NA(i))(r,t.direction)}},Kv=function(i,r,t,a){return t.split(",").forEach(function(l){return i(r,l,a)})},ji=function(i,r,t,a,l){return i.addEventListener(r,t,{passive:!a,capture:!!l})},ki=function(i,r,t,a){return i.removeEventListener(r,t,!!a)},Qv=function(i,r,t){t=t&&t.wheelHandler,t&&(i(r,"wheel",t),i(r,"touchmove",t))},vA={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Jv={toggleActions:"play",anticipatePin:0},h0={top:0,left:0,center:.5,bottom:1,right:1},n0=function(i,r){if(In(i)){var t=i.indexOf("="),a=~t?+(i.charAt(t-1)+1)*parseFloat(i.substr(t+1)):0;~t&&(i.indexOf("%")>t&&(a*=r/100),i=i.substr(0,t-1)),i=a+(i in h0?h0[i]*r:~i.indexOf("%")?parseFloat(i)*r/100:parseFloat(i)||0)}return i},e0=function(i,r,t,a,l,n,s,o){var u=l.startColor,m=l.endColor,v=l.fontSize,c=l.indent,d=l.fontWeight,p=Wr.createElement("div"),f=ou(t)||Eo(t,"pinType")==="fixed",y=i.indexOf("scroller")!==-1,g=f?Lr:t,_=i.indexOf("start")!==-1,b=_?u:m,w="border-color:"+b+";font-size:"+v+";color:"+b+";font-weight:"+d+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return w+="position:"+((y||o)&&f?"fixed;":"absolute;"),(y||o||!f)&&(w+=(a===gi?eC:tC)+":"+(n+parseFloat(c))+"px;"),s&&(w+="box-sizing:border-box;text-align:left;width:"+s.offsetWidth+"px;"),p._isStart=_,p.setAttribute("class","gsap-marker-"+i+(r?" marker-"+r:"")),p.style.cssText=w,p.innerText=r||r===0?i+"-"+r:i,g.children[0]?g.insertBefore(p,g.children[0]):g.appendChild(p),p._offset=p["offset"+a.op.d2],s0(p,0,a,_),p},s0=function(i,r,t,a){var l={display:"block"},n=t[a?"os2":"p2"],s=t[a?"p2":"os2"];i._isFlipped=a,l[t.a+"Percent"]=a?-100:0,l[t.a]=a?"1px":0,l["border"+n+vd]=1,l["border"+s+vd]=0,l[t.p]=r+"px",ft.set(i,l)},Ht=[],YT={},wp,bA=function(){return Ki()-Yn>34&&(wp||(wp=requestAnimationFrame(Ao)))},fd=function(){(!an||!an.isPressed||an.startX>Lr.clientWidth)&&(Gt.cache++,an?wp||(wp=requestAnimationFrame(Ao)):Ao(),Yn||lu("scrollStart"),Yn=Ki())},$T=function(){LA=Yt.innerWidth,OA=Yt.innerHeight},fp=function(){Gt.cache++,!Zi&&!AA&&!Wr.fullscreenElement&&!Wr.webkitFullscreenElement&&(!qT||LA!==Yt.innerWidth||Math.abs(Yt.innerHeight-OA)>Yt.innerHeight*.25)&&u0.restart(!0)},au={},gU=[],UA=function h(){return ki(zt,"scrollEnd",h)||ru(!0)},lu=function(i){return au[i]&&au[i].map(function(r){return r()})||gU},Dn=[],VA=function(i){for(var r=0;r<Dn.length;r+=5)(!i||Dn[r+4]&&Dn[r+4].query===i)&&(Dn[r].style.cssText=Dn[r+1],Dn[r].getBBox&&Dn[r].setAttribute("transform",Dn[r+2]||""),Dn[r+3].uncache=1)},nC=function(i,r){var t;for(ln=0;ln<Ht.length;ln++)t=Ht[ln],t&&(!r||t._ctx===r)&&(i?t.kill(1):t.revert(!0,!0));c0=!0,r&&VA(r),r||lu("revert")},$A=function(i,r){Gt.cache++,(r||!un)&&Gt.forEach(function(t){return cn(t)&&t.cacheID++&&(t.rec=0)}),In(i)&&(Yt.history.scrollRestoration=QT=i)},un,su=0,_A,vU=function(){if(_A!==su){var i=_A=su;requestAnimationFrame(function(){return i===su&&ru(!0)})}},GA=function(){Lr.appendChild(yd),JT=!an&&yd.offsetHeight||Yt.innerHeight,Lr.removeChild(yd)},wA=function(i){return _p(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(r){return r.style.display=i?"none":"block"})},ru=function(i,r){if(Yn&&!i&&!c0){ji(zt,"scrollEnd",UA);return}GA(),un=zt.isRefreshing=!0,Gt.forEach(function(a){return cn(a)&&++a.cacheID&&(a.rec=a())});var t=lu("refreshInit");MA&&zt.sort(),r||nC(),Gt.forEach(function(a){cn(a)&&(a.smooth&&(a.target.style.scrollBehavior="auto"),a(0))}),Ht.slice(0).forEach(function(a){return a.refresh()}),c0=!1,Ht.forEach(function(a){if(a._subPinOffset&&a.pin){var l=a.vars.horizontal?"offsetWidth":"offsetHeight",n=a.pin[l];a.revert(!0,1),a.adjustPinSpacing(a.pin[l]-n),a.refresh()}}),XT=1,wA(!0),Ht.forEach(function(a){var l=Ws(a.scroller,a._dir),n=a.vars.end==="max"||a._endClamp&&a.end>l,s=a._startClamp&&a.start>=l;(n||s)&&a.setPositions(s?l-1:a.start,n?Math.max(s?l:a.start+1,l):a.end,!0)}),wA(!1),XT=0,t.forEach(function(a){return a&&a.render&&a.render(-1)}),Gt.forEach(function(a){cn(a)&&(a.smooth&&requestAnimationFrame(function(){return a.target.style.scrollBehavior="smooth"}),a.rec&&a(a.rec))}),$A(QT,1),u0.pause(),su++,un=2,Ao(2),Ht.forEach(function(a){return cn(a.vars.onRefresh)&&a.vars.onRefresh(a)}),un=zt.isRefreshing=!1,lu("refresh")},ZT=0,o0=1,bp,Ao=function(i){if(i===2||!un&&!c0){zt.isUpdating=!0,bp&&bp.update(0);var r=Ht.length,t=Ki(),a=t-UT>=50,l=r&&Ht[0].scroll();if(o0=ZT>l?-1:1,un||(ZT=l),a&&(Yn&&!f0&&t-Yn>200&&(Yn=0,lu("scrollEnd")),up=UT,UT=t),o0<0){for(ln=r;ln-- >0;)Ht[ln]&&Ht[ln].update(0,a);o0=1}else for(ln=0;ln<r;ln++)Ht[ln]&&Ht[ln].update(0,a);zt.isUpdating=!1}wp=0},KT=[FA,BA,tC,eC,Wn+vp,Wn+mp,Wn+gp,Wn+yp,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],a0=KT.concat([iu,nu,"boxSizing","max"+vd,"max"+rC,"position",Wn,vi,vi+gp,vi+mp,vi+vp,vi+yp]),bU=function(i,r,t){gd(t);var a=i._gsap;if(a.spacerIsNative)gd(a.spacerState);else if(i._gsap.swappedIn){var l=r.parentNode;l&&(l.insertBefore(i,r),l.removeChild(r))}i._gsap.swappedIn=!1},GT=function(i,r,t,a){if(!i._gsap.swappedIn){for(var l=KT.length,n=r.style,s=i.style,o;l--;)o=KT[l],n[o]=t[o];n.position=t.position==="absolute"?"absolute":"relative",t.display==="inline"&&(n.display="inline-block"),s[tC]=s[eC]="auto",n.flexBasis=t.flexBasis||"auto",n.overflow="visible",n.boxSizing="border-box",n[iu]=d0(i,Yi)+xi,n[nu]=d0(i,gi)+xi,n[vi]=s[Wn]=s[BA]=s[FA]="0",gd(a),s[iu]=s["max"+vd]=t[iu],s[nu]=s["max"+rC]=t[nu],s[vi]=t[vi],i.parentNode!==r&&(i.parentNode.insertBefore(r,i),r.appendChild(i)),i._gsap.swappedIn=!0}},_U=/([A-Z])/g,gd=function(i){if(i){var r=i.t.style,t=i.length,a=0,l,n;for((i.t._gsap||ft.core.getCache(i.t)).uncache=1;a<t;a+=2)n=i[a+1],l=i[a],n?r[l]=n:r[l]&&r.removeProperty(l.replace(_U,"-$1").toLowerCase())}},t0=function(i){for(var r=a0.length,t=i.style,a=[],l=0;l<r;l++)a.push(a0[l],t[a0[l]]);return a.t=i,a},wU=function(i,r,t){for(var a=[],l=i.length,n=t?8:0,s;n<l;n+=2)s=i[n],a.push(s,s in r?r[s]:i[n+1]);return a.t=i.t,a},l0={left:0,top:0},xA=function(i,r,t,a,l,n,s,o,u,m,v,c,d,p){cn(i)&&(i=i(o)),In(i)&&i.substr(0,3)==="max"&&(i=c+(i.charAt(4)==="="?n0("0"+i.substr(3),t):0));var f=d?d.time():0,y,g,_;if(d&&d.seek(0),isNaN(i)||(i=+i),hp(i))d&&(i=ft.utils.mapRange(d.scrollTrigger.start,d.scrollTrigger.end,0,c,i)),s&&s0(s,t,a,!0);else{cn(r)&&(r=r(o));var b=(i||"0").split(" "),w,T,O,A;_=on(r,o)||Lr,w=Mo(_)||{},(!w||!w.left&&!w.top)&&Xn(_).display==="none"&&(A=_.style.display,_.style.display="block",w=Mo(_),A?_.style.display=A:_.style.removeProperty("display")),T=n0(b[0],w[a.d]),O=n0(b[1]||"0",t),i=w[a.p]-u[a.p]-m+T+l-O,s&&s0(s,O,a,t-O<20||s._isStart&&O>20),t-=t-O}if(p&&(o[p]=i||-.001,i<0&&(i=0)),n){var E=i+t,C=n._isStart;y="scroll"+a.d2,s0(n,E,a,C&&E>20||!C&&(v?Math.max(Lr[y],ps[y]):n.parentNode[y])<=E+1),v&&(u=Mo(s),v&&(n.style[a.op.p]=u[a.op.p]-a.op.m-n._offset+xi))}return d&&_&&(y=Mo(_),d.seek(c),g=Mo(_),d._caScrollDist=y[a.p]-g[a.p],i=i/d._caScrollDist*c),d&&d.seek(f),d?i:Math.round(i)},xU=/(webkit|moz|length|cssText|inset)/i,SA=function(i,r,t,a){if(i.parentNode!==r){var l=i.style,n,s;if(r===Lr){i._stOrig=l.cssText,s=Xn(i);for(n in s)!+n&&!xU.test(n)&&s[n]&&typeof l[n]=="string"&&n!=="0"&&(l[n]=s[n]);l.top=t,l.left=a}else l.cssText=i._stOrig;ft.core.getCache(i).uncache=1,r.appendChild(i)}},HA=function(i,r,t){var a=r,l=a;return function(n){var s=Math.round(i());return s!==a&&s!==l&&Math.abs(s-a)>3&&Math.abs(s-l)>3&&(n=s,t&&t()),l=a,a=n,n}},r0=function(i,r,t){var a={};a[r.p]="+="+t,ft.set(i,a)},TA=function(i,r){var t=jo(i,r),a="_scroll"+r.p2,l=function n(s,o,u,m,v){var c=n.tween,d=o.onComplete,p={};u=u||t();var f=HA(t,u,function(){c.kill(),n.tween=0});return v=m&&v||0,m=m||s-u,c&&c.kill(),o[a]=s,o.inherit=!1,o.modifiers=p,p[a]=function(){return f(u+m*c.ratio+v*c.ratio*c.ratio)},o.onUpdate=function(){Gt.cache++,n.tween&&Ao()},o.onComplete=function(){n.tween=0,d&&d.call(c)},c=n.tween=ft.to(i,o),c};return i[a]=t,t.wheelHandler=function(){return l.tween&&l.tween.kill()&&(l.tween=0)},ji(i,"wheel",t.wheelHandler),zt.isTouch&&ji(i,"touchmove",t.wheelHandler),l},zt=function(){function h(r,t){pd||h.register(ft)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),WT(this),this.init(r,t)}var i=h.prototype;return i.init=function(t,a){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!cp){this.update=this.refresh=this.kill=qs;return}t=gA(In(t)||hp(t)||t.nodeType?{trigger:t}:t,Jv);var l=t,n=l.onUpdate,s=l.toggleClass,o=l.id,u=l.onToggle,m=l.onRefresh,v=l.scrub,c=l.trigger,d=l.pin,p=l.pinSpacing,f=l.invalidateOnRefresh,y=l.anticipatePin,g=l.onScrubComplete,_=l.onSnapComplete,b=l.once,w=l.snap,T=l.pinReparent,O=l.pinSpacer,A=l.containerAnimation,E=l.fastScrollEnd,C=l.preventOverlaps,I=t.horizontal||t.containerAnimation&&t.horizontal!==!1?Yi:gi,L=!v&&v!==0,R=on(t.scroller||Yt),D=ft.core.getCache(R),H=ou(R),z=("pinType"in t?t.pinType:Eo(R,"pinType")||H&&"fixed")==="fixed",B=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],J=L&&t.toggleActions.split(" "),ee="markers"in t?t.markers:Jv.markers,Z=H?0:parseFloat(Xn(R)["border"+I.p2+vd])||0,q=this,re=t.onRefreshInit&&function(){return t.onRefreshInit(q)},ge=hU(R,H,I),V=fU(R,H),j=0,G=0,K=0,ae=jo(R,I),Q,oe,W,Y,ne,ue,se,pe,ve,fe,xe,ke,Te,Ae,Pe,it,Ke,Ze,tt,We,Ee,Ue,Oe,ce,de,le,ye,je,Le,Be,Ye,Ge,Je,rt,_t,ht,lt,St,pt;if(q._startClamp=q._endClamp=!1,q._dir=I,y*=45,q.scroller=R,q.scroll=A?A.time.bind(A):ae,Y=ae(),q.vars=t,a=a||t.animation,"refreshPriority"in t&&(MA=1,t.refreshPriority===-9999&&(bp=q)),D.tweenScroll=D.tweenScroll||{top:TA(R,gi),left:TA(R,Yi)},q.tweenTo=Q=D.tweenScroll[I.p],q.scrubDuration=function(Qe){Je=hp(Qe)&&Qe,Je?Ge?Ge.duration(Qe):Ge=ft.to(a,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Je,paused:!0,onComplete:function(){return g&&g(q)}}):(Ge&&Ge.progress(1).kill(),Ge=0)},a&&(a.vars.lazy=!1,a._initted&&!q.isReverted||a.vars.immediateRender!==!1&&t.immediateRender!==!1&&a.duration()&&a.render(0,!0,!0),q.animation=a.pause(),a.scrollTrigger=q,q.scrubDuration(v),Be=0,o||(o=a.vars.id)),w&&((!tu(w)||w.push)&&(w={snapTo:w}),"scrollBehavior"in Lr.style&&ft.set(H?[Lr,ps]:R,{scrollBehavior:"auto"}),Gt.forEach(function(Qe){return cn(Qe)&&Qe.target===(H?Wr.scrollingElement||ps:R)&&(Qe.smooth=!1)}),W=cn(w.snapTo)?w.snapTo:w.snapTo==="labels"?mU(a):w.snapTo==="labelsDirectional"?yU(a):w.directional!==!1?function(Qe,at){return iC(w.snapTo)(Qe,Ki()-G<500?0:at.direction)}:ft.utils.snap(w.snapTo),rt=w.duration||{min:.1,max:2},rt=tu(rt)?pp(rt.min,rt.max):pp(rt,rt),_t=ft.delayedCall(w.delay||Je/2||.1,function(){var Qe=ae(),at=Ki()-G<500,ct=Q.tween;if((at||Math.abs(q.getVelocity())<10)&&!ct&&!f0&&j!==Qe){var gt=(Qe-ue)/Ae,Pt=a&&!L?a.totalProgress():gt,jt=at?0:(Pt-Ye)/(Ki()-up)*1e3||0,vr=ft.utils.clamp(-gt,1-gt,hd(jt/2)*jt/.185),Qr=gt+(w.inertia===!1?0:vr),pr,cr,ir=w,Ai=ir.onStart,we=ir.onInterrupt,Xe=ir.onComplete;if(pr=W(Qr,q),hp(pr)||(pr=Qr),cr=Math.round(ue+pr*Ae),Qe<=se&&Qe>=ue&&cr!==Qe){if(ct&&!ct._initted&&ct.data<=hd(cr-Qe))return;w.inertia===!1&&(vr=pr-gt),Q(cr,{duration:rt(hd(Math.max(hd(Qr-Pt),hd(pr-Pt))*.185/jt/.05||0)),ease:w.ease||"power3",data:hd(cr-Qe),onInterrupt:function(){return _t.restart(!0)&&we&&we(q)},onComplete:function(){q.update(),j=ae(),a&&(Ge?Ge.resetTo("totalProgress",pr,a._tTime/a._tDur):a.progress(pr)),Be=Ye=a&&!L?a.totalProgress():q.progress,_&&_(q),Xe&&Xe(q)}},Qe,vr*Ae,cr-Qe-vr*Ae),Ai&&Ai(q,Q.tween)}}else q.isActive&&j!==Qe&&_t.restart(!0)}).pause()),o&&(YT[o]=q),c=q.trigger=on(c||d!==!0&&d),pt=c&&c._gsap&&c._gsap.stRevert,pt&&(pt=pt(q)),d=d===!0?c:on(d),In(s)&&(s={targets:c,className:s}),d&&(p===!1||p===Wn||(p=!p&&d.parentNode&&d.parentNode.style&&Xn(d.parentNode).display==="flex"?!1:vi),q.pin=d,oe=ft.core.getCache(d),oe.spacer?Pe=oe.pinState:(O&&(O=on(O),O&&!O.nodeType&&(O=O.current||O.nativeElement),oe.spacerIsNative=!!O,O&&(oe.spacerState=t0(O))),oe.spacer=Ze=O||Wr.createElement("div"),Ze.classList.add("pin-spacer"),o&&Ze.classList.add("pin-spacer-"+o),oe.pinState=Pe=t0(d)),t.force3D!==!1&&ft.set(d,{force3D:!0}),q.spacer=Ze=oe.spacer,Le=Xn(d),ce=Le[p+I.os2],We=ft.getProperty(d),Ee=ft.quickSetter(d,I.a,xi),GT(d,Ze,Le),Ke=t0(d)),ee){ke=tu(ee)?gA(ee,vA):vA,fe=e0("scroller-start",o,R,I,ke,0),xe=e0("scroller-end",o,R,I,ke,0,fe),tt=fe["offset"+I.op.d2];var sr=on(Eo(R,"content")||R);pe=this.markerStart=e0("start",o,sr,I,ke,tt,0,A),ve=this.markerEnd=e0("end",o,sr,I,ke,tt,0,A),A&&(St=ft.quickSetter([pe,ve],I.a,xi)),!z&&!(fs.length&&Eo(R,"fixedMarkers")===!0)&&(pU(H?Lr:R),ft.set([fe,xe],{force3D:!0}),le=ft.quickSetter(fe,I.a,xi),je=ft.quickSetter(xe,I.a,xi))}if(A){var wt=A.vars.onUpdate,ut=A.vars.onUpdateParams;A.eventCallback("onUpdate",function(){q.update(0,0,1),wt&&wt.apply(A,ut||[])})}if(q.previous=function(){return Ht[Ht.indexOf(q)-1]},q.next=function(){return Ht[Ht.indexOf(q)+1]},q.revert=function(Qe,at){if(!at)return q.kill(!0);var ct=Qe!==!1||!q.enabled,gt=Zi;ct!==q.isReverted&&(ct&&(ht=Math.max(ae(),q.scroll.rec||0),K=q.progress,lt=a&&a.progress()),pe&&[pe,ve,fe,xe].forEach(function(Pt){return Pt.style.display=ct?"none":"block"}),ct&&(Zi=q,q.update(ct)),d&&(!T||!q.isActive)&&(ct?bU(d,Ze,Pe):GT(d,Ze,Xn(d),de)),ct||q.update(ct),Zi=gt,q.isReverted=ct)},q.refresh=function(Qe,at,ct,gt){if(!((Zi||!q.enabled)&&!at)){if(d&&Qe&&Yn){ji(h,"scrollEnd",UA);return}!un&&re&&re(q),Zi=q,Q.tween&&!ct&&(Q.tween.kill(),Q.tween=0),Ge&&Ge.pause(),f&&a&&a.revert({kill:!1}).invalidate(),q.isReverted||q.revert(!0,!0),q._subPinOffset=!1;var Pt=ge(),jt=V(),vr=A?A.duration():Ws(R,I),Qr=Ae<=.01,pr=0,cr=gt||0,ir=tu(ct)?ct.end:t.end,Ai=t.endTrigger||c,we=tu(ct)?ct.start:t.start||(t.start===0||!c?0:d?"0 0":"0 100%"),Xe=q.pinnedContainer=t.pinnedContainer&&on(t.pinnedContainer,q),nt=c&&Math.max(0,Ht.indexOf(q))||0,ze=nt,Tt,$e,Bt,st,Et,et,or,Gr,Mr,Fr,ui,_i,Ji;for(ee&&tu(ct)&&(_i=ft.getProperty(fe,I.p),Ji=ft.getProperty(xe,I.p));ze--;)et=Ht[ze],et.end||et.refresh(0,1)||(Zi=q),or=et.pin,or&&(or===c||or===d||or===Xe)&&!et.isReverted&&(Fr||(Fr=[]),Fr.unshift(et),et.revert(!0,!0)),et!==Ht[ze]&&(nt--,ze--);for(cn(we)&&(we=we(q)),we=fA(we,"start",q),ue=xA(we,c,Pt,I,ae(),pe,fe,q,jt,Z,z,vr,A,q._startClamp&&"_startClamp")||(d?-.001:0),cn(ir)&&(ir=ir(q)),In(ir)&&!ir.indexOf("+=")&&(~ir.indexOf(" ")?ir=(In(we)?we.split(" ")[0]:"")+ir:(pr=n0(ir.substr(2),Pt),ir=In(we)?we:(A?ft.utils.mapRange(0,A.duration(),A.scrollTrigger.start,A.scrollTrigger.end,ue):ue)+pr,Ai=c)),ir=fA(ir,"end",q),se=Math.max(ue,xA(ir||(Ai?"100% 0":vr),Ai,Pt,I,ae()+pr,ve,xe,q,jt,Z,z,vr,A,q._endClamp&&"_endClamp"))||-.001,pr=0,ze=nt;ze--;)et=Ht[ze],or=et.pin,or&&et.start-et._pinPush<=ue&&!A&&et.end>0&&(Tt=et.end-(q._startClamp?Math.max(0,et.start):et.start),(or===c&&et.start-et._pinPush<ue||or===Xe)&&isNaN(we)&&(pr+=Tt*(1-et.progress)),or===d&&(cr+=Tt));if(ue+=pr,se+=pr,q._startClamp&&(q._startClamp+=pr),q._endClamp&&!un&&(q._endClamp=se||-.001,se=Math.min(se,Ws(R,I))),Ae=se-ue||(ue-=.01)&&.001,Qr&&(K=ft.utils.clamp(0,1,ft.utils.normalize(ue,se,ht))),q._pinPush=cr,pe&&pr&&(Tt={},Tt[I.a]="+="+pr,Xe&&(Tt[I.p]="-="+ae()),ft.set([pe,ve],Tt)),d&&!(XT&&q.end>=Ws(R,I)))Tt=Xn(d),st=I===gi,Bt=ae(),Ue=parseFloat(We(I.a))+cr,!vr&&se>1&&(ui=(H?Wr.scrollingElement||ps:R).style,ui={style:ui,value:ui["overflow"+I.a.toUpperCase()]},H&&Xn(Lr)["overflow"+I.a.toUpperCase()]!=="scroll"&&(ui.style["overflow"+I.a.toUpperCase()]="scroll")),GT(d,Ze,Tt),Ke=t0(d),$e=Mo(d,!0),Gr=z&&jo(R,st?Yi:gi)(),p?(de=[p+I.os2,Ae+cr+xi],de.t=Ze,ze=p===vi?d0(d,I)+Ae+cr:0,ze&&(de.push(I.d,ze+xi),Ze.style.flexBasis!=="auto"&&(Ze.style.flexBasis=ze+xi)),gd(de),Xe&&Ht.forEach(function(Br){Br.pin===Xe&&Br.vars.pinSpacing!==!1&&(Br._subPinOffset=!0)}),z&&ae(ht)):(ze=d0(d,I),ze&&Ze.style.flexBasis!=="auto"&&(Ze.style.flexBasis=ze+xi)),z&&(Et={top:$e.top+(st?Bt-ue:Gr)+xi,left:$e.left+(st?Gr:Bt-ue)+xi,boxSizing:"border-box",position:"fixed"},Et[iu]=Et["max"+vd]=Math.ceil($e.width)+xi,Et[nu]=Et["max"+rC]=Math.ceil($e.height)+xi,Et[Wn]=Et[Wn+gp]=Et[Wn+mp]=Et[Wn+vp]=Et[Wn+yp]="0",Et[vi]=Tt[vi],Et[vi+gp]=Tt[vi+gp],Et[vi+mp]=Tt[vi+mp],Et[vi+vp]=Tt[vi+vp],Et[vi+yp]=Tt[vi+yp],it=wU(Pe,Et,T),un&&ae(0)),a?(Mr=a._initted,BT(1),a.render(a.duration(),!0,!0),Oe=We(I.a)-Ue+Ae+cr,ye=Math.abs(Ae-Oe)>1,z&&ye&&it.splice(it.length-2,2),a.render(0,!0,!0),Mr||a.invalidate(!0),a.parent||a.totalTime(a.totalTime()),BT(0)):Oe=Ae,ui&&(ui.value?ui.style["overflow"+I.a.toUpperCase()]=ui.value:ui.style.removeProperty("overflow-"+I.a));else if(c&&ae()&&!A)for($e=c.parentNode;$e&&$e!==Lr;)$e._pinOffset&&(ue-=$e._pinOffset,se-=$e._pinOffset),$e=$e.parentNode;Fr&&Fr.forEach(function(Br){return Br.revert(!1,!0)}),q.start=ue,q.end=se,Y=ne=un?ht:ae(),!A&&!un&&(Y<ht&&ae(ht),q.scroll.rec=0),q.revert(!1,!0),G=Ki(),_t&&(j=-1,_t.restart(!0)),Zi=0,a&&L&&(a._initted||lt)&&a.progress()!==lt&&a.progress(lt||0,!0).render(a.time(),!0,!0),(Qr||K!==q.progress||A||f)&&(a&&!L&&a.totalProgress(A&&ue<-.001&&!K?ft.utils.normalize(ue,se,0):K,!0),q.progress=Qr||(Y-ue)/Ae===K?0:K),d&&p&&(Ze._pinOffset=Math.round(q.progress*Oe)),Ge&&Ge.invalidate(),isNaN(_i)||(_i-=ft.getProperty(fe,I.p),Ji-=ft.getProperty(xe,I.p),r0(fe,I,_i),r0(pe,I,_i-(gt||0)),r0(xe,I,Ji),r0(ve,I,Ji-(gt||0))),Qr&&!un&&q.update(),m&&!un&&!Te&&(Te=!0,m(q),Te=!1)}},q.getVelocity=function(){return(ae()-ne)/(Ki()-up)*1e3||0},q.endAnimation=function(){lp(q.callbackAnimation),a&&(Ge?Ge.progress(1):a.paused()?L||lp(a,q.direction<0,1):lp(a,a.reversed()))},q.labelToScroll=function(Qe){return a&&a.labels&&(ue||q.refresh()||ue)+a.labels[Qe]/a.duration()*Ae||0},q.getTrailing=function(Qe){var at=Ht.indexOf(q),ct=q.direction>0?Ht.slice(0,at).reverse():Ht.slice(at+1);return(In(Qe)?ct.filter(function(gt){return gt.vars.preventOverlaps===Qe}):ct).filter(function(gt){return q.direction>0?gt.end<=ue:gt.start>=se})},q.update=function(Qe,at,ct){if(!(A&&!ct&&!Qe)){var gt=un===!0?ht:q.scroll(),Pt=Qe?0:(gt-ue)/Ae,jt=Pt<0?0:Pt>1?1:Pt||0,vr=q.progress,Qr,pr,cr,ir,Ai,we,Xe,nt;if(at&&(ne=Y,Y=A?ae():gt,w&&(Ye=Be,Be=a&&!L?a.totalProgress():jt)),y&&d&&!Zi&&!Yv&&Yn&&(!jt&&ue<gt+(gt-ne)/(Ki()-up)*y?jt=1e-4:jt===1&&se>gt+(gt-ne)/(Ki()-up)*y&&(jt=.9999)),jt!==vr&&q.enabled){if(Qr=q.isActive=!!jt&&jt<1,pr=!!vr&&vr<1,we=Qr!==pr,Ai=we||!!jt!=!!vr,q.direction=jt>vr?1:-1,q.progress=jt,Ai&&!Zi&&(cr=jt&&!vr?0:jt===1?1:vr===1?2:3,L&&(ir=!we&&J[cr+1]!=="none"&&J[cr+1]||J[cr],nt=a&&(ir==="complete"||ir==="reset"||ir in a))),C&&(we||nt)&&(nt||v||!a)&&(cn(C)?C(q):q.getTrailing(C).forEach(function(Bt){return Bt.endAnimation()})),L||(Ge&&!Zi&&!Yv?(Ge._dp._time-Ge._start!==Ge._time&&Ge.render(Ge._dp._time-Ge._start),Ge.resetTo?Ge.resetTo("totalProgress",jt,a._tTime/a._tDur):(Ge.vars.totalProgress=jt,Ge.invalidate().restart())):a&&a.totalProgress(jt,!!(Zi&&(G||Qe)))),d){if(Qe&&p&&(Ze.style[p+I.os2]=ce),!z)Ee(dp(Ue+Oe*jt));else if(Ai){if(Xe=!Qe&&jt>vr&&se+1>gt&&gt+1>=Ws(R,I),T)if(!Qe&&(Qr||Xe)){var ze=Mo(d,!0),Tt=gt-ue;SA(d,Lr,ze.top+(I===gi?Tt:0)+xi,ze.left+(I===gi?0:Tt)+xi)}else SA(d,Ze);gd(Qr||Xe?it:Ke),ye&&jt<1&&Qr||Ee(Ue+(jt===1&&!Xe?Oe:0))}}w&&!Q.tween&&!Zi&&!Yv&&_t.restart(!0),s&&(we||b&&jt&&(jt<1||!NT))&&_p(s.targets).forEach(function(Bt){return Bt.classList[Qr||b?"add":"remove"](s.className)}),n&&!L&&!Qe&&n(q),Ai&&!Zi?(L&&(nt&&(ir==="complete"?a.pause().totalProgress(1):ir==="reset"?a.restart(!0).pause():ir==="restart"?a.restart(!0):a[ir]()),n&&n(q)),(we||!NT)&&(u&&we&&VT(q,u),B[cr]&&VT(q,B[cr]),b&&(jt===1?q.kill(!1,1):B[cr]=0),we||(cr=jt===1?1:3,B[cr]&&VT(q,B[cr]))),E&&!Qr&&Math.abs(q.getVelocity())>(hp(E)?E:2500)&&(lp(q.callbackAnimation),Ge?Ge.progress(1):lp(a,ir==="reverse"?1:!jt,1))):L&&n&&!Zi&&n(q)}if(je){var $e=A?gt/A.duration()*(A._caScrollDist||0):gt;le($e+(fe._isFlipped?1:0)),je($e)}St&&St(-gt/A.duration()*(A._caScrollDist||0))}},q.enable=function(Qe,at){q.enabled||(q.enabled=!0,ji(R,"resize",fp),H||ji(R,"scroll",fd),re&&ji(h,"refreshInit",re),Qe!==!1&&(q.progress=K=0,Y=ne=j=ae()),at!==!1&&q.refresh())},q.getTween=function(Qe){return Qe&&Q?Q.tween:Ge},q.setPositions=function(Qe,at,ct,gt){if(A){var Pt=A.scrollTrigger,jt=A.duration(),vr=Pt.end-Pt.start;Qe=Pt.start+vr*Qe/jt,at=Pt.start+vr*at/jt}q.refresh(!1,!1,{start:pA(Qe,ct&&!!q._startClamp),end:pA(at,ct&&!!q._endClamp)},gt),q.update()},q.adjustPinSpacing=function(Qe){if(de&&Qe){var at=de.indexOf(I.d)+1;de[at]=parseFloat(de[at])+Qe+xi,de[1]=parseFloat(de[1])+Qe+xi,gd(de)}},q.disable=function(Qe,at){if(q.enabled&&(Qe!==!1&&q.revert(!0,!0),q.enabled=q.isActive=!1,at||Ge&&Ge.pause(),ht=0,oe&&(oe.uncache=1),re&&ki(h,"refreshInit",re),_t&&(_t.pause(),Q.tween&&Q.tween.kill()&&(Q.tween=0)),!H)){for(var ct=Ht.length;ct--;)if(Ht[ct].scroller===R&&Ht[ct]!==q)return;ki(R,"resize",fp),H||ki(R,"scroll",fd)}},q.kill=function(Qe,at){q.disable(Qe,at),Ge&&!at&&Ge.kill(),o&&delete YT[o];var ct=Ht.indexOf(q);ct>=0&&Ht.splice(ct,1),ct===ln&&o0>0&&ln--,ct=0,Ht.forEach(function(gt){return gt.scroller===q.scroller&&(ct=1)}),ct||un||(q.scroll.rec=0),a&&(a.scrollTrigger=null,Qe&&a.revert({kill:!1}),at||a.kill()),pe&&[pe,ve,fe,xe].forEach(function(gt){return gt.parentNode&&gt.parentNode.removeChild(gt)}),bp===q&&(bp=0),d&&(oe&&(oe.uncache=1),ct=0,Ht.forEach(function(gt){return gt.pin===d&&ct++}),ct||(oe.spacer=0)),t.onKill&&t.onKill(q)},Ht.push(q),q.enable(!1,!1),pt&&pt(q),a&&a.add&&!Ae){var yt=q.update;q.update=function(){q.update=yt,ue||se||q.refresh()},ft.delayedCall(.01,q.update),Ae=.01,ue=se=0}else q.refresh();d&&vU()},h.register=function(t){return pd||(ft=t||DA(),PA()&&window.document&&h.enable(),pd=cp),pd},h.defaults=function(t){if(t)for(var a in t)Jv[a]=t[a];return Jv},h.disable=function(t,a){cp=0,Ht.forEach(function(n){return n[a?"kill":"disable"](t)}),ki(Yt,"wheel",fd),ki(Wr,"scroll",fd),clearInterval(Xv),ki(Wr,"touchcancel",qs),ki(Lr,"touchstart",qs),Kv(ki,Wr,"pointerdown,touchstart,mousedown",mA),Kv(ki,Wr,"pointerup,touchend,mouseup",yA),u0.kill(),Zv(ki);for(var l=0;l<Gt.length;l+=3)Qv(ki,Gt[l],Gt[l+1]),Qv(ki,Gt[l],Gt[l+2])},h.enable=function(){if(Yt=window,Wr=document,ps=Wr.documentElement,Lr=Wr.body,ft&&(_p=ft.utils.toArray,pp=ft.utils.clamp,WT=ft.core.context||qs,BT=ft.core.suppressOverwrites||qs,QT=Yt.history.scrollRestoration||"auto",ZT=Yt.pageYOffset,ft.core.globals("ScrollTrigger",h),Lr)){cp=1,yd=document.createElement("div"),yd.style.height="100vh",yd.style.position="absolute",GA(),dU(),ri.register(ft),h.isTouch=ri.isTouch,Ia=ri.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),qT=ri.isTouch===1,ji(Yt,"wheel",fd),EA=[Yt,Wr,ps,Lr],ft.matchMedia?(h.matchMedia=function(o){var u=ft.matchMedia(),m;for(m in o)u.add(m,o[m]);return u},ft.addEventListener("matchMediaInit",function(){return nC()}),ft.addEventListener("matchMediaRevert",function(){return VA()}),ft.addEventListener("matchMedia",function(){ru(0,1),lu("matchMedia")}),ft.matchMedia("(orientation: portrait)",function(){return $T(),$T})):console.warn("Requires GSAP 3.11.0 or later"),$T(),ji(Wr,"scroll",fd);var t=Lr.style,a=t.borderTopStyle,l=ft.core.Animation.prototype,n,s;for(l.revert||Object.defineProperty(l,"revert",{value:function(){return this.time(-.01,!0)}}),t.borderTopStyle="solid",n=Mo(Lr),gi.m=Math.round(n.top+gi.sc())||0,Yi.m=Math.round(n.left+Yi.sc())||0,a?t.borderTopStyle=a:t.removeProperty("border-top-style"),Xv=setInterval(bA,250),ft.delayedCall(.5,function(){return Yv=0}),ji(Wr,"touchcancel",qs),ji(Lr,"touchstart",qs),Kv(ji,Wr,"pointerdown,touchstart,mousedown",mA),Kv(ji,Wr,"pointerup,touchend,mouseup",yA),zT=ft.utils.checkPrefix("transform"),a0.push(zT),pd=Ki(),u0=ft.delayedCall(.2,ru).pause(),md=[Wr,"visibilitychange",function(){var o=Yt.innerWidth,u=Yt.innerHeight;Wr.hidden?(dA=o,hA=u):(dA!==o||hA!==u)&&fp()},Wr,"DOMContentLoaded",ru,Yt,"load",ru,Yt,"resize",fp],Zv(ji),Ht.forEach(function(o){return o.enable(0,1)}),s=0;s<Gt.length;s+=3)Qv(ki,Gt[s],Gt[s+1]),Qv(ki,Gt[s],Gt[s+2])}},h.config=function(t){"limitCallbacks"in t&&(NT=!!t.limitCallbacks);var a=t.syncInterval;a&&clearInterval(Xv)||(Xv=a)&&setInterval(bA,a),"ignoreMobileResize"in t&&(qT=h.isTouch===1&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(Zv(ki)||Zv(ji,t.autoRefreshEvents||"none"),AA=(t.autoRefreshEvents+"").indexOf("resize")===-1)},h.scrollerProxy=function(t,a){var l=on(t),n=Gt.indexOf(l),s=ou(l);~n&&Gt.splice(n,s?6:2),a&&(s?fs.unshift(Yt,a,Lr,a,ps,a):fs.unshift(l,a))},h.clearMatchMedia=function(t){Ht.forEach(function(a){return a._ctx&&a._ctx.query===t&&a._ctx.kill(!0,!0)})},h.isInViewport=function(t,a,l){var n=(In(t)?on(t):t).getBoundingClientRect(),s=n[l?iu:nu]*a||0;return l?n.right-s>0&&n.left+s<Yt.innerWidth:n.bottom-s>0&&n.top+s<Yt.innerHeight},h.positionInViewport=function(t,a,l){In(t)&&(t=on(t));var n=t.getBoundingClientRect(),s=n[l?iu:nu],o=a==null?s/2:a in h0?h0[a]*s:~a.indexOf("%")?parseFloat(a)*s/100:parseFloat(a)||0;return l?(n.left+o)/Yt.innerWidth:(n.top+o)/Yt.innerHeight},h.killAll=function(t){if(Ht.slice(0).forEach(function(l){return l.vars.id!=="ScrollSmoother"&&l.kill()}),t!==!0){var a=au.killAll||[];au={},a.forEach(function(l){return l()})}},h}();zt.version="3.12.5";zt.saveStyles=function(h){return h?_p(h).forEach(function(i){if(i&&i.style){var r=Dn.indexOf(i);r>=0&&Dn.splice(r,5),Dn.push(i,i.style.cssText,i.getBBox&&i.getAttribute("transform"),ft.core.getCache(i),WT())}}):Dn};zt.revert=function(h,i){return nC(!h,i)};zt.create=function(h,i){return new zt(h,i)};zt.refresh=function(h){return h?fp():(pd||zt.register())&&ru(!0)};zt.update=function(h){return++Gt.cache&&Ao(h===!0?2:0)};zt.clearScrollMemory=$A;zt.maxScroll=function(h,i){return Ws(h,i?Yi:gi)};zt.getScrollFunc=function(h,i){return jo(on(h),i?Yi:gi)};zt.getById=function(h){return YT[h]};zt.getAll=function(){return Ht.filter(function(h){return h.vars.id!=="ScrollSmoother"})};zt.isScrolling=function(){return!!Yn};zt.snapDirectional=iC;zt.addEventListener=function(h,i){var r=au[h]||(au[h]=[]);~r.indexOf(i)||r.push(i)};zt.removeEventListener=function(h,i){var r=au[h],t=r&&r.indexOf(i);t>=0&&r.splice(t,1)};zt.batch=function(h,i){var r=[],t={},a=i.interval||.016,l=i.batchMax||1e9,n=function(u,m){var v=[],c=[],d=ft.delayedCall(a,function(){m(v,c),v=[],c=[]}).pause();return function(p){v.length||d.restart(!0),v.push(p.trigger),c.push(p),l<=v.length&&d.progress(1)}},s;for(s in i)t[s]=s.substr(0,2)==="on"&&cn(i[s])&&s!=="onRefreshInit"?n(s,i[s]):i[s];return cn(l)&&(l=l(),ji(zt,"refresh",function(){return l=i.batchMax()})),_p(h).forEach(function(o){var u={};for(s in t)u[s]=t[s];u.trigger=o,r.push(zt.create(u))}),r};var CA=function(i,r,t,a){return r>a?i(a):r<0&&i(0),t>a?(a-r)/(t-r):t<0?r/(r-t):1},HT=function h(i,r){r===!0?i.style.removeProperty("touch-action"):i.style.touchAction=r===!0?"auto":r?"pan-"+r+(ri.isTouch?" pinch-zoom":""):"none",i===ps&&h(Lr,r)},i0={auto:1,scroll:1},SU=function(i){var r=i.event,t=i.target,a=i.axis,l=(r.changedTouches?r.changedTouches[0]:r).target,n=l._gsap||ft.core.getCache(l),s=Ki(),o;if(!n._isScrollT||s-n._isScrollT>2e3){for(;l&&l!==Lr&&(l.scrollHeight<=l.clientHeight&&l.scrollWidth<=l.clientWidth||!(i0[(o=Xn(l)).overflowY]||i0[o.overflowX]));)l=l.parentNode;n._isScroll=l&&l!==t&&!ou(l)&&(i0[(o=Xn(l)).overflowY]||i0[o.overflowX]),n._isScrollT=s}(n._isScroll||a==="x")&&(r.stopPropagation(),r._gsapAllow=!0)},zA=function(i,r,t,a){return ri.create({target:i,capture:!0,debounce:!1,lockAxis:!0,type:r,onWheel:a=a&&SU,onPress:a,onDrag:a,onScroll:a,onEnable:function(){return t&&ji(Wr,ri.eventTypes[0],jA,!1,!0)},onDisable:function(){return ki(Wr,ri.eventTypes[0],jA,!0)}})},TU=/(input|label|select|textarea)/i,kA,jA=function(i){var r=TU.test(i.target.tagName);(r||kA)&&(i._gsapAllow=!0,kA=r)},CU=function(i){tu(i)||(i={}),i.preventDefault=i.isNormalizer=i.allowClicks=!0,i.type||(i.type="wheel,touch"),i.debounce=!!i.debounce,i.id=i.id||"normalizer";var r=i,t=r.normalizeScrollX,a=r.momentum,l=r.allowNestedScroll,n=r.onRelease,s,o,u=on(i.target)||ps,m=ft.core.globals().ScrollSmoother,v=m&&m.get(),c=Ia&&(i.content&&on(i.content)||v&&i.content!==!1&&!v.smooth()&&v.content()),d=jo(u,gi),p=jo(u,Yi),f=1,y=(ri.isTouch&&Yt.visualViewport?Yt.visualViewport.scale*Yt.visualViewport.width:Yt.outerWidth)/Yt.innerWidth,g=0,_=cn(a)?function(){return a(s)}:function(){return a||2.8},b,w,T=zA(u,i.type,!0,l),O=function(){return w=!1},A=qs,E=qs,C=function(){o=Ws(u,gi),E=pp(Ia?1:0,o),t&&(A=pp(0,Ws(u,Yi))),b=su},I=function(){c._gsap.y=dp(parseFloat(c._gsap.y)+d.offset)+"px",c.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(c._gsap.y)+", 0, 1)",d.offset=d.cacheID=0},L=function(){if(w){requestAnimationFrame(O);var ee=dp(s.deltaY/2),Z=E(d.v-ee);if(c&&Z!==d.v+d.offset){d.offset=Z-d.v;var q=dp((parseFloat(c&&c._gsap.y)||0)-d.offset);c.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+q+", 0, 1)",c._gsap.y=q+"px",d.cacheID=Gt.cache,Ao()}return!0}d.offset&&I(),w=!0},R,D,H,z,B=function(){C(),R.isActive()&&R.vars.scrollY>o&&(d()>o?R.progress(1)&&d(o):R.resetTo("scrollY",o))};return c&&ft.set(c,{y:"+=0"}),i.ignoreCheck=function(J){return Ia&&J.type==="touchmove"&&L(J)||f>1.05&&J.type!=="touchstart"||s.isGesturing||J.touches&&J.touches.length>1},i.onPress=function(){w=!1;var J=f;f=dp((Yt.visualViewport&&Yt.visualViewport.scale||1)/y),R.pause(),J!==f&&HT(u,f>1.01?!0:t?!1:"x"),D=p(),H=d(),C(),b=su},i.onRelease=i.onGestureStart=function(J,ee){if(d.offset&&I(),!ee)z.restart(!0);else{Gt.cache++;var Z=_(),q,re;t&&(q=p(),re=q+Z*.05*-J.velocityX/.227,Z*=CA(p,q,re,Ws(u,Yi)),R.vars.scrollX=A(re)),q=d(),re=q+Z*.05*-J.velocityY/.227,Z*=CA(d,q,re,Ws(u,gi)),R.vars.scrollY=E(re),R.invalidate().duration(Z).play(.01),(Ia&&R.vars.scrollY>=o||q>=o-1)&&ft.to({},{onUpdate:B,duration:Z})}n&&n(J)},i.onWheel=function(){R._ts&&R.pause(),Ki()-g>1e3&&(b=0,g=Ki())},i.onChange=function(J,ee,Z,q,re){if(su!==b&&C(),ee&&t&&p(A(q[2]===ee?D+(J.startX-J.x):p()+ee-q[1])),Z){d.offset&&I();var ge=re[2]===Z,V=ge?H+J.startY-J.y:d()+Z-re[1],j=E(V);ge&&V!==j&&(H+=j-V),d(j)}(Z||ee)&&Ao()},i.onEnable=function(){HT(u,t?!1:"x"),zt.addEventListener("refresh",B),ji(Yt,"resize",B),d.smooth&&(d.target.style.scrollBehavior="auto",d.smooth=p.smooth=!1),T.enable()},i.onDisable=function(){HT(u,!0),ki(Yt,"resize",B),zt.removeEventListener("refresh",B),T.kill()},i.lockAxis=i.lockAxis!==!1,s=new ri(i),s.iOS=Ia,Ia&&!d()&&d(1),Ia&&ft.ticker.add(qs),z=s._dc,R=ft.to(s,{ease:"power4",paused:!0,inherit:!1,scrollX:t?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:HA(d,d(),function(){return R.pause()})},onUpdate:Ao,onComplete:z.vars.onComplete}),s};zt.sort=function(h){return Ht.sort(h||function(i,r){return(i.vars.refreshPriority||0)*-1e6+i.start-(r.start+(r.vars.refreshPriority||0)*-1e6)})};zt.observe=function(h){return new ri(h)};zt.normalizeScroll=function(h){if(typeof h>"u")return an;if(h===!0&&an)return an.enable();if(h===!1){an&&an.kill(),an=h;return}var i=h instanceof ri?h:CU(h);return an&&an.target===i.target&&an.kill(),ou(i.target)&&(an=i),i};zt.core={_getVelocityProp:Wv,_inputObserver:zA,_scrollers:Gt,_proxies:fs,bridge:{ss:function(){Yn||lu("scrollStart"),Yn=Ki()},ref:function(){return Zi}}};DA()&&ft.registerPlugin(zt);function qA(){Co.registerPlugin(zt),window.addEventListener("DOMContentLoaded",h=>{function i(r,t){let a=typeof r;return typeof t!="string"||t.trim()===""?r:t==="true"&&a==="boolean"?!0:t==="false"&&a==="boolean"?!1:isNaN(t)&&a==="string"?t:!isNaN(t)&&a==="number"?+t:r}$("[tr-marquee-element='component']").each(function(r){let t=$(this),a=t.find("[tr-marquee-element='panel']"),l=t.find("[tr-marquee-element='triggerhover']"),n=t.find("[tr-marquee-element='triggerclick']"),s=i(100,t.attr("tr-marquee-speed")),o=i(!1,t.attr("tr-marquee-vertical")),u=i(!1,t.attr("tr-marquee-reverse")),m=i(!1,t.attr("tr-marquee-scrolldirection")),v=i(!1,t.attr("tr-marquee-scrollscrub")),c=-100,d=1,p=!1;u&&(c=100);let f=Co.timeline({repeat:-1,onReverseComplete:()=>f.progress(1)});o?(s=a.first().height()/s,f.fromTo(a,{yPercent:0},{yPercent:c,ease:"none",duration:s})):(s=a.first().width()/s,f.fromTo(a,{xPercent:0},{xPercent:c,ease:"none",duration:s}));let y={value:1};zt.create({trigger:"body",start:"top top",end:"bottom bottom",onUpdate:_=>{if(!p&&(m&&d!==_.direction&&(d=_.direction,f.timeScale(_.direction)),v)){let b=_.getVelocity()*.006;b=Co.utils.clamp(-60,60,b),Co.timeline({onUpdate:()=>f.timeScale(y.value)}).fromTo(y,{value:b},{value:d,duration:.5})}}});function g(_){p=_;let b={value:1},w=Co.timeline({onUpdate:()=>f.timeScale(b.value)});_?(w.fromTo(b,{value:d},{value:0,duration:.5}),n.addClass("is-paused")):(w.fromTo(b,{value:0},{value:d,duration:.5}),n.removeClass("is-paused"))}window.matchMedia("(pointer: fine)").matches&&(l.on("mouseenter",()=>g(!0)),l.on("mouseleave",()=>g(!1))),n.on("click",function(){$(this).hasClass("is-paused")?g(!1):g(!0)})})})}var Oo,uu,lC,y0,xp,p0,m0,Sp,ms="transform",aC=ms+"Origin",WA,g0=function(i){var r=i.ownerDocument||i;for(!(ms in i.style)&&("msTransform"in i.style)&&(ms="msTransform",aC=ms+"Origin");r.parentNode&&(r=r.parentNode););if(uu=window,m0=new Ra,r){Oo=r,lC=r.documentElement,y0=r.body,Sp=Oo.createElementNS("http://www.w3.org/2000/svg","g"),Sp.style.transform="none";var t=r.createElement("div"),a=r.createElement("div"),l=r&&(r.body||r.firstElementChild);l&&l.appendChild&&(l.appendChild(t),t.appendChild(a),t.setAttribute("style","position:static;transform:translate3d(0,0,1px)"),WA=a.offsetParent!==t,l.removeChild(t))}return r},kU=function(i){for(var r,t;i&&i!==y0;)t=i._gsap,t&&t.uncache&&t.get(i,"x"),t&&!t.scaleX&&!t.scaleY&&t.renderTransform&&(t.scaleX=t.scaleY=1e-4,t.renderTransform(1,t),r?r.push(t):r=[t]),i=i.parentNode;return r},XA=[],YA=[],v0=function(){return uu.pageYOffset||Oo.scrollTop||lC.scrollTop||y0.scrollTop||0},b0=function(){return uu.pageXOffset||Oo.scrollLeft||lC.scrollLeft||y0.scrollLeft||0},uC=function(i){return i.ownerSVGElement||((i.tagName+"").toLowerCase()==="svg"?i:null)},jU=function h(i){if(uu.getComputedStyle(i).position==="fixed")return!0;if(i=i.parentNode,i&&i.nodeType===1)return h(i)},sC=function h(i,r){if(i.parentNode&&(Oo||g0(i))){var t=uC(i),a=t?t.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",l=t?r?"rect":"g":"div",n=r!==2?0:100,s=r===3?100:0,o="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",u=Oo.createElementNS?Oo.createElementNS(a.replace(/^https/,"http"),l):Oo.createElement(l);return r&&(t?(p0||(p0=h(i)),u.setAttribute("width",.01),u.setAttribute("height",.01),u.setAttribute("transform","translate("+n+","+s+")"),p0.appendChild(u)):(xp||(xp=h(i),xp.style.cssText=o),u.style.cssText=o+"width:0.1px;height:0.1px;top:"+s+"px;left:"+n+"px",xp.appendChild(u))),u}throw"Need document and parent."},EU=function(i){for(var r=new Ra,t=0;t<i.numberOfItems;t++)r.multiply(i.getItem(t).matrix);return r},cC=function(i){var r=i.getCTM(),t;return r||(t=i.style[ms],i.style[ms]="none",i.appendChild(Sp),r=Sp.getCTM(),i.removeChild(Sp),t?i.style[ms]=t:i.style.removeProperty(ms.replace(/([A-Z])/g,"-$1").toLowerCase())),r||m0.clone()},MU=function(i,r){var t=uC(i),a=i===t,l=t?XA:YA,n=i.parentNode,s,o,u,m,v,c;if(i===uu)return i;if(l.length||l.push(sC(i,1),sC(i,2),sC(i,3)),s=t?p0:xp,t)a?(u=cC(i),m=-u.e/u.a,v=-u.f/u.d,o=m0):i.getBBox?(u=i.getBBox(),o=i.transform?i.transform.baseVal:{},o=o.numberOfItems?o.numberOfItems>1?EU(o):o.getItem(0).matrix:m0,m=o.a*u.x+o.c*u.y,v=o.b*u.x+o.d*u.y):(o=new Ra,m=v=0),r&&i.tagName.toLowerCase()==="g"&&(m=v=0),(a?t:n).appendChild(s),s.setAttribute("transform","matrix("+o.a+","+o.b+","+o.c+","+o.d+","+(o.e+m)+","+(o.f+v)+")");else{if(m=v=0,WA)for(o=i.offsetParent,u=i;u&&(u=u.parentNode)&&u!==o&&u.parentNode;)(uu.getComputedStyle(u)[ms]+"").length>4&&(m=u.offsetLeft,v=u.offsetTop,u=0);if(c=uu.getComputedStyle(i),c.position!=="absolute"&&c.position!=="fixed")for(o=i.offsetParent;n&&n!==o;)m+=n.scrollLeft||0,v+=n.scrollTop||0,n=n.parentNode;u=s.style,u.top=i.offsetTop-v+"px",u.left=i.offsetLeft-m+"px",u[ms]=c[ms],u[aC]=c[aC],u.position=c.position==="fixed"?"fixed":"absolute",i.parentNode.appendChild(s)}return s},oC=function(i,r,t,a,l,n,s){return i.a=r,i.b=t,i.c=a,i.d=l,i.e=n,i.f=s,i},Ra=function(){function h(r,t,a,l,n,s){r===void 0&&(r=1),t===void 0&&(t=0),a===void 0&&(a=0),l===void 0&&(l=1),n===void 0&&(n=0),s===void 0&&(s=0),oC(this,r,t,a,l,n,s)}var i=h.prototype;return i.inverse=function(){var t=this.a,a=this.b,l=this.c,n=this.d,s=this.e,o=this.f,u=t*n-a*l||1e-10;return oC(this,n/u,-a/u,-l/u,t/u,(l*o-n*s)/u,-(t*o-a*s)/u)},i.multiply=function(t){var a=this.a,l=this.b,n=this.c,s=this.d,o=this.e,u=this.f,m=t.a,v=t.c,c=t.b,d=t.d,p=t.e,f=t.f;return oC(this,m*a+c*n,m*l+c*s,v*a+d*n,v*l+d*s,o+p*a+f*n,u+p*l+f*s)},i.clone=function(){return new h(this.a,this.b,this.c,this.d,this.e,this.f)},i.equals=function(t){var a=this.a,l=this.b,n=this.c,s=this.d,o=this.e,u=this.f;return a===t.a&&l===t.b&&n===t.c&&s===t.d&&o===t.e&&u===t.f},i.apply=function(t,a){a===void 0&&(a={});var l=t.x,n=t.y,s=this.a,o=this.b,u=this.c,m=this.d,v=this.e,c=this.f;return a.x=l*s+n*u+v||0,a.y=l*o+n*m+c||0,a},h}();function ys(h,i,r,t){if(!h||!h.parentNode||(Oo||g0(h)).documentElement===h)return new Ra;var a=kU(h),l=uC(h),n=l?XA:YA,s=MU(h,r),o=n[0].getBoundingClientRect(),u=n[1].getBoundingClientRect(),m=n[2].getBoundingClientRect(),v=s.parentNode,c=!t&&jU(h),d=new Ra((u.left-o.left)/100,(u.top-o.top)/100,(m.left-o.left)/100,(m.top-o.top)/100,o.left+(c?0:b0()),o.top+(c?0:v0()));if(v.removeChild(s),a)for(o=a.length;o--;)u=a[o],u.scaleX=u.scaleY=0,u.renderTransform(1,u);return i?d.inverse():d}var AU=1,xd,Qi,Pr,Tp,Fa,Lo,gC,ZA=function(i,r){return i.actions.forEach(function(t){return t.vars[r]&&t.vars[r](t)})},vC={},KA=180/Math.PI,OU=Math.PI/180,x0={},QA={},C0={},_C=function(i){return typeof i=="string"?i.split(" ").join("").split(","):i},LU=_C("onStart,onUpdate,onComplete,onReverseComplete,onInterrupt"),k0=_C("transform,transformOrigin,width,height,position,top,left,opacity,zIndex,maxWidth,maxHeight,minWidth,minHeight"),Cp=function(i){return xd(i)[0]||console.warn("Element not found:",i)},bd=function(i){return Math.round(i*1e4)/1e4||0},dC=function(i,r,t){return i.forEach(function(a){return a.classList[t](r)})},JA={zIndex:1,kill:1,simple:1,spin:1,clearProps:1,targets:1,toggleClass:1,onComplete:1,onUpdate:1,onInterrupt:1,onStart:1,delay:1,repeat:1,repeatDelay:1,yoyo:1,scale:1,fade:1,absolute:1,props:1,onEnter:1,onLeave:1,custom:1,paused:1,nested:1,prune:1,absoluteOnLeave:1},nO={zIndex:1,simple:1,clearProps:1,scale:1,absolute:1,fitChild:1,getVars:1,props:1},sO=function(i){return i.replace(/([A-Z])/g,"-$1").toLowerCase()},_d=function(i,r){var t={},a;for(a in i)r[a]||(t[a]=i[a]);return t},wC={},oO=function(i){var r=wC[i]=_C(i);return C0[i]=r.concat(k0),r},PU=function(i){var r=i._gsap||Qi.core.getCache(i);return r.gmCache===Qi.ticker.frame?r.gMatrix:(r.gmCache=Qi.ticker.frame,r.gMatrix=ys(i,!0,!1,!0))},DU=function h(i,r,t){t===void 0&&(t=0);for(var a=i.parentNode,l=1e3*Math.pow(10,t)*(r?-1:1),n=r?-l*900:0;i;)n+=l,i=i.previousSibling;return a?n+h(a,r,t+1):n},S0=function(i,r,t){return i.forEach(function(a){return a.d=DU(t?a.element:a.t,r)}),i.sort(function(a,l){return a.d-l.d}),i},kp=function(i,r){for(var t=i.element.style,a=i.css=i.css||[],l=r.length,n,s;l--;)n=r[l],s=t[n]||t.getPropertyValue(n),a.push(s?n:QA[n]||(QA[n]=sO(n)),s);return t},T0=function(i){var r=i.css,t=i.element.style,a=0;for(i.cache.uncache=1;a<r.length;a+=2)r[a+1]?t[r[a]]=r[a+1]:t.removeProperty(r[a]);!r[r.indexOf("transform")+1]&&t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},eO=function(i,r){i.forEach(function(t){return t.a.cache.uncache=1}),r||i.finalStates.forEach(T0)},hC="paddingTop,paddingRight,paddingBottom,paddingLeft,gridArea,transition".split(","),xC=function(i,r,t){var a=i.element,l=i.width,n=i.height,s=i.uncache,o=i.getProp,u=a.style,m=4,v,c,d;if(typeof r!="object"&&(r=i),Pr&&t!==1)return Pr._abs.push({t:a,b:i,a:i,sd:0}),Pr._final.push(function(){return(i.cache.uncache=1)&&T0(i)}),a;for(c=o("display")==="none",(!i.isVisible||c)&&(c&&(kp(i,["display"]).display=r.display),i.matrix=r.matrix,i.width=l=i.width||r.width,i.height=n=i.height||r.height),kp(i,hC),d=window.getComputedStyle(a);m--;)u[hC[m]]=d[hC[m]];if(u.gridArea="1 / 1 / 1 / 1",u.transition="none",u.position="absolute",u.width=l+"px",u.height=n+"px",u.top||(u.top="0px"),u.left||(u.left="0px"),s)v=new cu(a);else if(v=_d(i,x0),v.position="absolute",i.simple){var p=a.getBoundingClientRect();v.matrix=new Ra(1,0,0,1,p.left+b0(),p.top+v0())}else v.matrix=ys(a,!1,!1,!0);return v=wd(v,i,!0),i.x=Lo(v.x,.01),i.y=Lo(v.y,.01),a},tO=function(i,r){return r!==!0&&(r=xd(r),i=i.filter(function(t){if(r.indexOf((t.sd<0?t.b:t.a).element)!==-1)return!0;t.t._gsap.renderTransform(1),t.b.isVisible&&(t.t.style.width=t.b.width+"px",t.t.style.height=t.b.height+"px")})),i},aO=function(i){return S0(i,!0).forEach(function(r){return(r.a.isVisible||r.b.isVisible)&&xC(r.sd<0?r.b:r.a,r.b,1)})},IU=function(i,r){return r&&i.idLookup[bC(r).id]||i.elementStates[0]},bC=function(i,r,t,a){return i instanceof cu?i:i instanceof gs?IU(i,a):new cu(typeof i=="string"?Cp(i)||console.warn(i+" not found"):i,r,t)},RU=function(i,r){for(var t=Qi.getProperty(i.element,null,"native"),a=i.props={},l=r.length;l--;)a[r[l]]=(t(r[l])+"").trim();return a.zIndex&&(a.zIndex=parseFloat(a.zIndex)||0),i},lO=function(i,r){var t=i.style||i,a;for(a in r)t[a]=r[a]},FU=function(i){var r=i.getAttribute("data-flip-id");return r||i.setAttribute("data-flip-id",r="auto-"+AU++),r},uO=function(i){return i.map(function(r){return r.element})},rO=function(i,r,t){return i&&r.length&&t.add(i(uO(r),t,new gs(r,0,!0)),0)},wd=function(i,r,t,a,l,n){var s=i.element,o=i.cache,u=i.parent,m=i.x,v=i.y,c=r.width,d=r.height,p=r.scaleX,f=r.scaleY,y=r.rotation,g=r.bounds,_=n&&gC&&gC(s,"transform"),b=i,w=r.matrix,T=w.e,O=w.f,A=i.bounds.width!==g.width||i.bounds.height!==g.height||i.scaleX!==p||i.scaleY!==f||i.rotation!==y,E=!A&&i.simple&&r.simple&&!l,C,I,L,R,D,H,z;return E||!u?(p=f=1,y=C=0):(D=PU(u),H=D.clone().multiply(r.ctm?r.matrix.clone().multiply(r.ctm):r.matrix),y=bd(Math.atan2(H.b,H.a)*KA),C=bd(Math.atan2(H.c,H.d)*KA+y)%360,p=Math.sqrt(Math.pow(H.a,2)+Math.pow(H.b,2)),f=Math.sqrt(Math.pow(H.c,2)+Math.pow(H.d,2))*Math.cos(C*OU),l&&(l=xd(l)[0],R=Qi.getProperty(l),z=l.getBBox&&typeof l.getBBox=="function"&&l.getBBox(),b={scaleX:R("scaleX"),scaleY:R("scaleY"),width:z?z.width:Math.ceil(parseFloat(R("width","px"))),height:z?z.height:parseFloat(R("height","px"))}),o.rotation=y+"deg",o.skewX=C+"deg"),t?(p*=c===b.width||!b.width?1:c/b.width,f*=d===b.height||!b.height?1:d/b.height,o.scaleX=p,o.scaleY=f):(c=Lo(c*p/b.scaleX,0),d=Lo(d*f/b.scaleY,0),s.style.width=c+"px",s.style.height=d+"px"),a&&lO(s,r.props),E||!u?(m+=T-i.matrix.e,v+=O-i.matrix.f):A||u!==r.parent?(o.renderTransform(1,o),H=ys(l||s,!1,!1,!0),I=D.apply({x:H.e,y:H.f}),L=D.apply({x:T,y:O}),m+=L.x-I.x,v+=L.y-I.y):(D.e=D.f=0,L=D.apply({x:T-i.matrix.e,y:O-i.matrix.f}),m+=L.x,v+=L.y),m=Lo(m,.02),v=Lo(v,.02),n&&!(n instanceof cu)?_&&_.revert():(o.x=m+"px",o.y=v+"px",o.renderTransform(1,o)),n&&(n.x=m,n.y=v,n.rotation=y,n.skewX=C,t?(n.scaleX=p,n.scaleY=f):(n.width=c,n.height=d)),n||o},fC=function(i,r){return i instanceof gs?i:new gs(i,r)},cO=function(i,r,t){var a=i.idLookup[t],l=i.alt[t];return l.isVisible&&(!(r.getElementState(l.element)||l).isVisible||!a.isVisible)?l:a},pC=[],mC="width,height,overflowX,overflowY".split(","),_0,iO=function(i){if(i!==_0){var r=Fa.style,t=Fa.clientWidth===window.outerWidth,a=Fa.clientHeight===window.outerHeight,l=4;if(i&&(t||a)){for(;l--;)pC[l]=r[mC[l]];t&&(r.width=Fa.clientWidth+"px",r.overflowY="hidden"),a&&(r.height=Fa.clientHeight+"px",r.overflowX="hidden"),_0=i}else if(_0){for(;l--;)pC[l]?r[mC[l]]=pC[l]:r.removeProperty(sO(mC[l]));_0=i}}},yC=function(i,r,t,a){i instanceof gs&&r instanceof gs||console.warn("Not a valid state object."),t=t||{};var l=t,n=l.clearProps,s=l.onEnter,o=l.onLeave,u=l.absolute,m=l.absoluteOnLeave,v=l.custom,c=l.delay,d=l.paused,p=l.repeat,f=l.repeatDelay,y=l.yoyo,g=l.toggleClass,_=l.nested,b=l.zIndex,w=l.scale,T=l.fade,O=l.stagger,A=l.spin,E=l.prune,C=("props"in t?t:i).props,I=_d(t,JA),L=Qi.timeline({delay:c,paused:d,repeat:p,repeatDelay:f,yoyo:y,data:"isFlip"}),R=I,D=[],H=[],z=[],B=[],J=A===!0?1:A||0,ee=typeof A=="function"?A:function(){return J},Z=i.interrupted||r.interrupted,q=L[a!==1?"to":"from"],re,ge,V,j,G,K,ae,Q,oe,W,Y,ne,ue,se;for(ge in r.idLookup)Y=r.alt[ge]?cO(r,i,ge):r.idLookup[ge],G=Y.element,W=i.idLookup[ge],i.alt[ge]&&G===W.element&&(i.alt[ge].isVisible||!Y.isVisible)&&(W=i.alt[ge]),W?(K={t:G,b:W,a:Y,sd:W.element===G?0:Y.isVisible?1:-1},z.push(K),K.sd&&(K.sd<0&&(K.b=Y,K.a=W),Z&&kp(K.b,C?C0[C]:k0),T&&z.push(K.swap={t:W.element,b:K.b,a:K.a,sd:-K.sd,swap:K})),G._flip=W.element._flip=Pr?Pr.timeline:L):Y.isVisible&&(z.push({t:G,b:_d(Y,{isVisible:1}),a:Y,sd:0,entering:1}),G._flip=Pr?Pr.timeline:L);if(C&&(wC[C]||oO(C)).forEach(function(fe){return I[fe]=function(xe){return z[xe].a.props[fe]}}),z.finalStates=oe=[],ne=function(){for(S0(z),iO(!0),j=0;j<z.length;j++)K=z[j],ue=K.a,se=K.b,E&&!ue.isDifferent(se)&&!K.entering?z.splice(j--,1):(G=K.t,_&&!(K.sd<0)&&j&&(ue.matrix=ys(G,!1,!1,!0)),se.isVisible&&ue.isVisible?(K.sd<0?(ae=new cu(G,C,i.simple),wd(ae,ue,w,0,0,ae),ae.matrix=ys(G,!1,!1,!0),ae.css=K.b.css,K.a=ue=ae,T&&(G.style.opacity=Z?se.opacity:ue.opacity),O&&B.push(G)):K.sd>0&&T&&(G.style.opacity=Z?ue.opacity-se.opacity:"0"),wd(ue,se,w,C)):se.isVisible!==ue.isVisible&&(se.isVisible?ue.isVisible||(se.css=ue.css,H.push(se),z.splice(j--,1),u&&_&&wd(ue,se,w,C)):(ue.isVisible&&D.push(ue),z.splice(j--,1))),w||(G.style.maxWidth=Math.max(ue.width,se.width)+"px",G.style.maxHeight=Math.max(ue.height,se.height)+"px",G.style.minWidth=Math.min(ue.width,se.width)+"px",G.style.minHeight=Math.min(ue.height,se.height)+"px"),_&&g&&G.classList.add(g)),oe.push(ue);var xe;if(g&&(xe=oe.map(function(Ae){return Ae.element}),_&&xe.forEach(function(Ae){return Ae.classList.remove(g)})),iO(!1),w?(I.scaleX=function(Ae){return z[Ae].a.scaleX},I.scaleY=function(Ae){return z[Ae].a.scaleY}):(I.width=function(Ae){return z[Ae].a.width+"px"},I.height=function(Ae){return z[Ae].a.height+"px"},I.autoRound=t.autoRound||!1),I.x=function(Ae){return z[Ae].a.x+"px"},I.y=function(Ae){return z[Ae].a.y+"px"},I.rotation=function(Ae){return z[Ae].a.rotation+(A?ee(Ae,Q[Ae],Q)*360:0)},I.skewX=function(Ae){return z[Ae].a.skewX},Q=z.map(function(Ae){return Ae.t}),(b||b===0)&&(I.modifiers={zIndex:function(){return b}},I.zIndex=b,I.immediateRender=t.immediateRender!==!1),T&&(I.opacity=function(Ae){return z[Ae].sd<0?0:z[Ae].sd>0?z[Ae].a.opacity:"+=0"}),B.length){O=Qi.utils.distribute(O);var ke=Q.slice(B.length);I.stagger=function(Ae,Pe){return O(~B.indexOf(Pe)?Q.indexOf(z[Ae].swap.t):Ae,Pe,ke)}}if(LU.forEach(function(Ae){return t[Ae]&&L.eventCallback(Ae,t[Ae],t[Ae+"Params"])}),v&&Q.length){R=_d(I,JA),"scale"in v&&(v.scaleX=v.scaleY=v.scale,delete v.scale);for(ge in v)re=_d(v[ge],nO),re[ge]=I[ge],!("duration"in re)&&"duration"in I&&(re.duration=I.duration),re.stagger=I.stagger,q.call(L,Q,re,0),delete R[ge]}(Q.length||H.length||D.length)&&(g&&L.add(function(){return dC(xe,g,L._zTime<0?"remove":"add")},0)&&!d&&dC(xe,g,"add"),Q.length&&q.call(L,Q,R,0)),rO(s,D,L),rO(o,H,L);var Te=Pr&&Pr.timeline;Te&&(Te.add(L,0),Pr._final.push(function(){return eO(z,!n)})),V=L.duration(),L.call(function(){var Ae=L.time()>=V;Ae&&!Te&&eO(z,!n),g&&dC(xe,g,Ae?"remove":"add")})},m&&(u=z.filter(function(fe){return!fe.sd&&!fe.a.isVisible&&fe.b.isVisible}).map(function(fe){return fe.a.element})),Pr){var pe;u&&(pe=Pr._abs).push.apply(pe,tO(z,u)),Pr._run.push(ne)}else u&&aO(tO(z,u)),ne();var ve=Pr?Pr.timeline:L;return ve.revert=function(){return SC(ve,1,1)},ve},BU=function h(i){i.vars.onInterrupt&&i.vars.onInterrupt.apply(i,i.vars.onInterruptParams||[]),i.getChildren(!0,!1,!0).forEach(h)},SC=function(i,r,t){if(i&&i.progress()<1&&(!i.paused()||t))return r&&(BU(i),r<2&&i.progress(1),i.kill()),!0},w0=function(i){for(var r=i.idLookup={},t=i.alt={},a=i.elementStates,l=a.length,n;l--;)n=a[l],r[n.id]?t[n.id]=n:r[n.id]=n},gs=function(){function h(r,t,a){if(this.props=t&&t.props,this.simple=!!(t&&t.simple),a)this.targets=uO(r),this.elementStates=r,w0(this);else{this.targets=xd(r);var l=t&&(t.kill===!1||t.batch&&!t.kill);Pr&&!l&&Pr._kill.push(this),this.update(l||!!Pr)}}var i=h.prototype;return i.update=function(t){var a=this;return this.elementStates=this.targets.map(function(l){return new cu(l,a.props,a.simple)}),w0(this),this.interrupt(t),this.recordInlineStyles(),this},i.clear=function(){return this.targets.length=this.elementStates.length=0,w0(this),this},i.fit=function(t,a,l){for(var n=S0(this.elementStates.slice(0),!1,!0),s=(t||this).idLookup,o=0,u,m;o<n.length;o++)u=n[o],l&&(u.matrix=ys(u.element,!1,!1,!0)),m=s[u.id],m&&wd(u,m,a,!0,0,u),u.matrix=ys(u.element,!1,!1,!0);return this},i.getProperty=function(t,a){var l=this.getElementState(t)||x0;return(a in l?l:l.props||x0)[a]},i.add=function(t){for(var a=t.targets.length,l=this.idLookup,n=this.alt,s,o,u;a--;)o=t.elementStates[a],u=l[o.id],u&&(o.element===u.element||n[o.id]&&n[o.id].element===o.element)?(s=this.elementStates.indexOf(o.element===u.element?u:n[o.id]),this.targets.splice(s,1,t.targets[a]),this.elementStates.splice(s,1,o)):(this.targets.push(t.targets[a]),this.elementStates.push(o));return t.interrupted&&(this.interrupted=!0),t.simple||(this.simple=!1),w0(this),this},i.compare=function(t){var a=t.idLookup,l=this.idLookup,n=[],s=[],o=[],u=[],m=[],v=t.alt,c=this.alt,d=function(E,C,I){return(E.isVisible!==C.isVisible?E.isVisible?o:u:E.isVisible?s:n).push(I)&&m.push(I)},p=function(E,C,I){return m.indexOf(I)<0&&d(E,C,I)},f,y,g,_,b,w,T,O;for(g in a)b=v[g],w=c[g],f=b?cO(t,this,g):a[g],_=f.element,y=l[g],w?(O=y.isVisible||!w.isVisible&&_===y.element?y:w,T=b&&!f.isVisible&&!b.isVisible&&O.element===b.element?b:f,T.isVisible&&O.isVisible&&T.element!==O.element?((T.isDifferent(O)?s:n).push(T.element,O.element),m.push(T.element,O.element)):d(T,O,T.element),b&&T.element===b.element&&(b=a[g]),p(T.element!==y.element&&b?b:T,y,y.element),p(b&&b.element===w.element?b:T,w,w.element),b&&p(b,w.element===b.element?w:y,b.element)):(y?y.isDifferent(f)?d(f,y,_):n.push(_):o.push(_),b&&p(b,y,b.element));for(g in l)a[g]||(u.push(l[g].element),c[g]&&u.push(c[g].element));return{changed:s,unchanged:n,enter:o,leave:u}},i.recordInlineStyles=function(){for(var t=C0[this.props]||k0,a=this.elementStates.length;a--;)kp(this.elementStates[a],t)},i.interrupt=function(t){var a=this,l=[];this.targets.forEach(function(n){var s=n._flip,o=SC(s,t?0:1);t&&o&&l.indexOf(s)<0&&s.add(function(){return a.updateVisibility()}),o&&l.push(s)}),!t&&l.length&&this.updateVisibility(),this.interrupted||(this.interrupted=!!l.length)},i.updateVisibility=function(){this.elementStates.forEach(function(t){var a=t.element.getBoundingClientRect();t.isVisible=!!(a.width||a.height||a.top||a.left),t.uncache=1})},i.getElementState=function(t){return this.elementStates[this.targets.indexOf(Cp(t))]},i.makeAbsolute=function(){return S0(this.elementStates.slice(0),!0,!0).map(xC)},h}(),cu=function(){function h(r,t,a){this.element=r,this.update(t,a)}var i=h.prototype;return i.isDifferent=function(t){var a=this.bounds,l=t.bounds;return a.top!==l.top||a.left!==l.left||a.width!==l.width||a.height!==l.height||!this.matrix.equals(t.matrix)||this.opacity!==t.opacity||this.props&&t.props&&JSON.stringify(this.props)!==JSON.stringify(t.props)},i.update=function(t,a){var l=this,n=l.element,s=Qi.getProperty(n),o=Qi.core.getCache(n),u=n.getBoundingClientRect(),m=n.getBBox&&typeof n.getBBox=="function"&&n.nodeName.toLowerCase()!=="svg"&&n.getBBox(),v=a?new Ra(1,0,0,1,u.left+b0(),u.top+v0()):ys(n,!1,!1,!0);l.getProp=s,l.element=n,l.id=FU(n),l.matrix=v,l.cache=o,l.bounds=u,l.isVisible=!!(u.width||u.height||u.left||u.top),l.display=s("display"),l.position=s("position"),l.parent=n.parentNode,l.x=s("x"),l.y=s("y"),l.scaleX=o.scaleX,l.scaleY=o.scaleY,l.rotation=s("rotation"),l.skewX=s("skewX"),l.opacity=s("opacity"),l.width=m?m.width:Lo(s("width","px"),.04),l.height=m?m.height:Lo(s("height","px"),.04),t&&RU(l,wC[t]||oO(t)),l.ctm=n.getCTM&&n.nodeName.toLowerCase()==="svg"&&cC(n).inverse(),l.simple=a||bd(v.a)===1&&!bd(v.b)&&!bd(v.c)&&bd(v.d)===1,l.uncache=0},h}(),NU=function(){function h(r,t){this.vars=r,this.batch=t,this.states=[],this.timeline=t.timeline}var i=h.prototype;return i.getStateById=function(t){for(var a=this.states.length;a--;)if(this.states[a].idLookup[t])return this.states[a]},i.kill=function(){this.batch.remove(this)},h}(),UU=function(){function h(r){this.id=r,this.actions=[],this._kill=[],this._final=[],this._abs=[],this._run=[],this.data={},this.state=new gs,this.timeline=Qi.timeline()}var i=h.prototype;return i.add=function(t){var a=this.actions.filter(function(l){return l.vars===t});return a.length?a[0]:(a=new NU(typeof t=="function"?{animate:t}:t,this),this.actions.push(a),a)},i.remove=function(t){var a=this.actions.indexOf(t);return a>=0&&this.actions.splice(a,1),this},i.getState=function(t){var a=this,l=Pr,n=Tp;return Pr=this,this.state.clear(),this._kill.length=0,this.actions.forEach(function(s){s.vars.getState&&(s.states.length=0,Tp=s,s.state=s.vars.getState(s)),t&&s.states.forEach(function(o){return a.state.add(o)})}),Tp=n,Pr=l,this.killConflicts(),this},i.animate=function(){var t=this,a=Pr,l=this.timeline,n=this.actions.length,s,o;for(Pr=this,l.clear(),this._abs.length=this._final.length=this._run.length=0,this.actions.forEach(function(u){u.vars.animate&&u.vars.animate(u);var m=u.vars.onEnter,v=u.vars.onLeave,c=u.targets,d,p;c&&c.length&&(m||v)&&(d=new gs,u.states.forEach(function(f){return d.add(f)}),p=d.compare(du.getState(c)),p.enter.length&&m&&m(p.enter),p.leave.length&&v&&v(p.leave))}),aO(this._abs),this._run.forEach(function(u){return u()}),o=l.duration(),s=this._final.slice(0),l.add(function(){o<=l.time()&&(s.forEach(function(u){return u()}),ZA(t,"onComplete"))}),Pr=a;n--;)this.actions[n].vars.once&&this.actions[n].kill();return ZA(this,"onStart"),l.restart(),this},i.loadState=function(t){t||(t=function(){return 0});var a=[];return this.actions.forEach(function(l){if(l.vars.loadState){var n,s=function o(u){u&&(l.targets=u),n=a.indexOf(o),~n&&(a.splice(n,1),a.length||t())};a.push(s),l.vars.loadState(s)}}),a.length||t(),this},i.setState=function(){return this.actions.forEach(function(t){return t.targets=t.vars.setState&&t.vars.setState(t)}),this},i.killConflicts=function(t){return this.state.interrupt(t),this._kill.forEach(function(a){return a.interrupt(t)}),this},i.run=function(t,a){var l=this;return this!==Pr&&(t||this.getState(a),this.loadState(function(){l._killed||(l.setState(),l.animate())})),this},i.clear=function(t){this.state.clear(),t||(this.actions.length=0)},i.getStateById=function(t){for(var a=this.actions.length,l;a--;)if(l=this.actions[a].getStateById(t),l)return l;return this.state.idLookup[t]&&this.state},i.kill=function(){this._killed=1,this.clear(),delete vC[this.id]},h}(),du=function(){function h(){}return h.getState=function(r,t){var a=fC(r,t);return Tp&&Tp.states.push(a),t&&t.batch&&h.batch(t.batch).state.add(a),a},h.from=function(r,t){return t=t||{},"clearProps"in t||(t.clearProps=!0),yC(r,fC(t.targets||r.targets,{props:t.props||r.props,simple:t.simple,kill:!!t.kill}),t,-1)},h.to=function(r,t){return yC(r,fC(t.targets||r.targets,{props:t.props||r.props,simple:t.simple,kill:!!t.kill}),t,1)},h.fromTo=function(r,t,a){return yC(r,t,a)},h.fit=function(r,t,a){var l=a?_d(a,nO):{},n=a||l,s=n.absolute,o=n.scale,u=n.getVars,m=n.props,v=n.runBackwards,c=n.onComplete,d=n.simple,p=a&&a.fitChild&&Cp(a.fitChild),f=bC(t,m,d,r),y=bC(r,0,d,f),g=m?C0[m]:k0,_=Qi.context();return m&&lO(l,f.props),kp(y,g),v&&("immediateRender"in l||(l.immediateRender=!0),l.onComplete=function(){T0(y),c&&c.apply(this,arguments)}),s&&xC(y,f),l=wd(y,f,o||p,m,p,l.duration||u?l:0),_&&!u&&_.add(function(){return function(){return T0(y)}}),u?l:l.duration?Qi.to(y.element,l):null},h.makeAbsolute=function(r,t){return(r instanceof gs?r:new gs(r,t)).makeAbsolute()},h.batch=function(r){return r||(r="default"),vC[r]||(vC[r]=new UU(r))},h.killFlipsOf=function(r,t){(r instanceof gs?r.targets:xd(r)).forEach(function(a){return a&&SC(a._flip,t!==!1?1:2)})},h.isFlipping=function(r){var t=h.getByTarget(r);return!!t&&t.isActive()},h.getByTarget=function(r){return(Cp(r)||x0)._flip},h.getElementState=function(r,t){return new cu(Cp(r),t)},h.convertCoordinates=function(r,t,a){var l=ys(t,!0,!0).multiply(ys(r));return a?l.apply(a):l},h.register=function(r){if(Fa=typeof document<"u"&&document.body,Fa){Qi=r,g0(Fa),xd=Qi.utils.toArray,gC=Qi.core.getStyleSaver;var t=Qi.utils.snap(.1);Lo=function(l,n){return t(parseFloat(l)+n)}}},h}();du.version="3.12.5";typeof window<"u"&&window.gsap&&window.gsap.registerPlugin(du);function dO(){Co.registerPlugin(du),$(".bio_content-element").on("mouseenter",function(){let h=du.getState(".bio_content-element, .tab_name, .image_content",{props:"fontSize,padding"});$(this).siblings().addClass("closed"),$(this).removeClass("closed"),$(this).siblings().addClass("hide-text"),du.from(h,{duration:1.5,nested:!0,absolute:!0,ease:"power1.inOut"})})}function hO(){let h=document.querySelector(".w-tab-menu"),i=document.querySelector(".background_slider");i.removeAttribute("tabindex"),i.classList.remove("w-tab-link");let r=()=>{let t=h.querySelector(".w--current");if(!t||t===i)return;let{offsetWidth:a,offsetHeight:l,offsetLeft:n,offsetTop:s}=t,o=window.innerWidth<=700;i.style.width=o?"calc(100% - 10px)":`${a}px`,i.style.height=`${l-10}px`,i.style.transform=o?`translateY(${s}px)`:`translate(${n}px, ${s}px)`};r(),new MutationObserver(r).observe(h,{attributes:!0,subtree:!0}),window.addEventListener("resize",r)}var az=W4(pO(),1);function mO(){document.querySelectorAll(".nav-link").forEach(i=>{let r;i.addEventListener("mouseenter",a=>{r=i.offsetWidth,t(a,i)}),i.addEventListener("mousemove",a=>t(a,i));function t(a,l){a.clientX-l.getBoundingClientRect().left>r/2?l.classList.add("left-to-right"):l.classList.remove("left-to-right")}})}fr();fr();fr();Dp();Cu();fy();Mu();oc();py();tm();Js();Up();b1();Ak();var CH,I3=class extends Ld{constructor(){super(...arguments);Ce(this,"items",[]);Ce(this,CH,!1)}get length(){return this.items.length}get readonly(){return this[Ct.readonly]}indexOf(r){return this.items.indexOf(r)}getById(r){return r===""?null:this.items.find(t=>t.id===r)??null}toArray(){return[...this.items]}[(CH=Ct.readonly,Symbol.iterator)](){return this.items.values()}[Ct.add](r,t){let a=this.items.length;""+a in this||Object.defineProperty(this,a,{get(){return this.items[a]}}),!this.items.includes(r)&&(this.items.push(r),this.dispatchEvent(new Lt("add",{detail:r,trigger:t})))}[Ct.remove](r,t){let a=this.items.indexOf(r);a>=0&&(this[Ct.onRemove]?.(r,t),this.items.splice(a,1),this.dispatchEvent(new Lt("remove",{detail:r,trigger:t})))}[Ct.reset](r){for(let t of[...this.items])this[Ct.remove](t,r);this.items=[],this[Ct.setReadonly](!1,r),this[Ct.onReset]?.()}[Ct.setReadonly](r,t){this[Ct.readonly]!==r&&(this[Ct.readonly]=r,this.dispatchEvent(new Lt("readonly-change",{detail:r,trigger:t})))}},HE=Va.fullscreenEnabled,Ll,gf,U3,rR,V3,iR,$3,nR,zE=class extends Ii{constructor(){super(...arguments);N(this,U3);N(this,V3);N(this,$3);N(this,Ll,!1);N(this,gf,!1)}get active(){return S(this,gf)}get supported(){return HE}onConnect(){new Qt(Va).add("fullscreenchange",U(this,V3,iR).bind(this)).add("fullscreenerror",U(this,$3,nR).bind(this)),Ft(U(this,U3,rR).bind(this))}async enter(){try{return me(this,Ll,!0),!this.el||VE(this.el)?void 0:(XI(),Va.requestFullscreen(this.el))}catch(r){throw me(this,Ll,!1),r}}async exit(){if(!(!this.el||!VE(this.el)))return XI(),Va.exitFullscreen()}};Ll=new WeakMap,gf=new WeakMap,U3=new WeakSet,rR=async function(){HE&&await this.exit()},V3=new WeakSet,iR=function(r){let t=VE(this.el);t!==S(this,gf)&&(t||me(this,Ll,!1),me(this,gf,t),this.dispatch("fullscreen-change",{detail:t,trigger:r}))},$3=new WeakSet,nR=function(r){S(this,Ll)&&(this.dispatch("fullscreen-error",{detail:null,trigger:r}),me(this,Ll,!1))};function VE(h){if(Va.fullscreenElement===h)return!0;try{return h.matches(Va.fullscreenPseudoClass)}catch{return!1}}function XI(){if(!HE)throw Error("[vidstack] no fullscreen API")}var Pl,ua,Lc,G3,sR,yg,qE,gg,WE,vg,XE,H3=class H3 extends Ii{constructor(){super(...arguments);N(this,G3);N(this,yg);N(this,gg);N(this,vg);N(this,Pl,Dt(U(this,vg,XE).call(this)));N(this,ua,Dt(!1));N(this,Lc,void 0)}get type(){return S(this,Pl).call(this)}get locked(){return S(this,ua).call(this)}get portrait(){return S(this,Pl).call(this).startsWith("portrait")}get landscape(){return S(this,Pl).call(this).startsWith("landscape")}get supported(){return H3.supported}onConnect(){if(this.supported)Vt(screen.orientation,"change",U(this,yg,qE).bind(this));else{let r=window.matchMedia("(orientation: landscape)");r.onchange=U(this,yg,qE).bind(this),Ft(()=>r.onchange=null)}Ft(U(this,G3,sR).bind(this))}async lock(r){ot(S(this,ua))||S(this,Lc)===r||(U(this,gg,WE).call(this),await screen.orientation.lock(r),S(this,ua).set(!0),me(this,Lc,r))}async unlock(){ot(S(this,ua))&&(U(this,gg,WE).call(this),me(this,Lc,void 0),await screen.orientation.unlock(),S(this,ua).set(!1))}};Pl=new WeakMap,ua=new WeakMap,Lc=new WeakMap,G3=new WeakSet,sR=async function(){this.supported&&S(this,ua).call(this)&&await this.unlock()},yg=new WeakSet,qE=function(r){S(this,Pl).set(U(this,vg,XE).call(this)),this.dispatch("orientation-change",{detail:{orientation:ot(S(this,Pl)),lock:S(this,Lc)},trigger:r})},gg=new WeakSet,WE=function(){if(!this.supported)throw Error("[vidstack] no orientation API")},vg=new WeakSet,XE=function(){return this.supported?window.screen.orientation.type:window.innerWidth>=window.innerHeight?"landscape-primary":"portrait-primary"},Ce(H3,"supported",ik());var R3=H3;function YE(h){return!dt(h)&&"width"in h&&"height"in h&&Ur(h.width)&&Ur(h.height)}var oR=new Do({artist:"",artwork:null,audioTrack:null,audioTracks:[],autoPlay:!1,autoPlayError:null,audioGain:null,buffered:new Er,canLoad:!1,canLoadPoster:!1,canFullscreen:!1,canOrientScreen:ik(),canPictureInPicture:!1,canPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,get iOSControls(){return rk&&this.mediaType==="video"&&(!this.playsInline||!Va.fullscreenEnabled&&this.fullscreen)},get nativeControls(){return this.controls||this.iOSControls},controlsVisible:!1,get controlsHidden(){return!this.controlsVisible},crossOrigin:null,ended:!1,error:null,fullscreen:!1,get loop(){return this.providedLoop||this.userPrefersLoop},logLevel:"silent",mediaType:"unknown",muted:!1,paused:!0,played:new Er,playing:!1,playsInline:!1,pictureInPicture:!1,preload:"metadata",playbackRate:1,qualities:[],quality:null,autoQuality:!1,canSetQuality:!0,canSetPlaybackRate:!0,canSetVolume:!1,canSetAudioGain:!1,seekable:new Er,seeking:!1,source:{src:"",type:""},sources:[],started:!1,textTracks:[],textTrack:null,get hasCaptions(){return this.textTracks.filter(Bi).length>0},volume:1,waiting:!1,realCurrentTime:0,get currentTime(){return this.ended?this.duration:this.clipStartTime>0?Math.max(0,Math.min(this.realCurrentTime-this.clipStartTime,this.duration)):this.realCurrentTime},providedDuration:-1,intrinsicDuration:0,get realDuration(){return this.providedDuration>0?this.providedDuration:this.intrinsicDuration},get duration(){return this.clipEndTime>0?this.clipEndTime-this.clipStartTime:Math.max(0,this.realDuration-this.clipStartTime)},get title(){return this.providedTitle||this.inferredTitle},get poster(){return this.providedPoster||this.inferredPoster},get viewType(){return this.providedViewType!=="unknown"?this.providedViewType:this.inferredViewType},get streamType(){return this.providedStreamType!=="unknown"?this.providedStreamType:this.inferredStreamType},get currentSrc(){return this.source},get bufferedStart(){let h=Tj(this.buffered)??0;return Math.max(0,h-this.clipStartTime)},get bufferedEnd(){let h=Dh(this.buffered)??0;return Math.min(this.duration,Math.max(0,h-this.clipStartTime))},get seekableStart(){let h=Tj(this.seekable)??0;return Math.max(0,Math.abs(h-this.clipStartTime))},get seekableEnd(){let h=this.canPlay?Dh(this.seekable)??1/0:0;return this.clipEndTime>0?Math.max(this.clipEndTime,Math.max(0,h-this.clipStartTime)):h},get seekableWindow(){return Math.max(0,this.seekableEnd-this.seekableStart)},canAirPlay:!1,canGoogleCast:!1,remotePlaybackState:"disconnected",remotePlaybackType:"none",remotePlaybackLoader:null,remotePlaybackInfo:null,get isAirPlayConnected(){return this.remotePlaybackType==="airplay"&&this.remotePlaybackState==="connected"},get isGoogleCastConnected(){return this.remotePlaybackType==="google-cast"&&this.remotePlaybackState==="connected"},pointer:"fine",orientation:"landscape",width:0,height:0,mediaWidth:0,mediaHeight:0,lastKeyboardAction:null,userBehindLiveEdge:!1,liveEdgeTolerance:10,minLiveDVRWindow:60,get canSeek(){return/unknown|on-demand|:dvr/.test(this.streamType)&&Number.isFinite(this.seekableWindow)&&(!this.live||/:dvr/.test(this.streamType)&&this.seekableWindow>=this.minLiveDVRWindow)},get live(){return this.streamType.includes("live")||!Number.isFinite(this.realDuration)},get liveEdgeStart(){return this.live&&Number.isFinite(this.seekableEnd)?Math.max(0,(this.liveSyncPosition??this.seekableEnd)-this.liveEdgeTolerance):0},get liveEdge(){return this.live&&(!this.canSeek||!this.userBehindLiveEdge&&this.currentTime>=this.liveEdgeStart)},get liveEdgeWindow(){return this.live&&Number.isFinite(this.seekableEnd)?this.seekableEnd-this.liveEdgeStart:0},autoPlaying:!1,providedTitle:"",inferredTitle:"",providedLoop:!1,userPrefersLoop:!1,providedPoster:"",inferredPoster:"",inferredViewType:"unknown",providedViewType:"unknown",providedStreamType:"unknown",inferredStreamType:"unknown",liveSyncPosition:null,savedState:null}),aR=new Set(["autoPlayError","autoPlaying","buffered","canPlay","error","paused","played","playing","seekable","seeking","waiting"]),aH=new Set([...aR,"ended","inferredPoster","inferredStreamType","inferredTitle","intrinsicDuration","liveSyncPosition","realCurrentTime","savedState","started","userBehindLiveEdge"]);function YI(h,i=!1){let r=i?aR:aH;oR.reset(h,t=>r.has(t)),Ys()}var Pc,Vn,vf,z3,ar,ur,r4,lH,ZE=class{constructor(i=void 0){N(this,ar);N(this,r4);N(this,Pc,null);N(this,Vn,null);N(this,vf,-1);N(this,z3,void 0);me(this,z3,i)}setTarget(i){me(this,Pc,i)}getPlayer(i){return S(this,Vn)?S(this,Vn):((i??S(this,Pc))?.dispatchEvent(new Lt("find-media-player",{detail:r=>void me(this,Vn,r),bubbles:!0,composed:!0})),S(this,Vn))}setPlayer(i){me(this,Vn,i)}startLoading(i){U(this,ar,ur).call(this,"media-start-loading",i)}startLoadingPoster(i){U(this,ar,ur).call(this,"media-poster-start-loading",i)}requestAirPlay(i){U(this,ar,ur).call(this,"media-airplay-request",i)}requestGoogleCast(i){U(this,ar,ur).call(this,"media-google-cast-request",i)}play(i){U(this,ar,ur).call(this,"media-play-request",i)}pause(i){U(this,ar,ur).call(this,"media-pause-request",i)}mute(i){U(this,ar,ur).call(this,"media-mute-request",i)}unmute(i){U(this,ar,ur).call(this,"media-unmute-request",i)}enterFullscreen(i,r){U(this,ar,ur).call(this,"media-enter-fullscreen-request",r,i)}exitFullscreen(i,r){U(this,ar,ur).call(this,"media-exit-fullscreen-request",r,i)}lockScreenOrientation(i,r){U(this,ar,ur).call(this,"media-orientation-lock-request",r,i)}unlockScreenOrientation(i){U(this,ar,ur).call(this,"media-orientation-unlock-request",i)}enterPictureInPicture(i){U(this,ar,ur).call(this,"media-enter-pip-request",i)}exitPictureInPicture(i){U(this,ar,ur).call(this,"media-exit-pip-request",i)}seeking(i,r){U(this,ar,ur).call(this,"media-seeking-request",r,i)}seek(i,r){U(this,ar,ur).call(this,"media-seek-request",r,i)}seekToLiveEdge(i){U(this,ar,ur).call(this,"media-live-edge-request",i)}changeDuration(i,r){U(this,ar,ur).call(this,"media-duration-change-request",r,i)}changeClipStart(i,r){U(this,ar,ur).call(this,"media-clip-start-change-request",r,i)}changeClipEnd(i,r){U(this,ar,ur).call(this,"media-clip-end-change-request",r,i)}changeVolume(i,r){U(this,ar,ur).call(this,"media-volume-change-request",r,Math.max(0,Math.min(1,i)))}changeAudioTrack(i,r){U(this,ar,ur).call(this,"media-audio-track-change-request",r,i)}changeQuality(i,r){U(this,ar,ur).call(this,"media-quality-change-request",r,i)}requestAutoQuality(i){this.changeQuality(-1,i)}changeTextTrackMode(i,r,t){U(this,ar,ur).call(this,"media-text-track-change-request",t,{index:i,mode:r})}changePlaybackRate(i,r){U(this,ar,ur).call(this,"media-rate-change-request",r,i)}changeAudioGain(i,r){U(this,ar,ur).call(this,"media-audio-gain-change-request",r,i)}resumeControls(i){U(this,ar,ur).call(this,"media-resume-controls-request",i)}pauseControls(i){U(this,ar,ur).call(this,"media-pause-controls-request",i)}togglePaused(i){let r=this.getPlayer(i?.target);r&&(r.state.paused?this.play(i):this.pause(i))}toggleControls(i){let r=this.getPlayer(i?.target);r&&(r.controls.showing?r.controls.hide(0,i):r.controls.show(0,i))}toggleMuted(i){let r=this.getPlayer(i?.target);r&&(r.state.muted?this.unmute(i):this.mute(i))}toggleFullscreen(i,r){let t=this.getPlayer(r?.target);t&&(t.state.fullscreen?this.exitFullscreen(i,r):this.enterFullscreen(i,r))}togglePictureInPicture(i){let r=this.getPlayer(i?.target);r&&(r.state.pictureInPicture?this.exitPictureInPicture(i):this.enterPictureInPicture(i))}showCaptions(i){let r=this.getPlayer(i?.target);if(!r)return;let t=r.state.textTracks,a=S(this,vf);(!t[a]||!Bi(t[a]))&&(a=-1),a===-1&&(a=t.findIndex(l=>Bi(l)&&l.default)),a===-1&&(a=t.findIndex(l=>Bi(l))),a>=0&&this.changeTextTrackMode(a,"showing",i),me(this,vf,-1)}disableCaptions(i){let r=this.getPlayer(i?.target);if(!r)return;let t=r.state.textTracks,a=r.state.textTrack;if(a){let l=t.indexOf(a);this.changeTextTrackMode(l,"disabled",i),me(this,vf,l)}}toggleCaptions(i){let r=this.getPlayer(i?.target);r&&(r.state.textTrack?this.disableCaptions():this.showCaptions())}userPrefersLoopChange(i,r){U(this,ar,ur).call(this,"media-user-loop-change-request",r,i)}};Pc=new WeakMap,Vn=new WeakMap,vf=new WeakMap,z3=new WeakMap,ar=new WeakSet,ur=function(i,r,t){let a=new Lt(i,{bubbles:!0,composed:!0,cancelable:!0,detail:t,trigger:r}),l=r?.target||null;l&&l instanceof hr&&(l=l.el),l=!l||l===document||l===window||l===document.body||S(this,Vn)?.el&&l instanceof Node&&!S(this,Vn).el.contains(l)?S(this,Pc)??this.getPlayer()?.el:l??S(this,Pc),S(this,Vn)?i==="media-play-request"&&!S(this,Vn).state.canLoad?l?.dispatchEvent(a):S(this,Vn).canPlayQueue.enqueue(i,()=>l?.dispatchEvent(a)):l?.dispatchEvent(a)},r4=new WeakSet,lH=function(i){};var li,KE=class{constructor(){Ce(this,"playerId","vds-player");Ce(this,"mediaId",null);N(this,li,{volume:null,muted:null,audioGain:null,time:null,lang:null,captions:null,rate:null,quality:null});Ce(this,"saveTimeThrottled",vu(this.saveTime.bind(this),1e3))}async getVolume(){return S(this,li).volume}async setVolume(i){S(this,li).volume=i,this.save()}async getMuted(){return S(this,li).muted}async setMuted(i){S(this,li).muted=i,this.save()}async getTime(){return S(this,li).time}async setTime(i,r){let t=i<0;S(this,li).time=t?null:i,t||r?this.saveTime():this.saveTimeThrottled()}async getLang(){return S(this,li).lang}async setLang(i){S(this,li).lang=i,this.save()}async getCaptions(){return S(this,li).captions}async setCaptions(i){S(this,li).captions=i,this.save()}async getPlaybackRate(){return S(this,li).rate}async setPlaybackRate(i){S(this,li).rate=i,this.save()}async getAudioGain(){return S(this,li).audioGain}async setAudioGain(i){S(this,li).audioGain=i,this.save()}async getVideoQuality(){return S(this,li).quality}async setVideoQuality(i){S(this,li).quality=i,this.save()}onChange(i,r,t="vds-player"){let a=t?localStorage.getItem(t):null,l=r?localStorage.getItem(r):null;this.playerId=t,this.mediaId=r,me(this,li,{volume:null,muted:null,audioGain:null,lang:null,captions:null,rate:null,quality:null,...a?JSON.parse(a):{},time:l?+l:null})}save(){if(!this.playerId)return;let i=JSON.stringify({...S(this,li),time:void 0});localStorage.setItem(this.playerId,i)}saveTime(){if(!this.mediaId)return;let i=(S(this,li).time??0).toString();localStorage.setItem(this.mediaId,i)}};li=new WeakMap;var bg,ca,_g,Dl,q3,lR,W3,uR,wg,JE,xg,e5,QE=class{constructor(){N(this,q3);N(this,W3);N(this,wg);N(this,xg);Ce(this,"priority",0);N(this,bg,!0);N(this,ca,null);N(this,_g,null);N(this,Dl,new Set)}canRender(i,r){return!!r}attach(i){me(this,ca,i),i&&(i.textTracks.onchange=U(this,xg,e5).bind(this))}addTrack(i){S(this,Dl).add(i),U(this,q3,lR).call(this,i)}removeTrack(i){i[At.native]?.remove?.(),i[At.native]=null,S(this,Dl).delete(i)}changeTrack(i){let r=i?.[At.native];r&&r.track.mode!=="showing"&&(r.track.mode="showing"),me(this,_g,i)}setDisplay(i){me(this,bg,i),U(this,xg,e5).call(this)}detach(){S(this,ca)&&(S(this,ca).textTracks.onchange=null);for(let i of S(this,Dl))this.removeTrack(i);S(this,Dl).clear(),me(this,ca,null),me(this,_g,null)}};bg=new WeakMap,ca=new WeakMap,_g=new WeakMap,Dl=new WeakMap,q3=new WeakSet,lR=function(i){var t;if(!S(this,ca))return;let r=i[t=At.native]??(i[t]=U(this,W3,uR).call(this,i));$d(r)&&(S(this,ca).append(r),r.track.mode=r.default?"showing":"disabled")},W3=new WeakSet,uR=function(i){let r=document.createElement("track"),t=i.default||i.mode==="showing",a=i.src&&i.type==="vtt";return r.id=i.id,r.src=a?i.src:"",r.label=i.label,r.kind=i.kind,r.default=t,i.language&&(r.srclang=i.language),t&&!a&&U(this,wg,JE).call(this,i,r.track),r},wg=new WeakSet,JE=function(i,r){if(!(i.src&&i.type==="vtt"||r.cues?.length))for(let t of i.cues)r.addCue(t)},xg=new WeakSet,e5=function(i){for(let r of S(this,Dl)){let t=r[At.native];if(!t)continue;if(!S(this,bg)){t.track.mode=t.managed?"hidden":"disabled";continue}let a=t.track.mode==="showing";a&&U(this,wg,JE).call(this,r,t.track),r.setMode(a?"showing":"disabled",i)}};var Dc,bf,Ic,Sg,Tg,$n,fo,X3,cR,Cg,r5,Y3,dR,Z3,hR,K3,fR,Il,yf,Q3,pR,t5=class{constructor(i){N(this,X3);N(this,Cg);N(this,Y3);N(this,Z3);N(this,K3);N(this,Il);N(this,Q3);N(this,Dc,null);N(this,bf,void 0);N(this,Ic,[]);N(this,Sg,void 0);N(this,Tg,!1);N(this,$n,null);N(this,fo,null);me(this,Sg,i);let r=i.textTracks;me(this,bf,r),He(U(this,X3,cR).bind(this)),Ft(U(this,Q3,pR).bind(this)),new Qt(r).add("add",U(this,Z3,hR).bind(this)).add("remove",U(this,K3,fR).bind(this)).add("mode-change",U(this,Il,yf).bind(this))}add(i){S(this,Ic).push(i),Na(U(this,Il,yf).bind(this))}remove(i){i.detach(),S(this,Ic).splice(S(this,Ic).indexOf(i),1),Na(U(this,Il,yf).bind(this))}attachVideo(i){requestAnimationFrame(()=>{if(me(this,Dc,i),i){me(this,$n,new QE),S(this,$n).attach(i);for(let r of S(this,bf))U(this,Cg,r5).call(this,r)}U(this,Il,yf).call(this)})}};Dc=new WeakMap,bf=new WeakMap,Ic=new WeakMap,Sg=new WeakMap,Tg=new WeakMap,$n=new WeakMap,fo=new WeakMap,X3=new WeakSet,cR=function(){let{nativeControls:i}=S(this,Sg).$state;me(this,Tg,i()),U(this,Il,yf).call(this)},Cg=new WeakSet,r5=function(i){Bi(i)&&S(this,$n)?.addTrack(i)},Y3=new WeakSet,dR=function(i){Bi(i)&&S(this,$n)?.removeTrack(i)},Z3=new WeakSet,hR=function(i){U(this,Cg,r5).call(this,i.detail)},K3=new WeakSet,fR=function(i){U(this,Y3,dR).call(this,i.detail)},Il=new WeakSet,yf=function(){let i=S(this,bf).selected;if(S(this,Dc)&&(S(this,Tg)||i?.[At.nativeHLS])){S(this,fo)?.changeTrack(null),S(this,$n)?.setDisplay(!0),S(this,$n)?.changeTrack(i);return}if(S(this,$n)?.setDisplay(!1),S(this,$n)?.changeTrack(null),!i){S(this,fo)?.changeTrack(null);return}let r=S(this,Ic).sort((t,a)=>t.priority-a.priority).find(t=>t.canRender(i,S(this,Dc)));S(this,fo)!==r&&(S(this,fo)?.detach(),r?.attach(S(this,Dc)),me(this,fo,r??null)),r?.changeTrack(i)},Q3=new WeakSet,pR=function(){S(this,$n)?.detach(),me(this,$n,null),S(this,fo)?.detach(),me(this,fo,null)};var Rc,po,mo,yo,kH,kg,_f,jg,J3,mR,Eg,n5,Mg,s5,i5=class extends I3{constructor(){super();N(this,J3);N(this,Eg);N(this,Mg);N(this,Rc,!1);N(this,po,{});N(this,mo,null);N(this,yo,null);Ce(this,kH);N(this,kg,UC(async()=>{if(!S(this,Rc))return;!S(this,yo)&&S(this,mo)&&me(this,yo,await S(this,mo).getLang());let r=await S(this,mo)?.getCaptions(),t=[["captions","subtitles"],"chapters","descriptions","metadata"];for(let a of t){let l=this.getByKind(a);if(l.find(m=>m.mode==="showing"))continue;let n=S(this,yo)?l.find(m=>m.language===S(this,yo)):null,s=ni(a)?S(this,po)[a.find(m=>S(this,po)[m])||""]:S(this,po)[a],o=n??s,u=o&&Bi(o);o&&(!u||r!==!1)&&(o.mode="showing",u&&U(this,Eg,n5).call(this,o))}},300));N(this,_f,null);N(this,jg,U(this,J3,mR).bind(this))}get selected(){return this.items.find(t=>t.mode==="showing"&&Bi(t))??null}get selectedIndex(){let r=this.selected;return r?this.indexOf(r):-1}get preferredLang(){return S(this,yo)}set preferredLang(r){me(this,yo,r),U(this,Mg,s5).call(this,r)}add(r,t){let a=r instanceof fn,l=a?r:new fn(r),n=r.kind==="captions"||r.kind==="subtitles"?"captions":r.kind;return S(this,po)[n]&&r.default&&delete r.default,l.addEventListener("mode-change",S(this,jg)),this[Ct.add](l,t),l[At.crossOrigin]=this[At.crossOrigin],S(this,Rc)&&l[At.canLoad](),r.default&&(S(this,po)[n]=l),S(this,kg).call(this),this}remove(r,t){if(me(this,_f,r),!!this.items.includes(r))return r===S(this,po)[r.kind]&&delete S(this,po)[r.kind],r.mode="disabled",r[At.onModeChange]=null,r.removeEventListener("mode-change",S(this,jg)),this[Ct.remove](r,t),me(this,_f,null),this}clear(r){for(let t of[...this.items])this.remove(t,r);return this}getByKind(r){let t=Array.isArray(r)?r:[r];return this.items.filter(a=>t.includes(a.kind))}[(kH=At.crossOrigin,At.canLoad)](){if(!S(this,Rc)){for(let r of this.items)r[At.canLoad]();me(this,Rc,!0),S(this,kg).call(this)}}setStorage(r){me(this,mo,r)}};Rc=new WeakMap,po=new WeakMap,mo=new WeakMap,yo=new WeakMap,kg=new WeakMap,_f=new WeakMap,jg=new WeakMap,J3=new WeakSet,mR=function(r){let t=r.detail;if(S(this,mo)&&Bi(t)&&t!==S(this,_f)&&U(this,Eg,n5).call(this,t),t.mode==="showing"){let a=Bi(t)?["captions","subtitles"]:[t.kind];for(let l of this.items)l.mode==="showing"&&l!=t&&a.includes(l.kind)&&(l.mode="disabled")}this.dispatchEvent(new Lt("mode-change",{detail:r.detail,trigger:r}))},Eg=new WeakSet,n5=function(r){r.mode!=="disabled"&&U(this,Mg,s5).call(this,r.language),S(this,mo)?.setCaptions?.(r.mode==="showing")},Mg=new WeakSet,s5=function(r){S(this,mo)?.setLang?.(me(this,yo,r))};var dg=Symbol(0),F3=class extends I3{get selected(){return this.items.find(i=>i.selected)??null}get selectedIndex(){return this.items.findIndex(i=>i.selected)}[Ct.onRemove](i,r){this[Ct.select](i,!1,r)}[Ct.add](i,r){i[dg]=!1,Object.defineProperty(i,"selected",{get(){return this[dg]},set:t=>{this.readonly||(this[Ct.onUserSelect]?.(),this[Ct.select](i,t))}}),super[Ct.add](i,r)}[Ct.select](i,r,t){if(r===i?.[dg])return;let a=this.selected;i&&(i[dg]=r),(r?a!==i:a===i)&&(a&&(a[dg]=!1),this.dispatchEvent(new Lt("change",{detail:{prev:a,current:this.selected},trigger:t})))}},o5=class extends F3{},Fc,jH,a5=class extends F3{constructor(){super(...arguments);N(this,Fc,!1);Ce(this,"switch","current");Ce(this,jH)}get auto(){return S(this,Fc)||this.readonly}[(jH=pi.enableAuto,Ct.onUserSelect)](){this[pi.setAuto](!1)}[Ct.onReset](r){this[pi.enableAuto]=void 0,this[pi.setAuto](!1,r)}autoSelect(r){this.readonly||S(this,Fc)||!this[pi.enableAuto]||(this[pi.enableAuto]?.(r),this[pi.setAuto](!0,r))}getBySrc(r){return this.items.find(t=>t.src===r)}[pi.setAuto](r,t){S(this,Fc)!==r&&(me(this,Fc,r),this.dispatchEvent(new Lt("auto-change",{detail:r,trigger:t})))}};Fc=new WeakMap;function uH(h){return h instanceof HTMLAudioElement}function cH(h){return h instanceof HTMLVideoElement}function dH(h){return uH(h)||cH(h)}var va=class extends Ii{},hH={togglePaused:"k Space",toggleMuted:"m",toggleFullscreen:"f",togglePictureInPicture:"i",toggleCaptions:"c",seekBackward:"j J ArrowLeft",seekForward:"l L ArrowRight",volumeUp:"ArrowUp",volumeDown:"ArrowDown",speedUp:">",slowDown:"<"},M3=new Set(["Shift","Alt","Meta","Ctrl"]),fH='button, [role="button"]',ZI='input, textarea, select, [contenteditable], [role^="menuitem"], [role="timer"]',Mi,eS,yR,tS,gR,rS,vR,iS,bR,wf,A3,Bc,nS,_R,da,Ag,u5,sS,wR,l5=class extends va{constructor(r){super();N(this,eS);N(this,tS);N(this,rS);N(this,iS);N(this,wf);N(this,nS);N(this,Ag);N(this,sS);N(this,Mi,void 0);N(this,Bc,void 0);N(this,da,null);me(this,Mi,r)}onConnect(){He(U(this,eS,yR).bind(this))}};Mi=new WeakMap,eS=new WeakSet,yR=function(){let{keyDisabled:r,keyTarget:t}=this.$props;if(r())return;let a=t()==="player"?this.el:document,l=Dt(!1);a===this.el?new Qt(this.el).add("focusin",()=>l.set(!0)).add("focusout",n=>{this.el.contains(n.target)||l.set(!1)}):(ot(l)||l.set(document.querySelector("[data-media-player]")===this.el),Vt(document,"focusin",n=>{let s=n.composedPath().find(o=>o instanceof Element&&o.localName==="media-player");s!==void 0&&l.set(this.el===s)})),He(()=>{l()&&new Qt(a).add("keyup",U(this,tS,gR).bind(this)).add("keydown",U(this,rS,vR).bind(this)).add("keydown",U(this,iS,bR).bind(this),{capture:!0})})},tS=new WeakSet,gR=function(r){let t=document.activeElement;if(!r.key||!this.$state.canSeek()||t?.matches(ZI))return;let{method:a,value:l}=U(this,wf,A3).call(this,r);if(!dt(l)&&!ni(l)){l?.onKeyUp?.({event:r,player:S(this,Mi).player,remote:S(this,Mi).remote}),l?.callback?.(r,S(this,Mi).remote);return}a?.startsWith("seek")&&(r.preventDefault(),r.stopPropagation(),S(this,da)?(U(this,Ag,u5).call(this,r,a==="seekForward"),me(this,da,null)):(S(this,Mi).remote.seek(S(this,Bc),r),me(this,Bc,void 0))),a?.startsWith("volume")&&this.el.querySelector("[data-media-volume-slider]")?.dispatchEvent(new KeyboardEvent("keyup",{key:a==="volumeUp"?"Up":"Down",shiftKey:r.shiftKey,trigger:r}))},rS=new WeakSet,vR=function(r){if(!r.key||M3.has(r.key))return;let t=document.activeElement;if(t?.matches(ZI)||F0(r)&&t?.matches(fH))return;let{method:a,value:l}=U(this,wf,A3).call(this,r),n=!r.metaKey&&/^[0-9]$/.test(r.key);if(!dt(l)&&!ni(l)&&!n){l?.onKeyDown?.({event:r,player:S(this,Mi).player,remote:S(this,Mi).remote}),l?.callback?.(r,S(this,Mi).remote);return}if(!a&&n){r.preventDefault(),r.stopPropagation(),S(this,Mi).remote.seek(this.$state.duration()/10*Number(r.key),r);return}if(a){switch(r.preventDefault(),r.stopPropagation(),a){case"seekForward":case"seekBackward":U(this,sS,wR).call(this,r,a,a==="seekForward");break;case"volumeUp":case"volumeDown":let s=this.el.querySelector("[data-media-volume-slider]");if(s)s.dispatchEvent(new KeyboardEvent("keydown",{key:a==="volumeUp"?"Up":"Down",shiftKey:r.shiftKey,trigger:r}));else{let u=r.shiftKey?.1:.05;S(this,Mi).remote.changeVolume(this.$state.volume()+(a==="volumeUp"?+u:-u),r)}break;case"toggleFullscreen":S(this,Mi).remote.toggleFullscreen("prefer-media",r);break;case"speedUp":case"slowDown":let o=this.$state.playbackRate();S(this,Mi).remote.changePlaybackRate(Math.max(.25,Math.min(2,o+(a==="speedUp"?.25:-.25))),r);break;default:S(this,Mi).remote[a]?.(r)}this.$state.lastKeyboardAction.set({action:a,event:r})}},iS=new WeakSet,bR=function(r){dH(r.target)&&U(this,wf,A3).call(this,r).method&&r.preventDefault()},wf=new WeakSet,A3=function(r){let t={...this.$props.keyShortcuts(),...S(this,Mi).ariaKeys},a=Object.keys(t).find(l=>{let n=t[l],s=ni(n)?n.join(" "):dt(n)?n:n?.keys;return(ni(s)?s:s?.split(" "))?.map(u=>mH(u).replace(/Control/g,"Ctrl").split("+"))?.some(u=>{let m=new Set(u.filter(v=>M3.has(v)));for(let v of M3){let c=v.toLowerCase()+"Key";if(!m.has(v)&&r[c])return!1}return u.every(v=>M3.has(v)?r[v.toLowerCase()+"Key"]:r.key===v.replace("Space"," "))})});return{method:a,value:a?t[a]:null}},Bc=new WeakMap,nS=new WeakSet,_R=function(r,t){let a=r.shiftKey?10:5;return me(this,Bc,Math.max(0,Math.min((S(this,Bc)??this.$state.currentTime())+(t==="seekForward"?+a:-a),this.$state.duration())))},da=new WeakMap,Ag=new WeakSet,u5=function(r,t){S(this,da)?.dispatchEvent(new KeyboardEvent(r.type,{key:t?"Right":"Left",shiftKey:r.shiftKey,trigger:r}))},sS=new WeakSet,wR=function(r,t,a){this.$state.canSeek()&&(S(this,da)||me(this,da,this.el.querySelector("[data-media-time-slider]")),S(this,da)?U(this,Ag,u5).call(this,r,a):S(this,Mi).remote.seeking(U(this,nS,_R).call(this,r,t),r))};var pH=["!","@","#","$","%","^","&","*","(",")"];function mH(h){return h.replace(/Shift\+(\d)/g,(i,r)=>pH[r-1])}var xf,ha,Og,Sf,Rl,Tf,oS,xR,aS,SR,lS,TR,uS,CR,cS,kR,dS,jR,hS,ER,fS,MR,Cf,O3,Lg,d5,Nc,hg,Pg,h5,c5=class extends va{constructor(){super(...arguments);N(this,oS);N(this,aS);N(this,lS);N(this,uS);N(this,cS);N(this,dS);N(this,hS);N(this,fS);N(this,Cf);N(this,Lg);N(this,Nc);N(this,Pg);N(this,xf,-2);N(this,ha,!1);N(this,Og,Dt(!1));N(this,Sf,Dt(!1));N(this,Rl,null);N(this,Tf,Dt(!0));Ce(this,"defaultDelay",2e3)}get canIdle(){return S(this,Tf).call(this)}set canIdle(r){S(this,Tf).set(r)}get hideOnMouseLeave(){let{hideControlsOnMouseLeave:r}=this.$props;return S(this,Og).call(this)||r()}set hideOnMouseLeave(r){S(this,Og).set(r)}get showing(){return this.$state.controlsVisible()}show(r=0,t){U(this,Cf,O3).call(this),S(this,ha)||U(this,Nc,hg).call(this,!0,r,t)}hide(r=this.defaultDelay,t){U(this,Cf,O3).call(this),S(this,ha)||U(this,Nc,hg).call(this,!1,r,t)}pause(r){me(this,ha,!0),U(this,Cf,O3).call(this),U(this,Nc,hg).call(this,!0,0,r)}resume(r){me(this,ha,!1),!this.$state.paused()&&U(this,Nc,hg).call(this,!1,this.defaultDelay,r)}onConnect(){He(U(this,oS,xR).bind(this))}};xf=new WeakMap,ha=new WeakMap,Og=new WeakMap,Sf=new WeakMap,Rl=new WeakMap,Tf=new WeakMap,oS=new WeakSet,xR=function(){let{viewType:r}=this.$state;if(!this.el||!S(this,Tf).call(this))return;if(r()==="audio"){this.show();return}He(U(this,aS,SR).bind(this)),He(U(this,lS,TR).bind(this));let t=U(this,uS,CR).bind(this),a=U(this,cS,kR).bind(this),l=U(this,dS,jR).bind(this);new Qt(this.el).add("can-play",n=>this.show(0,n)).add("play",t).add("pause",a).add("end",l).add("auto-play-fail",a)},aS=new WeakSet,SR=function(){if(!this.el)return;let{started:r,pointer:t,paused:a}=this.$state;if(!r()||t()!=="fine")return;let l=new Qt(this.el),n=this.hideOnMouseLeave;(!n||!S(this,Sf).call(this))&&He(()=>{a()||l.add("pointermove",U(this,Lg,d5).bind(this))}),n&&l.add("mouseenter",U(this,hS,ER).bind(this)).add("mouseleave",U(this,fS,MR).bind(this))},lS=new WeakSet,TR=function(){let{paused:r,started:t,autoPlayError:a}=this.$state;if(r()||a()&&!t())return;let l=U(this,Lg,d5).bind(this);He(()=>{if(!this.el)return;let n=this.$state.pointer(),s=n==="coarse",o=new Qt(this.el),u=[s?"touchend":"pointerup","keydown"];for(let m of u)o.add(m,l,{passive:!1})})},uS=new WeakSet,CR=function(r){r.triggers.hasType("ended")||(this.show(0,r),this.hide(void 0,r))},cS=new WeakSet,kR=function(r){this.show(0,r)},dS=new WeakSet,jR=function(r){let{loop:t}=this.$state;t()&&this.hide(0,r)},hS=new WeakSet,ER=function(r){S(this,Sf).set(!1),this.show(0,r),this.hide(void 0,r)},fS=new WeakSet,MR=function(r){S(this,Sf).set(!0),this.hide(0,r)},Cf=new WeakSet,O3=function(){window.clearTimeout(S(this,xf)),me(this,xf,-1)},Lg=new WeakSet,d5=function(r){r.MEDIA_GESTURE||S(this,ha)||q0(r)||(Id(r)&&(r.key==="Escape"?(this.el?.focus(),me(this,Rl,null)):S(this,Rl)&&(r.preventDefault(),requestAnimationFrame(()=>{S(this,Rl)?.focus(),me(this,Rl,null)}))),this.show(0,r),this.hide(this.defaultDelay,r))},Nc=new WeakSet,hg=function(r,t,a){if(t===0){U(this,Pg,h5).call(this,r,a);return}me(this,xf,window.setTimeout(()=>{this.scope&&U(this,Pg,h5).call(this,r&&!S(this,ha),a)},t))},Pg=new WeakSet,h5=function(r,t){this.$state.controlsVisible()!==r&&(this.$state.controlsVisible.set(r),!r&&document.activeElement&&this.el?.contains(document.activeElement)&&(me(this,Rl,document.activeElement),requestAnimationFrame(()=>{this.el?.focus({preventScroll:!0})})),this.dispatch("controls-change",{detail:r,trigger:t}))};var f5=class{constructor(){Ce(this,"name","audio");Ce(this,"target")}canPlay(i){return ak(i)?!dt(i.src)||i.type==="?"||Y0(this.target,i.type):!1}mediaType(){return"audio"}async load(i){return new(await Promise.resolve().then(()=>($D(),VD))).AudioProvider(this.target,i)}},pg=class{constructor(){Ce(this,"name","video");Ce(this,"target")}canPlay(i){return lk(i)?!dt(i.src)||i.type==="?"||Z0(this.target,i.type):!1}mediaType(){return"video"}async load(i){return new(await Promise.resolve().then(()=>(Nw(),XD))).VideoProvider(this.target,i)}},pS=class pS extends pg{constructor(){super(...arguments);Ce(this,"name","hls")}canPlay(r){return pS.supported&&za(r)}async load(r){return new(await Promise.resolve().then(()=>(f7(),h7))).HLSProvider(this.target,r)}};Ce(pS,"supported",Gd());var p5=pS,mS=class mS extends pg{constructor(){super(...arguments);Ce(this,"name","dash")}canPlay(r){return mS.supported&&Q0(r)}async load(r){return new(await Promise.resolve().then(()=>(R7(),I7))).DASHProvider(this.target,r)}};Ce(mS,"supported",K0());var m5=mS,y5=class{constructor(){Ce(this,"name","vimeo");Ce(this,"target")}preconnect(){let i=["https://i.vimeocdn.com","https://f.vimeocdn.com","https://fresnel.vimeocdn.com"];for(let r of i)Bn(r)}canPlay(i){return dt(i.src)&&i.type==="video/vimeo"}mediaType(){return"video"}async load(i){return new(await Promise.resolve().then(()=>(oI(),sI))).VimeoProvider(this.target,i)}async loadPoster(i,r,t){let{resolveVimeoVideoId:a,getVimeoVideoInfo:l}=await Promise.resolve().then(()=>(iE(),N7));if(!dt(i.src))return null;let{videoId:n,hash:s}=a(i.src);return n?l(n,t,s).then(o=>o?o.poster:null):null}},g5=class{constructor(){Ce(this,"name","youtube");Ce(this,"target")}preconnect(){let i=["https://www.google.com","https://i.ytimg.com","https://googleads.g.doubleclick.net","https://static.doubleclick.net"];for(let r of i)Bn(r)}canPlay(i){return dt(i.src)&&i.type==="video/youtube"}mediaType(){return"video"}async load(i){return new(await Promise.resolve().then(()=>(yI(),mI))).YouTubeProvider(this.target,i)}async loadPoster(i,r,t){let{findYouTubePoster:a,resolveYouTubeVideoId:l}=await Promise.resolve().then(()=>(pE(),aI)),n=dt(i.src)&&l(i.src);return n?a(n,t):null}},$E=Symbol(0),yH=["autoPlay","canAirPlay","canFullscreen","canGoogleCast","canLoad","canLoadPoster","canPictureInPicture","canPlay","canSeek","ended","fullscreen","isAirPlayConnected","isGoogleCastConnected","live","liveEdge","loop","mediaType","muted","paused","pictureInPicture","playing","playsInline","remotePlaybackState","remotePlaybackType","seeking","started","streamType","viewType","waiting"],gH={artist:"",artwork:null,autoplay:!1,autoPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,currentTime:0,crossorigin:null,crossOrigin:null,duration:-1,fullscreenOrientation:"landscape",googleCast:{},load:"visible",posterLoad:"visible",logLevel:"silent",loop:!1,muted:!1,paused:!0,playsinline:!1,playsInline:!1,playbackRate:1,poster:"",preload:"metadata",preferNativeHLS:!1,src:"",title:"",controlsDelay:2e3,hideControlsOnMouseLeave:!1,viewType:"unknown",streamType:"unknown",volume:1,liveEdgeTolerance:10,minLiveDVRWindow:60,keyDisabled:!1,keyTarget:"player",keyShortcuts:hH,storage:null},Dg,Uc,B3=class extends va{constructor(r,t){super();N(this,Dg,void 0);N(this,Uc,void 0);me(this,Dg,r),me(this,Uc,t)}async onAttach(r){let t=this.$props[S(this,Dg)]();if(t==="eager")requestAnimationFrame(S(this,Uc));else if(t==="idle")GO(S(this,Uc));else if(t==="visible"){let a,l=new IntersectionObserver(n=>{this.scope&&n[0].isIntersecting&&(a?.(),a=void 0,S(this,Uc).call(this))});l.observe(r),a=Ft(()=>l.disconnect())}}};Dg=new WeakMap,Uc=new WeakMap;var Ig,Rs,yS,AR,v5=class{constructor(i,r){N(this,yS);N(this,Ig,void 0);N(this,Rs,void 0);me(this,Ig,i),me(this,Rs,r)}notify(i,...r){S(this,Ig).call(this,new Lt(i,{detail:r?.[0],trigger:r?.[1]}))}async ready(i,r){return Na(async()=>{S(this,Rs);let{autoPlay:t,canPlay:a,started:l,duration:n,seekable:s,buffered:o,remotePlaybackInfo:u,playsInline:m,savedState:v,source:c}=S(this,Rs).$state;if(a())return;let d={duration:i?.duration??n(),seekable:i?.seekable??s(),buffered:i?.buffered??o(),provider:S(this,Rs).$provider()};this.notify("can-play",d,r),Ys();let p=S(this,Rs).$provider(),{storage:f,qualities:y}=S(this,Rs),{muted:g,volume:_,clipStartTime:b,playbackRate:w}=S(this,Rs).$props;await f?.onLoad?.(c());let T=v()?.currentTime,O=v()?.paused,A=await f?.getTime(),E=T??A??b(),C=O||O!==!1&&!l()&&t();if(p){p.setVolume(await f?.getVolume()??_()),p.setMuted(g()||!!await f?.getMuted());let L=await f?.getAudioGain()??1;L>1&&p.audioGain?.setGain?.(L),p.setPlaybackRate?.(await f?.getPlaybackRate()??w()),p.setPlaysInline?.(m()),E>0&&p.setCurrentTime(E)}let I=await f?.getVideoQuality();if(I&&y.length){let L=null,R=1/0;for(let D of y){let H=Math.abs(I.width-D.width)+Math.abs(I.height-D.height)+(I.bitrate?Math.abs(I.bitrate-(D.bitrate??0)):0);H<R&&(L=D,R=H)}L&&(L.selected=!0)}a()&&C?await U(this,yS,AR).call(this,r):A&&A>0&&this.notify("started",void 0,r),u.set(null)})}};Ig=new WeakMap,Rs=new WeakMap,yS=new WeakSet,AR=async function(i){let{player:r,$state:{autoPlaying:t,muted:a}}=S(this,Rs);t.set(!0);let l=new Lt("auto-play-attempt",{trigger:i});try{await r.play(l)}catch{}};var Fl,b5=class{constructor(){N(this,Fl,new Map)}enqueue(i,r){S(this,Fl).set(i,r)}serve(i){let r=this.peek(i);return S(this,Fl).delete(i),r}peek(i){return S(this,Fl).get(i)}delete(i){S(this,Fl).delete(i)}clear(){S(this,Fl).clear()}};Fl=new WeakMap;var Bl,kf,Fs,Rg,_5,Fg,w5,N3=class{constructor(){N(this,Rg);N(this,Fg);N(this,Bl,!1);N(this,kf,Ks());N(this,Fs,new Map)}get size(){return S(this,Fs).size}get isServing(){return S(this,Bl)}async waitForFlush(){S(this,Bl)||await S(this,kf).promise}enqueue(i,r){if(S(this,Bl)){r();return}S(this,Fs).delete(i),S(this,Fs).set(i,r)}serve(i){S(this,Fs).get(i)?.(),S(this,Fs).delete(i)}start(){U(this,Rg,_5).call(this),me(this,Bl,!0),S(this,Fs).size>0&&U(this,Rg,_5).call(this)}stop(){me(this,Bl,!1)}reset(){this.stop(),S(this,Fs).clear(),U(this,Fg,w5).call(this)}};Bl=new WeakMap,kf=new WeakMap,Fs=new WeakMap,Rg=new WeakSet,_5=function(){for(let i of S(this,Fs).keys())this.serve(i);U(this,Fg,w5).call(this)},Fg=new WeakSet,w5=function(){S(this,kf).resolve(),me(this,kf,Ks())};var fa,Rt,pa,Vc,ma,Ir,Nl,gS,OR,vS,LR,bS,PR,Bg,S5,jf,Ng,T5,Ug,C5,_S,DR,wS,IR,xS,RR,SS,FR,TS,BR,CS,NR,$c,kS,UR,Vg,k5,$g,j5,i4,vH,x5=class extends va{constructor(r,t,a){super();N(this,gS);N(this,vS);N(this,bS);N(this,Bg);N(this,Ng);N(this,Ug);N(this,_S);N(this,wS);N(this,xS);N(this,SS);N(this,TS);N(this,CS);N(this,kS);N(this,Vg);N(this,$g);N(this,i4);N(this,fa,void 0);N(this,Rt,void 0);N(this,pa,void 0);Ce(this,"controls");N(this,Vc,void 0);N(this,ma,void 0);N(this,Ir,void 0);N(this,Nl,new N3);N(this,jf,!1);N(this,$c,void 0);me(this,fa,r),me(this,Rt,t),me(this,pa,a),me(this,Ir,a.$provider),this.controls=new c5,me(this,Vc,new zE),me(this,ma,new R3)}onAttach(){this.listen("fullscreen-change",U(this,kS,UR).bind(this))}onConnect(r){let t=Object.getOwnPropertyNames(Object.getPrototypeOf(this)),a=new Qt(r),l=U(this,bS,PR).bind(this);for(let n of t)n.startsWith("media-")&&a.add(n,l);U(this,gS,OR).call(this),He(U(this,vS,LR).bind(this)),He(U(this,_S,DR).bind(this)),He(U(this,wS,IR).bind(this)),He(U(this,xS,RR).bind(this)),He(U(this,SS,FR).bind(this)),He(U(this,TS,BR).bind(this)),He(U(this,CS,NR).bind(this))}onDestroy(){try{let r=this.createEvent("destroy"),{pictureInPicture:t,fullscreen:a}=this.$state;a()&&this.exitFullscreen("prefer-media",r),t()&&this.exitPictureInPicture(r)}catch{}S(this,Nl).reset()}async play(r){let{canPlay:t,paused:a,autoPlaying:l}=this.$state;if(U(this,Bg,S5).call(this,r)||!ot(a))return;r&&S(this,Rt).queue.enqueue("media-play-request",r);let n=ot(l);try{let s=ot(S(this,Ir));return GE(s,ot(t)),await s.play()}catch(s){let o=this.createEvent("play-fail",{detail:Za(s),trigger:r});throw o.autoPlay=n,S(this,fa).handle(o),s}}async pause(r){let{canPlay:t,paused:a}=this.$state;if(!ot(a)){r&&S(this,Rt).queue.enqueue("media-pause-request",r);try{let l=ot(S(this,Ir));return GE(l,ot(t)),await l.pause()}catch(l){throw S(this,Rt).queue.delete("media-pause-request"),l}}}setAudioGain(r,t){let{audioGain:a,canSetAudioGain:l}=this.$state;if(a()===r)return;let n=S(this,Ir).call(this);if(!n?.audioGain||!l())throw Error("[vidstack] audio gain api not available");t&&S(this,Rt).queue.enqueue("media-audio-gain-change-request",t),n.audioGain.setGain(r)}seekToLiveEdge(r){let{canPlay:t,live:a,liveEdge:l,canSeek:n,liveSyncPosition:s,seekableEnd:o,userBehindLiveEdge:u}=this.$state;if(u.set(!1),ot(()=>!a()||l()||!n()))return;let m=ot(S(this,Ir));GE(m,ot(t)),r&&S(this,Rt).queue.enqueue("media-seek-request",r);let v=o()-2;m.setCurrentTime(Math.min(v,s()??v))}async enterFullscreen(r="prefer-media",t){let a=U(this,Ng,T5).call(this,r);if(KI(r,a),!a.active)return ot(this.$state.pictureInPicture)&&(me(this,jf,!0),await this.exitPictureInPicture(t)),t&&S(this,Rt).queue.enqueue("media-enter-fullscreen-request",t),a.enter()}async exitFullscreen(r="prefer-media",t){let a=U(this,Ng,T5).call(this,r);if(KI(r,a),!!a.active){t&&S(this,Rt).queue.enqueue("media-exit-fullscreen-request",t);try{let l=await a.exit();return S(this,jf)&&ot(this.$state.canPictureInPicture)&&await this.enterPictureInPicture(),l}finally{me(this,jf,!1)}}}async enterPictureInPicture(r){if(U(this,Ug,C5).call(this),!this.$state.pictureInPicture())return r&&S(this,Rt).queue.enqueue("media-enter-pip-request",r),await S(this,Ir).call(this).pictureInPicture.enter()}async exitPictureInPicture(r){if(U(this,Ug,C5).call(this),!!this.$state.pictureInPicture())return r&&S(this,Rt).queue.enqueue("media-exit-pip-request",r),await S(this,Ir).call(this).pictureInPicture.exit()}async"media-airplay-request"(r){try{await this.requestAirPlay(r)}catch{}}async requestAirPlay(r){try{let t=S(this,Ir).call(this)?.airPlay;if(!t?.supported)throw Error("No AirPlay adapter.");return r&&S(this,Rt).queue.enqueue("media-airplay-request",r),await t.prompt()}catch(t){throw S(this,Rt).queue.delete("media-airplay-request"),t}}async"media-google-cast-request"(r){try{await this.requestGoogleCast(r)}catch{}}async requestGoogleCast(r){try{let{canGoogleCast:t}=this.$state;if(!ot(t)){let l=Error("Cast not available.");throw l.code="CAST_NOT_AVAILABLE",l}if(Bn("https://www.gstatic.com"),!S(this,$c)){let l=await Promise.resolve().then(()=>(WI(),qI));me(this,$c,new l.GoogleCastLoader)}await S(this,$c).prompt(S(this,pa)),r&&S(this,Rt).queue.enqueue("media-google-cast-request",r);let a=ot(this.$state.remotePlaybackState)!=="disconnected";a&&this.$state.savedState.set({paused:ot(this.$state.paused),currentTime:ot(this.$state.currentTime)}),this.$state.remotePlaybackLoader.set(a?S(this,$c):null)}catch(t){throw S(this,Rt).queue.delete("media-google-cast-request"),t}}"media-clip-start-change-request"(r){let{clipStartTime:t}=this.$state;t.set(r.detail)}"media-clip-end-change-request"(r){let{clipEndTime:t}=this.$state;t.set(r.detail),this.dispatch("duration-change",{detail:r.detail,trigger:r})}"media-duration-change-request"(r){let{providedDuration:t,clipEndTime:a}=this.$state;t.set(r.detail),a()<=0&&this.dispatch("duration-change",{detail:r.detail,trigger:r})}"media-audio-track-change-request"(r){let{logger:t,audioTracks:a}=S(this,pa);if(a.readonly)return;let l=r.detail,n=a[l];if(n){let s=r.type;S(this,Rt).queue.enqueue(s,r),n.selected=!0}}async"media-enter-fullscreen-request"(r){try{await this.enterFullscreen(r.detail,r)}catch(t){U(this,Vg,k5).call(this,t,r)}}async"media-exit-fullscreen-request"(r){try{await this.exitFullscreen(r.detail,r)}catch(t){U(this,Vg,k5).call(this,t,r)}}async"media-orientation-lock-request"(r){let t=r.type;try{S(this,Rt).queue.enqueue(t,r),await S(this,ma).lock(r.detail)}catch{S(this,Rt).queue.delete(t)}}async"media-orientation-unlock-request"(r){let t=r.type;try{S(this,Rt).queue.enqueue(t,r),await S(this,ma).unlock()}catch{S(this,Rt).queue.delete(t)}}async"media-enter-pip-request"(r){try{await this.enterPictureInPicture(r)}catch(t){U(this,$g,j5).call(this,t,r)}}async"media-exit-pip-request"(r){try{await this.exitPictureInPicture(r)}catch(t){U(this,$g,j5).call(this,t,r)}}"media-live-edge-request"(r){let{live:t,liveEdge:a,canSeek:l}=this.$state;if(!(!t()||a()||!l())){S(this,Rt).queue.enqueue("media-seek-request",r);try{this.seekToLiveEdge()}catch{S(this,Rt).queue.delete("media-seek-request")}}}async"media-loop-request"(r){try{S(this,Rt).looping=!0,S(this,Rt).replaying=!0,await this.play(r)}catch{S(this,Rt).looping=!1}}"media-user-loop-change-request"(r){this.$state.userPrefersLoop.set(r.detail)}async"media-pause-request"(r){if(!this.$state.paused())try{await this.pause(r)}catch{}}async"media-play-request"(r){if(this.$state.paused())try{await this.play(r)}catch{}}"media-rate-change-request"(r){let{playbackRate:t,canSetPlaybackRate:a}=this.$state;if(t()===r.detail||!a())return;let l=S(this,Ir).call(this);l?.setPlaybackRate&&(S(this,Rt).queue.enqueue("media-rate-change-request",r),l.setPlaybackRate(r.detail))}"media-audio-gain-change-request"(r){try{this.setAudioGain(r.detail,r)}catch{}}"media-quality-change-request"(r){let{qualities:t,storage:a,logger:l}=S(this,pa);if(t.readonly)return;S(this,Rt).queue.enqueue("media-quality-change-request",r);let n=r.detail;if(n<0)t.autoSelect(r),r.isOriginTrusted&&a?.setVideoQuality?.(null);else{let s=t[n];s&&(s.selected=!0,r.isOriginTrusted&&a?.setVideoQuality?.({id:s.id,width:s.width,height:s.height,bitrate:s.bitrate}))}}"media-pause-controls-request"(r){let t=r.type;S(this,Rt).queue.enqueue(t,r),this.controls.pause(r)}"media-resume-controls-request"(r){let t=r.type;S(this,Rt).queue.enqueue(t,r),this.controls.resume(r)}"media-seek-request"(r){let{seekableStart:t,seekableEnd:a,ended:l,canSeek:n,live:s,userBehindLiveEdge:o,clipStartTime:u}=this.$state,m=r.detail;l()&&(S(this,Rt).replaying=!0);let v=r.type;S(this,Rt).seeking=!1,S(this,Rt).queue.delete(v);let c=m+u(),d=Math.floor(m)===Math.floor(t()),p=Math.floor(c)===Math.floor(a()),f=d?t():p?a():Math.min(Math.max(t()+.1,c),a()-.1);!Number.isFinite(f)||!n()||(S(this,Rt).queue.enqueue(v,r),S(this,Ir).call(this).setCurrentTime(f),s()&&r.isOriginTrusted&&Math.abs(a()-f)>=2&&o.set(!0))}"media-seeking-request"(r){let t=r.type;S(this,Rt).queue.enqueue(t,r),this.$state.seeking.set(!0),S(this,Rt).seeking=!0}"media-start-loading"(r){if(this.$state.canLoad())return;let t=r.type;S(this,Rt).queue.enqueue(t,r),S(this,fa).handle(this.createEvent("can-load"))}"media-poster-start-loading"(r){if(this.$state.canLoadPoster())return;let t=r.type;S(this,Rt).queue.enqueue(t,r),S(this,fa).handle(this.createEvent("can-load-poster"))}"media-text-track-change-request"(r){let{index:t,mode:a}=r.detail,l=S(this,pa).textTracks[t];if(l){let n=r.type;S(this,Rt).queue.enqueue(n,r),l.setMode(a,r)}}"media-mute-request"(r){if(this.$state.muted())return;let t=r.type;S(this,Rt).queue.enqueue(t,r),S(this,Ir).call(this).setMuted(!0)}"media-unmute-request"(r){let{muted:t,volume:a}=this.$state;if(!t())return;let l=r.type;S(this,Rt).queue.enqueue(l,r),S(this,pa).$provider().setMuted(!1),a()===0&&(S(this,Rt).queue.enqueue(l,r),S(this,Ir).call(this).setVolume(.25))}"media-volume-change-request"(r){let{muted:t,volume:a}=this.$state,l=r.detail;if(a()===l)return;let n=r.type;S(this,Rt).queue.enqueue(n,r),S(this,Ir).call(this).setVolume(l),l>0&&t()&&(S(this,Rt).queue.enqueue(n,r),S(this,Ir).call(this).setMuted(!1))}};fa=new WeakMap,Rt=new WeakMap,pa=new WeakMap,Vc=new WeakMap,ma=new WeakMap,Ir=new WeakMap,Nl=new WeakMap,gS=new WeakSet,OR=function(){let{load:r}=this.$props,{canLoad:t}=this.$state;if(r()!=="play"||t())return;let a=this.listen("media-play-request",l=>{U(this,Bg,S5).call(this,l),a()})},vS=new WeakSet,LR=function(){let r=S(this,Ir).call(this),t=this.$state.canPlay();return r&&t&&S(this,Nl).start(),()=>{S(this,Nl).stop()}},bS=new WeakSet,PR=function(r){r.stopPropagation(),!r.defaultPrevented&&this[r.type]&&(ot(S(this,Ir))?this[r.type](r):S(this,Nl).enqueue(r.type,()=>{ot(S(this,Ir))&&this[r.type](r)}))},Bg=new WeakSet,S5=function(r){let{load:t}=this.$props,{canLoad:a}=this.$state;if(t()==="play"&&!a()){let l=this.createEvent("media-start-loading",{trigger:r});return this.dispatchEvent(l),S(this,Nl).enqueue("media-play-request",async()=>{try{await this.play(l)}catch{}}),!0}return!1},jf=new WeakMap,Ng=new WeakSet,T5=function(r){let t=ot(S(this,Ir));return r==="prefer-media"&&S(this,Vc).supported||r==="media"?S(this,Vc):t?.fullscreen},Ug=new WeakSet,C5=function(){if(!this.$state.canPictureInPicture())throw Error("[vidstack] no pip support")},_S=new WeakSet,DR=function(){this.controls.defaultDelay=this.$props.controlsDelay()},wS=new WeakSet,IR=function(){let{canSetAudioGain:r}=this.$state,t=!!S(this,Ir).call(this)?.audioGain?.supported;r.set(t)},xS=new WeakSet,RR=function(){let{canAirPlay:r}=this.$state,t=!!S(this,Ir).call(this)?.airPlay?.supported;r.set(t)},SS=new WeakSet,FR=function(){let{canGoogleCast:r,source:t}=this.$state,a=Ha&&!Tu&&J0(t());r.set(a)},TS=new WeakSet,BR=function(){let{canFullscreen:r}=this.$state,t=S(this,Vc).supported||!!S(this,Ir).call(this)?.fullscreen?.supported;r.set(t)},CS=new WeakSet,NR=function(){let{canPictureInPicture:r}=this.$state,t=!!S(this,Ir).call(this)?.pictureInPicture?.supported;r.set(t)},$c=new WeakMap,kS=new WeakSet,UR=async function(r){let t=ot(this.$props.fullscreenOrientation),a=r.detail;if(!(Zr(t)||t==="none"||!S(this,ma).supported))if(a){if(S(this,ma).locked)return;this.dispatch("media-orientation-lock-request",{detail:t,trigger:r})}else S(this,ma).locked&&this.dispatch("media-orientation-unlock-request",{trigger:r})},Vg=new WeakSet,k5=function(r,t){S(this,fa).handle(this.createEvent("fullscreen-error",{detail:Za(r)}))},$g=new WeakSet,j5=function(r,t){S(this,fa).handle(this.createEvent("picture-in-picture-error",{detail:Za(r)}))},i4=new WeakSet,vH=function(r,t,a){};function GE(h,i){if(!(h&&i))throw Error("[vidstack] media not ready")}function KI(h,i){if(!i?.supported)throw Error("[vidstack] no fullscreen support")}var E5=class{constructor(){Ce(this,"seeking",!1);Ce(this,"looping",!1);Ce(this,"replaying",!1);Ce(this,"queue",new b5)}},bH=new Set(["auto-play","auto-play-fail","can-load","sources-change","source-change","load-start","abort","error","loaded-metadata","loaded-data","can-play","play","play-fail","pause","playing","seeking","seeked","waiting"]),yn,tr,yr,Gc,Ef,Hc,zc,ya,Ul,jS,VR,ES,$R,go,Ol,Rr,Kr,MS,GR,AS,HR,OS,zR,Mf,L3,Gg,A5,Hg,O5,LS,qR,zg,L5,PS,WR,DS,XR,Af,qg,P5,Of,P3,IS,YR,RS,ZR,FS,KR,Wg,D5,Xg,I5,Yg,R5,BS,QR,Zg,F5,NS,JR,Lf,US,eF,Kg,B5,M5=class extends va{constructor(r,t){super();N(this,jS);N(this,ES);N(this,go);N(this,Rr);N(this,MS);N(this,AS);N(this,OS);N(this,Mf);N(this,Gg);N(this,Hg);N(this,LS);N(this,zg);N(this,PS);N(this,DS);N(this,qg);N(this,Of);N(this,IS);N(this,RS);N(this,FS);N(this,Wg);N(this,Xg);N(this,Yg);N(this,BS);N(this,Zg);N(this,NS);N(this,US);N(this,Kg);N(this,yn,void 0);N(this,tr,void 0);N(this,yr,new Map);N(this,Gc,!1);N(this,Ef,[]);N(this,Hc,[-1,-1]);N(this,zc,!1);N(this,ya,void 0);N(this,Ul,!1);N(this,Af,null);Ce(this,"seeking",vu(r=>{let{seeking:t,realCurrentTime:a,paused:l}=this.$state;t.set(!0),a.set(r.detail),U(this,Rr,Kr).call(this,"media-seeking-request",r),l()&&(me(this,ya,r),S(this,Lf).call(this)),me(this,Hc,[-1,-1])},150,{leading:!0}));N(this,Lf,UC(()=>{if(!S(this,ya))return;me(this,zc,!0);let{waiting:r,playing:t}=this.$state;r.set(!0),t.set(!1);let a=this.createEvent("waiting",{trigger:S(this,ya)});S(this,yr).set("waiting",a),this.dispatch(a),me(this,ya,void 0),me(this,zc,!1)},300));me(this,yn,r),me(this,tr,t)}onAttach(r){r.setAttribute("aria-busy","true"),new Qt(this).add("fullscreen-change",this["fullscreen-change"].bind(this)).add("fullscreen-error",this["fullscreen-error"].bind(this)).add("orientation-change",this["orientation-change"].bind(this))}onConnect(r){He(U(this,RS,ZR).bind(this)),U(this,MS,GR).call(this),U(this,AS,HR).call(this),U(this,OS,zR).call(this),U(this,jS,VR).call(this),Ft(U(this,ES,$R).bind(this))}onDestroy(){let{audioTracks:r,qualities:t,textTracks:a}=S(this,tr);r[Ct.reset](),t[Ct.reset](),a[Ct.reset](),U(this,Of,P3).call(this)}handle(r){if(!this.scope)return;let t=r.type;Na(()=>this[r.type]?.(r)),bH.has(t)&&S(this,yr).set(t,r),this.dispatch(r)}"provider-change"(r){let t=S(this,tr).$provider(),a=r.detail;t?.type!==a?.type&&(t?.destroy?.(),t?.scope?.dispose(),S(this,tr).$provider.set(r.detail),t&&r.detail===null&&U(this,Wg,D5).call(this,r))}"provider-loader-change"(r){}"auto-play"(r){this.$state.autoPlayError.set(null)}"auto-play-fail"(r){this.$state.autoPlayError.set(r.detail),U(this,go,Ol).call(this)}"can-load"(r){this.$state.canLoad.set(!0),S(this,yr).set("can-load",r),S(this,tr).textTracks[At.canLoad](),U(this,Rr,Kr).call(this,"media-start-loading",r)}"can-load-poster"(r){this.$state.canLoadPoster.set(!0),S(this,yr).set("can-load-poster",r),U(this,Rr,Kr).call(this,"media-poster-start-loading",r)}"media-type-change"(r){let t=S(this,yr).get("source-change");t&&r.triggers.add(t);let a=this.$state.viewType();this.$state.mediaType.set(r.detail);let l=this.$state.providedViewType(),n=l==="unknown"?r.detail:l;a!==n&&setTimeout(()=>{requestAnimationFrame(()=>{this.scope&&(this.$state.inferredViewType.set(r.detail),this.dispatch("view-type-change",{detail:n,trigger:r}))})},0)}"stream-type-change"(r){let t=S(this,yr).get("source-change");t&&r.triggers.add(t);let{streamType:a,inferredStreamType:l}=this.$state;l.set(r.detail),r.detail=a()}"rate-change"(r){let{storage:t}=S(this,tr),{canPlay:a}=this.$state;this.$state.playbackRate.set(r.detail),U(this,Rr,Kr).call(this,"media-rate-change-request",r),a()&&t?.setPlaybackRate?.(r.detail)}"remote-playback-change"(r){let{remotePlaybackState:t,remotePlaybackType:a}=this.$state,{type:l,state:n}=r.detail,s=n==="connected";a.set(l),t.set(n);let o=l==="airplay"?"media-airplay-request":"media-google-cast-request";if(s)U(this,Rr,Kr).call(this,o,r);else{let u=S(this,yn).queue.peek(o);u&&(r.request=u,r.triggers.add(u))}}"sources-change"(r){let t=this.$state.sources(),a=r.detail;this.$state.sources.set(a),U(this,FS,KR).call(this,t,a,r)}"source-change"(r){r.isQualityChange=r.originEvent?.type==="quality-change";let t=r.detail;U(this,Wg,D5).call(this,r,r.isQualityChange),S(this,yr).set(r.type,r),this.$state.source.set(t),this.el?.setAttribute("aria-busy","true")}abort(r){let t=S(this,yr).get("source-change");t&&r.triggers.add(t);let a=S(this,yr).get("can-load");a&&!r.triggers.hasType("can-load")&&r.triggers.add(a)}"load-start"(r){let t=S(this,yr).get("source-change");t&&r.triggers.add(t)}error(r){this.$state.error.set(r.detail);let t=S(this,yr).get("abort");t&&r.triggers.add(t)}"loaded-metadata"(r){let t=S(this,yr).get("load-start");t&&r.triggers.add(t)}"loaded-data"(r){let t=S(this,yr).get("load-start");t&&r.triggers.add(t)}"can-play"(r){let t=S(this,yr).get("loaded-metadata");t&&r.triggers.add(t),U(this,Xg,I5).call(this,r.detail),this.el?.setAttribute("aria-busy","false")}"can-play-through"(r){U(this,Xg,I5).call(this,r.detail);let t=S(this,yr).get("can-play");t&&r.triggers.add(t)}"duration-change"(r){let{live:t,intrinsicDuration:a,providedDuration:l,clipEndTime:n,ended:s}=this.$state,o=r.detail;if(!t()){let u=Number.isNaN(o)?0:o;a.set(u),s()&&U(this,Zg,F5).call(this,r)}(l()>0||n()>0)&&r.stopImmediatePropagation()}progress(r){let{buffered:t,bufferedEnd:a,seekable:l,seekableEnd:n,live:s,intrinsicDuration:o}=this.$state,{buffered:u,seekable:m}=r.detail,v=Dh(u)??1/0,c=u.length!==t().length,d=v>a(),p=Dh(m)??1/0,f=m.length!==l().length,y=p>n();(c||d)&&t.set(u),(f||y)&&l.set(m),s()&&(o.set(p),this.dispatch("duration-change",{detail:p,trigger:r}))}play(r){let{paused:t,autoPlayError:a,ended:l,autoPlaying:n,playsInline:s,pointer:o,muted:u,viewType:m,live:v,userBehindLiveEdge:c}=this.$state;if(U(this,Yg,R5).call(this),!t()){r.stopImmediatePropagation();return}r.autoPlay=n();let d=S(this,yr).get("waiting");d&&r.triggers.add(d),U(this,Rr,Kr).call(this,"media-play-request",r),S(this,yr).set("play",r),t.set(!1),a.set(null),r.autoPlay&&(this.handle(this.createEvent("auto-play",{detail:{muted:u()},trigger:r})),n.set(!1)),(l()||S(this,yn).replaying)&&(S(this,yn).replaying=!1,l.set(!1),this.handle(this.createEvent("replay",{trigger:r}))),!s()&&m()==="video"&&o()==="coarse"&&S(this,tr).remote.enterFullscreen("prefer-media",r),v()&&!c()&&S(this,tr).remote.seekToLiveEdge(r)}"play-fail"(r){let{muted:t,autoPlaying:a}=this.$state,l=S(this,yr).get("play");l&&r.triggers.add(l),U(this,Rr,Kr).call(this,"media-play-request",r);let{paused:n,playing:s}=this.$state;n.set(!0),s.set(!1),U(this,go,Ol).call(this),S(this,yr).set("play-fail",r),r.autoPlay&&(this.handle(this.createEvent("auto-play-fail",{detail:{muted:t(),error:r.detail},trigger:r})),a.set(!1))}playing(r){let t=S(this,yr).get("play"),a=S(this,yr).get("seeked");t?r.triggers.add(t):a&&r.triggers.add(a),setTimeout(()=>U(this,go,Ol).call(this),0);let{paused:l,playing:n,live:s,liveSyncPosition:o,seekableEnd:u,started:m,currentTime:v,seeking:c,ended:d}=this.$state;if(l.set(!1),n.set(!0),c.set(!1),d.set(!1),S(this,yn).looping){S(this,yn).looping=!1;return}if(s()&&!m()&&v()===0){let p=o()??u()-2;Number.isFinite(p)&&S(this,tr).$provider().setCurrentTime(p)}this.started(r)}started(r){let{started:t}=this.$state;t()||(t.set(!0),this.handle(this.createEvent("started",{trigger:r})))}pause(r){this.el?.isConnected||me(this,Ul,!0),U(this,Rr,Kr).call(this,"media-pause-request",r);let t=S(this,yr).get("seeked");t&&r.triggers.add(t);let{paused:a,playing:l}=this.$state;a.set(!0),l.set(!1),S(this,Gc)&&setTimeout(()=>{this.handle(this.createEvent("end",{trigger:r})),me(this,Gc,!1)},0),U(this,go,Ol).call(this)}"time-change"(r){if(S(this,yn).looping){r.stopImmediatePropagation();return}let{waiting:t,played:a,clipEndTime:l,realCurrentTime:n,currentTime:s}=this.$state,o=r.detail,u=l();n.set(o),U(this,BS,QR).call(this),t.set(!1);for(let m of S(this,tr).textTracks)m[At.updateActiveCues](o,r);u>0&&o>=u&&(me(this,Gc,!0),this.dispatch("media-pause-request",{trigger:r})),U(this,NS,JR).call(this),this.dispatch("time-update",{detail:{currentTime:s(),played:a()},trigger:r})}"audio-gain-change"(r){let{storage:t}=S(this,tr),{canPlay:a,audioGain:l}=this.$state;l.set(r.detail),U(this,Rr,Kr).call(this,"media-audio-gain-change-request",r),a()&&t?.setAudioGain?.(l())}"volume-change"(r){let{storage:t}=S(this,tr),{volume:a,muted:l,canPlay:n}=this.$state,s=r.detail;a.set(s.volume),l.set(s.muted||s.volume===0),U(this,Rr,Kr).call(this,"media-volume-change-request",r),U(this,Rr,Kr).call(this,s.muted?"media-mute-request":"media-unmute-request",r),n()&&(t?.setVolume?.(a()),t?.setMuted?.(l()))}seeked(r){let{seeking:t,currentTime:a,realCurrentTime:l,paused:n,seekableEnd:s,ended:o}=this.$state;if(S(this,yn).seeking)t.set(!0),r.stopImmediatePropagation();else if(t()){let u=S(this,yr).get("waiting");u&&r.triggers.add(u);let m=S(this,yr).get("seeking");m&&!r.triggers.has(m)&&r.triggers.add(m),n()&&U(this,Kg,B5).call(this),t.set(!1),l.set(r.detail),U(this,Rr,Kr).call(this,"media-seek-request",r);let v=r?.originEvent;v?.isTrusted&&!(v instanceof MessageEvent)&&!/seek/.test(v.type)&&this.started(r)}Math.floor(a())!==Math.floor(s())?o.set(!1):this.end(r)}waiting(r){S(this,zc)||S(this,yn).seeking||(r.stopImmediatePropagation(),me(this,ya,r),S(this,Lf).call(this))}end(r){let{loop:t,ended:a}=this.$state;if(!(!t()&&a())){if(t()){setTimeout(()=>{requestAnimationFrame(()=>{U(this,Yg,R5).call(this,r),this.dispatch("media-loop-request",{trigger:r})})},10);return}setTimeout(()=>U(this,US,eF).call(this,r),0)}}"fullscreen-change"(r){let t=r.detail;this.$state.fullscreen.set(t),U(this,Rr,Kr).call(this,t?"media-enter-fullscreen-request":"media-exit-fullscreen-request",r)}"fullscreen-error"(r){U(this,Rr,Kr).call(this,"media-enter-fullscreen-request",r),U(this,Rr,Kr).call(this,"media-exit-fullscreen-request",r)}"orientation-change"(r){let t=r.detail.lock;U(this,Rr,Kr).call(this,t?"media-orientation-lock-request":"media-orientation-unlock-request",r)}"picture-in-picture-change"(r){let t=r.detail;this.$state.pictureInPicture.set(t),U(this,Rr,Kr).call(this,t?"media-enter-pip-request":"media-exit-pip-request",r)}"picture-in-picture-error"(r){U(this,Rr,Kr).call(this,"media-enter-pip-request",r),U(this,Rr,Kr).call(this,"media-exit-pip-request",r)}"title-change"(r){r.trigger&&(r.stopImmediatePropagation(),this.$state.inferredTitle.set(r.detail))}"poster-change"(r){r.trigger&&(r.stopImmediatePropagation(),this.$state.inferredPoster.set(r.detail))}};yn=new WeakMap,tr=new WeakMap,yr=new WeakMap,Gc=new WeakMap,Ef=new WeakMap,Hc=new WeakMap,zc=new WeakMap,ya=new WeakMap,Ul=new WeakMap,jS=new WeakSet,VR=function(){S(this,Ul)&&(requestAnimationFrame(()=>{this.scope&&S(this,tr).remote.play(new Lt("dom-connect"))}),me(this,Ul,!1))},ES=new WeakSet,$R=function(){S(this,Ul)||(me(this,Ul,!this.$state.paused()),S(this,tr).$provider()?.pause())},go=new WeakSet,Ol=function(){U(this,Kg,B5).call(this),me(this,Gc,!1),S(this,yn).replaying=!1,S(this,yn).looping=!1,me(this,zc,!1),me(this,ya,void 0),S(this,yr).clear()},Rr=new WeakSet,Kr=function(r,t){let a=S(this,yn).queue.serve(r);a&&(t.request=a,t.triggers.add(a))},MS=new WeakSet,GR=function(){U(this,Mf,L3).call(this),U(this,Gg,A5).call(this);let r=S(this,tr).textTracks;new Qt(r).add("add",U(this,Mf,L3).bind(this)).add("remove",U(this,Mf,L3).bind(this)).add("mode-change",U(this,Gg,A5).bind(this))},AS=new WeakSet,HR=function(){let r=S(this,tr).qualities;new Qt(r).add("add",U(this,zg,L5).bind(this)).add("remove",U(this,zg,L5).bind(this)).add("change",U(this,PS,WR).bind(this)).add("auto-change",U(this,DS,XR).bind(this)).add("readonly-change",U(this,IS,YR).bind(this))},OS=new WeakSet,zR=function(){let r=S(this,tr).audioTracks;new Qt(r).add("add",U(this,Hg,O5).bind(this)).add("remove",U(this,Hg,O5).bind(this)).add("change",U(this,LS,qR).bind(this))},Mf=new WeakSet,L3=function(r){let{textTracks:t}=this.$state;t.set(S(this,tr).textTracks.toArray()),this.dispatch("text-tracks-change",{detail:t(),trigger:r})},Gg=new WeakSet,A5=function(r){r&&U(this,Rr,Kr).call(this,"media-text-track-change-request",r);let t=S(this,tr).textTracks.selected,{textTrack:a}=this.$state;a()!==t&&(a.set(t),this.dispatch("text-track-change",{detail:t,trigger:r}))},Hg=new WeakSet,O5=function(r){let{audioTracks:t}=this.$state;t.set(S(this,tr).audioTracks.toArray()),this.dispatch("audio-tracks-change",{detail:t(),trigger:r})},LS=new WeakSet,qR=function(r){let{audioTrack:t}=this.$state;t.set(S(this,tr).audioTracks.selected),r&&U(this,Rr,Kr).call(this,"media-audio-track-change-request",r),this.dispatch("audio-track-change",{detail:t(),trigger:r})},zg=new WeakSet,L5=function(r){let{qualities:t}=this.$state;t.set(S(this,tr).qualities.toArray()),this.dispatch("qualities-change",{detail:t(),trigger:r})},PS=new WeakSet,WR=function(r){let{quality:t}=this.$state;t.set(S(this,tr).qualities.selected),r&&U(this,Rr,Kr).call(this,"media-quality-change-request",r),this.dispatch("quality-change",{detail:t(),trigger:r})},DS=new WeakSet,XR=function(){let{qualities:r}=S(this,tr),t=r.auto;this.$state.autoQuality.set(t),t||U(this,Of,P3).call(this)},Af=new WeakMap,qg=new WeakSet,P5=function(){U(this,Of,P3).call(this),me(this,Af,He(()=>{let{qualities:r}=S(this,tr),{mediaWidth:t,mediaHeight:a}=this.$state,l=t(),n=a();if(l===0||n===0)return;let s=null,o=1/0;for(let u of r){let m=Math.abs(u.width-l)+Math.abs(u.height-n);m<o&&(o=m,s=u)}s&&r[Ct.select](s,!0,new Lt("resize",{detail:{width:l,height:n}}))}))},Of=new WeakSet,P3=function(){var r;(r=S(this,Af))==null||r.call(this),me(this,Af,null)},IS=new WeakSet,YR=function(){this.$state.canSetQuality.set(!S(this,tr).qualities.readonly)},RS=new WeakSet,ZR=function(){let{canSetVolume:r,isGoogleCastConnected:t}=this.$state;if(t()){r.set(!1);return}kL().then(r.set)},FS=new WeakSet,KR=function(r,t,a){let{qualities:l}=S(this,tr),n=!1,s=!1;for(let o of r){if(!YE(o))continue;if(!t.some(m=>m.src===o.src)){let m=l.getBySrc(o.src);m&&(l[Ct.remove](m,a),s=!0)}}s&&!l.length&&(this.$state.savedState.set(null),l[Ct.reset](a));for(let o of t){if(!YE(o)||l.getBySrc(o.src))continue;let u={id:o.id??o.height+"p",bitrate:null,codec:null,...o,selected:!1};l[Ct.add](u,a),n=!0}n&&!l[pi.enableAuto]&&(U(this,qg,P5).call(this),l[pi.enableAuto]=U(this,qg,P5).bind(this),l[pi.setAuto](!0,a))},Wg=new WeakSet,D5=function(r,t=!1){let{audioTracks:a,qualities:l}=S(this,tr);if(!t){me(this,Ef,[]),me(this,Hc,[-1,-1]),a[Ct.reset](r),l[Ct.reset](r),YI(this.$state,t),U(this,go,Ol).call(this);return}YI(this.$state,t),U(this,go,Ol).call(this)},Xg=new WeakSet,I5=function(r){let{seekable:t,buffered:a,intrinsicDuration:l,canPlay:n}=this.$state;n.set(!0),a.set(r.buffered),t.set(r.seekable);let s=Dh(r.seekable)??1/0;l.set(s)},Yg=new WeakSet,R5=function(r){if(!ot(S(this,tr).$provider))return;let{ended:a,seekableStart:l,clipStartTime:n,clipEndTime:s,currentTime:o,realCurrentTime:u,duration:m}=this.$state,v=a()||u()<n()||s()>0&&u()>=s()||Math.abs(o()-m())<.1;return v&&this.dispatch("media-seek-request",{detail:l(),trigger:r}),v},BS=new WeakSet,QR=function(){let{currentTime:r,played:t,paused:a}=this.$state;a()||(me(this,Hc,rD(S(this,Ef),S(this,Hc),r())),t.set(new Er(S(this,Ef))))},Zg=new WeakSet,F5=function(r){let{clipStartTime:t,clipEndTime:a,duration:l}=this.$state;t()>0||a()>0||this.handle(this.createEvent("time-change",{detail:l(),trigger:r}))},NS=new WeakSet,JR=function(){let{storage:r}=S(this,tr),{canPlay:t,realCurrentTime:a}=this.$state;t()&&r?.setTime?.(a())},Lf=new WeakMap,US=new WeakSet,eF=function(r){let{storage:t}=S(this,tr),{paused:a,seeking:l,ended:n,duration:s}=this.$state;U(this,Zg,F5).call(this,r),a()||this.dispatch("pause",{trigger:r}),l()&&this.dispatch("seeked",{detail:s(),trigger:r}),n.set(!0),U(this,go,Ol).call(this),t?.setTime?.(s(),!0),this.dispatch("ended",{trigger:r})},Kg=new WeakSet,B5=function(){S(this,Lf).cancel(),this.$state.waiting.set(!1)};var VS,tF,$S,rF,n4,_H,GS,iF,HS,nF,zS,sF,qS,oF,WS,aF,XS,lF,YS,uF,ZS,cF,KS,dF,QS,hF,JS,fF,e6,pF,t6,mF,r6,yF,N5=class extends va{constructor(){super(...arguments);N(this,VS);N(this,$S);N(this,n4);N(this,GS);N(this,HS);N(this,zS);N(this,qS);N(this,WS);N(this,XS);N(this,YS);N(this,ZS);N(this,KS);N(this,QS);N(this,JS);N(this,e6);N(this,t6);N(this,r6)}onSetup(){U(this,VS,tF).call(this);let r=[U(this,GS,iF),U(this,zS,sF),U(this,QS,hF),U(this,JS,fF),U(this,WS,aF),U(this,YS,uF),U(this,ZS,cF),U(this,e6,pF),U(this,r6,yF),U(this,t6,mF),U(this,qS,oF),U(this,KS,dF),U(this,XS,lF),U(this,$S,rF),U(this,HS,nF)];for(let t of r)He(t.bind(this))}};VS=new WeakSet,tF=function(){let r={duration:"providedDuration",loop:"providedLoop",poster:"providedPoster",streamType:"providedStreamType",title:"providedTitle",viewType:"providedViewType"},t=new Set(["currentTime","paused","playbackRate","volume"]);for(let a of Object.keys(this.$props))t.has(a)||this.$state[r[a]??a]?.set(this.$props[a]());this.$state.muted.set(this.$props.muted()||this.$props.volume()===0)},$S=new WeakSet,rF=function(){let{viewType:r,streamType:t,title:a,poster:l,loop:n}=this.$props,s=this.$state;s.providedPoster.set(l()),s.providedStreamType.set(t()),s.providedViewType.set(r()),s.providedTitle.set(a()),s.providedLoop.set(n())},n4=new WeakSet,_H=function(){},GS=new WeakSet,iF=function(){let{artist:r,artwork:t}=this.$props;this.$state.artist.set(r()),this.$state.artwork.set(t())},HS=new WeakSet,nF=function(){let{title:r}=this.$state;this.dispatch("title-change",{detail:r()})},zS=new WeakSet,sF=function(){let r=this.$props.autoPlay()||this.$props.autoplay();this.$state.autoPlay.set(r),this.dispatch("auto-play-change",{detail:r})},qS=new WeakSet,oF=function(){let r=this.$state.loop();this.dispatch("loop-change",{detail:r})},WS=new WeakSet,aF=function(){let r=this.$props.controls();this.$state.controls.set(r)},XS=new WeakSet,lF=function(){let{poster:r}=this.$state;this.dispatch("poster-change",{detail:r()})},YS=new WeakSet,uF=function(){let r=this.$props.crossOrigin()??this.$props.crossorigin(),t=r===!0?"":r;this.$state.crossOrigin.set(t)},ZS=new WeakSet,cF=function(){let{duration:r}=this.$props;this.dispatch("media-duration-change-request",{detail:r()})},KS=new WeakSet,dF=function(){let r=this.$props.playsInline()||this.$props.playsinline();this.$state.playsInline.set(r),this.dispatch("plays-inline-change",{detail:r})},QS=new WeakSet,hF=function(){let{clipStartTime:r}=this.$props;this.dispatch("media-clip-start-change-request",{detail:r()})},JS=new WeakSet,fF=function(){let{clipEndTime:r}=this.$props;this.dispatch("media-clip-end-change-request",{detail:r()})},e6=new WeakSet,pF=function(){this.dispatch("live-change",{detail:this.$state.live()})},t6=new WeakSet,mF=function(){this.$state.liveEdgeTolerance.set(this.$props.liveEdgeTolerance()),this.$state.minLiveDVRWindow.set(this.$props.minLiveDVRWindow())},r6=new WeakSet,yF=function(){this.dispatch("live-edge-change",{detail:this.$state.liveEdge()})};var QI=["play","pause","seekforward","seekbackward","seekto"],i6,gF,n6,vF,s6,bF,o6,_F,U5=class extends va{constructor(){super(...arguments);N(this,i6);N(this,n6);N(this,s6);N(this,o6)}onConnect(){He(U(this,n6,vF).bind(this)),He(U(this,s6,bF).bind(this));let r=U(this,o6,_F).bind(this);for(let t of QI)navigator.mediaSession.setActionHandler(t,r);Ft(U(this,i6,gF).bind(this))}};i6=new WeakSet,gF=function(){for(let r of QI)navigator.mediaSession.setActionHandler(r,null)},n6=new WeakSet,vF=function(){let{title:r,artist:t,artwork:a,poster:l}=this.$state;navigator.mediaSession.metadata=new MediaMetadata({title:r(),artist:t(),artwork:a()??[{src:l()}]})},s6=new WeakSet,bF=function(){let{canPlay:r,paused:t}=this.$state;navigator.mediaSession.playbackState=r()?t()?"paused":"playing":"none"},o6=new WeakSet,_F=function(r){let t=new Lt("media-session-action",{detail:r});switch(r.action){case"play":this.dispatch("media-play-request",{trigger:t});break;case"pause":this.dispatch("media-pause-request",{trigger:t});break;case"seekto":case"seekforward":case"seekbackward":this.dispatch("media-seek-request",{detail:Ur(r.seekTime)?r.seekTime:this.$state.currentTime()+(r.seekOffset??(r.action==="seekforward"?10:-10)),trigger:t});break}};var Ui,qc,Vi,gn,Un,Pf,D3,Df,a6,wF,l6,xF,u6,SF,c6,TF,d6,CF,Wc,fg,Qg,V5,h6,kF,Jg,$5,f6,jF,ev,G5,p6,EF,tv,H5,m6,MF,rv,z5,y6,AF,iv,q5,g6,OF,v6,LF,b6,PF,_6,DF,Ac=class Ac extends hr{constructor(){super();N(this,gn);N(this,Pf);N(this,a6);N(this,l6);N(this,u6);N(this,c6);N(this,d6);N(this,Wc);N(this,Qg);N(this,h6);N(this,Jg);N(this,f6);N(this,ev);N(this,p6);N(this,tv);N(this,m6);N(this,rv);N(this,y6);N(this,iv);N(this,g6);N(this,v6);N(this,b6);N(this,_6);N(this,Ui,void 0);N(this,qc,void 0);N(this,Vi,void 0);Ce(this,"canPlayQueue",new N3);Ce(this,"remoteControl");N(this,Df,!1);Ce(this,"orientation");new N5;let r={player:this,qualities:new a5,audioTracks:new o5,storage:null,$provider:Dt(null),$providerSetup:Dt(!1),$props:this.$props,$state:this.$state};r.remote=this.remoteControl=new ZE(void 0),r.remote.setPlayer(this),r.textTracks=new i5,r.textTracks[At.crossOrigin]=this.$state.crossOrigin,r.textRenderers=new t5(r),r.ariaKeys={},me(this,Ui,r),Jn($C,r),this.orientation=new R3,new Ts,new l5(r);let t=new E5;me(this,qc,new M5(t,r)),me(this,Vi,new x5(S(this,qc),t,r)),r.delegate=new v5(S(this,qc).handle.bind(S(this,qc)),r),r.notify=r.delegate.notify.bind(r.delegate),typeof navigator<"u"&&"mediaSession"in navigator&&new U5,new B3("load",this.startLoading.bind(this)),new B3("posterLoad",this.startLoadingPoster.bind(this))}onSetup(){U(this,c6,TF).call(this),He(U(this,u6,SF).bind(this)),He(U(this,f6,jF).bind(this)),He(U(this,h6,kF).bind(this)),He(U(this,m6,MF).bind(this)),He(U(this,p6,EF).bind(this)),He(U(this,g6,OF).bind(this)),He(U(this,y6,AF).bind(this))}onAttach(r){r.setAttribute("data-media-player",""),Vr(r,"tabindex","0"),Vr(r,"role","region"),He(U(this,b6,PF).bind(this)),He(U(this,a6,wF).bind(this)),He(U(this,l6,xF).bind(this)),Vt(r,"find-media-player",U(this,d6,CF).bind(this))}onConnect(r){rk&&Mt(r,"data-iphone","");let t=window.matchMedia("(pointer: coarse)");U(this,Qg,V5).call(this,t),t.onchange=U(this,Qg,V5).bind(this);let a=new ResizeObserver(Ua(U(this,Wc,fg).bind(this)));a.observe(r),He(U(this,Wc,fg).bind(this)),this.dispatch("media-player-connect",{detail:this,bubbles:!0,composed:!0}),Ft(()=>{a.disconnect(),t.onchange=null})}onDestroy(){S(this,Ui).player=null,this.canPlayQueue.reset()}get provider(){return S(this,gn,Un)}get controls(){return S(this,Vi).controls}set controls(r){S(this,Pf,D3).controls.set(r)}get title(){return ot(this.$state.title)}set title(r){if(S(this,Df)){me(this,Df,!1);return}S(this,Pf,D3).title.set(r)}get qualities(){return S(this,Ui).qualities}get audioTracks(){return S(this,Ui).audioTracks}get textTracks(){return S(this,Ui).textTracks}get textRenderers(){return S(this,Ui).textRenderers}get duration(){return this.$state.duration()}set duration(r){S(this,Pf,D3).duration.set(r)}get paused(){return ot(this.$state.paused)}set paused(r){U(this,Jg,$5).call(this,r)}get muted(){return ot(this.$state.muted)}set muted(r){U(this,ev,G5).call(this,r)}get currentTime(){return ot(this.$state.currentTime)}set currentTime(r){U(this,tv,H5).call(this,r)}get volume(){return ot(this.$state.volume)}set volume(r){U(this,rv,z5).call(this,r)}get playbackRate(){return ot(this.$state.playbackRate)}set playbackRate(r){U(this,iv,q5).call(this,r)}async play(r){return S(this,Vi).play(r)}async pause(r){return S(this,Vi).pause(r)}async enterFullscreen(r,t){return S(this,Vi).enterFullscreen(r,t)}async exitFullscreen(r,t){return S(this,Vi).exitFullscreen(r,t)}enterPictureInPicture(r){return S(this,Vi).enterPictureInPicture(r)}exitPictureInPicture(r){return S(this,Vi).exitPictureInPicture(r)}seekToLiveEdge(r){S(this,Vi).seekToLiveEdge(r)}startLoading(r){S(this,Ui).notify("can-load",void 0,r)}startLoadingPoster(r){S(this,Ui).notify("can-load-poster",void 0,r)}requestAirPlay(r){return S(this,Vi).requestAirPlay(r)}requestGoogleCast(r){return S(this,Vi).requestGoogleCast(r)}setAudioGain(r,t){return S(this,Vi).setAudioGain(r,t)}destroy(){super.destroy(),S(this,Ui).remote.setPlayer(null),this.dispatch("destroy")}};Ui=new WeakMap,qc=new WeakMap,Vi=new WeakMap,gn=new WeakSet,Un=function(){return S(this,Ui).$provider()},Pf=new WeakSet,D3=function(){return this.$props},Df=new WeakMap,a6=new WeakSet,wF=function(){let r=this.$el,{title:t,live:a,viewType:l,providedTitle:n}=this.$state,s=a(),o=VO(l()),u=o!=="Unknown"?`${s?"Live ":""}${o}`:s?"Live":"Media",m=t();Mt(this.el,"aria-label",`${u} Player`+(m?` - ${m}`:"")),r?.hasAttribute("title")&&(me(this,Df,!0),r?.removeAttribute("title"))},l6=new WeakSet,xF=function(){let r=this.orientation.landscape?"landscape":"portrait";this.$state.orientation.set(r),Mt(this.el,"data-orientation",r),U(this,Wc,fg).call(this)},u6=new WeakSet,SF=function(){this.$state.canPlay()&&S(this,gn,Un)?this.canPlayQueue.start():this.canPlayQueue.stop()},c6=new WeakSet,TF=function(){if(Ac[$E]){this.setAttributes(Ac[$E]);return}let r={"data-load":function(){return this.$props.load()},"data-captions":function(){let a=this.$state.textTrack();return!!a&&Bi(a)},"data-ios-controls":function(){return this.$state.iOSControls()},"data-controls":function(){return this.controls.showing},"data-buffering":function(){let{canLoad:a,canPlay:l,waiting:n}=this.$state;return a()&&(!l()||n())},"data-error":function(){let{error:a}=this.$state;return!!a()},"data-autoplay-error":function(){let{autoPlayError:a}=this.$state;return!!a()}},t={autoPlay:"autoplay",canAirPlay:"can-airplay",canPictureInPicture:"can-pip",pictureInPicture:"pip",playsInline:"playsinline",remotePlaybackState:"remote-state",remotePlaybackType:"remote-type",isAirPlayConnected:"airplay",isGoogleCastConnected:"google-cast"};for(let a of yH){let l="data-"+(t[a]??gu(a));r[l]=function(){return this.$state[a]()}}delete r.title,Ac[$E]=r,this.setAttributes(r)},d6=new WeakSet,CF=function(r){r.detail(this)},Wc=new WeakSet,fg=function(){if(!this.el)return;let r=this.el.clientWidth,t=this.el.clientHeight;this.$state.width.set(r),this.$state.height.set(t),Qn(this.el,"--player-width",r+"px"),Qn(this.el,"--player-height",t+"px")},Qg=new WeakSet,V5=function(r){let t=r.matches?"coarse":"fine";Mt(this.el,"data-pointer",t),this.$state.pointer.set(t),U(this,Wc,fg).call(this)},h6=new WeakSet,kF=function(){U(this,Jg,$5).call(this,this.$props.paused())},Jg=new WeakSet,$5=function(r){r?this.canPlayQueue.enqueue("paused",()=>S(this,Vi).pause()):this.canPlayQueue.enqueue("paused",()=>S(this,Vi).play())},f6=new WeakSet,jF=function(){U(this,ev,G5).call(this,this.$props.muted())},ev=new WeakSet,G5=function(r){this.canPlayQueue.enqueue("muted",()=>{S(this,gn,Un)&&S(this,gn,Un).setMuted(r)})},p6=new WeakSet,EF=function(){U(this,tv,H5).call(this,this.$props.currentTime())},tv=new WeakSet,H5=function(r){this.canPlayQueue.enqueue("currentTime",()=>{let{currentTime:t,clipStartTime:a,seekableStart:l,seekableEnd:n}=this.$state;r!==ot(t)&&ot(()=>{if(!S(this,gn,Un))return;let s=r+a(),o=Math.floor(r)===Math.floor(l()),u=Math.floor(s)===Math.floor(n()),m=o?l():u?n():Math.min(Math.max(l()+.1,s),n()-.1);Number.isFinite(m)&&S(this,gn,Un).setCurrentTime(m)})})},m6=new WeakSet,MF=function(){U(this,rv,z5).call(this,this.$props.volume())},rv=new WeakSet,z5=function(r){let t=im(0,r,1);this.canPlayQueue.enqueue("volume",()=>{S(this,gn,Un)&&S(this,gn,Un).setVolume(t)})},y6=new WeakSet,AF=function(){U(this,iv,q5).call(this,this.$props.playbackRate())},iv=new WeakSet,q5=function(r){this.canPlayQueue.enqueue("rate",()=>{S(this,gn,Un)&&S(this,gn,Un).setPlaybackRate?.(r)})},g6=new WeakSet,OF=function(){U(this,v6,LF).call(this,this.$props.playsInline())},v6=new WeakSet,LF=function(r){this.canPlayQueue.enqueue("playsinline",()=>{S(this,gn,Un)&&S(this,gn,Un).setPlaysInline?.(r)})},b6=new WeakSet,PF=function(){let r=this.$props.storage(),t=dt(r)?new KE:r;if(t?.onChange){let{source:a}=this.$state,l=dt(r)?r:this.el?.id,n=_s(U(this,_6,DF).bind(this));He(()=>t.onChange(a(),n(),l||void 0))}S(this,Ui).storage=t,S(this,Ui).textTracks.setStorage(t),Ft(()=>{t?.onDestroy?.(),S(this,Ui).storage=null,S(this,Ui).textTracks.setStorage(null)})},_6=new WeakSet,DF=function(){let{clipStartTime:r,clipEndTime:t}=this.$props,{source:a}=this.$state,l=a();return l.src?`${l.src}:${r()}:${t()}`:null},Ce(Ac,"props",gH),Ce(Ac,"state",oR);var mg=Ac,gr=mg.prototype;lr(gr,"canPlayQueue");lr(gr,"remoteControl");lr(gr,"provider");lr(gr,"controls");lr(gr,"orientation");lr(gr,"title");lr(gr,"qualities");lr(gr,"audioTracks");lr(gr,"textTracks");lr(gr,"textRenderers");lr(gr,"duration");lr(gr,"paused");lr(gr,"muted");lr(gr,"currentTime");lr(gr,"volume");lr(gr,"playbackRate");si(gr,"play");si(gr,"pause");si(gr,"enterFullscreen");si(gr,"exitFullscreen");si(gr,"enterPictureInPicture");si(gr,"exitPictureInPicture");si(gr,"seekToLiveEdge");si(gr,"startLoading");si(gr,"startLoadingPoster");si(gr,"requestAirPlay");si(gr,"requestGoogleCast");si(gr,"setAudioGain");function wH(h,i){return fetch(h,i).then(r=>r.text()).then(r=>/type="static"/.test(r)?"on-demand":"live")}function IF(h,i){return fetch(h,i).then(r=>r.text()).then(r=>{let t=xH(r);if(t)return IF(/^https?:/.test(t)?t:new URL(t,h).href,i);let a=/EXT-X-PLAYLIST-TYPE:\s*VOD/.test(r)?"on-demand":"live";return a==="live"&&SH(r)>=10&&(/#EXT-X-DVR-ENABLED:\s*true/.test(r)||r.includes("#EXT-X-DISCONTINUITY"))?"live:dvr":a})}function xH(h){let i=h.match(/#EXT-X-STREAM-INF:[^\n]+(\n[^\n]+)*/g);return i?i[0].split(`
`)[1].trim():null}function SH(h){let i=h.split(`
`);for(let r of i)if(r.startsWith("#EXT-X-TARGETDURATION")){let t=parseFloat(r.split(":")[1]);if(!isNaN(t))return t}return-1}var W5=new Map,If,Rf,nv,rr,ga,w6,RF,x6,FF,sv,Y5,ov,Z5,av,K5,S6,BF,T6,NF,C6,UF,X5=class{constructor(i,r,t,a=[]){N(this,w6);N(this,x6);N(this,sv);N(this,ov);N(this,av);N(this,S6);N(this,T6);N(this,C6);N(this,If,!1);N(this,Rf,void 0);N(this,nv,void 0);N(this,rr,void 0);N(this,ga,void 0);me(this,nv,i),me(this,rr,r),me(this,ga,t);let l=new m5,n=new p5,s=new pg,o=new f5,u=new g5,m=new y5,v=[u,m];me(this,Rf,_s(()=>{let d=r.$state.remotePlaybackLoader(),p=r.$props.preferNativeHLS()?[s,o,l,n,...v,...a]:[n,s,o,l,...v,...a];return d?[d,...p]:p}));let{$state:c}=r;c.sources.set(JI(r.$props.src()));for(let d of c.sources()){let p=S(this,Rf).call(this).find(y=>y.canPlay(d));if(!p)continue;let f=p.mediaType(d);r.$state.source.set(d),r.$state.mediaType.set(f),r.$state.inferredViewType.set(f),S(this,ga).set(p),me(this,If,!0);break}}connect(){let i=S(this,ga).call(this);S(this,If)&&(U(this,ov,Z5).call(this,S(this,rr).$state.source(),i),U(this,av,K5).call(this,i),me(this,If,!1)),He(U(this,w6,RF).bind(this)),He(U(this,x6,FF).bind(this)),He(U(this,S6,BF).bind(this)),He(U(this,T6,NF).bind(this)),He(U(this,C6,UF).bind(this))}};If=new WeakMap,Rf=new WeakMap,nv=new WeakMap,rr=new WeakMap,ga=new WeakMap,w6=new WeakSet,RF=function(){S(this,rr).notify("sources-change",[...JI(S(this,rr).$props.src()),...S(this,nv).call(this)])},x6=new WeakSet,FF=function(){let{$state:i}=S(this,rr),r=i.sources(),t=ot(i.source),a=U(this,sv,Y5).call(this,t,r);if(r[0]?.src&&!a.src&&!a.type){let{crossOrigin:n}=i,s=qa(n()),o=new AbortController;return Promise.all(r.map(u=>dt(u.src)&&u.type==="?"?fetch(u.src,{method:"HEAD",credentials:s,signal:o.signal}).then(m=>(u.type=m.headers.get("content-type")||"??",W5.set(u.src,u.type),u)).catch(()=>u):u)).then(u=>{if(o.signal.aborted)return;let m=U(this,sv,Y5).call(this,ot(i.source),u);Ys(),m.src||S(this,rr).notify("error",{message:"Failed to load resource.",code:4})}),()=>o.abort()}Ys()},sv=new WeakSet,Y5=function(i,r){let t={src:"",type:""},a=null,l=new Lt("sources-change",{detail:{sources:r}}),n=S(this,Rf).call(this),{started:s,paused:o,currentTime:u,quality:m,savedState:v}=S(this,rr).$state;for(let c of r){let d=n.find(p=>p.canPlay(c));if(d){t=c,a=d;break}}if(YE(t)){let c=m(),d=r.find(p=>p.src===c?.src);ot(s)?v.set({paused:ot(o),currentTime:ot(u)}):v.set(null),d&&(t=d,l=new Lt("quality-change",{detail:{quality:c}}))}return tR(i,t)||U(this,ov,Z5).call(this,t,a,l),a!==ot(S(this,ga))&&U(this,av,K5).call(this,a,l),t},ov=new WeakSet,Z5=function(i,r,t){S(this,rr).notify("source-change",i,t),S(this,rr).notify("media-type-change",r?.mediaType(i)||"unknown",t)},av=new WeakSet,K5=function(i,r){S(this,rr).$providerSetup.set(!1),S(this,rr).notify("provider-change",null,r),i&&ot(()=>i.preconnect?.(S(this,rr))),S(this,ga).set(i),S(this,rr).notify("provider-loader-change",i,r)},S6=new WeakSet,BF=function(){let i=S(this,rr).$provider();if(!(!i||ot(S(this,rr).$providerSetup))){if(S(this,rr).$state.canLoad()){Si(()=>i.setup(),i.scope),S(this,rr).$providerSetup.set(!0);return}ot(()=>i.preconnect?.())}},T6=new WeakSet,NF=function(){if(!S(this,rr).$providerSetup())return;let i=S(this,rr).$provider(),r=S(this,rr).$state.source(),t=ot(S(this,rr).$state.crossOrigin),a=ot(S(this,rr).$props.preferNativeHLS);if(!tR(i?.currentSrc,r)){if(S(this,rr).$state.canLoad()){let l=new AbortController;return za(r)?(a||!Gd())&&IF(r.src,{credentials:qa(t),signal:l.signal}).then(n=>{S(this,rr).notify("stream-type-change",n)}).catch(Lp):Q0(r)?wH(r.src,{credentials:qa(t),signal:l.signal}).then(n=>{S(this,rr).notify("stream-type-change",n)}).catch(Lp):S(this,rr).notify("stream-type-change","on-demand"),ot(()=>{let n=ot(S(this,rr).$state.preload);return i?.loadSource(r,n).catch(s=>{})}),()=>l.abort()}try{dt(r.src)&&Bn(new URL(r.src).origin)}catch{}}},C6=new WeakSet,UF=function(){let i=S(this,ga).call(this),{providedPoster:r,source:t,canLoadPoster:a}=S(this,rr).$state;if(!i||!i.loadPoster||!t()||!a()||r())return;let l=new AbortController,n=new Lt("source-change",{detail:t});return i.loadPoster(t(),S(this,rr),l).then(s=>{S(this,rr).notify("poster-change",s||"",n)}).catch(()=>{S(this,rr).notify("poster-change","",n)}),()=>{l.abort()}};function JI(h){return(ni(h)?h:[h]).map(i=>dt(i)?{src:i,type:eR(i)}:{...i,type:eR(i.src,i.type)})}function eR(h,i){return dt(i)&&i.length?i:dt(h)&&W5.has(h)?W5.get(h):!i&&za({src:h,type:""})?"application/x-mpegurl":!i&&Q0({src:h,type:""})?"application/dash+xml":!dt(h)||h.startsWith("blob:")?"video/object":h.includes("youtube")||h.includes("youtu.be")?"video/youtube":h.includes("vimeo")&&!h.includes("progressive_redirect")&&!h.includes(".m3u8")?"video/vimeo":"?"}function tR(h,i){return h?.src===i?.src&&h?.type===i?.type}var lv,Vl,uv,k6,VF,Q5=class{constructor(i,r){N(this,k6);N(this,lv,void 0);N(this,Vl,void 0);N(this,uv,[]);me(this,lv,i),me(this,Vl,r),He(U(this,k6,VF).bind(this))}};lv=new WeakMap,Vl=new WeakMap,uv=new WeakMap,k6=new WeakSet,VF=function(){let i=S(this,lv).call(this);for(let r of S(this,uv))if(!i.some(t=>t.id===r.id)){let t=r.id&&S(this,Vl).textTracks.getById(r.id);t&&S(this,Vl).textTracks.remove(t)}for(let r of i){let t=r.id||fn.createId(r);S(this,Vl).textTracks.getById(t)||(r.id=t,S(this,Vl).textTracks.add(r))}me(this,uv,i)};var Bs,cv,dv,hv,Ff,Bf,j6,$F,fv,J5,pv,e4,mv,t4,Oc=class extends hr{constructor(){super(...arguments);N(this,j6);N(this,fv);N(this,pv);N(this,mv);N(this,Bs,void 0);N(this,cv,void 0);N(this,dv,Dt([]));N(this,hv,Dt([]));N(this,Ff,null);N(this,Bf,-1)}onSetup(){me(this,Bs,xr()),me(this,cv,new X5(S(this,dv),S(this,Bs),this.$state.loader,this.$props.loaders()))}onAttach(r){r.setAttribute("data-media-provider","")}onConnect(r){S(this,cv).connect(),new Q5(S(this,hv),S(this,Bs));let t=new ResizeObserver(Ua(U(this,pv,e4).bind(this)));t.observe(r);let a=new MutationObserver(U(this,mv,t4).bind(this));a.observe(r,{attributes:!0,childList:!0}),U(this,pv,e4).call(this),U(this,mv,t4).call(this),Ft(()=>{t.disconnect(),a.disconnect()})}load(r){r?.setAttribute("aria-hidden","true"),window.cancelAnimationFrame(S(this,Bf)),me(this,Bf,requestAnimationFrame(()=>U(this,j6,$F).call(this,r))),Ft(()=>{window.cancelAnimationFrame(S(this,Bf))})}onDestroy(){me(this,Ff,null),U(this,fv,J5).call(this)}};Bs=new WeakMap,cv=new WeakMap,dv=new WeakMap,hv=new WeakMap,Ff=new WeakMap,Bf=new WeakMap,j6=new WeakSet,$F=function(r){if(!this.scope)return;let t=this.$state.loader(),{$provider:a}=S(this,Bs);S(this,Ff)===t&&t?.target===r&&ot(a)||(U(this,fv,J5).call(this),me(this,Ff,t),t&&(t.target=r||null),!(!t||!r)&&t.load(S(this,Bs)).then(l=>{this.scope&&ot(this.$state.loader)===t&&S(this,Bs).notify("provider-change",l)}))},fv=new WeakSet,J5=function(){S(this,Bs)?.notify("provider-change",null)},pv=new WeakSet,e4=function(){if(!this.el)return;let{player:r,$state:t}=S(this,Bs),a=this.el.offsetWidth,l=this.el.offsetHeight;r&&(t.mediaWidth.set(a),t.mediaHeight.set(l),r.el&&(Qn(r.el,"--media-width",a+"px"),Qn(r.el,"--media-height",l+"px")))},mv=new WeakSet,t4=function(){let r=[],t=[],a=this.el.children;for(let l of a)if(!l.hasAttribute("data-vds")){if(l instanceof HTMLSourceElement){let n={id:l.id,src:l.src,type:l.type};for(let s of["id","src","width","height","bitrate","codec"]){let o=l.getAttribute(`data-${s}`);dt(o)&&(n[s]=/id|src|codec/.test(s)?o:Number(o))}r.push(n)}else if(l instanceof HTMLTrackElement){let n={src:l.src,kind:l.track.kind,language:l.srclang,label:l.label,default:l.default,type:l.getAttribute("data-type")};t.push({id:l.id||fn.createId(n),...n})}}S(this,dv).set(r),S(this,hv).set(t),Ys()},Ce(Oc,"props",{loaders:[]}),Ce(Oc,"state",new Do({loader:null}));var TH=Oc.prototype;si(TH,"load");Dp();var ba,$i,An,E6,zF,M6,qF,A6,WF,O6,XF,yv=class extends jr(HTMLElement,Oc){constructor(){super(...arguments);N(this,E6);N(this,M6);N(this,A6);N(this,O6);N(this,ba,void 0);N(this,$i,null);N(this,An,null)}onSetup(){me(this,ba,xr()),this.setAttribute("keep-alive","")}onDestroy(){S(this,An)?.remove(),me(this,An,null),S(this,$i)?.remove(),me(this,$i,null)}onConnect(){He(()=>{let r=this.$state.loader(),t=r?.name==="youtube",a=r?.name==="vimeo",l=t||a,n=r?.name==="google-cast",s=r?n?U(this,O6,XF).call(this):l?U(this,A6,WF).call(this):r.mediaType()==="audio"?U(this,E6,zF).call(this):U(this,M6,qF).call(this):null;if(S(this,$i)!==s){let o=S(this,$i)?.parentElement??this;S(this,$i)?.remove(),me(this,$i,s),s&&o.prepend(s),l&&s&&He(()=>{let{nativeControls:u,viewType:m}=S(this,ba).$state,v=u(),c=m()==="audio";!v&&!c?(me(this,An,this.querySelector(".vds-blocker")),S(this,An)||(me(this,An,document.createElement("div")),S(this,An).classList.add("vds-blocker"),s.after(S(this,An)))):(S(this,An)?.remove(),me(this,An,null)),Mt(s,"data-no-controls",!v)})}t?s?.classList.add("vds-youtube"):a&&s?.classList.add("vds-vimeo"),l||(S(this,An)?.remove(),me(this,An,null)),this.load(s)})}};ba=new WeakMap,$i=new WeakMap,An=new WeakMap,E6=new WeakSet,zF=function(){let r=S(this,$i)instanceof HTMLAudioElement?S(this,$i):document.createElement("audio"),{controls:t,crossOrigin:a}=S(this,ba).$state;return He(()=>{Mt(r,"controls",t()),Mt(r,"crossorigin",a())}),r},M6=new WeakSet,qF=function(){let r=S(this,$i)instanceof HTMLVideoElement?S(this,$i):document.createElement("video"),{crossOrigin:t,poster:a,nativeControls:l}=S(this,ba).$state,n=_s(()=>l()?"true":null),s=_s(()=>a()&&l()?a():null);return He(()=>{Mt(r,"controls",n()),Mt(r,"crossorigin",t()),Mt(r,"poster",s())}),r},A6=new WeakSet,WF=function(){let r=S(this,$i)instanceof HTMLIFrameElement?S(this,$i):document.createElement("iframe"),{nativeControls:t}=S(this,ba).$state;return He(()=>Mt(r,"tabindex",t()?null:-1)),r},O6=new WeakSet,XF=function(){if(S(this,$i)?.classList.contains("vds-google-cast"))return S(this,$i);let r=document.createElement("div");return r.classList.add("vds-google-cast"),Promise.resolve().then(()=>(HF(),GF)).then(({insertContent:t})=>{t(r,S(this,ba).$state)}),r},Ce(yv,"tagName","media-provider");var Nf=class extends jr(HTMLElement,mg){};Ce(Nf,"tagName","media-player"),Ce(Nf,"attrs",{autoPlay:"autoplay",crossOrigin:"crossorigin",playsInline:"playsinline",preferNativeHLS:"prefer-native-hls",minLiveDVRWindow:"min-live-dvr-window"});tD();sc();YF();ZF();a4();eB();tB();s4();fr();Rd(Nf);Rd(yv);var dY=Symbol();function rB(){Rd(Ph)}qA();hO();dO();rB();mO();})();
/*! Bundled license information:

p5/lib/p5.min.js:
  (*! p5.js v1.10.0 July 31, 2024 *)

materialize-css/dist/js/materialize.js:
  (*!
   * Materialize v1.0.0-rc.2 (http://materializecss.com)
   * Copyright 2014-2017 Materialize
   * MIT License (https://raw.githubusercontent.com/Dogfalo/materialize/master/LICENSE)
   *)
  (*! cash-dom 1.3.5, https://github.com/kenwheeler/cash @license MIT *)
  (**
   * Get time in ms
   * @license https://raw.github.com/jashkenas/underscore/master/LICENSE
   * @type {function}
   * @return {number}
   *)
  (**
   * Returns a function, that, when invoked, will only be triggered at most once
   * during a given window of time. Normally, the throttled function will run
   * as much as it can, without ever going more than once per `wait` duration;
   * but if you'd like to disable the execution on the leading edge, pass
   * `{leading: false}`. To disable execution on the trailing edge, ditto.
   * @license https://raw.github.com/jashkenas/underscore/master/LICENSE
   * @param {function} func
   * @param {number} wait
   * @param {Object=} options
   * @returns {Function}
   *)
  (*!
  * Waves v0.6.4
  * http://fian.my.id/Waves
  *
  * Copyright 2014 Alfiana E. Sibuea and other contributors
  * Released under the MIT license
  * https://github.com/fians/Waves/blob/master/LICENSE
  *)

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/if-defined.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directive.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/unsafe-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/unsafe-svg.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directive-helpers.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/async-directive.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/ref.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/keyed.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

gsap/gsap-core.js:
  (*!
   * GSAP 3.12.5
   * https://gsap.com
   *
   * @license Copyright 2008-2024, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/CSSPlugin.js:
  (*!
   * CSSPlugin 3.12.5
   * https://gsap.com
   *
   * Copyright 2008-2024, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/Observer.js:
  (*!
   * Observer 3.12.5
   * https://gsap.com
   *
   * @license Copyright 2008-2024, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/ScrollTrigger.js:
  (*!
   * ScrollTrigger 3.12.5
   * https://gsap.com
   *
   * @license Copyright 2008-2024, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/utils/matrix.js:
  (*!
   * matrix 3.12.5
   * https://gsap.com
   *
   * Copyright 2008-2024, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/Flip.js:
  (*!
   * Flip 3.12.5
   * https://gsap.com
   *
   * @license Copyright 2008-2024, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)
*/
